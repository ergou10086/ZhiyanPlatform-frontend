{"version":3,"file":"js/app.e668b0c5.js","mappings":"qFAEA,MAAMA,EAAS,CAEbC,IAAK,CAEHC,QACI,kCAEJC,QAAS,IAETC,UAAW,CAETC,KACI,kCAGJC,UACI,kCAGJC,QACI,oCAMRC,MAAO,CAELN,QACI,yBAEJO,OAAQ,UAIVC,IAAK,CACHC,KAAM,OACNC,QAAS,SAIXC,QAAS,CACPC,SAAU,eACVC,gBAAiB,gBACjBC,cAAe,oBACfC,YAAa,cAMJC,GADelB,EAAOC,IAAIC,QACTF,EAAOQ,MAAMN,SACfF,EAAOQ,MAAMC,OAGbT,EAAOC,IAAIG,UAAUC,KAChBL,EAAOC,IAAIG,UAAUE,UACvBN,EAAOC,IAAIG,UAAUG,QAEpD,M,yJCjDA,MAAMN,EAAM,WAAa,CACvBC,QAAS,GACTC,QAAS,KAAOF,IAAIE,QACpBgB,iBAAiB,IAUnBlB,EAAImB,aAAaC,QAAQC,IACvBtB,IAEE,MAAMuB,EAAQC,aAAaC,QAAQ,gBAyBnC,OAxBIF,GACFvB,EAAO0B,QAAQC,cAAgB,UAAUJ,IACzCK,QAAQC,IAAI,wCAEZD,QAAQE,KAAK,kCAKX9B,EAAO+B,gBAAgBC,UAGzBhC,EAAO0B,QAAQ,qBAAkBO,EACjCL,QAAQC,IAAI,qDACZD,QAAQC,IAAI,oBAAqB7B,EAAO0B,UAC9B1B,EAAO0B,QAAQ,kBAEzB1B,EAAO0B,QAAQ,gBAAkB,oBAGnCE,QAAQC,IAAI,sBAAuB7B,EAAOkC,QAAQC,cAAenC,EAAOoC,KACxER,QAAQC,IAAI,qBAAsB7B,EAAO+B,gBAAgBC,SAAW,kBAAoBhC,EAAO+B,MAC/FH,QAAQC,IAAI,oBAAqB7B,EAAO0B,SAEjC1B,GAETqC,IACET,QAAQS,MAAM,iBAAkBA,GACzBC,QAAQC,OAAOF,KAK1BpC,EAAImB,aAAaoB,SAASlB,IACxBkB,IACEZ,QAAQC,IAAI,WAAYW,EAASC,OAAQD,EAAST,MAG3CS,EAAST,MAElBM,IAGE,GAFAT,QAAQS,MAAM,WAAYA,GAEtBA,EAAMG,SAAU,CAClB,MAAM,OAAEC,EAAM,KAAEV,GAASM,EAAMG,SAqB/B,OApBAZ,QAAQS,MAAM,SAAUI,EAAQV,GAEjB,MAAXU,IAEFjB,aAAakB,WAAW,gBACxBlB,aAAakB,WAAW,iBACxBlB,aAAakB,WAAW,aACxBC,OAAOC,SAASC,KAAO,UAIV,MAAXJ,IACFb,QAAQS,MAAM,qCACdT,QAAQS,MAAM,8BACdb,aAAakB,WAAW,gBACxBlB,aAAakB,WAAW,iBACxBlB,aAAakB,WAAW,aACxBC,OAAOC,SAASC,KAAO,UAGlBP,QAAQC,OAAOR,GAAQM,EAChC,CAAO,OAAIA,EAAMhB,SACfO,QAAQS,MAAM,QAASA,EAAMhB,SACtBiB,QAAQC,OAAO,IAAIO,MAAM,qBAEhClB,QAAQS,MAAM,QAASA,EAAMU,SACtBT,QAAQC,OAAOF,MAMrB,MAAMW,EAAa,CAKxB,aAAAC,CAAcC,GAEZ,OADAtB,QAAQC,IAAI,uCAAwCqB,GAC7CjD,EAAIkD,KAAK,uBAAwBD,EAC1C,EAOA,aAAAE,CAAcC,EAAWH,GAEvB,OADAtB,QAAQC,IAAI,uCAAwCwB,EAAW,MAAOH,GAC/DjD,EAAIqD,IAAI,wBAAwBD,IAAaH,EACtD,EAMA,aAAAK,CAAcF,GAEZ,OADAzB,QAAQC,IAAI,uCAAwCwB,GAC7CpD,EAAIuD,OAAO,wBAAwBH,IAC5C,EAMA,cAAAI,CAAeJ,GAEb,OADAzB,QAAQC,IAAI,0CAA2CwB,GAChDpD,EAAIyD,IAAI,wBAAwBL,IACzC,EAOA,oBAAAM,CAAqBC,EAAO,EAAGC,EAAO,IAEpC,OADAjC,QAAQC,IAAI,8CACL5B,EAAIyD,IAAI,kCAAmC,CAChDI,OAAQ,CAAEF,OAAMC,QAChB1D,QAAS,KAEb,EAOA,aAAA4D,CAAcH,EAAO,EAAGC,EAAO,IAE7B,OADAjC,QAAQC,IAAI,uCACL5B,EAAIyD,IAAI,mCAAoC,CACjDI,OAAQ,CAAEF,OAAMC,QAChB1D,QAAS,KAEb,EAOA,uBAAA6D,CAAwBJ,EAAO,EAAGC,EAAO,IAEvC,OADAjC,QAAQC,IAAI,+CACL5B,EAAIyD,IAAI,qCAAsC,CACnDI,OAAQ,CAAEF,OAAMC,QAChB1D,QAAS,KAEb,EAQA,cAAA8D,CAAeC,EAASN,EAAO,EAAGC,EAAO,IAEvC,OADAjC,QAAQC,IAAI,yCAA0CqC,GAC/CjE,EAAIyD,IAAI,8BAA+B,CAC5CI,OAAQ,CAAEI,UAASN,OAAMC,SAE7B,EAOA,mBAAAM,CAAoBd,EAAWZ,GAE7B,OADAb,QAAQC,IAAI,+CAAgDwB,EAAW,MAAOZ,GACvExC,EAAImE,MAAM,wBAAwBf,WAAoB,CAAEZ,UACjE,EAMA,cAAA4B,CAAehB,GAEb,OADAzB,QAAQC,IAAI,wCAAyCwB,GAC9CpD,EAAIkD,KAAK,wBAAwBE,YAC1C,EAKA,sBAAAiB,GAEE,OADA1C,QAAQC,IAAI,gDACL5B,EAAIyD,IAAI,wCACjB,EAKA,2BAAAa,GAEE,OADA3C,QAAQC,IAAI,qDACL5B,EAAIyD,IAAI,6CACjB,EAOA,kBAAAc,CAAmBC,EAAMpB,EAAY,MACnCzB,QAAQC,IAAI,qDAAsDwB,GAElE,MAAMqB,EAAW,IAAI1C,SAQrB,OAPA0C,EAASC,OAAO,OAAQF,GACpBpB,GACFqB,EAASC,OAAO,YAAatB,GAKxBpD,EAAIkD,KAAK,oCAAqCuB,EACvD,EAMA,kBAAAE,CAAmBC,GAEjB,OADAjD,QAAQC,IAAI,0CAA2CgD,GAChD5E,EAAIuD,OAAO,oCAAqC,CACrDM,OAAQ,CAAEe,aAEd,EAOA,YAAAC,CAAazB,EAAWtB,GAEtB,OADAH,QAAQC,IAAI,wCAAyCwB,EAAW,MAAOtB,GAChE9B,EAAIkD,KAAK,wBAAwBE,WAAoBtB,EAC9D,EAOA,UAAAgD,CAAW1B,EAAWtB,GAEpB,OADAH,QAAQC,IAAI,sCAAuCwB,EAAW,MAAOtB,GAC9D9B,EAAIkD,KAAK,wBAAwBE,WAAoBtB,EAC9D,EAOA,YAAAiD,CAAa3B,EAAW4B,GAEtB,OADArD,QAAQC,IAAI,wCAAyCwB,EAAW,QAAS4B,GAClEhF,EAAIuD,OAAO,wBAAwBH,aAAqB4B,IACjE,EAQA,iBAAAC,CAAkB7B,EAAWO,EAAO,EAAGC,EAAO,IAE5C,OADAjC,QAAQC,IAAI,+CAAgDwB,GACrDpD,EAAIyD,IAAI,wBAAwBL,YAAqB,CAC1DS,OAAQ,CAAEF,OAAMC,QAChB1D,QAAS,KAEb,EASA,WAAAgF,CAAYjB,EAASN,EAAO,EAAGC,EAAO,IAEpC,OADAjC,QAAQC,IAAI,sCAAuCqC,EAAS,MAAON,EAAM,MAAOC,GACzE5D,EAAIyD,IAAI,2BAA4B,CACzCI,OAAQ,CAAEI,UAASN,OAAMC,SAE7B,E,mCC7TEuB,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,eAAiBF,EAAIK,WAA8DL,EAAIM,KAAtDJ,EAAG,oBAAoB,CAACE,MAAM,CAAC,UAAW,MAAkB,EAClM,EACIG,EAAkB,GCFlB,EAAS,WAAkB,IAAIP,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,sBAAsBC,MAAM,CAAE,SAAYT,EAAIU,WAAY,CAACR,EAAG,MAAM,CAACM,YAAY,eAAeG,GAAG,CAAC,MAAQX,EAAIY,iBAAiB,CAACV,EAAG,MAAM,CAACM,YAAY,eAAe,CAAER,EAAIa,eAAqB,OAAEX,EAAG,MAAM,CAACE,MAAM,CAAC,IAAMJ,EAAIa,eAAeC,OAAO,IAAM,UAAUZ,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uKAAuK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,IAAI,EAAI,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,OAAO,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIa,eAAeI,UAAY,SAASf,EAAG,MAAM,CAACO,MAAM,CAAE,OAAUT,EAAIkB,cAAed,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,kBAAkB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAgBJ,EAAgB,aAAEE,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACM,YAAY,YAAYG,GAAG,CAAC,MAAQX,EAAImB,cAAc,CAACjB,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uKAAuK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,IAAI,EAAI,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaJ,EAAIe,GAAG,YAAcf,EAAIoB,WAAmyBpB,EAAIM,KAA3xBJ,EAAG,MAAM,CAACM,YAAY,YAAYG,GAAG,CAAC,MAAQX,EAAIqB,YAAY,CAACnB,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uKAAuK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,WAAW,CAACE,MAAM,CAAC,OAAS,mBAAmB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,KAAK,GAAK,IAAI,GAAK,KAAK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaJ,EAAIe,GAAG,YAAsBf,EAAc,WAAEE,EAAG,MAAM,CAACM,YAAY,YAAYG,GAAG,CAAC,MAAQX,EAAIsB,SAAS,CAACpB,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,gKAAgK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,WAAW,CAACE,MAAM,CAAC,OAAS,mBAAmB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,KAAK,GAAK,IAAI,GAAK,KAAK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaJ,EAAIe,GAAG,YAAYf,EAAIM,OAAON,EAAIM,KAAMN,EAAa,UAAEE,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAIuB,cAAc,OAAOvB,EAAIM,MACzrH,EACI,EAAkB,G,SCOf,SAASkB,EAAyBzE,GACvC,IAAKA,GAAsB,kBAARA,EACjB,OAAO,KAIT,GAAIA,EAAI0E,WAAW,YAAc1E,EAAI0E,WAAW,YAE9C,OAAI1E,EAAI2E,SAAS,cACfnF,QAAQE,KAAK,YAAaM,EAAK,mBACxB,MAEFA,EAUT,GANIA,EAAI0E,WAAW,OAEjB1E,EAAMA,EAAI4E,UAAU,IAIlB5E,EAAI0E,WAAW,WAAY,CAE7B,MAAMG,EAAe,MAAkB,yBACvC,MAAO,GAAGA,KAAgB7E,GAC5B,CAGA,IAAKA,EAAI2E,SAAS,KAAM,CACtB,MAAME,EAAe,MAAkB,yBACvC,MAAO,GAAGA,2BAAsC7E,GAClD,CAGA,MAAM6E,EAAe,MAAkB,yBACvC,MAAO,GAAGA,KAAgB7E,GAC5B,CASO,SAAS8E,EAAkB9E,EAAK+E,EAAgB,UACrD,IAAK/E,GAAsB,kBAARA,EACjB,OAAO,KAIT,GAAIA,EAAI0E,WAAW,YAAc1E,EAAI0E,WAAW,YAE9C,OAAI1E,EAAI2E,SAAS,cACfnF,QAAQE,KAAK,wBAAyBM,GAC/B,MAEFA,EAST,GALIA,EAAI0E,WAAW,OACjB1E,EAAMA,EAAI4E,UAAU,IAIlB5E,EAAI0E,WAAW,GAAGK,MAAmB,CACvC,MAAMF,EAAe,MAAkB,yBACvC,MAAO,GAAGA,KAAgB7E,GAC5B,CAGA,MAAM6E,EAAe,MAAkB,yBACvC,MAAO,GAAGA,KAAgBE,KAAiB/E,GAC7C,CAOO,SAASgF,EAAmBjB,GACjC,IAAKA,EACH,OAAO,KAIT,GAAsB,kBAAXA,EAAqB,CAE9B,GAAIA,EAAOW,WAAW,KACpB,IACE,MAAMO,EAASC,KAAKC,MAAMpB,GAC1B,OAAOkB,EAAOG,WAAaH,EAAOI,UAAYJ,EAAOK,SAAWL,EAAOM,QAAU,IACnF,CAAE,MAAOC,GAGP,OAFAhG,QAAQE,KAAK,cAAeqE,GAErBe,EAAkBf,EAAQ,SACnC,CAIF,OAAOe,EAAkBf,EAAQ,SACnC,CAGA,GAAsB,kBAAXA,EAAqB,CAC9B,MAAM/D,EAAM+D,EAAOqB,WAAarB,EAAOsB,UAAYtB,EAAOuB,SAAWvB,EAAOwB,OAC5E,OAAOvF,EAAM8E,EAAkB9E,EAAK,UAAY,IAClD,CAEA,OAAO,IACT,CChHO,SAASyF,EAAkBC,GAChC,IAAKA,EAAU,OAAO,KAEtB,MAAMC,EAAa,IAAKD,GAGxB,IAAIE,EAAYF,EAAS3B,QAAU2B,EAASE,WAAa,GAGzD,GAAIA,GAAkC,kBAAdA,GAA0BA,EAAUlB,WAAW,KACrE,IACE,MAAMO,EAASC,KAAKC,MAAMS,GAE1BA,EAAYX,EAAOG,WAAaH,EAAOI,UAAYJ,EAAOK,SAAWL,EAAOM,QAAU,EACxF,CAAE,MAAOC,GAEPhG,QAAQE,KAAK,+BAAgCkG,EAC/C,CAmBF,OAfAA,EAAYZ,EAAmBY,IAAc,GAG7CD,EAAW5B,OAAS6B,EACpBD,EAAWC,UAAYA,EACvBD,EAAWzB,SAAWwB,EAASxB,UAAYwB,EAASnH,MAAQ,GAG5DiB,QAAQC,IAAI,cAAe,CACzB,WAAUiG,EAAS3B,QAAU2B,EAASE,UACtC,OAAMA,EACN1B,SAAUyB,EAAWzB,SACrB2B,YAAaD,IAGRD,CACT,CAMO,SAASG,EAAcC,GAC5B,MAAM,YAAEC,EAAW,aAAEC,EAAY,gBAAEC,EAAe,SAAER,GAAaK,EAcjE,GAXIC,GACF5G,aAAa+G,QAAQ,eAAgBH,GAEnCC,GACF7G,aAAa+G,QAAQ,gBAAiBF,GAEpCC,GACF9G,aAAa+G,QAAQ,oBAAqBD,GAIxCR,EAAU,CACZ,MAAMU,EAAqBX,EAAkBC,GAC7CtG,aAAa+G,QAAQ,YAAajB,KAAKmB,UAAUD,GACnD,CACF,CAMO,SAASE,IACd,MAAMZ,EAAWtG,aAAaC,QAAQ,aACtC,OAAOqG,EAAWR,KAAKC,MAAMO,GAAY,IAC3C,CAMO,SAASa,IACd,OAAOnH,aAAaC,QAAQ,eAC9B,CAcO,SAASgF,IACd,MAAMlF,EAAQoH,IACRb,EAAWY,IACjB,SAAUnH,IAASuG,EACrB,CAKO,SAASc,IACdpH,aAAakB,WAAW,gBACxBlB,aAAakB,WAAW,iBACxBlB,aAAakB,WAAW,qBACxBlB,aAAakB,WAAW,aACxBlB,aAAakB,WAAW,cACxBlB,aAAakB,WAAW,kBAGxBmG,OAAOC,KAAKtH,cAAcuH,QAAQC,IAC5BA,EAAIlC,WAAW,cACjBtF,aAAakB,WAAWsG,IAG9B,CAOO,SAASC,EAAe5G,GAC7B,OAAIA,GAASA,EAAM6G,IACV7G,EAAM6G,IAEX7G,GAASA,EAAMU,QACVV,EAAMU,QAEM,kBAAVV,EACFA,EAEF,UACT,CAOO,SAAS8G,EAAaC,GAC3B,MAAMC,EAAa,6BACnB,OAAOA,EAAWC,KAAKF,EACzB,CAOO,SAASG,EAAiBC,GAC/B,MAAMC,EAAS,CACbC,SAAS,EACT3G,QAAS,IAcX,OAXKyG,EAGMA,EAASG,OAAS,GAC3BF,EAAOC,SAAU,EACjBD,EAAO1G,QAAU,cACRyG,EAASG,OAAS,KAC3BF,EAAOC,SAAU,EACjBD,EAAO1G,QAAU,gBAPjB0G,EAAOC,SAAU,EACjBD,EAAO1G,QAAU,UASZ0G,CACT,CC3HA,OACE9I,KAAM,oBACNiJ,MAAO,CACL7D,SAAU,CACR8D,KAAMC,QACNC,SAAS,IAGb,IAAAhI,GACE,MAAO,CACLwE,cAAc,EACdE,YAAY,EACZP,eAAgB,CACdI,SAAU,KACVH,OAAQ,IAEV6D,WAAW,EACXpD,aAAc,GAElB,EACA,OAAAqD,GACE3E,KAAK4E,qBACLC,SAASC,iBAAiB,QAAS9E,KAAK+E,oBAExC1H,OAAOyH,iBAAiB,UAAW9E,KAAKgF,qBAExChF,KAAKiF,MAAMC,IAAI,kBAAmBlF,KAAK4E,oBAGvC5E,KAAKmF,UAAUzE,GAAGV,KAAKoF,YAAYC,oBAAqBrF,KAAKsF,oBAC/D,EACA,aAAAC,GACEV,SAASW,oBAAoB,QAASxF,KAAK+E,oBAC3C1H,OAAOmI,oBAAoB,UAAWxF,KAAKgF,qBAC3ChF,KAAKiF,MAAMQ,KAAK,kBAAmBzF,KAAK4E,oBAGxC5E,KAAKmF,UAAUO,IAAI1F,KAAKoF,YAAYC,oBAAqBrF,KAAKsF,oBAChE,EACAK,QAAS,CACP,kBAAAf,GAEE,MAAM3I,EAAQC,aAAaC,QAAQ,gBAC7ByJ,EAAgB1J,aAAaC,QAAQ,aAG3C,GAFA6D,KAAKmB,cAAgBlF,IAAS2J,GAE1B5F,KAAKmB,YAAcyE,EACrB,IACE,MAAMC,EAAW7D,KAAKC,MAAM2D,GAGtBlD,EAAYmD,EAAShF,QAAUgF,EAASnD,WAAa,GAE3D1C,KAAKY,eAAiB,CACpBI,SAAU6E,EAAS7E,UAAY6E,EAASxK,MAAQ,KAChDwF,OAAQ6B,GAGVpG,QAAQC,IAAI,2BAA4B,CACtCyE,SAAUhB,KAAKY,eAAeI,SAC9BH,OAAQb,KAAKY,eAAeC,OAC5B8B,YAAa3C,KAAKY,eAAeC,OACjCiF,aAAc9F,KAAKY,eAAeC,OAAOwD,QAE7C,CAAE,MAAOtH,GACPT,QAAQS,MAAM,YAAaA,GAC3BiD,KAAKmB,YAAa,EAClBnB,KAAKY,eAAiB,CACpBI,SAAU,KACVH,OAAQ,GAEZ,MAEAb,KAAKmB,YAAa,EAClBnB,KAAKY,eAAiB,CACpBI,SAAU,KACVH,OAAQ,GAGd,EACA,mBAAAmE,CAAoBe,GAEA,cAAdA,EAAMrC,KACR1D,KAAK4E,oBAET,EACA,mBAAAU,EAAoB,OAAE3F,EAAM,UAAE+C,IAE5B,MAAMkD,EAAgB1J,aAAaC,QAAQ,aAC3C,GAAIyJ,EACF,IACE,MAAMC,EAAW7D,KAAKC,MAAM2D,GACtBI,EAAgBH,EAASI,IAAMJ,EAASlG,OAE1CuG,OAAOF,KAAmBE,OAAOvG,KAEnCK,KAAKmG,KAAKnG,KAAKY,eAAgB,SAAU8B,GACzCpG,QAAQC,IAAI,4BAEhB,CAAE,MAAOQ,GACPT,QAAQS,MAAM,cAAeA,EAC/B,CAEJ,EACA,kBAAAgI,CAAmBgB,GACZA,EAAMK,OAAOC,QAAQ,kBAAqBN,EAAMK,OAAOC,QAAQ,gBAClErG,KAAKiB,cAAe,EAExB,EACA,cAAAN,GACEX,KAAKiB,cAAgBjB,KAAKiB,YAC5B,EACA,WAAAC,GACElB,KAAKiB,cAAe,EAEK,aAArBjB,KAAKsG,OAAOC,MACdvG,KAAKwG,QAAQC,KAAK,WAEtB,EACA,SAAArF,GACEpB,KAAKiB,cAAe,EACpBjB,KAAKwG,QAAQC,KAAK,SACpB,EACA,MAAApF,GACErB,KAAKiB,cAAe,EAGpBqC,IAGAtD,KAAK0G,iBAAiB,WAGtBC,WAAW,KACT3G,KAAKwG,QAAQC,KAAK,WACjB,IACL,EACA,gBAAAC,CAAiBjJ,GACfuC,KAAKsB,aAAe7D,EACpBuC,KAAK0E,WAAY,EAGjBiC,WAAW,KACT3G,KAAK0E,WAAY,EACjB1E,KAAKsB,aAAe,IACnB,IACL,ICzMyI,I,SCQzIsF,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAeA,E,QCLf,GACEvL,KAAM,MACNwL,WAAY,CACVC,kBAAiB,GAEnBC,SAAU,CACR,UAAA3G,GAEE,MAAM4G,EAAa,CAAC,SAAU,YAAa,oBAC3C,OAAOA,EAAWvF,SAASzB,KAAKsG,OAAOC,KACzC,ICxBwH,ICQxH,GAAY,OACd,EACAzG,EACAQ,GACA,EACA,KACA,KACA,MAIF,EAAe,E,iBCnBX,EAAS,WAAkB,IAAIP,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAG,QAAQb,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,mBAAmBC,MAAM,CAAEyG,SAAUlH,EAAImH,cAAe,CAACjH,EAAG,MAAM,CAACM,YAAY,WAAWJ,MAAM,CAAC,IAAM,EAAQ,KAA2B,IAAM,YAAYF,EAAG,KAAK,CAACM,YAAY,eAAeC,MAAM,CAAEyG,SAAUlH,EAAImH,cAAe,CAACnH,EAAIe,GAAG,qBAAqBb,EAAG,IAAI,CAACM,YAAY,kBAAkBC,MAAM,CAAEyG,SAAUlH,EAAImH,cAAe,CAACnH,EAAIe,GAAG,oFAAoFb,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACR,EAAIoH,GAAG,GAAGlH,EAAG,OAAO,CAACM,YAAY,aAAaG,GAAG,CAAC,OAAS,SAAS0G,GAAgC,OAAxBA,EAAOC,iBAAwBtH,EAAIuH,YAAYC,MAAM,KAAMC,UAAU,IAAI,CAACvH,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,UAAU,CAACJ,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAI6H,UAAe,MAAEC,WAAW,oBAAoB1H,MAAM,CAAC,KAAO,QAAQ,GAAK,QAAQ,YAAc,UAAU,SAAW,IAAI2H,SAAS,CAAC,MAAS/H,EAAI6H,UAAe,OAAGlH,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAI6H,UAAW,QAASR,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,aAAa,CAACJ,EAAIe,GAAG,QAAQb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAI6H,UAAkB,SAAEC,WAAW,uBAAuB1H,MAAM,CAAC,KAAO,WAAW,GAAK,WAAW,YAAc,QAAQ,SAAW,IAAI2H,SAAS,CAAC,MAAS/H,EAAI6H,UAAkB,UAAGlH,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAI6H,UAAW,WAAYR,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,QAAQ,CAACM,YAAY,mBAAmB,CAACN,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAI6H,UAAoB,WAAEC,WAAW,yBAAyB1H,MAAM,CAAC,KAAO,YAAY2H,SAAS,CAAC,QAAUE,MAAMC,QAAQlI,EAAI6H,UAAUM,YAAYnI,EAAIoI,GAAGpI,EAAI6H,UAAUM,WAAW,OAAO,EAAGnI,EAAI6H,UAAoB,YAAGlH,GAAG,CAAC,OAAS,SAAS0G,GAAQ,IAAIgB,EAAIrI,EAAI6H,UAAUM,WAAWG,EAAKjB,EAAOhB,OAAOkC,IAAID,EAAKE,QAAuB,GAAGP,MAAMC,QAAQG,GAAK,CAAC,IAAII,EAAI,KAAKC,EAAI1I,EAAIoI,GAAGC,EAAII,GAAQH,EAAKE,QAASE,EAAI,GAAI1I,EAAIoG,KAAKpG,EAAI6H,UAAW,aAAcQ,EAAIM,OAAO,CAACF,KAAaC,GAAK,GAAI1I,EAAIoG,KAAKpG,EAAI6H,UAAW,aAAcQ,EAAIO,MAAM,EAAEF,GAAKC,OAAON,EAAIO,MAAMF,EAAI,IAAM,MAAM1I,EAAIoG,KAAKpG,EAAI6H,UAAW,aAAcU,EAAK,KAAKrI,EAAG,OAAO,CAACF,EAAIe,GAAG,WAAWb,EAAG,IAAI,CAACM,YAAY,kBAAkBJ,MAAM,CAAC,KAAO,KAAKO,GAAG,CAAC,MAAQ,SAAS0G,GAAgC,OAAxBA,EAAOC,iBAAwBtH,EAAI6I,mBAAmBrB,MAAM,KAAMC,UAAU,IAAI,CAACzH,EAAIe,GAAG,eAAeb,EAAG,SAAS,CAACM,YAAY,YAAYJ,MAAM,CAAC,KAAO,SAAS,SAAWJ,EAAI8I,UAAU,CAAC9I,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI8I,QAAU,SAAW,MAAM,OAAO5I,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACN,EAAG,OAAO,CAACF,EAAIe,GAAG,YAAYb,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,KAAKO,GAAG,CAAC,MAAQ,SAAS0G,GAAgC,OAAxBA,EAAOC,iBAAwBtH,EAAI+I,aAAavB,MAAM,KAAMC,UAAU,IAAI,CAACzH,EAAIe,GAAG,kBAAmBf,EAAa,UAAEE,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAIuB,cAAc,OAAOvB,EAAIM,MACpsG,EACI,EAAkB,CAAC,WAAY,IAAIN,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,UAAUb,EAAG,IAAI,CAACM,YAAY,kBAAkB,CAACR,EAAIe,GAAG,cAClN,G,kBCCA,MAAMnG,EAAM,WAAa,CACvBC,QAASF,EAAA,GAAOC,IAAIC,QACpBC,QAASH,EAAA,GAAOC,IAAIE,QACpBuB,QAAS,CACP,eAAgB,mBAChB,OAAU,oBAEZP,iBAAiB,IAInBlB,EAAImB,aAAaC,QAAQC,IACvBtB,IAEE,MAAMuB,EAAQC,aAAaC,QAAQ,gBAgBnC,OAfIF,IACFvB,EAAO0B,QAAQC,cAAgB,UAAUJ,KAItCvB,EAAO0B,QAAQ,kBAClB1B,EAAO0B,QAAQ,gBAAkB,oBAInCE,QAAQC,IAAI,SAAU7B,EAAOkC,QAAQC,cAAenC,EAAOoC,KAC3DR,QAAQC,IAAI,OAAQ7B,EAAO0B,SAC3BE,QAAQC,IAAI,QAAS7B,EAAO+B,MAC5BH,QAAQC,IAAI,iBAAkB7B,EAAO+B,MAE9B/B,GAETqC,IACET,QAAQS,MAAM,WAAYA,GACnBC,QAAQC,OAAOF,KAK1BpC,EAAImB,aAAaoB,SAASlB,IACxBkB,IACEZ,QAAQC,IAAI,SAAUW,EAASC,OAAQD,EAAST,MACzCS,EAAST,MAElBM,IAME,GALAT,QAAQS,MAAM,WAAYA,GAC1BT,QAAQS,MAAM,QAASA,EAAM1B,MAC7BiB,QAAQS,MAAM,QAASA,EAAMU,SAC7BnB,QAAQS,MAAM,UAAWA,GAErBA,EAAMG,SAAU,CAElB,MAAM,OAAEC,EAAM,KAAEV,GAASM,EAAMG,SAS/B,OARAZ,QAAQS,MAAM,SAAUI,EAAQV,GACjB,MAAXU,IAEFjB,aAAakB,WAAW,gBACxBlB,aAAakB,WAAW,iBACxBlB,aAAakB,WAAW,aACxBC,OAAOC,SAASC,KAAO,UAElBP,QAAQC,OAAOR,GAAQM,EAChC,CAAO,OAAIA,EAAMhB,SAEfO,QAAQS,MAAM,UAAWA,EAAMhB,SAC/BO,QAAQS,MAAM,QAASA,EAAMrC,QACtBsC,QAAQC,OAAO,IAAIO,MAAM,iCAGhClB,QAAQS,MAAM,QAASA,EAAMU,SACtBT,QAAQC,OAAOF,MAMrB,MAAMgM,EAAU,CAErB,oBAAAC,CAAqBvM,GACnB,OAAO9B,EAAIkD,KAAK,6BAA8BpB,EAChD,EAGA,QAAAwM,CAASxM,GACP,OAAO9B,EAAIkD,KAAK,wBAAyBpB,EAC3C,EAGA,KAAAyM,CAAMzM,GACJ,OAAO9B,EAAIkD,KAAK,qBAAsBpB,EACxC,EAGA,cAAA0M,GACE,OAAOxO,EAAIyD,IAAI,gCACjB,EAGA,eAAAgL,GACE,OAAOzO,EAAIkD,KAAK,iCAClB,EAGA,UAAAwL,CAAWvF,EAAOwF,EAAM/E,GACtB,OAAO5J,EAAIkD,KAAK,2BAA4B,KAAM,CAChDW,OAAQ,CAAEsF,QAAOwF,OAAM/E,SAE3B,EAGA,UAAAgF,CAAWzF,GACT,OAAOnJ,EAAIyD,IAAI,kCAAkCoL,mBAAmB1F,KACtE,EAGA,YAAAf,CAAaA,GACX,OAAOpI,EAAIkD,KAAK,uBAAwB,CAAEkF,gBAC5C,EAGA,aAAA0G,CAAcxN,GACZ,OAAOtB,EAAIyD,IAAI,wBAAyB,CACtChC,QAAS,CAAEC,cAAe,UAAUJ,MAExC,EAGA,cAAAyN,CAAe5F,GACb,OAAOnJ,EAAIkD,KAAK,+BAAgC,CAAEiG,SACpD,EAGA,aAAA6F,CAAclN,GACZ,OAAO9B,EAAIkD,KAAK,8BAA+BpB,EACjD,EAGA,qBAAAmN,CAAsB9F,GACpB,OAAOnJ,EAAIkD,KAAK,+BAAgC,CAAEiG,SACpD,EAGA,MAAAzC,CAAOpF,GACL,OAAOtB,EAAIkD,KAAK,sBAAuB,KAAM,CAC3CzB,QAAS,CAAEC,cAAe,UAAUJ,MAExC,EAGA,gBAAA4N,CAAiBxO,GACf,OAAOV,EAAIyD,IAAI,qBAAsB,CACnCI,OAAQ,CAAEnD,SAEd,EAGA,WAAAyO,CAAYnK,GACV,OAAOhF,EAAIyD,IAAI,iBAAiBuB,IAClC,EAQA,WAAAE,CAAYjB,EAASN,EAAO,EAAGC,EAAO,IAEpC,OADAjC,QAAQC,IAAI,mCAAoCqC,EAAS,MAAON,EAAM,MAAOC,GACtE5D,EAAIyD,IAAI,uBAAwB,CACrCI,OAAQ,CAAEI,UAASN,OAAMC,SAE7B,GAGF,ICrGA,GACElD,KAAM,QACNwL,WAAY,CACZ,EACA,IAAApK,GACE,MAAO,CACLoM,SAAS,EACTkB,cAAc,EACdC,WAAY,KACZpC,UAAW,CACT9D,MAAO,GACPI,SAAU,GACVgE,YAAY,GAEdxD,WAAW,EACXpD,aAAc,GACd4F,aAAa,EAEjB,EACA,OAAAvC,GAEE,MAAMsF,EAAc/N,aAAaC,QAAQ,qBACpC8N,IACHjK,KAAKkH,aAAc,EACnBhL,aAAa+G,QAAQ,oBAAqB,QAE9C,EACAiH,MAAO,CACL,kBAAmB,CACjB,OAAAC,CAAQC,GACFA,EACFpK,KAAKqK,sBAAsBD,GAG3BpK,KAAKgK,WAAa,IAEtB,EACAM,WAAW,IAGf,OAAA3F,GAEE3E,KAAKgK,WAAa,IACpB,EACArE,QAAS,CACP,cAAA4E,GAEE,MAAMC,EAActO,aAAaC,QAAQ,cACrCqO,IACFxK,KAAKgK,WAAaQ,EAEtB,EACA,qBAAAH,CAAsBvG,GAIpB9D,KAAKyK,wBAAwB3G,EAC/B,EACA,uBAAA2G,CAAwB3G,GAGtB,MAAM+B,EAAW3J,aAAaC,QAAQ,YAAc2H,GACpD,GAAI+B,EAAU,CACZ,MAAM6E,EAAO1I,KAAKC,MAAM4D,GACxB7F,KAAKgK,WAAaU,EAAK7J,QAAU,IACnC,MAEEb,KAAKgK,WAAa,IAEtB,EACA,aAAAW,CAAcjI,GAEZ1C,KAAKgK,WAAatH,EAClBxG,aAAa+G,QAAQ,aAAcP,EACrC,EACA,iBAAM4E,GACJ,IAAItH,KAAK+J,aAKT,GAJA/J,KAAK+J,cAAe,EACpBpD,WAAW,KAAQ3G,KAAK+J,cAAe,GAAS,KAG3C/J,KAAK4H,UAAU9D,MAKpB,GAAK9D,KAAK4H,UAAU1D,SAKpB,GAAKL,EAAa7D,KAAK4H,UAAU9D,OAAjC,CAKA9D,KAAK6I,SAAU,EACf,IAEE,MAAM3L,QAAiB6L,EAAQG,MAAM,CACnCpF,MAAO9D,KAAK4H,UAAU9D,MACtBI,SAAUlE,KAAK4H,UAAU1D,SACzBgE,WAAYlI,KAAK4H,UAAUM,aAG7B,GAAsB,MAAlBhL,EAASoM,MAAgBpM,EAAST,KAAM,CAE1C,MAAMoG,EAAY,CAChBC,YAAa5F,EAAST,KAAKqG,YAC3BC,aAAc7F,EAAST,KAAKsG,aAC5BC,gBAAiB9F,EAAST,KAAKuG,gBAC/BR,SAAUtF,EAAST,KAAKiO,MAG1BpO,QAAQC,IAAI,aAAcsG,GAC1BD,EAAcC,GAGd,MAAM+H,EAAa1O,aAAaC,QAAQ,gBAClCyJ,EAAgB1J,aAAaC,QAAQ,aAC3CG,QAAQC,IAAI,UAAW,CACrBN,QAAS2O,EACTpI,WAAYoD,EACZiF,WAAYD,EACZE,cAAelF,IAIjB5F,KAAK0G,iBAAiB,SAGtB1G,KAAKiF,MAAM8F,MAAM,mBAGjBpE,WAAW,KACT3G,KAAKwG,QAAQwE,QAAQ,UACpB,IACL,MACEC,MAAM/N,EAAS0G,KAAO,gBAE1B,CAAE,MAAO7G,GACPT,QAAQS,MAAM,QAASA,GACvB,MAAMmO,EAAevH,EAAe5G,GACpCkO,MAAMC,EACR,CAAE,QACAlL,KAAK6I,SAAU,CACjB,CApDA,MAFEoC,MAAM,mBALNA,MAAM,cALNA,MAAM,UAiEV,EACA,YAAAnC,GACE9I,KAAKwG,QAAQC,KAAK,YACpB,EACA,kBAAAmC,GACE5I,KAAKwG,QAAQC,KAAK,mBACpB,EACA,gBAAAC,CAAiBjJ,GACfuC,KAAKsB,aAAe7D,EACpBuC,KAAK0E,WAAY,EAGjBiC,WAAW,KACT3G,KAAK0E,WAAY,EACjB1E,KAAKsB,aAAe,IACnB,IACL,IChP6H,ICO7H,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,EAAe,E,QClBX,EAAS,WAAkB,IAAIvB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAG,QAAQb,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,mBAAmBC,MAAM,CAAEyG,SAAUlH,EAAImH,cAAe,CAACjH,EAAG,MAAM,CAACM,YAAY,WAAWJ,MAAM,CAAC,IAAM,EAAQ,KAA2B,IAAM,YAAYF,EAAG,KAAK,CAACM,YAAY,eAAeC,MAAM,CAAEyG,SAAUlH,EAAImH,cAAe,CAACnH,EAAIe,GAAG,qBAAqBb,EAAG,IAAI,CAACM,YAAY,kBAAkBC,MAAM,CAAEyG,SAAUlH,EAAImH,cAAe,CAACnH,EAAIe,GAAG,oFAAoFb,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,SAAS,CAACM,YAAY,WAAWJ,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQX,EAAIqB,YAAY,CAACnB,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,2BAA2B,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaF,EAAG,OAAO,CAACF,EAAIe,GAAG,YAAYb,EAAG,KAAK,CAACM,YAAY,kBAAkB,CAACR,EAAIe,GAAG,UAAUb,EAAG,IAAI,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,mBAAmBb,EAAG,OAAO,CAACM,YAAY,gBAAgBG,GAAG,CAAC,OAAS,SAAS0G,GAAgC,OAAxBA,EAAOC,iBAAwBtH,EAAIoL,eAAe5D,MAAM,KAAMC,UAAU,IAAI,CAACvH,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,UAAU,CAACJ,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIqL,aAAkB,MAAEvD,WAAW,uBAAuB1H,MAAM,CAAC,KAAO,QAAQ,GAAK,QAAQ,YAAc,UAAU,SAAW,IAAI2H,SAAS,CAAC,MAAS/H,EAAIqL,aAAkB,OAAG1K,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIqL,aAAc,QAAShE,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,SAAS,CAACJ,EAAIe,GAAG,SAASb,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIqL,aAAiB,KAAEvD,WAAW,sBAAsBtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,GAAK,OAAO,YAAc,WAAW,UAAY,IAAI,QAAU,WAAW,SAAW,IAAI2H,SAAS,CAAC,MAAS/H,EAAIqL,aAAiB,MAAG1K,GAAG,CAAC,MAAQ,CAAC,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIqL,aAAc,OAAQhE,EAAOhB,OAAOuB,MAAM,EAAE5H,EAAIsL,oBAAoBpL,EAAG,SAAS,CAACM,YAAY,gBAAgBJ,MAAM,CAAC,KAAO,SAAS,SAAWJ,EAAI8I,SAAW9I,EAAIuL,UAAY,GAAG5K,GAAG,CAAC,MAAQX,EAAIwL,WAAW,CAACxL,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAIuL,UAAY,EAAI,GAAGvL,EAAIuL,gBAAkB,SAAS,WAAWrL,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,aAAa,CAACJ,EAAIe,GAAG,iBAAiBb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIqL,aAAqB,SAAEvD,WAAW,0BAA0B1H,MAAM,CAAC,KAAO,WAAW,GAAK,WAAW,YAAc,QAAQ,SAAW,GAAG,UAAY,IAAI,UAAY,MAAM2H,SAAS,CAAC,MAAS/H,EAAIqL,aAAqB,UAAG1K,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIqL,aAAc,WAAYhE,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,oBAAoB,CAACJ,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIqL,aAA4B,gBAAEvD,WAAW,iCAAiC1H,MAAM,CAAC,KAAO,WAAW,GAAK,kBAAkB,YAAc,UAAU,SAAW,IAAI2H,SAAS,CAAC,MAAS/H,EAAIqL,aAA4B,iBAAG1K,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIqL,aAAc,kBAAmBhE,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,SAAS,CAACJ,EAAIe,GAAG,QAAQb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIqL,aAAiB,KAAEvD,WAAW,sBAAsB1H,MAAM,CAAC,KAAO,OAAO,GAAK,OAAO,YAAc,QAAQ,SAAW,IAAI2H,SAAS,CAAC,MAAS/H,EAAIqL,aAAiB,MAAG1K,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIqL,aAAc,OAAQhE,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,iBAAiB,CAACJ,EAAIe,GAAG,aAAab,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIqL,aAAyB,aAAEvD,WAAW,8BAA8B1H,MAAM,CAAC,KAAO,OAAO,GAAK,eAAe,YAAc,cAAc2H,SAAS,CAAC,MAAS/H,EAAIqL,aAAyB,cAAG1K,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIqL,aAAc,eAAgBhE,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,8BAA8B,CAACN,EAAG,QAAQ,CAACM,YAAY,aAAa,CAACN,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIqL,aAAsB,UAAEvD,WAAW,2BAA2B1H,MAAM,CAAC,KAAO,WAAW,SAAW,IAAI2H,SAAS,CAAC,QAAUE,MAAMC,QAAQlI,EAAIqL,aAAaI,WAAWzL,EAAIoI,GAAGpI,EAAIqL,aAAaI,UAAU,OAAO,EAAGzL,EAAIqL,aAAsB,WAAG1K,GAAG,CAAC,OAAS,SAAS0G,GAAQ,IAAIgB,EAAIrI,EAAIqL,aAAaI,UAAUnD,EAAKjB,EAAOhB,OAAOkC,IAAID,EAAKE,QAAuB,GAAGP,MAAMC,QAAQG,GAAK,CAAC,IAAII,EAAI,KAAKC,EAAI1I,EAAIoI,GAAGC,EAAII,GAAQH,EAAKE,QAASE,EAAI,GAAI1I,EAAIoG,KAAKpG,EAAIqL,aAAc,YAAahD,EAAIM,OAAO,CAACF,KAAaC,GAAK,GAAI1I,EAAIoG,KAAKpG,EAAIqL,aAAc,YAAahD,EAAIO,MAAM,EAAEF,GAAKC,OAAON,EAAIO,MAAMF,EAAI,IAAM,MAAM1I,EAAIoG,KAAKpG,EAAIqL,aAAc,YAAa9C,EAAK,KAAKvI,EAAIoH,GAAG,OAAOlH,EAAG,SAAS,CAACM,YAAY,eAAeJ,MAAM,CAAC,KAAO,SAAS,SAAWJ,EAAI8I,UAAU,CAAC9I,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI8I,QAAU,SAAW,QAAQ,aAAc9I,EAAa,UAAEE,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAIuB,cAAc,OAAOvB,EAAIM,KAAMN,EAAa,UAAEE,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAI0L,aAAa,CAACxL,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAAC3L,EAAIoH,GAAG,GAAGlH,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,IAAI,CAACF,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI4L,mBAAmB1L,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAI0L,aAAa,CAAC1L,EAAIe,GAAG,cAAcf,EAAIM,MAC1hM,EACI,EAAkB,CAAC,WAAY,IAAIN,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,OAAO,CAACF,EAAIe,GAAG,WAAWb,EAAG,IAAI,CAACM,YAAY,iBAAiBJ,MAAM,CAAC,KAAO,MAAM,CAACJ,EAAIe,GAAG,YAAYf,EAAIe,GAAG,KAAKb,EAAG,IAAI,CAACM,YAAY,iBAAiBJ,MAAM,CAAC,KAAO,MAAM,CAACJ,EAAIe,GAAG,aAC9P,EAAE,WAAY,IAAIf,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACF,EAAIe,GAAG,SACzG,GCiJA,GACEzF,KAAM,WACNwL,WAAY,CACZ,EACA,IAAApK,GACE,MAAO,CACLoM,SAAS,EACTyC,UAAW,EACXvB,cAAc,EACdqB,aAAc,CACZtH,MAAO,GACPwF,KAAM,GACNpF,SAAU,GACV0H,gBAAiB,GACjBvQ,KAAM,GACNwQ,aAAc,GACdL,WAAW,GAEb9G,WAAW,EACXpD,aAAc,GACdwK,WAAW,EACXH,aAAc,GACdzE,aAAa,EAEjB,EACA,OAAAvC,GAEE,MAAMsF,EAAc/N,aAAaC,QAAQ,qBACpC8N,IACHjK,KAAKkH,aAAc,EACnBhL,aAAa+G,QAAQ,oBAAqB,QAE9C,EACA0C,QAAS,CACP,cAAM4F,GACJ,GAAKvL,KAAKoL,aAAatH,MAKvB,GAAKD,EAAa7D,KAAKoL,aAAatH,OAApC,CAKA9D,KAAK6I,SAAU,EACf,IAEE,MAAM3L,QAAiB6L,EAAQC,qBAAqB,CAClDlF,MAAO9D,KAAKoL,aAAatH,MACzBS,KAAM,aAGc,MAAlBrH,EAASoM,MACXtJ,KAAK0G,iBAAiB,sCACtB1G,KAAK+L,kBAGD7O,EAAS0G,KAAO1G,EAAS0G,IAAInC,SAAS,WACxCzB,KAAKgM,eAAe,wBAEpBhM,KAAKgM,eAAe9O,EAAS0G,KAAO,WAG1C,CAAE,MAAO7G,GACLT,QAAQS,MAAM,WAAYA,GAC1B,MAAMmO,EAAevH,EAAe5G,GAGhCmO,EAAazJ,SAAS,SAAWyJ,EAAazJ,SAAS,QACvDyJ,EAAazJ,SAAS,QAAUyJ,EAAazJ,SAAS,WACtDyJ,EAAazJ,SAAS,cACxBzB,KAAKgM,eAAe,wBAEpBhM,KAAKgM,eAAed,EAE1B,CAAE,QACAlL,KAAK6I,SAAU,CACjB,CAnCA,MAFE7I,KAAKgM,eAAe,mBALpBhM,KAAKgM,eAAe,WA2CxB,EACA,oBAAMb,GAIJ,GAHA7O,QAAQC,IAAI,kBACZD,QAAQC,IAAI,QAASyD,KAAKoL,cAEtBpL,KAAK+J,aAEP,YADAzN,QAAQC,IAAI,YAQd,GALAyD,KAAK+J,cAAe,EACpBpD,WAAW,KAAQ3G,KAAK+J,cAAe,GAAS,KAGhDzN,QAAQC,IAAI,cACPyD,KAAKoL,aAAatH,MAGrB,OAFAxH,QAAQC,IAAI,kBACZyD,KAAKgM,eAAe,WAItB,IAAKhM,KAAKoL,aAAa9B,KAGrB,OAFAhN,QAAQC,IAAI,mBACZyD,KAAKgM,eAAe,UAItB,IAAKhM,KAAKoL,aAAalH,SAGrB,OAFA5H,QAAQC,IAAI,kBACZyD,KAAKgM,eAAe,SAItB,IAAKhM,KAAKoL,aAAa/P,KAGrB,OAFAiB,QAAQC,IAAI,kBACZyD,KAAKgM,eAAe,SAItB,IAAKnI,EAAa7D,KAAKoL,aAAatH,OAElC,YADA9D,KAAKgM,eAAe,cAItB,GAAIhM,KAAKoL,aAAalH,WAAalE,KAAKoL,aAAaQ,gBAEnD,YADA5L,KAAKgM,eAAe,cAItB,MAAMC,EAAqBhI,EAAiBjE,KAAKoL,aAAalH,UAC9D,GAAK+H,EAAmB7H,QAKxB,GAAKpE,KAAKoL,aAAaI,UAMvB,GAAK,UAAUxH,KAAKhE,KAAKoL,aAAa9B,MAAtC,CAKAtJ,KAAK6I,SAAU,EACf,IAEEvM,QAAQC,IAAI,cAAeyD,KAAKoL,aAAatH,OAC7C,MAAMoI,QAA2BnD,EAAQQ,WAAWvJ,KAAKoL,aAAatH,OAKtE,GAJAxH,QAAQC,IAAI,UAAW2P,GAIS,MAA5BA,EAAmB5C,OAA4C,IAA5B4C,EAAmBzP,KAExD,YADAuD,KAAKgM,eAAe,wBAKtB,MAAMG,EAAe,CACnBrI,MAAO9D,KAAKoL,aAAatH,MACzBsI,iBAAkBpM,KAAKoL,aAAa9B,KACpCpF,SAAUlE,KAAKoL,aAAalH,SAC5B0H,gBAAiB5L,KAAKoL,aAAaQ,gBACnCvQ,KAAM2E,KAAKoL,aAAa/P,KACxBgR,YAAarM,KAAKoL,aAAaS,cAAgB,IAkBjD,IAAI3O,EAfJZ,QAAQC,IAAI,eAAgB4P,GAC5B7P,QAAQC,IAAI,eAAgB4P,GAC5B7P,QAAQC,IAAI,UAAWyF,KAAKmB,UAAUgJ,IAGtC7P,QAAQC,IAAI,gBACZD,QAAQC,IAAI,UAAW,CACrBuH,MAAOqI,EAAarI,MACpBsI,iBAAkBD,EAAaC,iBAC/BlI,SAAUiI,EAAajI,SAAW,YAAc,MAChD0H,gBAAiBO,EAAaP,gBAAkB,YAAc,MAC9DvQ,KAAM8Q,EAAa9Q,KACnBgR,YAAaF,EAAaE,cAI5B,IACEnP,QAAiB6L,EAAQE,SAASkD,GAClC7P,QAAQC,IAAI,WAAYW,GACxBZ,QAAQC,IAAI,SAAUW,EAASoM,MAC/BhN,QAAQC,IAAI,QAASW,EAAS0G,KAC9BtH,QAAQC,IAAI,QAASW,EAAST,KAChC,CAAE,MAAOM,GAKP,MAJAT,QAAQS,MAAM,aAAcA,GAC5BT,QAAQS,MAAM,QAASA,EAAMG,UAC7BZ,QAAQS,MAAM,SAAUA,EAAMG,UAAUC,QACxCb,QAAQS,MAAM,QAASA,EAAMG,UAAUT,MACjCM,CACR,CAEA,GAAsB,MAAlBG,EAASoM,KAAc,CAEzB,GAAIpM,EAAST,MAAQS,EAAST,KAAKqG,YAAa,CAC9C,MAAMD,EAAY,CAChBC,YAAa5F,EAAST,KAAKqG,YAC3BC,aAAc7F,EAAST,KAAKsG,aAC5BC,gBAAiB9F,EAAST,KAAKuG,gBAC/BR,SAAU,CACRyD,GAAI/I,EAAST,KAAKkD,OAClBmE,MAAO5G,EAAST,KAAKqH,MACrBzI,KAAM6B,EAAST,KAAKpB,KACpBiR,MAAOpP,EAAST,KAAK6P,MACrBD,YAAanP,EAAST,KAAK4P,cAG/BzJ,EAAcC,GACd7C,KAAK0G,iBAAiB,cAEtB1G,KAAKiF,MAAM8F,MAAM,mBAGjBpE,WAAW,KACT3G,KAAKwG,QAAQC,KAAK,UACjB,IACL,MACEzG,KAAK0G,iBAAiB,kBAGtBC,WAAW,KACT3G,KAAKwG,QAAQC,KAAK,WACjB,KAILzG,KAAKoL,aAAe,CAClBtH,MAAO,GACPwF,KAAM,GACNpF,SAAU,GACV0H,gBAAiB,GACjBvQ,KAAM,GACNwQ,aAAc,GACdL,WAAW,EAEf,MACExL,KAAKgM,eAAe9O,EAAS0G,KAAO,WAExC,CAAE,MAAO7G,GACPT,QAAQS,MAAM,QAASA,GACvB,MAAMmO,EAAevH,EAAe5G,GACpCiD,KAAKgM,eAAed,EACtB,CAAE,QACAlL,KAAK6I,SAAU,CACjB,CA5GA,MAFE7I,KAAKgM,eAAe,mBANpBhM,KAAKgM,eAAe,qBALpBhM,KAAKgM,eAAeC,EAAmBxO,QA0H3C,EACA,cAAAsO,GACE/L,KAAKsL,UAAY,GACjB,MAAMiB,EAAQC,YAAY,KACxBxM,KAAKsL,YACDtL,KAAKsL,WAAa,GACpBmB,cAAcF,IAEf,IACL,EACA,eAAAlB,CAAgBtF,GAEd,IAAI4B,EAAQ5B,EAAMK,OAAOuB,MAAMqD,QAAQ,UAAW,IAE9CrD,EAAMtD,OAAS,IACjBsD,EAAQA,EAAMjG,UAAU,EAAG,IAE7B1B,KAAKoL,aAAa9B,KAAO3B,EACzB5B,EAAMK,OAAOuB,MAAQA,CACvB,EACA,SAAAvG,GACEpB,KAAKwG,QAAQC,KAAK,SACpB,EACA,gBAAAC,CAAiBjJ,GACfuC,KAAKsB,aAAe7D,EACpBuC,KAAK0E,WAAY,EAGjBiC,WAAW,KACT3G,KAAK0E,WAAY,EACjB1E,KAAKsB,aAAe,IACnB,IACL,EACA,cAAA0K,CAAevO,GACbuC,KAAK2L,aAAelO,EACpBuC,KAAK8L,WAAY,CACnB,EACA,UAAAL,GACEzL,KAAK8L,WAAY,EACjB9L,KAAK2L,aAAe,EACtB,ICxbgI,ICOhI,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,EAAe,E,QClBX,EAAS,WAAkB,IAAI5L,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,6BAA6B,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAG,QAAQb,EAAG,MAAM,CAACM,YAAY,wBAAwB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,mBAAmBC,MAAM,CAAEyG,SAAUlH,EAAImH,cAAe,CAACjH,EAAG,MAAM,CAACM,YAAY,WAAWJ,MAAM,CAAC,IAAM,EAAQ,KAA2B,IAAM,YAAYF,EAAG,KAAK,CAACM,YAAY,eAAeC,MAAM,CAAEyG,SAAUlH,EAAImH,cAAe,CAACnH,EAAIe,GAAG,qBAAqBb,EAAG,IAAI,CAACM,YAAY,kBAAkBC,MAAM,CAAEyG,SAAUlH,EAAImH,cAAe,CAACnH,EAAIe,GAAG,oFAAoFb,EAAG,MAAM,CAACM,YAAY,yBAAyB,CAACN,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,MAAM,CAACM,YAAY,0BAA0B,CAACN,EAAG,SAAS,CAACM,YAAY,WAAWJ,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQX,EAAIqB,YAAY,CAACnB,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,2BAA2B,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaF,EAAG,OAAO,CAACF,EAAIe,GAAG,YAAYb,EAAG,KAAK,CAACM,YAAY,yBAAyB,CAACR,EAAIe,GAAG,UAAUb,EAAG,IAAI,CAACM,YAAY,4BAA4B,CAACR,EAAIe,GAAG,oBAAoBb,EAAG,OAAO,CAACM,YAAY,uBAAuBG,GAAG,CAAC,OAAS,SAAS0G,GAAgC,OAAxBA,EAAOC,iBAAwBtH,EAAI2M,oBAAoBnF,MAAM,KAAMC,UAAU,IAAI,CAACvH,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,UAAU,CAACJ,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAI4M,UAAe,MAAE9E,WAAW,oBAAoB1H,MAAM,CAAC,KAAO,QAAQ,GAAK,QAAQ,YAAc,YAAY,SAAW,IAAI2H,SAAS,CAAC,MAAS/H,EAAI4M,UAAe,OAAGjM,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAI4M,UAAW,QAASvF,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,SAAS,CAACJ,EAAIe,GAAG,SAASb,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAI4M,UAAc,KAAE9E,WAAW,mBAAmBtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,GAAK,OAAO,YAAc,WAAW,UAAY,IAAI,QAAU,WAAW,SAAW,IAAI2H,SAAS,CAAC,MAAS/H,EAAI4M,UAAc,MAAGjM,GAAG,CAAC,MAAQ,CAAC,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAI4M,UAAW,OAAQvF,EAAOhB,OAAOuB,MAAM,EAAE5H,EAAIsL,oBAAoBpL,EAAG,SAAS,CAACM,YAAY,gBAAgBJ,MAAM,CAAC,KAAO,SAAS,SAAWJ,EAAI8I,SAAW9I,EAAIuL,UAAY,GAAG5K,GAAG,CAAC,MAAQX,EAAIwL,WAAW,CAACxL,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAIuL,UAAY,EAAI,GAAGvL,EAAIuL,gBAAkB,SAAS,WAAWrL,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,gBAAgB,CAACJ,EAAIe,GAAG,SAASb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAI4M,UAAqB,YAAE9E,WAAW,0BAA0B1H,MAAM,CAAC,KAAO,WAAW,GAAK,cAAc,YAAc,SAAS,SAAW,GAAG,UAAY,KAAK2H,SAAS,CAAC,MAAS/H,EAAI4M,UAAqB,aAAGjM,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAI4M,UAAW,cAAevF,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,oBAAoB,CAACJ,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAI4M,UAAyB,gBAAE9E,WAAW,8BAA8B1H,MAAM,CAAC,KAAO,WAAW,GAAK,kBAAkB,YAAc,WAAW,SAAW,IAAI2H,SAAS,CAAC,MAAS/H,EAAI4M,UAAyB,iBAAGjM,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAI4M,UAAW,kBAAmBvF,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,SAAS,CAACM,YAAY,eAAeJ,MAAM,CAAC,KAAO,SAAS,SAAWJ,EAAI8I,UAAU,CAAC9I,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI8I,QAAU,SAAW,QAAQ,aAAc9I,EAAa,UAAEE,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAIuB,cAAc,OAAOvB,EAAIM,MACl7H,EACI,EAAkB,GCuGtB,GACEhF,KAAM,iBACNwL,WAAY,CACZ,EACA,IAAApK,GACE,MAAO,CACLoM,SAAS,EACTyC,UAAW,EACXvB,cAAc,EACd4C,UAAW,CACT7I,MAAO,GACPwF,KAAM,GACNsD,YAAa,GACbhB,gBAAiB,IAEnBlH,WAAW,EACXpD,aAAc,GACd4F,aAAa,EAEjB,EACA,OAAAvC,GAEE,MAAMsF,EAAc/N,aAAaC,QAAQ,qBACpC8N,IACHjK,KAAKkH,aAAc,EACnBhL,aAAa+G,QAAQ,oBAAqB,QAE9C,EACA0C,QAAS,CACP,cAAM4F,GACJ,GAAKvL,KAAK2M,UAAU7I,MAKpB,GAAKD,EAAa7D,KAAK2M,UAAU7I,OAAjC,CAKA9D,KAAK6I,SAAU,EACf,IAEE,MAAM3L,QAAiB6L,EAAQC,qBAAqB,CAClDlF,MAAO9D,KAAK2M,UAAU7I,MACtBS,KAAM,mBAGc,MAAlBrH,EAASoM,MACX2B,MAAM,sCACNjL,KAAK+L,kBAELd,MAAM/N,EAAS0G,KAAO,WAE1B,CAAE,MAAO7G,GACPT,QAAQS,MAAM,WAAYA,GAC1B,MAAMmO,EAAevH,EAAe5G,GACpCkO,MAAMC,EACR,CAAE,QACAlL,KAAK6I,SAAU,CACjB,CAtBA,MAFEoC,MAAM,mBALNA,MAAM,WA8BV,EACA,yBAAMyB,GACJ,GAAI1M,KAAK+J,aAAc,OAKvB,GAJA/J,KAAK+J,cAAe,EACpBpD,WAAW,KAAQ3G,KAAK+J,cAAe,GAAS,MAG3C/J,KAAK2M,UAAU7I,MAElB,YADAmH,MAAM,WAIR,IAAKjL,KAAK2M,UAAUrD,KAElB,YADA2B,MAAM,UAKR,IAAK,UAAUjH,KAAKhE,KAAK2M,UAAUrD,MAEjC,YADA2B,MAAM,cAIR,IAAKjL,KAAK2M,UAAUC,YAElB,YADA3B,MAAM,UAIR,IAAKpH,EAAa7D,KAAK2M,UAAU7I,OAE/B,YADAmH,MAAM,cAIR,GAAIjL,KAAK2M,UAAUC,cAAgB5M,KAAK2M,UAAUf,gBAEhD,YADAX,MAAM,cAIR,MAAMgB,EAAqBhI,EAAiBjE,KAAK2M,UAAUC,aAC3D,GAAKX,EAAmB7H,QAAxB,CAKApE,KAAK6I,SAAU,EACf,IAEE,MAAM3L,QAAiB6L,EAAQY,cAAc,CAC3C7F,MAAO9D,KAAK2M,UAAU7I,MACtBsI,iBAAkBpM,KAAK2M,UAAUrD,KACjCsD,YAAa5M,KAAK2M,UAAUC,YAC5BhB,gBAAiB5L,KAAK2M,UAAUf,kBAGZ,MAAlB1O,EAASoM,MACXtJ,KAAK0G,iBAAiB,mBAGtBC,WAAW,KACT3G,KAAKwG,QAAQC,KAAK,WACjB,MAEHwE,MAAM/N,EAAS0G,KAAO,aAE1B,CAAE,MAAO7G,GACPT,QAAQS,MAAM,UAAWA,GACzB,MAAMmO,EAAevH,EAAe5G,GACpCkO,MAAMC,EACR,CAAE,QACAlL,KAAK6I,SAAU,CACjB,CA5BA,MAFEoC,MAAMgB,EAAmBxO,QA+B7B,EACA,cAAAsO,GACE/L,KAAKsL,UAAY,GACjB,MAAMiB,EAAQC,YAAY,KACxBxM,KAAKsL,YACDtL,KAAKsL,WAAa,GACpBmB,cAAcF,IAEf,IACL,EACA,eAAAlB,CAAgBtF,GAEd,IAAI4B,EAAQ5B,EAAMK,OAAOuB,MAAMqD,QAAQ,UAAW,IAE9CrD,EAAMtD,OAAS,IACjBsD,EAAQA,EAAMjG,UAAU,EAAG,IAE7B1B,KAAK2M,UAAUrD,KAAO3B,EACtB5B,EAAMK,OAAOuB,MAAQA,CACvB,EACA,SAAAvG,GACEpB,KAAKwG,QAAQC,KAAK,SACpB,EACA,gBAAAC,CAAiBjJ,GACfuC,KAAKsB,aAAe7D,EACpBuC,KAAK0E,WAAY,EAGjBiC,WAAW,KACT3G,KAAK0E,WAAY,EACjB1E,KAAKsB,aAAe,IACnB,IACL,IC7QsI,ICOtI,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,EAAe,E,QClBX,EAAS,WAAkB,IAAIvB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,iBAAiBC,MAAM,CAAE,YAAaT,EAAI8M,aAAc,CAAC5M,EAAG,UAAU,CAACE,MAAM,CAAC,OAASJ,EAAI+M,aAAapM,GAAG,CAAC,MAAQX,EAAIgN,gBAAgB9M,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,SAAS,CAACM,YAAY,WAAWG,GAAG,CAAC,MAAQX,EAAIiN,gBAAgB,CAAC/M,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,0BAA0B,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,SAAS,CAACM,YAAY,mBAAmBJ,MAAM,CAAC,MAAQJ,EAAI8M,WAAa,UAAY,WAAWnM,GAAG,CAAC,MAAQX,EAAIkN,cAAc,CAAGlN,EAAI8M,WAA8d5M,EAAG,MAAM,CAACM,YAAY,uBAAuBJ,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,kDAAkD,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAA3wBF,EAAG,MAAM,CAACM,YAAY,sBAAsBJ,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,KAAK,EAAI,IAAI,OAAS,eAAe,eAAe,OAAOF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,2HAA2H,OAAS,eAAe,eAAe,IAAI,iBAAiB,mBAAyVF,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAImN,mBAAmB,CAACjN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,mBAAmB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,YAAYb,EAAG,MAAM,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAIoN,sBAAsB,CAAClN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uKAAuK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,MAAM,GAAK,MAAM,EAAI,MAAM,OAAS,eAAe,eAAe,OAAOF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uFAAuF,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,YAAYb,EAAG,MAAM,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAIqN,sBAAsB,CAACnN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,kBAAkB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,kBAAkB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,MAAM,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAIsN,oBAAoB,CAACpN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,sPAAsP,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,aAAa,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,WAAW,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,WAAW,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,UAAU,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,sBAAsBb,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACR,EAAIoH,GAAG,GAAGlH,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,YAAaf,EAAqB,kBAAEE,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,IAAI,CAACF,EAAIe,GAAG,iBAAiBb,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACR,EAAIuN,GAAIvN,EAAc,WAAE,SAAS9E,GAAS,OAAOgF,EAAG,MAAM,CAACyD,IAAIzI,EAAQgL,GAAG1F,YAAY,eAAeG,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIwN,kBAAkBtS,EAAQgL,GAAG,IAAI,CAAChG,EAAG,MAAM,CAACM,YAAY,0BAA0B,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,sHAAsH,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,8HAA8H,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,8HAA8H,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,sIAAsI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,KAAK,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAGf,EAAIgB,GAAG9F,EAAQqR,UAAUrM,EAAG,IAAI,CAACM,YAAY,uBAAuB,CAACR,EAAIe,GAAGf,EAAIgB,GAAG9F,EAAQuS,gBAAgBvN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,OAAO,CAACO,MAAM,CAAC,eAAgB,UAAUvF,EAAQkC,WAAW,CAAC4C,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI0N,cAAcxS,EAAQkC,YAAY8C,EAAG,OAAO,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAGf,EAAIgB,GAAG9F,EAAQyS,UAAU,eAAe,GAA8B,IAA1B3N,EAAI4N,WAAWtJ,OAAcpE,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,IAAI,CAACF,EAAIe,GAAG,eAAef,EAAIM,MAAM,OAAOJ,EAAG,MAAM,CAACM,YAAY,wBAAwB,CAACN,EAAG,eAAe,CAACE,MAAM,CAAC,WAAaJ,EAAI8M,eAAe,OAAQ9M,EAAa,UAAEE,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAI0L,aAAa,CAACxL,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACF,EAAIe,GAAG,UAAUb,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAI0L,aAAa,CAACxL,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,IAAI,CAACF,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI4L,mBAAmB1L,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,SAAS,CAACM,YAAY,6BAA6BG,GAAG,CAAC,MAAQX,EAAI0L,aAAa,CAAC1L,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,8BAA8BG,GAAG,CAAC,MAAQX,EAAIqB,YAAY,CAACrB,EAAIe,GAAG,eAAef,EAAIM,MAAM,EAChgQ,EACI,GAAkB,CAAC,WAAY,IAAIN,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,KAAK,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,WAAWb,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACN,EAAG,MAAM,CAACM,YAAY,iBAAiBN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,cAAcb,EAAG,IAAI,CAACM,YAAY,oBAAoB,CAACR,EAAIe,GAAG,oBAAoBb,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,OAAO,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,UAAUb,EAAG,OAAO,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,yBAAyBb,EAAG,MAAM,CAACM,YAAY,6BAA6B,CAACN,EAAG,MAAM,CAACM,YAAY,iBAAiBN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,YAAYb,EAAG,IAAI,CAACM,YAAY,oBAAoB,CAACR,EAAIe,GAAG,gBAAgBb,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,OAAO,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,UAAUb,EAAG,OAAO,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,yBAAyBb,EAAG,MAAM,CAACM,YAAY,0BAA0B,CAACN,EAAG,MAAM,CAACM,YAAY,iBAAiBN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,aAAab,EAAG,IAAI,CAACM,YAAY,oBAAoB,CAACR,EAAIe,GAAG,mBAAmBb,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,OAAO,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,UAAUb,EAAG,OAAO,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,8BAC58C,GCHI,GAAS,WAAkB,IAAIf,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAQF,EAAU,OAAEE,EAAG,MAAM,CAACM,YAAY,kBAAkBG,GAAG,CAAC,MAAQX,EAAIgN,eAAe,CAAC9M,EAAG,MAAM,CAACM,YAAY,UAAUG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,KAAK,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,YAAYG,GAAG,CAAC,MAAQX,EAAIgN,eAAe,CAAC9M,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,MAAM,CAACM,YAAY,WAAWC,MAAM,CAAEoN,OAA6B,UAArB7N,EAAI8N,cAA2BnN,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI+N,WAAW,QAAQ,IAAI,CAAC7N,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,+KAA+K,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,iBAAiB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,OAAO,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,WAAWC,MAAM,CAAEoN,OAA6B,oBAArB7N,EAAI8N,cAAqCnN,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI+N,WAAW,kBAAkB,IAAI,CAAC7N,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,IAAI,EAAI,IAAI,MAAQ,IAAI,OAAS,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,KAAK,EAAI,IAAI,MAAQ,IAAI,OAAS,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,KAAK,EAAI,KAAK,MAAQ,IAAI,OAAS,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,IAAI,EAAI,KAAK,MAAQ,IAAI,OAAS,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,OAAO,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,YAAYb,EAAG,MAAM,CAACM,YAAY,WAAWC,MAAM,CAAEoN,OAAQ7N,EAAI8N,aAAarM,WAAW,oBAAqBd,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI+N,WAAW,kBAAkB,IAAI,CAAC7N,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,+HAA+H,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,oIAAoI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,wIAAwI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,OAAO,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,WAAWb,EAAG,MAAM,CAACM,YAAY,WAAWC,MAAM,CAAEoN,OAA6B,kBAArB7N,EAAI8N,cAAmCnN,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI+N,WAAW,gBAAgB,IAAI,CAAC7N,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,+HAA+H,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,oIAAoI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,wIAAwI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,OAAO,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,qBAAsBf,EAAa,UAAEE,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAI0L,aAAa,CAACxL,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACF,EAAIe,GAAG,UAAUb,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAI0L,aAAa,CAACxL,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,IAAI,CAACF,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI4L,mBAAmB1L,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,SAAS,CAACM,YAAY,6BAA6BG,GAAG,CAAC,MAAQX,EAAI0L,aAAa,CAAC1L,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,8BAA8BG,GAAG,CAAC,MAAQX,EAAIqB,YAAY,CAACrB,EAAIe,GAAG,eAAef,EAAIM,OAAON,EAAIM,IACrkL,EACI,GAAkB,GCiFtB,IACEhF,KAAM,UACNiJ,MAAO,CACLyJ,OAAQ,CACNxJ,KAAMC,QACNC,SAAS,IAGb,IAAAhI,GACE,MAAO,CACLqP,WAAW,EACXH,aAAc,GAElB,EACA5E,SAAU,CACR,YAAA8G,GACE,OAAO7N,KAAKsG,OAAOC,IACrB,GAEFZ,QAAS,CACP,YAAAoH,GACE/M,KAAK+K,MAAM,QACb,EACA,UAAA+C,CAAWE,GAET,GAAIhO,KAAKsG,OAAOC,OAASyH,GAAoB,oBAAVA,GAA+BhO,KAAKsG,OAAOC,KAAK/E,WAAW,mBAE5F,YADAxB,KAAK+M,eAKP,MAAMkB,EAAoB,CAAC,kBAAmB,gBAAiB,mBAC/D,GAAIA,EAAkBxM,SAASuM,GAAQ,CACrC,MAAM/R,EAAQC,aAAaC,QAAQ,gBAC7BqG,EAAWtG,aAAaC,QAAQ,aAChC+R,KAAqBjS,IAASuG,GAEpC,IAAK0L,EAGH,OAFAlO,KAAKmO,eAAenO,KAAKoO,gBAAgBJ,SACzChO,KAAK+M,cAGT,CAEA/M,KAAKwG,QAAQC,KAAKuH,GAClBhO,KAAK+M,cACP,EACA,cAAAoB,CAAe1Q,GACbuC,KAAK2L,aAAelO,EACpBuC,KAAK8L,WAAY,CACnB,EACA,UAAAL,GACEzL,KAAK8L,WAAY,EACjB9L,KAAK2L,aAAe,EACtB,EACA,SAAAvK,GACEpB,KAAKwG,QAAQC,KAAK,SACpB,EACA,eAAA2H,CAAgBJ,GACd,MAAMK,EAAW,CACf,kBAAmB,cACnB,gBAAiB,eACjB,kBAAmB,cAErB,OAAOA,EAASL,IAAU,aAC5B,ICpJ+H,MCQ/H,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIF,GAAe,G,QCnBX,GAAS,WAAkB,IAAIjO,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,gBAAgBC,MAAM,CAAE,YAAaT,EAAI8M,aAAc,CAAC9M,EAAIoH,GAAG,GAAGlH,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,SAAS,CAACM,YAAY,UAAUG,GAAG,CAAC,MAAQX,EAAIuO,gBAAgB,CAACvO,EAAIe,GAAG,OAAOb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIwO,iBAAiBtO,EAAG,SAAS,CAACM,YAAY,UAAUG,GAAG,CAAC,MAAQX,EAAIyO,YAAY,CAACzO,EAAIe,GAAG,SAASb,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACR,EAAIoH,GAAG,GAAGlH,EAAG,MAAM,CAACM,YAAY,iBAAiBR,EAAIuN,GAAIvN,EAAgB,aAAE,SAAS0O,EAAIC,GAAO,OAAOzO,EAAG,MAAM,CAACyD,IAAIgL,EAAMnO,YAAY,MAAMC,MAAM,CACzqB,gBAAiBiO,EAAIE,eACrB,MAASF,EAAIG,QACb,SAAY7O,EAAI8O,cAAgBJ,EAAIK,MAAQ/O,EAAI8O,aAAaE,iBAAmBN,EAAIK,KAAKC,gBACzFrO,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIiP,WAAWP,EAAI,IAAI,CAAC1O,EAAIe,GAAG,IAAIf,EAAIgB,GAAG0N,EAAIA,KAAK,MAAM,GAAG,SAASxO,EAAG,MAAM,CAACM,YAAY,oBAAoBC,MAAM,CAAE,OAAUT,EAAIkP,YAAY5K,OAAS,IAAK,CAACpE,EAAG,KAAK,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAAER,EAAIkP,YAAY5K,OAAS,EAAGpE,EAAG,MAAM,CAACM,YAAY,wBAAwB,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,wIAAwI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaF,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,IAAI,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,MAAMb,EAAG,SAAS,CAACF,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIkP,YAAY5K,WAAWtE,EAAIe,GAAG,cAAcb,EAAG,IAAI,CAACM,YAAY,kBAAkB,CAACR,EAAIe,GAAG,iBAAiBb,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,qIAAqI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaJ,EAAIoH,GAAG,UACr4C,EACI,GAAkB,CAAC,WAAY,IAAIpH,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,KAAK,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAG,aAC9J,EAAE,WAAY,IAAIf,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,OAAO,CAACF,EAAIe,GAAG,OAAOb,EAAG,OAAO,CAACF,EAAIe,GAAG,OAAOb,EAAG,OAAO,CAACF,EAAIe,GAAG,OAAOb,EAAG,OAAO,CAACF,EAAIe,GAAG,OAAOb,EAAG,OAAO,CAACF,EAAIe,GAAG,OAAOb,EAAG,OAAO,CAACF,EAAIe,GAAG,OAAOb,EAAG,OAAO,CAACF,EAAIe,GAAG,QAC7P,EAAE,WAAY,IAAIf,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,IAAI,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,SAASb,EAAG,IAAI,CAACM,YAAY,kBAAkB,CAACR,EAAIe,GAAG,gBACzL,GC+DA,IACEzF,KAAM,eACNiJ,MAAO,CACLuI,WAAY,CACVtI,KAAMC,QACNC,SAAS,IAGb,IAAAhI,GACE,MAAO,CACLyS,YAAa,IAAIC,KACjBN,aAAc,KAElB,EACA9H,SAAU,CACR,YAAAwH,GACE,MAAMa,EAAOpP,KAAKkP,YAAYG,cACxBC,EAAQtP,KAAKkP,YAAYK,WAAa,EAC5C,MAAO,GAAGH,KAAQE,IACpB,EACA,YAAAE,GACE,MAAMJ,EAAOpP,KAAKkP,YAAYG,cACxBC,EAAQtP,KAAKkP,YAAYK,WAGzBE,EAAW,IAAIN,KAAKC,EAAME,EAAO,GACjCI,EAAU,IAAIP,KAAKC,EAAME,EAAQ,EAAG,GAGpCK,EAAiBF,EAASG,SAG1BC,EAAY,IAAIV,KAAKC,EAAME,EAAO,GAClCQ,EAAmBD,EAAUE,UAE7BC,EAAO,GAGb,IAAK,IAAIC,EAAIN,EAAiB,EAAGM,GAAK,EAAGA,IACvCD,EAAKvJ,KAAK,CACRgI,IAAKqB,EAAmBG,EACxBtB,gBAAgB,EAChBC,SAAS,IAKb,IAAK,IAAIH,EAAM,EAAGA,GAAOiB,EAAQK,UAAWtB,IAAO,CACjD,MAAMK,EAAO,IAAIK,KAAKC,EAAME,EAAOb,GAC7ByB,EAAQ,IAAIf,KAClBa,EAAKvJ,KAAK,CACRgI,IAAKA,EACLE,gBAAgB,EAChBC,QAASE,EAAKC,iBAAmBmB,EAAMnB,eACvCD,KAAMA,GAEV,CAGA,MAAMqB,EAAgB,GAAKH,EAAK3L,OAChC,IAAK,IAAIoK,EAAM,EAAGA,GAAO0B,EAAe1B,IACtCuB,EAAKvJ,KAAK,CACRgI,IAAKA,EACLE,gBAAgB,EAChBC,SAAS,IAIb,OAAOoB,CACT,EACA,WAAAf,GAEE,MAAMiB,EAAQ,IAAIf,KACZiB,EAAiB,IAAIjB,KAAKe,GAKhC,OAJAE,EAAeC,QAAQH,EAAMH,UAAY,GAIlC,CACL,CACEzD,MAAO,WACPgE,SAAU,eAEZC,OAAOC,IACP,MAAMF,EAAW,IAAInB,KAAKqB,EAAKF,UAC/B,OAAOA,GAAYF,GAAkBE,GAAYJ,GAErD,GAEF,OAAAvL,GAEA,EACAgB,QAAS,CACP,aAAA2I,GACEtO,KAAKkP,YAAc,IAAIC,KAAKnP,KAAKkP,YAAYG,cAAerP,KAAKkP,YAAYK,WAAa,EAAG,EAC/F,EACA,SAAAf,GACExO,KAAKkP,YAAc,IAAIC,KAAKnP,KAAKkP,YAAYG,cAAerP,KAAKkP,YAAYK,WAAa,EAAG,EAC/F,EACA,UAAAP,CAAWP,GACLA,EAAIE,iBACN3O,KAAK6O,aAAeJ,EAAIK,KACxBxS,QAAQC,IAAI,QAASkS,EAAIK,MAE7B,IChLoI,MCQpI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIF,GAAe,G,kBCuLf,IACEzT,KAAM,OACNwL,WAAY,CACV4J,QAAO,GACPC,aAAY,IAEd,IAAAjU,GACE,MAAO,CACLqQ,aAAa,EACb7L,cAAc,EACd+I,WAAY,KACZpJ,eAAgB,CACdI,SAAU,KACVH,OAAQ,IAEViL,WAAW,EACXH,aAAc,GACdgC,WAAY,GACZgD,mBAAmB,EACnB9D,YAAY,EACZ+D,iBAAiB,EAErB,EACA,OAAAjM,GAEE3E,KAAKuK,iBAGLvK,KAAK4E,qBAGL5E,KAAK6Q,iBAGL7Q,KAAK8Q,YAGLjM,SAASC,iBAAiB,QAAS9E,KAAK+E,mBAC1C,EACA,aAAAQ,GAEEV,SAASW,oBAAoB,QAASxF,KAAK+E,mBAC7C,EACAY,QAAS,CACP,cAAA4E,GAEE,MAAMC,EAActO,aAAaC,QAAQ,cACrCqO,IACFxK,KAAKgK,WAAaQ,EAEtB,EACA,kBAAA5F,GAEE,MAAMgB,EAAgB1J,aAAaC,QAAQ,kBACvCyJ,IACF5F,KAAKY,eAAiBoB,KAAKC,MAAM2D,GAErC,EACA,aAAA+E,CAAcjI,GAEZ1C,KAAKgK,WAAatH,EAClBxG,aAAa+G,QAAQ,aAAcP,EACrC,EACA,kBAAAqC,CAAmBgB,GAEZA,EAAMK,OAAOC,QAAQ,kBAAqBN,EAAMK,OAAOC,QAAQ,gBAClErG,KAAKiB,cAAe,EAExB,EACA,cAAAN,GACErE,QAAQC,IAAI,eAAgByD,KAAKiB,cACjCjB,KAAKiB,cAAgBjB,KAAKiB,aAC1B3E,QAAQC,IAAI,SAAUyD,KAAKiB,aAC7B,EACA,WAAAC,GACE5E,QAAQC,IAAI,aACZyD,KAAKiB,cAAe,EACpBjB,KAAKwG,QAAQC,KAAK,WACpB,EACA,YAAMpF,GACJ/E,QAAQC,IAAI,QACZyD,KAAKiB,cAAe,EAEpB,IAEE,MAAMhF,EAAQC,aAAaC,QAAQ,gBAC/BF,UAEI8M,EAAQ1H,OAAOpF,GACrBK,QAAQC,IAAI,UAEhB,CAAE,MAAOQ,GACPT,QAAQS,MAAM,UAAWA,EAE3B,CAGAiD,KAAKsD,gBACLhH,QAAQC,IAAI,WAGZ0O,MAAM,WAGNtE,WAAW,KACTrK,QAAQC,IAAI,aACZc,OAAOC,SAASC,KAAO,UACtB,IACL,EACA,aAAA+F,GAEEpH,aAAakB,WAAW,gBACxBlB,aAAakB,WAAW,iBACxBlB,aAAakB,WAAW,qBACxBlB,aAAakB,WAAW,aACxBlB,aAAakB,WAAW,cACxBlB,aAAakB,WAAW,kBAGxB4C,KAAKgK,WAAa,KAClBhK,KAAKY,eAAiB,CACpBI,SAAU,GACVH,OAAQ,GAEZ,EACA,aAAAmM,GACEhN,KAAK8M,aAAe9M,KAAK8M,WAC3B,EACA,YAAAC,GACE/M,KAAK8M,aAAc,CACrB,EACA,SAAAgE,GAEE,MAAMC,EAAa7U,aAAaC,QAAQ,SACrB,SAAf4U,GACF/Q,KAAK6M,YAAa,EAClBhI,SAASmM,gBAAgBC,UAAUC,IAAI,eAEvClR,KAAK6M,YAAa,EAClBhI,SAASmM,gBAAgBC,UAAUE,OAAO,aAE9C,EACA,WAAAlE,CAAYlH,GAEV,GAAI/F,KAAK4Q,gBAAiB,OAG1B,MAAMQ,EAAOrL,EAAMsL,cAAcC,wBAC3BC,EAAIH,EAAKI,KAAOJ,EAAKK,MAAQ,EAC7BC,EAAIN,EAAKO,IAAMP,EAAKQ,OAAS,EAQ7BC,GALYC,KAAKC,KACrBD,KAAKE,IAAI3U,OAAO4U,WAAY,GAAKH,KAAKE,IAAI3U,OAAO6U,YAAa,IAIjDrN,SAASsN,cAAc,QACtCN,EAAOO,UAAY,0BACnBP,EAAOQ,MAAMb,KAAOD,EAAI,KACxBM,EAAOQ,MAAMV,IAAMD,EAAI,KACvB7M,SAASyN,KAAKC,YAAYV,GAG1B7R,KAAK4Q,iBAAkB,EAGvB4B,sBAAsB,KACpB,MAAMC,GAAYzS,KAAK6M,WAGvB2F,sBAAsB,KACpBX,EAAOZ,UAAUC,IAAIuB,EAAW,cAAgB,kBAIlD9L,WAAW,KACT3G,KAAK6M,YAAc7M,KAAK6M,WACxB3Q,aAAa+G,QAAQ,QAASjD,KAAK6M,WAAa,OAAS,SAErD7M,KAAK6M,WACPhI,SAASmM,gBAAgBC,UAAUC,IAAI,aAEvCrM,SAASmM,gBAAgBC,UAAUE,OAAO,cAE3C,KAGHxK,WAAW,KACLkL,EAAOa,YACTb,EAAOV,SAETnR,KAAK4Q,iBAAkB,GACtB,MAEP,EACA,gBAAA1D,GACE5Q,QAAQC,IAAI,QAEZ,MAAMN,EAAQC,aAAaC,QAAQ,gBAC7BqG,EAAWtG,aAAaC,QAAQ,aAChC+R,KAAqBjS,IAASuG,GAEhC0L,EACFlO,KAAKwG,QAAQC,KAAK,CAAEF,KAAM,kBAAmBoM,MAAO,CAAEC,KAAM,UAE5D5S,KAAKmO,eAAe,aAExB,EACA,mBAAAhB,GACE7Q,QAAQC,IAAI,QACZyD,KAAKwG,QAAQC,KAAK,kBACpB,EACA,mBAAA2G,GACE9Q,QAAQC,IAAI,OAEZ,MAAMN,EAAQC,aAAaC,QAAQ,gBAC7BqG,EAAWtG,aAAaC,QAAQ,aAChC+R,KAAqBjS,IAASuG,GAEhC0L,EACFlO,KAAKwG,QAAQC,KAAK,mBAElBzG,KAAKmO,eAAe,cAExB,EACA,iBAAAd,GACE/Q,QAAQC,IAAI,YAEZ,MAAMN,EAAQC,aAAaC,QAAQ,gBAC7BqG,EAAWtG,aAAaC,QAAQ,aAChC+R,KAAqBjS,IAASuG,GAEhC0L,EACFlO,KAAKwG,QAAQC,KAAK,iBAElBzG,KAAKmO,eAAe,eAExB,EACA,cAAAA,CAAe1Q,GACbuC,KAAK2L,aAAelO,EACpBuC,KAAK8L,WAAY,CACnB,EACA,UAAAL,GACEzL,KAAK8L,WAAY,EACjB9L,KAAK2L,aAAe,EACtB,EACA,SAAAvK,GACEpB,KAAKwG,QAAQC,KAAK,SACpB,EACA,oBAAMoK,GAEJ,MAAM5U,EAAQC,aAAaC,QAAQ,gBAC7BqG,EAAWtG,aAAaC,QAAQ,aAChC+R,KAAqBjS,IAASuG,GAEpC,IAAK0L,EAIH,OAHA5R,QAAQC,IAAI,sBAEZyD,KAAK2N,WAAa3N,KAAK6S,sBAIzB7S,KAAK2Q,mBAAoB,EAEzB,IACErU,QAAQC,IAAI,iBAGZ,MAAMW,QAAiB,GAAAQ,WAAWe,cAAc,EAAG,GAEnDnC,QAAQC,IAAI,eAAgBW,GAG5B,IAAI4V,EAAW,GACX9K,MAAMC,QAAQ/K,GAEhB4V,EAAW5V,EACFA,GAAYA,EAAST,OAE1BuL,MAAMC,QAAQ/K,EAAST,MACzBqW,EAAW5V,EAAST,KACXuL,MAAMC,QAAQ/K,EAAST,KAAKsW,SAErCD,EAAW5V,EAAST,KAAKsW,QAChB/K,MAAMC,QAAQ/K,EAAST,KAAKuW,MAErCF,EAAW5V,EAAST,KAAKuW,KAChBhL,MAAMC,QAAQ/K,EAAST,KAAKwW,WAErCH,EAAW5V,EAAST,KAAKwW,UAIzBH,EAASzO,OAAS,GACpBrE,KAAK2N,WAAamF,EAASI,IAAIjY,IAAW,CACxCgL,GAAIhL,EAAQgL,IAAMhL,EAAQ8C,WAAa9C,EAAQkY,WAC/C7G,MAAOrR,EAAQqR,OAASrR,EAAQI,MAAQJ,EAAQmY,aAAe,QAC/D5F,YAAavS,EAAQuS,aAAevS,EAAQoY,MAAQ,GACpDlW,OAAQ6C,KAAKsT,UAAUrY,EAAQkC,QAC/BuQ,SAAU1N,KAAKuT,kBAAkBtY,EAAQkC,WAG3Cb,QAAQC,IAAI,UAAWyD,KAAK2N,cAE5BrR,QAAQC,IAAI,mBACZyD,KAAK2N,WAAa3N,KAAK6S,qBAE3B,CAAE,MAAO9V,GACPT,QAAQS,MAAM,UAAWA,GAEzBiD,KAAK2N,WAAa3N,KAAK6S,oBACzB,CAAE,QACA7S,KAAK2Q,mBAAoB,CAC3B,CACF,EACA,kBAAAkC,GAEE,MAAO,CACL,CACE5M,GAAI,EACJqG,MAAO,aACPkB,YAAa,aACbrQ,OAAQ,cACRuQ,SAAU,IAEZ,CACEzH,GAAI,EACJqG,MAAO,cACPkB,YAAa,cACbrQ,OAAQ,cACRuQ,SAAU,IAEZ,CACEzH,GAAI,EACJqG,MAAO,aACPkB,YAAa,aACbrQ,OAAQ,YACRuQ,SAAU,KAGhB,EACA,SAAA4F,CAAUnW,GAER,MAAMqW,EAAY,CAChB,OAAU,cACV,UAAa,YACb,OAAU,cACV,SAAY,YACZ,MAAO,cACP,MAAO,YACP,MAAO,eAET,OAAOA,EAAUrW,IAAW,aAC9B,EACA,iBAAAoW,CAAkBpW,GAEhB,MAAe,cAAXA,GAAqC,cAAXA,GAAqC,QAAXA,EAC/C,IACa,WAAXA,GAAkC,WAAXA,GAAkC,QAAXA,EAChD,GAEF,CACT,EACA,aAAAsQ,CAActQ,GACZ,MAAMqW,EAAY,CAChB,cAAe,MACf,UAAa,MACb,QAAW,MACX,OAAU,OAEZ,OAAOA,EAAUrW,IAAW,KAC9B,EACA,iBAAAoQ,CAAkBxP,GAChBzB,QAAQC,IAAI,WAAYwB,GACxBiC,KAAKwG,QAAQC,KAAK,mBAAmB1I,IACvC,IClkB4H,MCO5H,IAAY,OACd,GACA,EACA,IACA,EACA,KACA,KACA,MAIF,GAAe,G,QClBX,GAAS,WAAkB,IAAIgC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,4BAA4B,CAACN,EAAG,UAAU,CAACE,MAAM,CAAC,OAASJ,EAAI+M,aAAapM,GAAG,CAAC,MAAQX,EAAIgN,gBAAgB9M,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,SAAS,CAACM,YAAY,WAAWJ,MAAM,CAAC,aAAa,gBAAgBO,GAAG,CAAC,MAAQX,EAAIiN,gBAAgB,CAAC/M,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,0BAA0B,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,SAAS,CAACM,YAAY,WAAWJ,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQX,EAAI0T,WAAW,CAACxT,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,2BAA2B,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,cAAcb,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,WAAW,CAACN,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAc,WAAE8H,WAAW,eAAetH,YAAY,eAAeJ,MAAM,CAAC,KAAO,OAAO,YAAc,UAAU2H,SAAS,CAAC,MAAS/H,EAAc,YAAGW,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,YAAiBhI,EAAI2T,WAAWtM,EAAOhB,OAAOuB,MAAK,KAAK1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,WAAWG,GAAG,CAAC,MAAQ,SAAS0G,GAAiC,OAAzBA,EAAOsE,kBAAyB3L,EAAI4T,qBAAqBpM,MAAM,KAAMC,UAAU,IAAI,CAACvH,EAAG,SAAS,CAACM,YAAY,iBAAiB,CAACN,EAAG,OAAO,CAACF,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,kBAAkB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAgBJ,EAAc,WAAEE,EAAG,KAAK,CAACM,YAAY,iBAAiB,CAACN,EAAG,KAAK,CAACM,YAAY,gBAAgBC,MAAM,CAAEoN,OAA+B,KAAvB7N,EAAI6T,gBAAwBlT,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI8T,aAAa,GAAG,IAAI,CAAC9T,EAAIe,GAAG,QAAQb,EAAG,KAAK,CAACM,YAAY,gBAAgBC,MAAM,CAAEoN,OAA+B,QAAvB7N,EAAI6T,gBAA2BlT,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI8T,aAAa,MAAM,IAAI,CAAC9T,EAAIe,GAAG,SAASb,EAAG,KAAK,CAACM,YAAY,gBAAgBC,MAAM,CAAEoN,OAA+B,QAAvB7N,EAAI6T,gBAA2BlT,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI8T,aAAa,MAAM,IAAI,CAAC9T,EAAIe,GAAG,SAASb,EAAG,KAAK,CAACM,YAAY,gBAAgBC,MAAM,CAAEoN,OAA+B,QAAvB7N,EAAI6T,gBAA2BlT,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI8T,aAAa,MAAM,IAAI,CAAC9T,EAAIe,GAAG,WAAWf,EAAIM,OAAOJ,EAAG,SAAS,CAACM,YAAY,MAAMG,GAAG,CAAC,MAAQX,EAAI+T,eAAe,CAAC/T,EAAIe,GAAG,UAAUb,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAIgU,mBAAmB,CAAChU,EAAIe,GAAG,cAAcb,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAAER,EAAa,UAAEE,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoBN,EAAG,IAAI,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAG,mBAA4C,IAAxBf,EAAI+S,SAASzO,OAAcpE,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,MAAM,OAAS,MAAM,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,qCAAqC,OAAS,OAAO,eAAe,MAAM,iBAAiB,QAAQ,kBAAkB,aAAaF,EAAG,KAAK,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,YAAYb,EAAG,IAAI,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,4BAA4Bb,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAIgU,mBAAmB,CAAChU,EAAIe,GAAG,YAAYb,EAAG,MAAM,CAACM,YAAY,QAAQR,EAAIuN,GAAIvN,EAAqB,kBAAE,SAAS9E,EAAQyT,GAAO,OAAOzO,EAAG,MAAM,CAACyD,IAAIzI,EAAQgL,GAAG1F,YAAY,OAAOG,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIiU,kBAAkB/Y,EAAQ,IAAI,CAACgF,EAAG,MAAM,CAACM,YAAY,aAAaC,MAAM,aAAavF,EAAQgL,GAAK,EAAK,IAAK,CAAEhL,EAAa,MAAEgF,EAAG,MAAM,CAACM,YAAY,gBAAgBJ,MAAM,CAAC,IAAMlF,EAAQgZ,MAAM,IAAMhZ,EAAQqR,OAAO5L,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAImU,iBAAiB9M,EAAQnM,EAAQ,KAAKgF,EAAG,OAAO,CAACM,YAAY,oBAAoB,CAACR,EAAIe,GAAGf,EAAIgB,GAAG9F,EAAQqR,YAAYrM,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,KAAK,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAG9F,EAAQqR,UAAUrM,EAAG,MAAM,CAACM,YAAY,eAAe,CAAyB,WAAvBtF,EAAQkZ,WAAyBlU,EAAG,OAAO,CAACM,YAAY,qCAAqCJ,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,+CAA+C,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,KAAK,EAAI,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeJ,EAAIM,KAAKJ,EAAG,OAAO,CAACM,YAAY,eAAeC,MAAMT,EAAIqU,YAAYnZ,EAAQkC,SAAS,CAAC4C,EAAIe,GAAGf,EAAIgB,GAAG9F,EAAQkC,eAAe8C,EAAG,KAAK,CAACM,YAAY,aAAa,CAACN,EAAG,KAAK,CAACA,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAG9F,EAAQoZ,aAAe,aAAapU,EAAG,KAAK,CAACA,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIuU,YAAYrZ,IAAU,SAAUA,EAAQsZ,WAAatZ,EAAQuZ,QAASvU,EAAG,KAAK,CAACA,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI0U,gBAAgBxZ,EAAQsZ,UAAWtZ,EAAQuZ,eAAezU,EAAIM,KAAMpF,EAAQyZ,MAAQzZ,EAAQyZ,KAAKrQ,OAAS,EAAGpE,EAAG,KAAK,CAACA,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,SAASb,EAAG,OAAO,CAACM,YAAY,cAAcR,EAAIuN,GAAIrS,EAAY,KAAE,SAAS0Z,EAAIjG,GAAO,OAAOzO,EAAG,OAAO,CAACyD,IAAIgL,EAAMnO,YAAY,YAAY,CAACR,EAAIe,GAAG,IAAIf,EAAIgB,GAAG4T,GAAK5U,EAAIgB,GAAG2N,EAAQzT,EAAQyZ,KAAKrQ,OAAS,EAAI,IAAM,IAAI,MAAM,GAAG,KAAKtE,EAAIM,UAAU,GAAG,GAAGJ,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,SAAS,CAACM,YAAY,QAAQJ,MAAM,CAAC,SAA+B,IAApBJ,EAAI6U,aAAmBlU,GAAG,CAAC,MAAQX,EAAI8U,SAAS,CAAC9U,EAAIe,GAAG,OAAOf,EAAIuN,GAAIvN,EAAc,WAAE,SAAS+U,GAAG,OAAO7U,EAAG,SAAS,CAACyD,IAAIoR,EAAEvU,YAAY,WAAWC,MAAM,CAAEoN,OAAQkH,IAAM/U,EAAI6U,aAAclU,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIgV,OAAOD,EAAE,IAAI,CAAC/U,EAAIe,GAAGf,EAAIgB,GAAG+T,KAAK,GAAG7U,EAAG,SAAS,CAACM,YAAY,QAAQJ,MAAM,CAAC,SAAWJ,EAAI6U,cAAgB7U,EAAIiV,YAAYtU,GAAG,CAAC,MAAQX,EAAIkV,SAAS,CAAClV,EAAIe,GAAG,QAAQ,OAAQf,EAAa,UAAEE,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAI0L,aAAa,CAACxL,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACF,EAAIe,GAAG,UAAUb,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAI0L,aAAa,CAACxL,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,IAAI,CAACF,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI4L,mBAAmB1L,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,SAAS,CAACM,YAAY,6BAA6BG,GAAG,CAAC,MAAQX,EAAI0L,aAAa,CAAC1L,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,8BAA8BG,GAAG,CAAC,MAAQX,EAAIqB,YAAY,CAACrB,EAAIe,GAAG,eAAef,EAAIM,KAAMN,EAAa,UAAEE,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAIuB,cAAc,OAAOvB,EAAIM,MAAM,EAC3yO,EACI,GAAkB,GC2JtB,IACEhF,KAAM,gBACNwL,WAAY,CACV4J,QAAO,IAET,IAAAhU,GACE,MAAO,CACLqQ,aAAa,EACb4G,WAAY,GACZE,eAAgB,GAChBsB,YAAY,EACZN,YAAa,EACbO,SAAU,EACVrC,SAAU,GACVhH,WAAW,EACXH,aAAc,GACdyJ,WAAW,EACX1Q,WAAW,EACXpD,aAAc,GAElB,EACAyF,SAAU,CACR,UAAAsO,GACE,MAAMC,EAAM,IAAIC,IAAIvV,KAAK8S,SAASI,IAAI4B,GAAKA,EAAEU,WAC7C,OAAOxN,MAAM4K,KAAK0C,EACpB,EACA,gBAAAG,GACE,MAAMC,EAAO1V,KAAK0T,WAAWiC,OAAOC,cACpC,OAAO5V,KAAK8S,SAASvC,OAAOuE,IAC1B,MAAMe,GAAYH,GAAOZ,EAAExI,MAAMsJ,cAAcnU,SAASiU,GAClDI,GAAc9V,KAAK4T,gBAAiBkB,EAAE3X,SAAW6C,KAAK4T,eAEtDmC,EAA4B,WAAjBjB,EAAEX,WACnB,OAAO0B,GAAaC,GAAeC,GAEvC,EACA,UAAAf,GACE,OAAOlD,KAAKkE,IAAI,EAAGlE,KAAKmE,KAAKjW,KAAKyV,iBAAiBpR,OAASrE,KAAKmV,UACnE,EACA,iBAAAe,GACE,MAAMC,GAASnW,KAAK4U,YAAc,GAAK5U,KAAKmV,SACtChR,EAASnE,KAAKyV,iBAAiB9M,MAAMwN,EAAOA,EAAQnW,KAAKmV,UAE/D,OADA7Y,QAAQC,IAAI,OAAQyD,KAAK4U,YAAa,QAAS5U,KAAKmV,SAAU,UAAWnV,KAAKyV,iBAAiBpR,OAAQ,UAAWF,EAAOE,QAClHF,CACT,GAEF,OAAAQ,GAEE3E,KAAKoW,sBAGL,MAAMC,EAAgBna,aAAaC,QAAQ,mCACrB,SAAlBka,GACFrW,KAAKsW,oBACLpa,aAAakB,WAAW,qCAGxB4C,KAAK4U,YAAc,EACnB1Y,aAAakB,WAAW,uBAG1B4C,KAAKuW,eACL1R,SAASC,iBAAiB,QAAS9E,KAAK+E,mBAC1C,EACA,SAAAyR,GAGEla,QAAQC,IAAI,kBAGZ,MAAM8Z,EAAgBna,aAAaC,QAAQ,mCACrB,SAAlBka,GACFrW,KAAKsW,oBACLpa,aAAakB,WAAW,qCAGxB4C,KAAK4U,YAAc,EACnB1Y,aAAakB,WAAW,uBAG1B4C,KAAKuW,cACP,EACA,aAAAhR,GACEV,SAASW,oBAAoB,QAASxF,KAAK+E,mBAC7C,EACAY,QAAS,CAKP,mBAAAyQ,GACE,IACE,MAAMK,EAAgBva,aAAaC,QAAQ,YAC3C,IAAKsa,EAAe,OAEpB,MAAM3D,EAAW9Q,KAAKC,MAAMwU,GAC5B,IAAIC,GAAe,EAGnB,MAAMC,EAAe7D,EAAS8D,KAAK9B,IACjC,MAAMhY,EAAMgY,EAAEb,OAASa,EAAEvV,SACzB,OAAOzC,IAAQA,EAAI2E,SAAS,mBAAqB3E,EAAI2E,SAAS,gBAGhE,GAAIkV,EAAc,CAChBra,QAAQC,IAAI,0BAGZ,MAAMsa,EAAkB/D,EAASI,IAAIjY,IACnC,IAAIsE,EAAWtE,EAAQsE,UAAYtE,EAAQgZ,MAQ3C,OANI1U,GAAYA,EAASkC,SAAS,eAChCnF,QAAQC,IAAI,QAAQtB,EAAQgL,OAAOhL,EAAQI,MAAQJ,EAAQqR,kBAAmB/M,GAC9EA,EAAW,KACXmX,GAAe,GAGV,IACFzb,EACHgZ,MAAO1U,EACPA,SAAUA,KAIVmX,IACFxa,aAAa+G,QAAQ,WAAYjB,KAAKmB,UAAU0T,IAChDva,QAAQC,IAAI,uBAEhB,CACF,CAAE,MAAOQ,GACPT,QAAQS,MAAM,WAAYA,EAE5B,CACF,EAEA,aAAAiQ,GACEhN,KAAK8M,aAAe9M,KAAK8M,WAC3B,EACA,YAAAC,GACE/M,KAAK8M,aAAc,CACrB,EACA,QAAA2G,GACEzT,KAAKwG,QAAQC,KAAK,QACpB,EACA,kBAAA1B,CAAmBgB,GACZA,EAAMK,OAAOC,QAAQ,eACxBrG,KAAKkV,YAAa,EAEtB,EACA,kBAAMqB,GACJvW,KAAKoV,WAAY,EAEjB,IACE9Y,QAAQC,IAAI,4BAGZ,MAAM,WAAEmB,SAAqB,sCAE7BpB,QAAQC,IAAI,sBACZ,MAAMW,QAAiBQ,EAAWgB,wBAAwB,EAAG,KAM7D,GAJApC,QAAQC,IAAI,SAAUW,GACtBZ,QAAQC,IAAI,UAAWW,GAAUoM,MACjChN,QAAQC,IAAI,mBAAoBW,GAAUT,MAEtCS,GAA8B,MAAlBA,EAASoM,KAAc,CACrChN,QAAQC,IAAI,cAGZ,IAAIua,EAAkB,GAClB5Z,EAAST,MAAQS,EAAST,KAAKsW,SAEjC+D,EAAkB5Z,EAAST,KAAKsW,QAChCzW,QAAQC,IAAI,oBAAqBua,EAAgBzS,SACxC2D,MAAMC,QAAQ/K,EAAST,OAEhCqa,EAAkB5Z,EAAST,KAC3BH,QAAQC,IAAI,eAAgBua,EAAgBzS,UAE5C/H,QAAQE,KAAK,WAAYU,EAAST,MAClCqa,EAAkB,IAIpB,MAAML,EAAgBva,aAAaC,QAAQ,YACrC4a,EAAgBN,EAAgBzU,KAAKC,MAAMwU,GAAiB,GAGlEzW,KAAK8S,SAAWgE,EACb5D,IAAIjY,IAEH,MAAM+b,EAAeD,EAAcE,KAAKnC,GAAK5O,OAAO4O,EAAE7O,MAAQC,OAAOjL,EAAQgL,KAG7E,IAAI1G,EAAWtE,EAAQsE,UAAayX,GAAgBA,EAAazX,UAAa,KA6B9E,OA1BAA,EAAWgC,EAAyBhC,GAEpCjD,QAAQC,IAAI,MAAMtB,EAAQgL,cAAe,CACvCiR,QAASjc,EAAQsE,SACjB4X,MAAOH,GAAczX,SACrBkD,WAAYlD,IAIdjD,QAAQC,IAAI,YAAatB,EAAQgL,GAAI,CACnCmR,YAAanc,EAAQmc,YACrBC,gBAAiBpc,EAAQoc,gBACzBC,aAAcrc,EAAQqc,aACtBC,iBAAkBtc,EAAQsc,iBAC1BC,kBAAmBvc,EAAQuc,kBAC3BC,UAAWxc,EAAQwc,UACnBC,WAAYzc,EAAQyc,WACpBC,WAAY1c,EAAQ0c,WACpBC,YAAa3c,EAAQ2c,YACrBC,UAAW5c,EAAQ4c,UACnBC,WAAY7c,EAAQ6c,WACpBC,SAAU9c,EAAQ8c,SAClBC,eAAgBhQ,MAAMC,QAAQhN,EAAQgd,aAAehd,EAAQgd,YAAY5T,YAAS1H,EAClFub,WAAYlQ,MAAMC,QAAQhN,EAAQkd,SAAWld,EAAQkd,QAAQ9T,YAAS1H,IAGjE,CACLsJ,GAAIhL,EAAQgL,GACZ5K,KAAMJ,EAAQI,KACdiR,MAAOrR,EAAQI,KACfmS,YAAavS,EAAQuS,aAAe,OACpCrQ,OAAQ6C,KAAKoY,iBAAiBnd,EAAQkC,QACtCgX,WAAYlZ,EAAQkZ,WAEpB4D,SAAU/X,KAAKqY,sBAAsBpd,IAAY,EACjDqd,WAAYrd,EAAQuS,aAAe,OACnC+K,UAAWtd,EAAQuS,aAAe,OAClCgL,OAAQ,KACRhD,SAAUva,EAAQua,UAAY,KAC9Bd,KAAMzZ,EAAQyZ,MAAQ,GACtBT,MAAO1U,EACPA,SAAUA,EACVgV,UAAWtZ,EAAQsZ,UACnBC,QAASvZ,EAAQuZ,QACjBiE,WAAYxd,EAAQsZ,UACpBmE,SAAUzd,EAAQuZ,QAClBmE,WAAY1d,EAAQ2d,UACpBA,UAAW3d,EAAQ2d,UACnBvE,YAAapZ,EAAQoZ,aAAe,OACpCwE,UAAW5d,EAAQ4d,UACnBC,UAAW7d,EAAQ6d,UAEnBC,MAAO/B,GAAc+B,OAAS,GAE9Bd,YACEhd,EAAQgd,aACRhd,EAAQkd,SACRld,EAAQ+d,cACR/d,EAAQge,OACRhe,EAAQie,UACRlC,GAAciB,aACd,GAEFkB,YAAanC,GAAcmC,aAAe,MAG7C5I,OAAOtV,GAEqB,WAAvBA,EAAQkZ,aACV7X,QAAQE,KAAK,YAAavB,EAAQgL,GAAIhL,EAAQI,KAAM,OAAQJ,EAAQkZ,aAC7D,IAKb7X,QAAQC,IAAI,YAAayD,KAAK8S,SAASzO,QACnCrE,KAAK8S,SAASzO,OAAS,IACzB/H,QAAQC,IAAI,UAAWyD,KAAK8S,SAAS,IACrCxW,QAAQC,IAAI,WAAYyD,KAAK8S,SAASI,IAAI4B,IAAK,CAAG7O,GAAI6O,EAAE7O,GAAI5K,KAAMyZ,EAAEzZ,KAAM8B,OAAQ2X,EAAE3X,OAAQgX,WAAYW,EAAEX,WAAY5U,SAAUuV,EAAEvV,cAIpIjD,QAAQC,IAAI,sBACZ,MAAM6c,EAAsBpZ,KAAK8S,SAASI,IAAImG,MAAOpe,IACnD,IACE,MAAMqe,QAAuB5b,EAAWkC,kBAAkB3E,EAAQgL,GAAI,EAAG,KACzE,IAAImR,EAAc,EAEdkC,GAA0C,MAAxBA,EAAehQ,OAC/BgQ,EAAe7c,MAAQ6c,EAAe7c,KAAKsW,SAE7CqE,EAAckC,EAAe7c,KAAKsW,QAAQ1O,OAC1CrE,KAAKmG,KAAKlL,EAAS,cAAeqe,EAAe7c,KAAKsW,UAC7C/K,MAAMC,QAAQqR,EAAe7c,QAEtC2a,EAAckC,EAAe7c,KAAK4H,OAClCrE,KAAKmG,KAAKlL,EAAS,cAAeqe,EAAe7c,QAKrD,MAAM8c,EAAanC,EAAc,EAAIA,EAAc,EACnDpX,KAAKmG,KAAKlL,EAAS,cAAese,GAGlC,IACErd,aAAa+G,QAAQ,wBAAwBhI,EAAQgL,KAAMC,OAAOqT,IAClEjd,QAAQC,IAAI,WAAWtB,EAAQgL,YAAasT,EAAY,QAC1D,CAAE,MAAOjX,GACPhG,QAAQE,KAAK,QAAQvB,EAAQgL,eAAgB3D,EAC/C,CAGA,OADAhG,QAAQC,IAAI,MAAMtB,EAAQgL,OAAOhL,EAAQI,cAAeke,GACjD,CAAExb,UAAW9C,EAAQgL,GAAImR,YAAamC,EAC/C,CAAE,MAAOxc,GACPT,QAAQE,KAAK,QAAQvB,EAAQgL,aAAclJ,GAE3C,IACE,MAAMyc,EAAStd,aAAaC,QAAQ,wBAAwBlB,EAAQgL,MAC9DwT,EAAYD,EAASE,SAASF,EAAQ,IAAMG,IAClD,IAAKC,MAAMH,IAAcA,EAAY,EAEnC,OADAzZ,KAAKmG,KAAKlL,EAAS,cAAewe,GAC3B,CAAE1b,UAAW9C,EAAQgL,GAAImR,YAAaqC,EAEjD,CAAE,MAAOnX,GACPhG,QAAQE,KAAK,UAAW8F,EAC1B,CAGA,OADAtC,KAAKmG,KAAKlL,EAAS,cAAe,GAC3B,CAAE8C,UAAW9C,EAAQgL,GAAImR,YAAa,EAC/C,IAIIyC,QAA2B7c,QAAQ8c,IAAIV,GAC7C9c,QAAQC,IAAI,iBAAkBsd,GAG9B7Z,KAAK+Z,eACLzd,QAAQC,IAAI,yBAIZL,aAAa+G,QAAQ,WAAYjB,KAAKmB,UAAUnD,KAAK8S,WAErDxW,QAAQC,IAAI,mBAAoByD,KAAK8S,SAASzO,OAAQ,eACxD,MACE/H,QAAQS,MAAM,iBAAkBG,GAAUoM,KAAM,OAAQpM,GAAU0G,KAElE5D,KAAKga,8BAET,CAAE,MAAOjd,GACPT,QAAQS,MAAM,wBACdT,QAAQS,MAAM,QAASA,EAAMkd,YAAY5e,MACzCiB,QAAQS,MAAM,QAASA,EAAMU,SAC7BnB,QAAQS,MAAM,QAASA,GAGvBiD,KAAKga,8BACP,CAAE,QACAha,KAAKoV,WAAY,CACnB,CACF,EAEA,4BAAA4E,GACE1d,QAAQC,IAAI,0BACZ,MAAMka,EAAgBva,aAAaC,QAAQ,YAC3C,GAAIsa,EAAe,CACjB,MAAMyD,EAAclY,KAAKC,MAAMwU,GAE/BzW,KAAK8S,SAAWoH,EAAY3J,OAAOtV,GACN,WAAvBA,EAAQkZ,aACV7X,QAAQE,KAAK,yBAA0BvB,EAAQgL,GAAIhL,EAAQI,MAAQJ,EAAQqR,MAAO,OAAQrR,EAAQkZ,aAC3F,IAGRjB,IAAIjY,IAEL,MAAMkf,EAAqB5Y,EAAyBtG,EAAQgZ,OAAShZ,EAAQsE,UAE7E,MAAO,IACFtE,EACHkC,OAAQ6C,KAAKoY,iBAAiBnd,EAAQkC,QACtC8W,MAAOkG,EACP5a,SAAU4a,KAGd7d,QAAQC,IAAI,wBAAyB2d,EAAY7V,OAAQ,WAAYrE,KAAK8S,SAASzO,QACnF/H,QAAQC,IAAI,wBAAyB2d,EAAYhH,IAAI4B,IAAK,CAAG7O,GAAI6O,EAAE7O,GAAIqG,MAAOwI,EAAExI,OAASwI,EAAEzZ,KAAM8B,OAAQ2X,EAAE3X,OAAQgX,WAAYW,EAAEX,cACnI,MACE7X,QAAQC,IAAI,6BACZyD,KAAK8S,SAAW,EAEpB,EAEA,gBAAAsF,CAAiBjb,GAEf,MAAMqW,EAAY,CAChB,SAAY,MACZ,QAAW,MACX,UAAa,MACb,SAAY,MAEZ,YAAe,MACf,OAAU,MACV,UAAa,MACb,KAAQ,MACR,OAAU,OAEZ,OAAOA,EAAUrW,IAAWA,GAAU,KACxC,EAEA,qBAAAkb,CAAsBpd,GACpB,MAAMmf,EAAa,CACjB,cAAe,kBAAmB,eAClC,mBAAoB,oBACpB,YAAa,aACb,aAAc,cACd,YAAa,aACb,YAEF,IAAK,MAAM1W,KAAO0W,EAChB,GAAInf,QAA4B0B,IAAjB1B,EAAQyI,IAAuC,OAAjBzI,EAAQyI,GAAe,CAClE,MAAM2W,EAA4B,kBAAjBpf,EAAQyI,GAAoBgW,SAASze,EAAQyI,GAAM,IAAMzI,EAAQyI,GAClF,IAAKkW,MAAMS,IAAMA,EAAI,EAAG,OAAOA,CACjC,CAGJ,EACA,WAAAjG,CAAYjX,GACV,MAAe,QAAXA,EAAyB,UACd,QAAXA,EAAyB,OACtB,QACT,EACA,WAAAmX,CAAYrZ,GAGV,IACE,MAAMue,EAAStd,aAAaC,QAAQ,wBAAwBlB,EAAQgL,MAC9DwT,EAAYD,EAASE,SAASF,EAAQ,IAAMG,IAClD,IAAKC,MAAMH,IAAcA,EAAY,EAKnC,OAHIxe,EAAQmc,cAAgBqC,GAC1BzZ,KAAKmG,KAAKlL,EAAS,cAAewe,GAE7BA,CAEX,CAAE,MAAOnX,GACPhG,QAAQE,KAAK,UAAW8F,EAC1B,CAIA,QAA4B3F,IAAxB1B,EAAQmc,aAAqD,OAAxBnc,EAAQmc,YAAsB,CACrE,MAAMkD,EAAqC,kBAAxBrf,EAAQmc,YAA2Bnc,EAAQmc,YAAcsC,SAASze,EAAQmc,YAAa,IAC1G,IAAKwC,MAAMU,IAAQA,EAAM,EACvB,OAAOA,CAEX,CAGA,MAAMC,EACJtf,EAAQoc,iBACRpc,EAAQqc,cACRrc,EAAQsc,kBACRtc,EAAQuc,mBACRvc,EAAQwc,WACRxc,EAAQyc,YACRzc,EAAQ8c,SAEV,GAAuB,kBAAZwC,IAAyBX,MAAMW,IAAYA,EAAU,EAC9D,OAAOA,EAIT,GAAIvS,MAAMC,QAAQhN,EAAQgd,cAAgBhd,EAAQgd,YAAY5T,OAAS,EACrE,OAAOpJ,EAAQgd,YAAY5T,OAE7B,GAAI2D,MAAMC,QAAQhN,EAAQkd,UAAYld,EAAQkd,QAAQ9T,OAAS,EAC7D,OAAOpJ,EAAQkd,QAAQ9T,OAEzB,GAAI2D,MAAMC,QAAQhN,EAAQ+d,eAAiB/d,EAAQ+d,aAAa3U,OAAS,EACvE,OAAOpJ,EAAQ+d,aAAa3U,OAE9B,GAAI2D,MAAMC,QAAQhN,EAAQge,QAAUhe,EAAQge,MAAM5U,OAAS,EACzD,OAAOpJ,EAAQge,MAAM5U,OAEvB,GAAI2D,MAAMC,QAAQhN,EAAQie,WAAaje,EAAQie,SAAS7U,OAAS,EAC/D,OAAOpJ,EAAQie,SAAS7U,OAI1B,IACE,MAAMmV,EAAStd,aAAaC,QAAQ,wBAAwBlB,EAAQgL,MAC9DwT,EAAYD,EAASE,SAASF,EAAQ,IAAMG,IAClD,IAAKC,MAAMH,IAAcA,EAAY,EAAG,OAAOA,CACjD,CAAE,MAAOnX,GAAI,CAGb,OAAO,CACT,EACA,eAAAmS,CAAgBF,EAAWC,GACzB,IAAKD,IAAcC,EAAS,MAAO,GAEnC,MAAM2B,EAAQ,IAAIhH,KAAKoF,GACjBiG,EAAM,IAAIrL,KAAKqF,GAEfiG,EAAc3L,IAClB,MAAMM,EAAON,EAAKO,cACZC,EAAQpJ,OAAO4I,EAAKS,WAAa,GAAGmL,SAAS,EAAG,KAChDjM,EAAMvI,OAAO4I,EAAKiB,WAAW2K,SAAS,EAAG,KAC/C,MAAO,GAAGtL,KAAQE,KAASb,KAG7B,MAAO,GAAGgM,EAAWtE,QAAYsE,EAAWD,IAC9C,EACA,oBAAA7G,GACE3T,KAAKkV,YAAclV,KAAKkV,UAC1B,EACA,YAAArB,CAAa8G,GACX3a,KAAK4T,eAAiB+G,EACtB3a,KAAKkV,YAAa,EAClBlV,KAAK4U,YAAc,EAEnB1Y,aAAakB,WAAW,qBAC1B,EACA,YAAA0W,GACE9T,KAAK0T,WAAa,GAClB1T,KAAK4T,eAAiB,GACtB5T,KAAK4U,YAAc,EAEnB1Y,aAAakB,WAAW,qBAC1B,EAKA,gBAAA8W,CAAiBnO,EAAO9K,GACtBqB,QAAQE,KAAK,aAAavB,EAAQqR,cAAerR,EAAQgZ,OAEzDlO,EAAMK,OAAOiM,MAAMuI,QAAU,OAE7B5a,KAAKmG,KAAKlL,EAAS,QAAS,KAC9B,EACA,gBAAA8Y,GAEE,MAAM9X,EAAQC,aAAaC,QAAQ,gBAC7BqG,EAAWtG,aAAaC,QAAQ,aAChC+R,KAAqBjS,IAASuG,GAEhC0L,EACFlO,KAAKwG,QAAQC,KAAK,CAAEF,KAAM,kBAAmBoM,MAAO,CAAEC,KAAM,oBAE5D5S,KAAKmO,eAAe,aAExB,EACA,MAAA0G,GACM7U,KAAK4U,YAAc,IACrB5U,KAAK4U,cACL5U,KAAK6a,iBAET,EACA,MAAA5F,GACMjV,KAAK4U,YAAc5U,KAAKgV,aAC1BhV,KAAK4U,cACL5U,KAAK6a,iBAET,EACA,MAAA9F,CAAOD,GACL9U,KAAK4U,YAAcE,EACnB9U,KAAK6a,gBACP,EACA,iBAAA7G,CAAkB/Y,GAEhB,MAAMgB,EAAQC,aAAaC,QAAQ,gBAC7BqG,EAAWtG,aAAaC,QAAQ,aAChC+R,KAAqBjS,IAASuG,GAEhC0L,GAEFlO,KAAK6a,iBAGL3e,aAAa+G,QAAQ,kCAAmC,QAGxDjD,KAAKwG,QAAQC,KAAK,mBAAmBxL,EAAQgL,OAG7CjG,KAAKmO,eAAe,eAExB,EACA,cAAA0M,GAEE,IACE3e,aAAa+G,QAAQ,qBAAsBiD,OAAOlG,KAAK4U,cACvDtY,QAAQC,IAAI,QAASyD,KAAK4U,YAC5B,CAAE,MAAO7X,GACPT,QAAQS,MAAM,UAAWA,EAC3B,CACF,EACA,iBAAAuZ,GAEE,IACE,MAAMwE,EAAY5e,aAAaC,QAAQ,sBACvC,GAAI2e,EAAW,CACb,MAAMC,EAAUrB,SAASoB,EAAW,KAC/BlB,MAAMmB,IAAYA,EAAU,IAC/B/a,KAAK4U,YAAcmG,EACnBze,QAAQC,IAAI,QAASyD,KAAK4U,aAE9B,CACF,CAAE,MAAO7X,GACPT,QAAQS,MAAM,UAAWA,EAC3B,CACF,EACA,cAAAoR,CAAe1Q,GACbuC,KAAK2L,aAAelO,EACpBuC,KAAK8L,WAAY,CACnB,EACA,UAAAL,GACEzL,KAAK8L,WAAY,EACjB9L,KAAK2L,aAAe,EACtB,EACA,SAAAvK,GACEpB,KAAKwG,QAAQC,KAAK,SACpB,EACA,gBAAAC,CAAiBjJ,GACfuC,KAAKsB,aAAe7D,EACpBuC,KAAK0E,WAAY,EAGjBiC,WAAW,KACT3G,KAAK0E,WAAY,EACjB1E,KAAKsB,aAAe,IACnB,IACL,ICtxBqI,MCQrI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIF,GAAe,G,QCnBX,GAAS,WAAkB,IAAIvB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,4BAA4B,CAACN,EAAG,UAAU,CAACE,MAAM,CAAC,OAASJ,EAAI+M,aAAapM,GAAG,CAAC,MAAQX,EAAIgN,gBAAgB9M,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,SAAS,CAACM,YAAY,WAAWJ,MAAM,CAAC,aAAa,gBAAgBO,GAAG,CAAC,MAAQX,EAAIiN,gBAAgB,CAAC/M,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,0BAA0B,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,SAAS,CAACM,YAAY,WAAWJ,MAAM,CAAC,MAAyB,SAAjBJ,EAAIib,SAAsB,OAAS,UAAUta,GAAG,CAAC,MAAQX,EAAIkb,SAAS,CAAChb,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,2BAA2B,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,YAAYb,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,eAAe,CAAER,EAAc,WAAEE,EAAG,MAAM,CAACE,MAAM,CAAC,IAAMJ,EAAIiK,WAAW,IAAM,UAAU/J,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uKAAuK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,IAAI,EAAI,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,uBAAuBF,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,KAAK,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,YAAYb,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIX,SAAoB,YAAEyI,WAAW,yBAAyBtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIX,SAAoB,aAAGsB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIX,SAAU,cAAegI,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,WAAW,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIX,SAA2B,mBAAEyI,WAAW,gCAAgCtH,YAAY,gBAAgBJ,MAAM,CAAC,YAAc,mBAAmB,KAAO,KAAK2H,SAAS,CAAC,MAAS/H,EAAIX,SAA2B,oBAAGsB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIX,SAAU,qBAAsBgI,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,0BAA0B,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoBC,MAAM,CAAE,YAAaT,EAAImb,cAAexa,GAAG,CAAC,MAAQX,EAAIob,qBAAqB,CAAGpb,EAAImb,aAAs1Bjb,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,IAAMJ,EAAImb,aAAa,IAAM,YAAYjb,EAAG,SAAS,CAACM,YAAY,eAAeJ,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQ,SAAS0G,GAAiC,OAAzBA,EAAOsE,kBAAyB3L,EAAIqb,YAAY7T,MAAM,KAAMC,UAAU,IAAI,CAACvH,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAA50CF,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uKAAuK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,iBAAiB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,WAAW,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaF,EAAG,IAAI,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,cAAcb,EAAG,IAAI,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,uBAA4iBb,EAAG,QAAQ,CAACob,IAAI,aAAaC,YAAY,CAAC,QAAU,QAAQnb,MAAM,CAAC,KAAO,OAAO,OAAS,UAAU,GAAK,cAAcO,GAAG,CAAC,OAASX,EAAIwb,yBAAyBtb,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoBC,MAAM,CAAE,OAAsC,WAA5BT,EAAIX,SAAS+U,YAA0BzT,GAAG,CAAC,MAAQ,SAAS0G,GAAQrH,EAAIX,SAAS+U,WAAa,QAAQ,IAAI,CAAClU,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,+CAA+C,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,KAAK,EAAI,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeJ,EAAIoH,GAAG,KAAKlH,EAAG,MAAM,CAACM,YAAY,oBAAoBC,MAAM,CAAE,OAAsC,YAA5BT,EAAIX,SAAS+U,YAA2BzT,GAAG,CAAC,MAAQ,SAAS0G,GAAQrH,EAAIX,SAAS+U,WAAa,SAAS,IAAI,CAAClU,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,IAAI,EAAI,KAAK,MAAQ,KAAK,OAAS,KAAK,GAAK,IAAI,GAAK,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,yBAAyB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeJ,EAAIoH,GAAG,SAASlH,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIX,SAAkB,UAAEyI,WAAW,uBAAuBtH,YAAY,wBAAwBJ,MAAM,CAAC,KAAO,QAAQ2H,SAAS,CAAC,MAAS/H,EAAIX,SAAkB,WAAGsB,GAAG,CAAC,OAASX,EAAIyb,kBAAkB,MAAQ,SAASpU,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIX,SAAU,YAAagI,EAAOhB,OAAOuB,MAAM,KAAK1H,EAAG,OAAO,CAACM,YAAY,kBAAkB,CAACR,EAAIe,GAAG,OAAOb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIX,SAAgB,QAAEyI,WAAW,qBAAqBtH,YAAY,wBAAwBJ,MAAM,CAAC,KAAO,OAAO,IAAMJ,EAAImQ,OAAOpI,SAAS,CAAC,MAAS/H,EAAIX,SAAgB,SAAGsB,GAAG,CAAC,OAASX,EAAI0b,gBAAgB,MAAQ,SAASrU,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIX,SAAU,UAAWgI,EAAOhB,OAAOuB,MAAM,OAAQ5H,EAAa,UAAEE,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI2b,cAAc3b,EAAIM,OAAOJ,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAU,OAAE8H,WAAW,WAAWtH,YAAY,uBAAuBJ,MAAM,CAAC,KAAO,OAAO,YAAc,kBAAkB2H,SAAS,CAAC,MAAS/H,EAAU,QAAGW,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAIA,EAAO7C,KAAKoX,QAAQ,QAAQ5b,EAAI6b,GAAGxU,EAAOyU,QAAQ,QAAQ,GAAGzU,EAAO1D,IAAI,SAAgB,KAAY3D,EAAI+b,OAAOvU,MAAM,KAAMC,UAAU,EAAE,MAAQ,SAASJ,GAAWA,EAAOhB,OAAO2B,YAAiBhI,EAAIgc,OAAO3U,EAAOhB,OAAOuB,MAAK,KAAK1H,EAAG,SAAS,CAACM,YAAY,cAAcJ,MAAM,CAAC,KAAO,UAAUO,GAAG,CAAC,MAAQX,EAAI+b,SAAS,CAAC7b,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,mBAAmB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAkBJ,EAAIX,SAASsV,KAAKrQ,OAAS,EAAGpE,EAAG,MAAM,CAACM,YAAY,gBAAgBR,EAAIuN,GAAIvN,EAAIX,SAAa,KAAE,SAASuV,EAAIjG,GAAO,OAAOzO,EAAG,OAAO,CAACyD,IAAIgL,EAAMnO,YAAY,OAAO,CAACR,EAAIe,GAAG,IAAIf,EAAIgB,GAAG4T,GAAK,KAAK1U,EAAG,SAAS,CAACM,YAAY,aAAaG,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIic,UAAUtN,EAAM,IAAI,CAAC3O,EAAIe,GAAG,QAAQ,GAAG,GAAGf,EAAIM,WAAWJ,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,KAAK,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,QAAQ,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIX,SAASgU,aAAe,aAAanT,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,QAAQ,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIX,SAAS6c,oBAAsB,kBAAkBhc,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,QAAQ,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,WAAWb,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAA8B,WAA5BR,EAAIX,SAAS+U,WAAyBlU,EAAG,OAAO,CAACM,YAAY,sCAAsC,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,+CAA+C,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,KAAK,EAAI,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaJ,EAAIe,GAAG,UAAUb,EAAG,OAAO,CAACM,YAAY,uCAAuC,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,IAAI,EAAI,KAAK,MAAQ,KAAK,OAAS,KAAK,GAAK,IAAI,GAAK,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,yBAAyB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaJ,EAAIe,GAAG,cAAcb,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,QAAQ,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,WAAWb,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAA+B,IAA7BR,EAAIX,SAASsV,KAAKrQ,OAAcpE,EAAG,OAAO,CAACM,YAAY,uBAAuB,CAACR,EAAIe,GAAG,aAAaf,EAAIuN,GAAIvN,EAAIX,SAAa,KAAE,SAASuV,EAAIjG,GAAO,OAAOzO,EAAG,OAAO,CAACyD,IAAIgL,EAAMnO,YAAY,eAAe,CAACR,EAAIe,GAAGf,EAAIgB,GAAG4T,KAAO,IAAI,KAAK1U,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,QAAQ,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAAER,EAAImc,mBAAoBjc,EAAG,MAAM,CAACF,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAImc,uBAAwBnc,EAAa,UAAEE,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI2b,cAAczb,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACR,EAAIe,GAAG,yBAAyBb,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,SAAS,CAACM,YAAY,oBAAoBJ,MAAM,CAAC,KAAO,UAAUO,GAAG,CAAC,MAAQX,EAAIoc,YAAY,CAACpc,EAAIe,GAAG,YAAYb,EAAG,SAAS,CAACM,YAAY,kBAAkBJ,MAAM,CAAC,KAAO,SAAS,SAAWJ,EAAIqc,cAAc1b,GAAG,CAAC,MAAQX,EAAIsc,iBAAiB,CAACtc,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAIqc,aAAe,SAAW,QAAQ,SAAUrc,EAAa,UAAEE,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAIuB,cAAc,OAAOvB,EAAIM,KAAMN,EAAa,UAAEE,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAI0L,aAAa,CAACxL,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACF,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAI0L,aAAa,CAAC1L,EAAIe,GAAG,SAASb,EAAG,MAAM,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI4L,cAAc,OAAO1L,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,SAAS,CAACM,YAAY,8BAA8BG,GAAG,CAAC,MAAQX,EAAI0L,aAAa,CAAC1L,EAAIe,GAAG,cAAcf,EAAIM,KAAMN,EAAiB,cAAEE,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAAC3L,EAAIoH,GAAG,GAAGlH,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,SAAS,CAACob,IAAI,aAAa9a,YAAY,gBAAgBN,EAAG,MAAM,CAACob,IAAI,cAAc9a,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACob,IAAI,gBAAgB9a,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,iCAAiCJ,MAAM,CAAC,cAAc,QAAQF,EAAG,MAAM,CAACM,YAAY,iCAAiCJ,MAAM,CAAC,cAAc,QAAQF,EAAG,MAAM,CAACM,YAAY,iCAAiCJ,MAAM,CAAC,cAAc,QAAQF,EAAG,MAAM,CAACM,YAAY,iCAAiCJ,MAAM,CAAC,cAAc,gBAAgBF,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,SAAS,CAACM,YAAY,aAAaG,GAAG,CAAC,MAAQX,EAAIuc,iBAAiB,CAACvc,EAAIe,GAAG,YAAYb,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAIwc,YAAY,CAACxc,EAAIe,GAAG,gBAAgBf,EAAIM,MAAM,EAC94Z,EACI,GAAkB,CAAC,WAAY,IAAIN,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAG,QAAQb,EAAG,MAAM,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,gBACnN,EAAE,WAAY,IAAIf,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAG,QAAQb,EAAG,MAAM,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,eAC9L,EAAE,WAAY,IAAIf,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,KAAK,CAACF,EAAIe,GAAG,YAAYb,EAAG,IAAI,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAG,8BACnK,GC4SA,IACEzF,KAAM,gBACNwL,WAAY,CACV4J,QAAO,IAET,IAAAhU,GACE,MAAO,CACLqQ,aAAa,EACbsP,cAAc,EACdpS,WAAY,KACZ+R,OAAQ,GACRf,SAAU,GACVE,aAAc,KACdQ,UAAW,GACXtc,SAAU,CACRgU,YAAa,GACb6I,mBAAoB,GACpB9H,WAAY,UACZI,UAAW,GACXC,QAAS,GACTE,KAAM,IAERhQ,WAAW,EACXpD,aAAc,GACdwK,WAAW,EACXH,aAAc,GACd6Q,eAAe,EACfC,cAAe,KACfC,kBAAmB,KACnBC,SAAU,CACRpL,EAAG,EACHG,EAAG,EACHD,MAAO,EACPG,OAAQ,GAGd,EACA7K,SAAU,CAER,KAAAmJ,GACE,MAAMA,EAAQ,IAAIf,KAClB,OAAOe,EAAM0M,cAAcC,MAAM,KAAK,EACxC,GAEF,OAAAlY,GACE3E,KAAKuK,iBACLvK,KAAK8c,gBACP,EACAnX,QAAS,CACP,aAAAqH,GACEhN,KAAK8M,aAAe9M,KAAK8M,WAC3B,EACA,YAAAC,GACE/M,KAAK8M,aAAc,CACrB,EACA,cAAAgQ,GAEE,MAAMC,EAAWlY,SAASkY,SACN/c,KAAKsG,OAAOC,KAG5BwW,EAAStb,SAAS,oBAAiD,mBAA3BzB,KAAKsG,OAAOqM,MAAMC,KAC5D5S,KAAKgb,SAAW,iBAGT+B,EAAStb,SAAS,UAAuC,SAA3BzB,KAAKsG,OAAOqM,MAAMC,KACvD5S,KAAKgb,SAAW,OAIhBhb,KAAKgb,SAAW,gBAEpB,EACA,MAAAC,GACwB,SAAlBjb,KAAKgb,SACPhb,KAAKwG,QAAQC,KAAK,SAElBzG,KAAKwG,QAAQC,KAAK,kBAEtB,EACA,gBAAAC,CAAiBjJ,GACfuC,KAAKsB,aAAe7D,EACpBuC,KAAK0E,WAAY,EAGjBiC,WAAW,KACT3G,KAAK0E,WAAY,EACjB1E,KAAKsB,aAAe,IACnB,IACL,EACA,cAAA0K,CAAevO,GACbuC,KAAK2L,aAAelO,EACpBuC,KAAK8L,WAAY,CACnB,EACA,UAAAL,GACEzL,KAAK8L,WAAY,EACjB9L,KAAK2L,aAAe,EACtB,EACA,kBAAAwP,GAEE,MAAM6B,EAAQnY,SAASoY,eAAe,cAClCD,EACFA,EAAME,QACGld,KAAKmd,MAAMC,WACpBpd,KAAKmd,MAAMC,WAAWF,QAEtB5gB,QAAQS,MAAM,aAElB,EACA,iBAAAwe,CAAkBxV,GAChB,MAAM5G,EAAO4G,EAAMK,OAAOiX,MAAM,GAChC,GAAIle,EAAM,CAER,IAAKA,EAAKoF,KAAK/C,WAAW,UAExB,YADAxB,KAAKgM,eAAe,WAKtB,GAAI7M,EAAKZ,KAAO,QAEd,YADAyB,KAAKgM,eAAe,iBAKtB,MAAMsR,EAAS,IAAIC,WACnBD,EAAOE,OAAUlb,IACftC,KAAK0c,kBAAoBpa,EAAE8D,OAAOjC,OAElCnE,KAAKwc,eAAgB,EACrBxc,KAAKyd,UAAU,KACbzd,KAAK0d,oBAGTJ,EAAOK,cAAcxe,EACvB,CACF,EACA,WAAAic,GACEpb,KAAKkb,aAAe,KACpBlb,KAAKmd,MAAMC,WAAWzV,MAAQ,EAChC,EACA,cAAA2U,GAEEtc,KAAKmd,MAAMC,WAAWzV,MAAQ,GAC9B3H,KAAKwc,eAAgB,EACrBxc,KAAKyc,cAAgB,KACrBzc,KAAK0c,kBAAoB,IAC3B,EACA,cAAAgB,GACE,MAAME,EAAS5d,KAAKmd,MAAMU,WACpBC,EAAMF,EAAOG,WAAW,MACxBC,EAAM,IAAIC,MAEhBD,EAAIR,OAAS,KAEX,MAAMU,EAAW,IACXC,EAAY,IAClB,IAAI,MAAE1M,EAAK,OAAEG,GAAWoM,EAExB,GAAIvM,EAAQyM,GAAYtM,EAASuM,EAAW,CAC1C,MAAMC,EAAQtM,KAAKuM,IAAIH,EAAWzM,EAAO0M,EAAYvM,GACrDH,GAAS2M,EACTxM,GAAUwM,CACZ,CAEAR,EAAOnM,MAAQA,EACfmM,EAAOhM,OAASA,EAChBgM,EAAOvL,MAAMZ,MAAQA,EAAQ,KAC7BmM,EAAOvL,MAAMT,OAASA,EAAS,KAG/BkM,EAAIQ,UAAUN,EAAK,EAAG,EAAGvM,EAAOG,GAGhC5R,KAAKyc,cAAgBuB,EAGrB,MAAMO,EAAY,GAAK,EACjBC,EAAY1M,KAAKuM,IAAY,GAAR5M,EAAaG,EAAS2M,EAAY,IACvDE,EAAaD,EAAYD,EAE/Bve,KAAK2c,SAAW,CACdpL,GAAIE,EAAQ+M,GAAa,EACzB9M,GAAIE,EAAS6M,GAAc,EAC3BhN,MAAO+M,EACP5M,OAAQ6M,GAGVze,KAAK0e,sBACL1e,KAAK2e,wBAGPX,EAAIY,IAAM5e,KAAK0c,iBACjB,EACA,mBAAAgC,GACE,MAAMG,EAAY7e,KAAKmd,MAAM2B,cACzBD,IACFA,EAAUxM,MAAMb,KAAOxR,KAAK2c,SAASpL,EAAI,KACzCsN,EAAUxM,MAAMV,IAAM3R,KAAK2c,SAASjL,EAAI,KACxCmN,EAAUxM,MAAMZ,MAAQzR,KAAK2c,SAASlL,MAAQ,KAC9CoN,EAAUxM,MAAMT,OAAS5R,KAAK2c,SAAS/K,OAAS,KAEpD,EACA,oBAAA+M,GACE,MAAME,EAAY7e,KAAKmd,MAAM2B,cACvBC,EAAU/e,KAAKmd,MAAM6B,YACrBpB,EAAS5d,KAAKmd,MAAMU,WAE1B,IAAKgB,IAAcE,IAAYnB,EAAQ,OAEvC,IAAIqB,GAAa,EACbC,GAAa,EACbC,EAAe,KACfC,EAAS,EACTC,EAAS,EACTC,EAAa,EACbC,EAAa,EACbC,EAAiB,EACjBC,EAAkB,EAEtB,MAAMlB,EAAY,GAAK,EAEjBmB,EAAapd,IACbA,EAAE8D,OAAO6K,UAAU0O,SAAS,kBAC9BT,GAAa,EACbC,EAAe7c,EAAE8D,OAAOwZ,QAAQC,QAEhCZ,GAAa,EAGf,MAAM7N,EAAOwM,EAAOtM,wBACpB8N,EAAS9c,EAAEwd,QAAU1O,EAAKI,KAC1B6N,EAAS/c,EAAEyd,QAAU3O,EAAKO,IAC1B2N,EAAatf,KAAK2c,SAASpL,EAC3BgO,EAAavf,KAAK2c,SAASjL,EAC3B8N,EAAiBxf,KAAK2c,SAASlL,MAC/BgO,EAAkBzf,KAAK2c,SAAS/K,QAG5BoO,EAAQ1d,IACZ,IAAK2c,IAAeC,EAAY,OAEhC,MAAM9N,EAAOwM,EAAOtM,wBACd2O,EAAW3d,EAAEwd,QAAU1O,EAAKI,KAC5B0O,EAAW5d,EAAEyd,QAAU3O,EAAKO,IAE5BwO,EAASF,EAAWb,EACpBgB,EAASF,EAAWb,EAE1B,GAAIJ,EAAY,CAEd,MAAMoB,EAAOvO,KAAKkE,IAAI,EAAGlE,KAAKuM,IAAIT,EAAOnM,MAAQzR,KAAK2c,SAASlL,MAAO6N,EAAaa,IAC7EG,EAAOxO,KAAKkE,IAAI,EAAGlE,KAAKuM,IAAIT,EAAOhM,OAAS5R,KAAK2c,SAAS/K,OAAQ2N,EAAaa,IAErFpgB,KAAK2c,SAASpL,EAAI8O,EAClBrgB,KAAK2c,SAASjL,EAAI4O,CACpB,MAAO,GAAIpB,EAAY,CAErB,IAAIqB,EAAWf,EACXgB,EAAYf,EACZY,EAAOf,EACPgB,EAAOf,EAEU,OAAjBJ,GAEFoB,EAAWzO,KAAKkE,IAAI,GAAIlE,KAAKuM,IAAIT,EAAOnM,MAAQ6N,EAAYE,EAAiBW,IAC7EK,EAAYD,EAAWhC,EACnBgB,EAAaiB,EAAY5C,EAAOhM,SAClC4O,EAAY5C,EAAOhM,OAAS2N,EAC5BgB,EAAWC,EAAYjC,IAEC,OAAjBY,GAEToB,EAAWzO,KAAKkE,IAAI,GAAIlE,KAAKuM,IAAIiB,EAAaE,EAAgBA,EAAiBW,IAC/EK,EAAYD,EAAWhC,EACvB8B,EAAOf,EAAaE,EAAiBe,EACjCF,EAAO,IACTA,EAAO,EACPE,EAAWjB,EAAaE,EACxBgB,EAAYD,EAAWhC,IAEC,OAAjBY,GAEToB,EAAWzO,KAAKkE,IAAI,GAAIlE,KAAKuM,IAAIT,EAAOnM,MAAQ6N,EAAYE,EAAiBW,IAC7EK,EAAYD,EAAWhC,EACvB+B,EAAOf,EAAaE,EAAkBe,EAClCF,EAAO,IACTA,EAAO,EACPE,EAAYjB,EAAaE,EACzBc,EAAWC,EAAYjC,IAEC,OAAjBY,IAEToB,EAAWzO,KAAKkE,IAAI,GAAIlE,KAAKuM,IAAIiB,EAAaE,EAAgBA,EAAiBW,IAC/EK,EAAYD,EAAWhC,EACvB8B,EAAOf,EAAaE,EAAiBe,EACrCD,EAAOf,EAAaE,EAAkBe,EAClCH,EAAO,IACTA,EAAO,EACPE,EAAWjB,EAAaE,EACxBgB,EAAYD,EAAWhC,EACvB+B,EAAOf,EAAaE,EAAkBe,GAEpCF,EAAO,IACTA,EAAO,EACPE,EAAYjB,EAAaE,EACzBc,EAAWC,EAAYjC,EACvB8B,EAAOf,EAAaE,EAAiBe,IAIzCvgB,KAAK2c,SAASpL,EAAI8O,EAClBrgB,KAAK2c,SAASjL,EAAI4O,EAClBtgB,KAAK2c,SAASlL,MAAQ8O,EACtBvgB,KAAK2c,SAAS/K,OAAS4O,CACzB,CAEAxgB,KAAK0e,uBAGD+B,EAAU,KACdxB,GAAa,EACbC,GAAa,EACbC,EAAe,MAGjBN,EAAU/Z,iBAAiB,YAAa4a,GACxC7a,SAASC,iBAAiB,YAAakb,GACvCnb,SAASC,iBAAiB,UAAW2b,GAGrCzgB,KAAK0gB,MAAM,qBAAsB,KAC/B7B,EAAUrZ,oBAAoB,YAAaka,GAC3C7a,SAASW,oBAAoB,YAAawa,GAC1Cnb,SAASW,oBAAoB,UAAWib,IAE5C,EACA,SAAAlE,GACE,IAAKvc,KAAKyc,cAAe,OAEzB,MAAMmB,EAAS/Y,SAASsN,cAAc,UAChC2L,EAAMF,EAAOG,WAAW,MAGxB4C,EAAc,GAAK,EACnBC,EAAc,IACdC,EAAeD,EAAcD,EAEnC/C,EAAOnM,MAAQmP,EACfhD,EAAOhM,OAASiP,EAGhB,MAAMC,EAAW9gB,KAAK2c,SAASpL,EAAIvR,KAAKmd,MAAMU,WAAWpM,MAASzR,KAAKyc,cAAchL,MAC/EsP,EAAW/gB,KAAK2c,SAASjL,EAAI1R,KAAKmd,MAAMU,WAAWjM,OAAU5R,KAAKyc,cAAc7K,OAChFoP,EAAehhB,KAAK2c,SAASlL,MAAQzR,KAAKmd,MAAMU,WAAWpM,MAASzR,KAAKyc,cAAchL,MACvFwP,EAAgBjhB,KAAK2c,SAAS/K,OAAS5R,KAAKmd,MAAMU,WAAWjM,OAAU5R,KAAKyc,cAAc7K,OAGhGkM,EAAIQ,UACFte,KAAKyc,cACLqE,EAASC,EAASC,EAAaC,EAC/B,EAAG,EAAGL,EAAaC,GAIrB7gB,KAAKkb,aAAe0C,EAAOsD,UAAU,aAAc,IACnDlhB,KAAKsc,gBACP,EACA,cAAA/R,GACE,MAAMC,EAActO,aAAaC,QAAQ,cACrCqO,IAAaxK,KAAKgK,WAAaQ,EACrC,EACA,gBAAA2W,GAEE,MAAMvb,EAAgB1J,aAAaC,QAAQ,aAC3C,GAAIyJ,EACF,IACE,MAAMpD,EAAWR,KAAKC,MAAM2D,GAC5B,OAAOpD,EAASyD,IAAM,IACxB,CAAE,MAAOlJ,GAEP,OADAT,QAAQS,MAAM,YAAaA,GACpB,IACT,CAEF,OAAO,IACT,EACA,kBAAAqkB,GAEE,MAAMxb,EAAgB1J,aAAaC,QAAQ,aAC3C,GAAIyJ,EACF,IACE,MAAMpD,EAAWR,KAAKC,MAAM2D,GAC5B,OAAOpD,EAASnH,MAAQmH,EAASxB,UAAY,IAC/C,CAAE,MAAOjE,GAEP,OADAT,QAAQS,MAAM,YAAaA,GACpB,IACT,CAEF,MAAO,IACT,EACA,gBAAAqb,CAAiBjb,GAEf,MAAMqW,EAAY,CAChB,SAAY,MACZ,QAAW,MACX,UAAa,MACb,SAAY,MAEZ,YAAe,MACf,OAAU,MACV,UAAa,OAEf,OAAOA,EAAUrW,IAAWA,GAAU,KACxC,EACA,gBAAAkkB,CAAiBC,GAEf,MAAMC,EAAW,CACf,IAAK,OACL,IAAK,SACL,IAAK,OAEP,OAAOA,EAASD,IAAa,QAC/B,EACA,kBAAAE,CAAmBF,GAEjB,MAAMG,EAAa,CACjB,KAAQ,IACR,OAAU,IACV,IAAO,KAET,OAAOA,EAAWH,IAAa,GACjC,EACA,MAAAxF,GACM9b,KAAK+b,OAAOpG,SAAW3V,KAAKZ,SAASsV,KAAKjT,SAASzB,KAAK+b,OAAOpG,UACjE3V,KAAKZ,SAASsV,KAAKjO,KAAKzG,KAAK+b,OAAOpG,QACpC3V,KAAK+b,OAAS,GAElB,EACA,SAAAC,CAAUtN,GACR1O,KAAKZ,SAASsV,KAAKgN,OAAOhT,EAAO,EACnC,EACA,WAAAiT,GACE3hB,KAAKZ,SAASwiB,UAAUnb,KAAK,CAC3BR,GAAIkJ,KAAK0S,MACTxmB,KAAM,GACNmS,YAAa,GACbsU,aAAc,GACdC,MAAO,EACPC,OAAQ,GACR7kB,OAAQ,OACR8kB,YAAY,IAAI9S,MAAOyN,eAE3B,EACA,cAAAsF,CAAexT,GACb1O,KAAKZ,SAASwiB,UAAUF,OAAOhT,EAAO,EACxC,EACA,gBAAAwN,GACE,OAAIlc,KAAKZ,SAASmV,WAAavU,KAAKZ,SAASoV,QACpC,GAAGxU,KAAKZ,SAASmV,eAAevU,KAAKZ,SAASoV,UAEhD,IACT,EAEA,iBAAAgH,GAEE,OADAxb,KAAK0b,UAAY,KACb1b,KAAKZ,SAASmV,WAAavU,KAAKZ,SAASoV,SACvC,IAAIrF,KAAKnP,KAAKZ,SAASmV,WAAa,IAAIpF,KAAKnP,KAAKZ,SAASoV,YAC7DxU,KAAK0b,UAAY,kBACV,EAKb,EAEA,eAAAD,GAEE,OADAzb,KAAK0b,UAAY,GACb1b,KAAKZ,SAASmV,WAAavU,KAAKZ,SAASoV,SACvC,IAAIrF,KAAKnP,KAAKZ,SAASmV,WAAa,IAAIpF,KAAKnP,KAAKZ,SAASoV,UAC7DxU,KAAK0b,UAAY,kBACV,KAGP1b,KAAKZ,SAASoV,SAAW,IAAIrF,KAAKnP,KAAKZ,SAASoV,SAAW,IAAIrF,KAAKnP,KAAKkQ,UAC3ElQ,KAAK0b,UAAY,gBACV,EAGX,EAEA,eAAMS,GACJ,UAEQ,IAAInf,QAAQmlB,GAAWxb,WAAWwb,EAAS,MACjDlX,MAAM,UACR,CAAE,MAAOlO,GACPT,QAAQS,MAAM,UAAWA,GACzBkO,MAAM,aACR,CACF,EACA,sBAAMmX,CAAiBxkB,GACrB,IACE,MAAM3B,EAAQC,aAAaC,QAAQ,gBACnC,IAAKF,EACH,MAAM,IAAIuB,MAAM,cAOlB,GAJAlB,QAAQC,IAAI,mBAAoBN,EAAQ,MAAQ,OAChDK,QAAQC,IAAI,WAAYN,EAAMyF,UAAU,EAAG,IAAM,QAG5CzF,EAAMuF,WAAW,OACpB,MAAM,IAAIhE,MAAM,oBAIlB,IACE,MAAM6kB,EAAUrgB,KAAKC,MAAMqgB,KAAKrmB,EAAM4gB,MAAM,KAAK,KAC3CgF,EAAM/P,KAAKyQ,MAAMpT,KAAK0S,MAAQ,KACpC,GAAIQ,EAAQG,KAAOH,EAAQG,IAAMX,EAC/B,MAAM,IAAIrkB,MAAM,kBAElBlB,QAAQC,IAAI,aAAc8lB,EAC5B,CAAE,MAAO/f,GACPhG,QAAQE,KAAK,aAAc8F,EAAE7E,QAC/B,CAGAnB,QAAQC,IAAI,iBAGZ,MAAM,WAAEmB,SAAqB,sCAE7BpB,QAAQC,IAAI,oBACZ,MAAMW,QAAiBQ,EAAWC,cAAcC,GAchD,GAZAtB,QAAQC,IAAI,gCAAiCW,GAC7CZ,QAAQC,IAAI,iBAAkBW,GAC9BZ,QAAQC,IAAI,eAA6B,OAAbW,GAC5BZ,QAAQC,IAAI,yBAAkCI,IAAbO,GAE7BA,IACFZ,QAAQC,IAAI,YAAaW,EAASoM,MAClChN,QAAQC,IAAI,WAAYW,EAAS0G,KACjCtH,QAAQC,IAAI,YAAaW,EAAST,QAI/BS,EACH,MAAM,IAAIM,MAAM,YAGlB,GAAsB,MAAlBN,EAASoM,KACX,MAAM,IAAI9L,MAAMN,EAAS0G,KAAO,UAGlC,OAAO1G,CACT,CAAE,MAAOH,GAEP,MADAT,QAAQS,MAAM,eAAgBA,GACxBA,CACR,CACF,EACA,oBAAMsf,GACJ,IAAIrc,KAAKoc,aAAT,CAEApc,KAAKoc,cAAe,EAEpB,IAEE,IAAKpc,KAAKZ,SAASgU,aAAoD,KAArCpT,KAAKZ,SAASgU,YAAYuC,OAG1D,OAFA1K,MAAM,gBACNjL,KAAKoc,cAAe,GAItB,IAAKpc,KAAKZ,SAASmV,UAGjB,OAFAtJ,MAAM,kBACNjL,KAAKoc,cAAe,GAItB,IAAKpc,KAAKZ,SAASoV,QAGjB,OAFAvJ,MAAM,kBACNjL,KAAKoc,cAAe,GAKtB,GAAI,IAAIjN,KAAKnP,KAAKZ,SAASmV,YAAc,IAAIpF,KAAKnP,KAAKZ,SAASoV,SAG9D,OAFAvJ,MAAM,uBACNjL,KAAKoc,cAAe,GAKtB,GAAI,IAAIjN,KAAKnP,KAAKZ,SAASoV,SAAW,IAAIrF,KAAKnP,KAAKkQ,OAGlD,OAFAjF,MAAM,qBACNjL,KAAKoc,cAAe,GAMtB9f,QAAQC,IAAI,QAASyD,KAAKZ,UAG1B,IAAIG,EAAW,yDAEf,GAAIS,KAAKkb,cAAgBlb,KAAKkb,aAAa1Z,WAAW,cAAe,CACnElF,QAAQC,IAAI,4BACZ,IAEE,MAAMkmB,QAAaziB,KAAK0iB,cAAc1iB,KAAKkb,cACrC/b,EAAO,IAAIwjB,KAAK,CAACF,GAAO,oBAAqB,CAAEle,KAAM,gBAGrD,WAAE7G,SAAqB,sCACvBklB,QAAuBllB,EAAWwB,mBAAmBC,EAAM,MAEjE7C,QAAQC,IAAI,UAAWqmB,GAEnBA,GAA0C,MAAxBA,EAAetZ,MAAgBsZ,EAAenmB,MAAQmmB,EAAenmB,KAAK8C,UAC9FA,EAAWqjB,EAAenmB,KAAK8C,SAC/BjD,QAAQC,IAAI,gBAAiBgD,IAE7BjD,QAAQE,KAAK,mBAEjB,CAAE,MAAOO,GACPT,QAAQS,MAAM,kBAAmBA,EAEnC,CACF,CAGA,MAAM8lB,EAAoB,CACxBxnB,KAAM2E,KAAKZ,SAASgU,YACpB5F,YAAaxN,KAAKZ,SAAS6c,mBAC3B9H,WAAYnU,KAAKZ,SAAS+U,WAC1B5U,SAAUA,EACVgV,UAAWvU,KAAKZ,SAASmV,UACzBC,QAASxU,KAAKZ,SAASoV,SAGzBlY,QAAQC,IAAI,cAAesmB,GAE3B,MAAM3lB,QAAiB8C,KAAKoiB,iBAAiBS,GAQ7C,GANAvmB,QAAQC,IAAI,2BAA4BW,GACxCZ,QAAQC,IAAI,eAAgBW,GAC5BZ,QAAQC,IAAI,UAAWW,GAAUoM,MACjChN,QAAQC,IAAI,SAAUW,GAAU0G,KAChCtH,QAAQC,IAAI,UAAWW,GAAUT,OAE5BS,EACH,MAAM,IAAIM,MAAM,YAGlB,GAAsB,MAAlBN,EAASoM,KACX,MAAM,IAAI9L,MAAMN,EAAS0G,KAAO,UAGlC,IAAK1G,EAAST,KACZ,MAAM,IAAIe,MAAM,aAGlBlB,QAAQC,IAAI,aAAcW,EAAST,MACnCH,QAAQC,IAAI,aAAcW,EAAST,KAAKwJ,GAAI,aAAc/I,EAAST,KAAKwJ,IAIxE,MAAM6c,EAAa,IACd5lB,EAAST,KACZwJ,GAAI/I,EAAST,KAAKwJ,GAElBqG,MAAOpP,EAAST,KAAKpB,KACrB8B,OAAQ6C,KAAKoY,iBAAiBlb,EAAST,KAAKU,QAC5C4a,SAAU,EACVO,WAAYtY,KAAKZ,SAAS6c,oBAAsB,OAChD1D,UAAWvY,KAAKZ,SAAS6c,oBAAsB,OAC/CzD,OAAQ,KACRhD,SAAU,KAEVd,KAAM1U,KAAKZ,SAASsV,KACpBT,MAAOjU,KAAKkb,aAEZnC,MAAO,GAEPd,YAAa,CACX,CACEhS,GAAI,EACJ8c,QAAS,EACT1nB,KAAM2E,KAAKohB,qBACX4B,aAAc,SACdC,KAAM,QACNpiB,OAAQ,KACRqiB,WAAW,IAAI/T,MAAOyN,gBAG1BzD,YAAa,IAGf7c,QAAQC,IAAI,SAAUumB,GACtBxmB,QAAQC,IAAI,UAAWyD,KAAKZ,SAASmV,UAAWvU,KAAKZ,SAASoV,SAG9D,IAAI2O,EAAmB,GACvB,IACE,MAAMC,EAAelnB,aAAaC,QAAQ,YACtCinB,IACFD,EAAmBnhB,KAAKC,MAAMmhB,GAElC,CAAE,MAAOC,GACP/mB,QAAQS,MAAM,cAAesmB,GAC7BF,EAAmB,EACrB,CAGAA,EAAiBG,QAAQR,GAGzB,IACE5mB,aAAa+G,QAAQ,WAAYjB,KAAKmB,UAAUggB,IAChD7mB,QAAQC,IAAI,uBACd,CAAE,MAAOgnB,GAEP,MADAjnB,QAAQS,MAAM,qBAAsBwmB,GAC9B,IAAI/lB,MAAM,oBAClB,CAGAwC,KAAK0G,iBAAiB,WAGtBC,WAAW,KACT3G,KAAKwG,QAAQC,KAAK,oBACjB,IACL,CAAE,MAAO1J,GACPT,QAAQS,MAAM,UAAWA,GACzBT,QAAQS,MAAM,QAASA,GACvBT,QAAQS,MAAM,QAASA,EAAMU,SAC7BnB,QAAQS,MAAM,QAASA,EAAMuM,MAC7BhN,QAAQS,MAAM,QAASA,EAAMN,MAC7BH,QAAQS,MAAM,QAASiD,KAAKZ,UAC5B9C,QAAQS,MAAM,QAASiD,KAAKkb,cAG5B,IAAIsI,EAAW,cACXzmB,EAAMU,UACR+lB,GAAY,WAAWzmB,EAAMU,WAE3BV,EAAMuM,OACRka,GAAY,WAAWzmB,EAAMuM,QAG/BtJ,KAAKgM,eAAewX,EACtB,CAAE,QACAxjB,KAAKoc,cAAe,CACtB,CAjMuB,CAkMzB,EAEA,mBAAMsG,CAAce,GAClB,OAAO,IAAIzmB,QAAQ,CAACmlB,EAASllB,KAC3B,IACE,MAAMymB,EAAMD,EAAQ5G,MAAM,KACpB8G,EAAOD,EAAI,GAAGE,MAAM,WAAW,GAC/BC,EAAOvB,KAAKoB,EAAI,IACtB,IAAIrJ,EAAIwJ,EAAKxf,OACb,MAAMyf,EAAQ,IAAIC,WAAW1J,GAC7B,MAAOA,IACLyJ,EAAMzJ,GAAKwJ,EAAKG,WAAW3J,GAE7B8H,EAAQ,IAAI8B,KAAK,CAACH,GAAQ,CAAEvf,KAAMof,IACpC,CAAE,MAAO5mB,GACPE,EAAOF,EACT,GAEJ,ICxjCqI,MCQrI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIF,GAAe,G,QCnBX,GAAS,WAAkB,IAAIgD,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,4BAA4B,CAACN,EAAG,UAAU,CAACE,MAAM,CAAC,OAASJ,EAAI+M,aAAapM,GAAG,CAAC,MAAQX,EAAIgN,gBAAgB9M,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,SAAS,CAACM,YAAY,WAAWJ,MAAM,CAAC,aAAa,gBAAgBO,GAAG,CAAC,MAAQX,EAAIiN,gBAAgB,CAAC/M,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,0BAA0B,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,SAAS,CAACM,YAAY,WAAWJ,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQX,EAAI0T,WAAW,CAACxT,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,2BAA2B,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,aAAab,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,eAAe,CAACR,EAAIoH,GAAG,GAAGlH,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgBJ,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,kCAAkC,KAAO,oBAAoBF,EAAG,OAAO,CAACF,EAAIe,GAAG,+BAA+Bb,EAAG,MAAM,CAACM,YAAY,WAAW,CAACN,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAc,WAAE8H,WAAW,eAAetH,YAAY,eAAeJ,MAAM,CAAC,KAAO,OAAO,YAAc,UAAU2H,SAAS,CAAC,MAAS/H,EAAc,YAAGW,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,YAAiBhI,EAAI2T,WAAWtM,EAAOhB,OAAOuB,MAAK,KAAK1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,WAAWG,GAAG,CAAC,MAAQ,SAAS0G,GAAiC,OAAzBA,EAAOsE,kBAAyB3L,EAAI4T,qBAAqBpM,MAAM,KAAMC,UAAU,IAAI,CAACvH,EAAG,SAAS,CAACM,YAAY,iBAAiB,CAACN,EAAG,OAAO,CAACF,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,kBAAkB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAgBJ,EAAc,WAAEE,EAAG,KAAK,CAACM,YAAY,iBAAiB,CAACN,EAAG,KAAK,CAACM,YAAY,gBAAgBC,MAAM,CAAEoN,OAA+B,KAAvB7N,EAAI6T,gBAAwBlT,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI8T,aAAa,GAAG,IAAI,CAAC9T,EAAIe,GAAG,QAAQb,EAAG,KAAK,CAACM,YAAY,gBAAgBC,MAAM,CAAEoN,OAA+B,QAAvB7N,EAAI6T,gBAA2BlT,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI8T,aAAa,MAAM,IAAI,CAAC9T,EAAIe,GAAG,SAASb,EAAG,KAAK,CAACM,YAAY,gBAAgBC,MAAM,CAAEoN,OAA+B,QAAvB7N,EAAI6T,gBAA2BlT,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI8T,aAAa,MAAM,IAAI,CAAC9T,EAAIe,GAAG,SAASb,EAAG,KAAK,CAACM,YAAY,gBAAgBC,MAAM,CAAEoN,OAA+B,QAAvB7N,EAAI6T,gBAA2BlT,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI8T,aAAa,MAAM,IAAI,CAAC9T,EAAIe,GAAG,WAAWf,EAAIM,OAAOJ,EAAG,SAAS,CAACM,YAAY,MAAMG,GAAG,CAAC,MAAQX,EAAI+T,eAAe,CAAC/T,EAAIe,GAAG,cAAcb,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,QAAQR,EAAIuN,GAAIvN,EAAqB,kBAAE,SAAS9E,EAAQyT,GAAO,OAAOzO,EAAG,MAAM,CAACyD,IAAIzI,EAAQgL,GAAG1F,YAAY,OAAOG,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAImkB,qBAAqBjpB,EAAQ,IAAI,CAACgF,EAAG,MAAM,CAACM,YAAY,aAAaC,MAAM,aAAavF,EAAQgL,GAAK,EAAK,IAAK,CAAEhL,EAAa,MAAEgF,EAAG,MAAM,CAACM,YAAY,gBAAgBJ,MAAM,CAAC,IAAMlF,EAAQgZ,MAAM,IAAMhZ,EAAQqR,SAASrM,EAAG,MAAM,CAACM,YAAY,wBAAwB,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uKAAuK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,iBAAiB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,WAAW,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,KAAK,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAG9F,EAAQqR,UAAUrM,EAAG,OAAO,CAACM,YAAY,eAAeC,MAAMT,EAAIqU,YAAYnZ,EAAQkC,SAAS,CAAC4C,EAAIe,GAAGf,EAAIgB,GAAG9F,EAAQkC,aAAa8C,EAAG,KAAK,CAACM,YAAY,aAAa,CAACN,EAAG,KAAK,CAACA,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIokB,mBAAmBlpB,IAAU,SAAUA,EAAQsZ,WAAatZ,EAAQuZ,QAASvU,EAAG,KAAK,CAACA,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI0U,gBAAgBxZ,EAAQsZ,UAAWtZ,EAAQuZ,eAAgBvZ,EAAc,OAAEgF,EAAG,KAAK,CAACA,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAG9F,EAAQmpB,aAAarkB,EAAIM,KAAMpF,EAAQyZ,MAAQzZ,EAAQyZ,KAAKrQ,OAAS,EAAGpE,EAAG,KAAK,CAACA,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,SAASb,EAAG,OAAO,CAACM,YAAY,cAAcR,EAAIuN,GAAIrS,EAAY,KAAE,SAAS0Z,EAAIjG,GAAO,OAAOzO,EAAG,OAAO,CAACyD,IAAIgL,EAAMnO,YAAY,YAAY,CAACR,EAAIe,GAAG,IAAIf,EAAIgB,GAAG4T,GAAK5U,EAAIgB,GAAG2N,EAAQzT,EAAQyZ,KAAKrQ,OAAS,EAAI,IAAM,IAAI,MAAM,GAAG,KAAKtE,EAAIM,UAAU,GAAG,GAAGJ,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,SAAS,CAACM,YAAY,QAAQJ,MAAM,CAAC,SAA+B,IAApBJ,EAAI6U,aAAmBlU,GAAG,CAAC,MAAQX,EAAI8U,SAAS,CAAC9U,EAAIe,GAAG,OAAOf,EAAIuN,GAAIvN,EAAc,WAAE,SAAS+U,GAAG,OAAO7U,EAAG,SAAS,CAACyD,IAAIoR,EAAEvU,YAAY,WAAWC,MAAM,CAAEoN,OAAQkH,IAAM/U,EAAI6U,aAAclU,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIgV,OAAOD,EAAE,IAAI,CAAC/U,EAAIe,GAAGf,EAAIgB,GAAG+T,KAAK,GAAG7U,EAAG,SAAS,CAACM,YAAY,QAAQJ,MAAM,CAAC,SAAWJ,EAAI6U,cAAgB7U,EAAIiV,YAAYtU,GAAG,CAAC,MAAQX,EAAIkV,SAAS,CAAClV,EAAIe,GAAG,QAAQ,QAAQ,EAC70L,EACI,GAAkB,CAAC,WAAY,IAAIf,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,MAAM,CAACM,YAAY,sBAC1L,GC8HA,IACElF,KAAM,gBACNwL,WAAY,CACV4J,QAAO,IAET,IAAAhU,GACE,MAAO,CACLqQ,aAAa,EAEbuX,eAAgB,GAEhB3Q,WAAY,GACZE,eAAgB,GAChBsB,YAAY,EAEZN,YAAa,EACbO,SAAU,EAEd,EACApO,SAAU,CAER,gBAAA0O,GACE,MAAMC,EAAO1V,KAAK0T,WAAWiC,OAAOC,cACpC,OAAO5V,KAAKqkB,eAAe9T,OAAOtV,IAChC,MAAM4a,GAAYH,GAAOza,EAAQqR,MAAMsJ,cAAcnU,SAASiU,GACxDI,GAAc9V,KAAK4T,gBAAiB3Y,EAAQkC,SAAW6C,KAAK4T,eAClE,OAAOiC,GAAaC,GAExB,EAEA,UAAAd,GACE,OAAOlD,KAAKkE,IAAI,EAAGlE,KAAKmE,KAAKjW,KAAKyV,iBAAiBpR,OAASrE,KAAKmV,UACnE,EAEA,iBAAAe,GACE,MAAMC,GAASnW,KAAK4U,YAAc,GAAK5U,KAAKmV,SACtChR,EAASnE,KAAKyV,iBAAiB9M,MAAMwN,EAAOA,EAAQnW,KAAKmV,UAE/D,OADA7Y,QAAQC,IAAI,OAAQyD,KAAK4U,YAAa,QAAS5U,KAAKmV,SAAU,UAAWnV,KAAKyV,iBAAiBpR,OAAQ,UAAWF,EAAOE,QAClHF,CACT,GAEF,OAAAQ,GACE3E,KAAKskB,mBACLzf,SAASC,iBAAiB,QAAS9E,KAAK+E,mBAC1C,EACA,aAAAQ,GACEV,SAASW,oBAAoB,QAASxF,KAAK+E,mBAC7C,EACAY,QAAS,CACP,sBAAM2e,GAEJ,MAAMC,EAAkBviB,KAAKC,MAAM/F,aAAaC,QAAQ,aAAe,MAGjEqoB,EAAwB,CAC5B,CACEve,GAAI,IACJqG,MAAO,cACPkJ,SAAU,OACVrY,OAAQ,MACR4a,SAAU,EACVxD,UAAW,aACXC,QAAS,aACTE,KAAM,CAAC,OAAQ,OAAQ,QACvB+P,UAAU,GAEZ,CACExe,GAAI,IACJqG,MAAO,aACPkJ,SAAU,OACVrY,OAAQ,MACR4a,SAAU,GACVxD,UAAW,aACXC,QAAS,aACTE,KAAM,CAAC,OAAQ,OAAQ,QACvB+P,UAAU,GAEZ,CACExe,GAAI,IACJqG,MAAO,YACPkJ,SAAU,OACVrY,OAAQ,MACR4a,SAAU,EACVxD,UAAW,aACXC,QAAS,aACTE,KAAM,CAAC,MAAO,QAAS,QACvB+P,UAAU,IAKRC,EAAwBH,EAAgBrR,IAAIjY,IAAW,IACxDA,EACHkC,OAAQlC,EAAQkC,QAAU,MAC1B4a,SAAU/X,KAAKsU,YAAYrZ,GAC3BsZ,UAAWtZ,EAAQsZ,WAAatZ,EAAQ4d,UACxCrE,QAASvZ,EAAQuZ,SAAWvZ,EAAQ6d,UACpCpE,KAAMzZ,EAAQyZ,MAAQ,GACtB+P,UAAU,KAIZzkB,KAAKqkB,eAAiB,IAAIK,KAA0BF,GAGpDloB,QAAQC,IAAI,yBACZ,MAAM6c,EAAsBpZ,KAAKqkB,eAAenR,IAAImG,MAAOpe,IACzD,GAAKA,EAAQgL,GAIb,IACE,MAAM8R,QAAiB/X,KAAKsU,YAAYrZ,EAAQgL,IAEhDjG,KAAKmG,KAAKlL,EAAS,cAAe8c,GAClC/X,KAAKmG,KAAKlL,EAAS,WAAY8c,GAC/Bzb,QAAQC,IAAI,QAAQtB,EAAQgL,OAAOhL,EAAQqR,eAAgByL,EAC7D,CAAE,MAAOhb,GACPT,QAAQE,KAAK,QAAQvB,EAAQgL,aAAclJ,EAC7C,MAXET,QAAQE,KAAK,aAAcvB,WAezB+B,QAAQ8c,IAAIV,GAClB9c,QAAQC,IAAI,iBAGZyD,KAAK+Z,eAELzd,QAAQC,IAAI,aAAcmoB,EAAsBrgB,QAChD/H,QAAQC,IAAI,YAAaioB,EAAsBngB,QAC/C/H,QAAQC,IAAI,YAAayD,KAAKqkB,eAAehgB,QAC7C/H,QAAQC,IAAI,WAAYyD,KAAKqkB,eAC/B,EAGA,kBAAAF,CAAmBlpB,GAEjB,GAAIA,EAAQmc,YAAa,OAAOnc,EAAQmc,YACxC,GAAInc,EAAQ8c,SAAU,OAAO9c,EAAQ8c,SAGrC,IACE,MAAMyB,EAAStd,aAAaC,QAAQ,wBAAwBlB,EAAQgL,MAC9DwT,EAAYD,EAASE,SAASF,EAAQ,IAAMG,IAClD,IAAKC,MAAMH,IAAcA,EAAY,EACnC,OAAOA,CAEX,CAAE,MAAOnX,GAAI,CAGb,OAAO,CACT,EAMA,iBAAMgS,CAAYqQ,GAEhB,MAAM5mB,EAA0C,kBAAvB4mB,EAAkCA,EAAmB1e,GAAK0e,EAC7E1pB,EAAwC,kBAAvB0pB,EAAkCA,EAAqB,KAE9E,IAAK5mB,EAAW,CAEd,GAAI9C,EAAS,CACX,GAAIA,EAAQ8c,SAAU,OAAO9c,EAAQ8c,SACrC,GAAI9c,EAAQmc,YAAa,OAAOnc,EAAQmc,YACxC,GAAInc,EAAQ2pB,MAAQ5c,MAAMC,QAAQhN,EAAQ2pB,MAAO,OAAO3pB,EAAQ2pB,KAAKvgB,MACvE,CACA,OAAO,CACT,CAGA,IACE,MAAMmV,EAAStd,aAAaC,QAAQ,wBAAwB4B,KACtD0b,EAAYD,EAASE,SAASF,EAAQ,IAAMG,IAClD,IAAKC,MAAMH,IAAcA,EAAY,EAEnC,OADAnd,QAAQC,IAAI,WAAWwB,aAAsB0b,GACtCA,CAEX,CAAE,MAAOnX,GACPhG,QAAQE,KAAK,gBAAiB8F,EAChC,CAGA,IACEhG,QAAQC,IAAI,WAAYwB,EAAW,WACnC,MAAMb,QAAiB,GAAAQ,WAAWkC,kBAAkB7B,EAAW,EAAG,KAElE,GAAIb,GAA8B,MAAlBA,EAASoM,KAAc,CACrC,IAAI8N,EAAc,EAUlB,GATIla,EAAST,MAAQS,EAAST,KAAKsW,QAEjCqE,EAAcla,EAAST,KAAKsW,QAAQ1O,OAC3B2D,MAAMC,QAAQ/K,EAAST,QAEhC2a,EAAcla,EAAST,KAAK4H,QAI1B+S,EAAc,EAChB,IACElb,aAAa+G,QAAQ,wBAAwBlF,IAAamI,OAAOkR,IACjE9a,QAAQC,IAAI,WAAWwB,aAAsBqZ,EAC/C,CAAE,MAAO9U,GACPhG,QAAQE,KAAK,cAAe8F,GAAG7E,SAAW6E,EAC5C,CAGF,OAAO8U,EAAc,EAAIA,EAAc,CACzC,CACF,CAAE,MAAOra,GACPT,QAAQE,KAAK,QAAQuB,YAAqBhB,EAC5C,CAGA,GAAI9B,EAAS,CACX,GAAIA,EAAQmc,YAAa,OAAOnc,EAAQmc,YACxC,GAAInc,EAAQ8c,SAAU,OAAO9c,EAAQ8c,SACrC,GAAI9c,EAAQ2pB,MAAQ5c,MAAMC,QAAQhN,EAAQ2pB,MAAO,OAAO3pB,EAAQ2pB,KAAKvgB,MACvE,CAGA,OAAO,CACT,EAGA,eAAAoQ,CAAgBF,EAAWC,GACzB,IAAKD,IAAcC,EAAS,MAAO,MACnC,MAAM2B,EAAQ,IAAIhH,KAAKoF,GAAWsQ,mBAAmB,SAC/CrK,EAAM,IAAIrL,KAAKqF,GAASqQ,mBAAmB,SACjD,MAAO,GAAG1O,OAAWqE,GACvB,EAGA,WAAApG,CAAYjX,GACV,MAAMqW,EAAY,CAChB,MAAO,gBACP,MAAO,gBACP,MAAO,mBACP,KAAM,gBACN,MAAO,kBAET,OAAOA,EAAUrW,IAAW,gBAC9B,EACA,aAAA6P,GACEhN,KAAK8M,aAAe9M,KAAK8M,WAC3B,EACA,YAAAC,GACE/M,KAAK8M,aAAc,CACrB,EACA,QAAA2G,GACEzT,KAAKwG,QAAQC,KAAK,QACpB,EACA,oBAAAyd,CAAqBjpB,GAEnB+E,KAAKwG,QAAQC,KAAK,sBAAsBxL,EAAQgL,KAClD,EACA,WAAAmO,CAAYjX,GACV,MAAMqW,EAAY,CAChB,MAAO,SACP,MAAO,WACP,MAAO,YACP,QAAW,WACX,UAAa,aAEf,OAAOA,EAAUrW,IAAW,QAC9B,EAEA,kBAAA4H,CAAmBgB,GACZA,EAAMK,OAAOC,QAAQ,eACxBrG,KAAKkV,YAAa,EAEtB,EACA,oBAAAvB,GACE3T,KAAKkV,YAAclV,KAAKkV,UAC1B,EACA,YAAArB,CAAa1W,GACX6C,KAAK4T,eAAiBzW,EACtB6C,KAAKkV,YAAa,EAClBlV,KAAK4U,YAAc,CACrB,EACA,YAAAd,GACE9T,KAAK0T,WAAa,GAClB1T,KAAK4T,eAAiB,GACtB5T,KAAK4U,YAAc,CACrB,EAEA,MAAAC,GACM7U,KAAK4U,YAAc,GAAG5U,KAAK4U,aACjC,EACA,MAAAK,GACMjV,KAAK4U,YAAc5U,KAAKgV,YAAYhV,KAAK4U,aAC/C,EACA,MAAAG,CAAOzW,GACL0B,KAAK4U,YAActW,CACrB,IC1aqI,MCOrI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,GAAe,G,QClBX,GAAS,WAAkB,IAAIyB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,wBAAwB,CAACR,EAAIoH,GAAG,GAAGlH,EAAG,IAAI,CAACM,YAAY,iBAAiB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgBJ,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,KAAK,EAAI,KAAK,OAAS,eAAe,eAAe,OAAOF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,aAAaJ,EAAIe,GAAG,qCAAqCb,EAAG,SAAS,CAACM,YAAY,qBAAqBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQrH,EAAI+kB,kBAAoB/kB,EAAI+kB,gBAAgB,IAAI,CAAC7kB,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,kMAAkM,KAAO,oBAAoBF,EAAG,OAAO,CAACF,EAAIe,GAAG,kBAAkBb,EAAG,MAAM,CAACM,YAAY,wCAAwC,CAACN,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACR,EAAIe,GAAG,WAAWb,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACM,YAAY,YAAY,CAACR,EAAIoH,GAAG,GAAGlH,EAAG,MAAM,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,cAAcb,EAAG,SAAS,CAACM,YAAY,UAAUG,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIglB,WAAW,KAAK,IAAI,CAAChlB,EAAIe,GAAG,YAAYb,EAAG,MAAM,CAACM,YAAY,YAAY,CAACR,EAAIoH,GAAG,GAAGlH,EAAG,MAAM,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,YAAYb,EAAG,SAAS,CAACM,YAAY,UAAUG,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIglB,WAAW,KAAK,IAAI,CAAChlB,EAAIe,GAAG,YAAYb,EAAG,MAAM,CAACM,YAAY,YAAY,CAACR,EAAIoH,GAAG,GAAGlH,EAAG,MAAM,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,aAAab,EAAG,SAAS,CAACM,YAAY,UAAUG,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIglB,WAAW,MAAM,IAAI,CAAChlB,EAAIe,GAAG,aAAab,EAAG,MAAM,CAACM,YAAY,YAAY,CAACR,EAAIoH,GAAG,GAAGlH,EAAG,MAAM,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,aAAab,EAAG,SAAS,CAACM,YAAY,UAAUG,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIglB,WAAW,OAAO,IAAI,CAAChlB,EAAIe,GAAG,YAAYb,EAAG,MAAM,CAACM,YAAY,YAAY,CAACR,EAAIoH,GAAG,GAAGlH,EAAG,MAAM,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,cAAcb,EAAG,SAAS,CAACM,YAAY,UAAUG,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIglB,WAAW,OAAO,IAAI,CAAChlB,EAAIe,GAAG,YAAYb,EAAG,MAAM,CAACM,YAAY,YAAY,CAACR,EAAIoH,GAAG,GAAGlH,EAAG,MAAM,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,eAAeb,EAAG,SAAS,CAACM,YAAY,UAAUG,GAAG,CAAC,MAAQX,EAAIilB,mBAAmB,CAACjlB,EAAIe,GAAG,gBAAgBb,EAAG,QAAQ,CAACob,IAAI,YAAYC,YAAY,CAAC,QAAU,QAAQnb,MAAM,CAAC,KAAO,OAAO,SAAW,GAAG,OAASJ,EAAIklB,eAAiB,IAAMllB,EAAImlB,YAAYxkB,GAAG,CAAC,OAASX,EAAIolB,oBAAqBplB,EAAoB,iBAAEE,EAAG,MAAM,CAACM,YAAY,wBAAwBG,GAAG,CAAC,MAAQX,EAAIqlB,oBAAoB,CAACnlB,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACN,EAAG,MAAM,CAACM,YAAY,wBAAwB,CAACN,EAAG,OAAO,CAACM,YAAY,kBAAkBC,MAAMT,EAAIslB,aAAatlB,EAAIulB,kBAAkB,CAACvlB,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIulB,oBAAoBrlB,EAAG,KAAK,CAACF,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIwlB,mBAAqB,YAAc,KAAOxlB,EAAIulB,sBAAsBrlB,EAAG,SAAS,CAACM,YAAY,YAAYG,GAAG,CAAC,MAAQX,EAAIqlB,oBAAoB,CAACrlB,EAAIe,GAAG,SAASb,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAAGR,EAAIwlB,mBAAycxlB,EAAIM,KAAzbJ,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAAoB,KAAE3d,WAAW,yBAAyBtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAAoB,MAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,OAAQpe,EAAOhB,OAAOuB,MAAM,OAAiB5H,EAAsB,mBAAEE,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACM,YAAY,6BAA6B,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,gBAAgBb,EAAG,OAAO,CAACM,YAAY,oBAAoB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI0lB,mCAAmC1lB,EAAIM,KAAKJ,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,aAAab,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAA0B,OAAxBR,EAAIulB,gBAA0B,CAACrlB,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,SAASb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAA4B,aAAE3d,WAAW,iCAAiCtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,oBAAoB2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAA4B,cAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,eAAgBpe,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAA0B,WAAE3d,WAAW,+BAA+BtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAA0B,YAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,aAAcpe,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAA2B,YAAE3d,WAAW,gCAAgCtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAA2B,aAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,cAAepe,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAA2B,YAAE3d,WAAW,gCAAgCtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAA2B,aAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,cAAepe,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,SAASb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAAsB,OAAE3d,WAAW,2BAA2BtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,SAAS2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAAsB,QAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,SAAUpe,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,SAASb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAAqB,MAAE3d,WAAW,0BAA0BtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,SAAS2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAAqB,OAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,QAASpe,EAAOhB,OAAOuB,MAAM,QAAiC,OAAxB5H,EAAIulB,gBAA0B,CAACrlB,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAA4B,aAAE3d,WAAW,iCAAiCtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,UAAU2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAA4B,cAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,eAAgBpe,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAA0B,WAAE3d,WAAW,+BAA+BtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAA0B,YAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,aAAcpe,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAA0B,WAAE3d,WAAW,+BAA+BtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,UAAU2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAA0B,YAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,aAAcpe,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAAyB,UAAE3d,WAAW,8BAA8BtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,qBAAqB2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAAyB,WAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,YAAape,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAA0B,WAAE3d,WAAW,+BAA+BtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,iBAAiB2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAA0B,YAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,aAAcpe,EAAOhB,OAAOuB,MAAM,QAAiC,QAAxB5H,EAAIulB,gBAA2B,CAACrlB,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,YAAYb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAA8B,eAAE3d,WAAW,mCAAmCtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,oBAAoB2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAA8B,gBAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,iBAAkBpe,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAA2B,YAAE3d,WAAW,gCAAgCtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAA2B,aAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,cAAepe,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAA6B,cAAE3d,WAAW,kCAAkCtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,8BAA8B2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAA6B,eAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,gBAAiBpe,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAA2B,YAAE3d,WAAW,gCAAgCtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,sBAAsB2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAA2B,aAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,cAAepe,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAA6B,cAAE3d,WAAW,kCAAkCtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,2BAA2B2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAA6B,eAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,gBAAiBpe,EAAOhB,OAAOuB,MAAM,QAAiC,SAAxB5H,EAAIulB,gBAA4B,CAACrlB,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAA8B,eAAE3d,WAAW,mCAAmCtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,yCAAyC2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAA8B,gBAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,iBAAkBpe,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAAyB,UAAE3d,WAAW,8BAA8BtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAAyB,WAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,YAAape,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAA4B,aAAE3d,WAAW,iCAAiCtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,yBAAyB2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAA4B,cAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,eAAgBpe,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAAyB,UAAE3d,WAAW,8BAA8BtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,oCAAoC2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAAyB,WAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,YAAape,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAA+B,gBAAE3d,WAAW,oCAAoCtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,gDAAgD2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAA+B,iBAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,kBAAmBpe,EAAOhB,OAAOuB,MAAM,QAAiC,SAAxB5H,EAAIulB,gBAA4B,CAACrlB,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAA0B,WAAE3d,WAAW,+BAA+BtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,8BAA8B2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAA0B,YAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,aAAcpe,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAA0B,WAAE3d,WAAW,+BAA+BtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAA0B,YAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,aAAcpe,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIylB,gBAA0B,WAAE3d,WAAW,+BAA+BtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,QAAQ2H,SAAS,CAAC,MAAS/H,EAAIylB,gBAA0B,YAAG9kB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIylB,gBAAiB,aAAcpe,EAAOhB,OAAOuB,MAAM,QAAQ5H,EAAIM,MAAM,KAAKJ,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAAER,EAAIylB,gBAAgBnI,MAAMhZ,OAAS,EAAGpE,EAAG,MAAM,CAACM,YAAY,kBAAkBR,EAAIuN,GAAIvN,EAAIylB,gBAAqB,MAAE,SAASrmB,EAAKuP,GAAO,OAAOzO,EAAG,MAAM,CAACyD,IAAIgL,EAAMnO,YAAY,aAAa,CAACN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,OAAO,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAG,QAAQb,EAAG,OAAO,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAGf,EAAIgB,GAAG5B,EAAK9D,SAAS4E,EAAG,OAAO,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI2lB,eAAevmB,EAAKZ,OAAO,SAAS0B,EAAG,SAAS,CAACM,YAAY,kBAAkBJ,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI4lB,WAAWjX,EAAM,IAAI,CAAC3O,EAAIe,GAAG,UAAU,GAAG,GAAGf,EAAIM,KAAKJ,EAAG,MAAM,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAI6lB,oBAAoB,CAAC3lB,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uKAAuK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,iBAAiB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,WAAW,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaF,EAAG,IAAI,CAACF,EAAIe,GAAG,YAAYb,EAAG,IAAI,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,mBAAmBb,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,SAAS,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAIqlB,oBAAoB,CAACrlB,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,cAAcJ,MAAM,CAAC,UAAaJ,EAAIwlB,qBAAuBxlB,EAAIylB,gBAAgBnqB,KAAKsa,QAAgD,IAArC5V,EAAIylB,gBAAgBnI,MAAMhZ,QAAc3D,GAAG,CAAC,MAAQX,EAAI8lB,gBAAgB,CAAC9lB,EAAIe,GAAG,oBAAoBf,EAAIM,KAAMN,EAAoB,iBAAEE,EAAG,MAAM,CAACM,YAAY,wBAAwBG,GAAG,CAAC,MAAQX,EAAI+lB,oBAAoB,CAAC7lB,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACN,EAAG,MAAM,CAACM,YAAY,wBAAwB,CAACN,EAAG,OAAO,CAACM,YAAY,uBAAuB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIgmB,iBAAiBC,UAAY,UAAU/lB,EAAG,KAAK,CAACF,EAAIe,GAAG,kBAAkBb,EAAG,SAAS,CAACM,YAAY,YAAYG,GAAG,CAAC,MAAQX,EAAI+lB,oBAAoB,CAAC/lB,EAAIe,GAAG,SAASb,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIgmB,iBAAyB,SAAEle,WAAW,8BAA8BtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIgmB,iBAAyB,UAAGrlB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIgmB,iBAAkB,WAAY3e,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIgmB,iBAAqB,KAAEle,WAAW,0BAA0BtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIgmB,iBAAqB,MAAGrlB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIgmB,iBAAkB,OAAQ3e,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,aAAab,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACR,EAAIuN,GAAIvN,EAAIgmB,iBAA6B,aAAE,SAAS1S,EAAK3E,GAAO,OAAOzO,EAAG,MAAM,CAACyD,IAAIgL,EAAMnO,YAAY,qBAAqB,CAACN,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO0L,EAAc,UAAExL,WAAW,mBAAmBtH,YAAY,8BAA8BJ,MAAM,CAAC,KAAO,OAAO,YAAc,IAAI2H,SAAS,CAAC,MAASuL,EAAc,WAAG3S,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKkN,EAAM,YAAajM,EAAOhB,OAAOuB,MAAM,KAAK1H,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO0L,EAAe,WAAExL,WAAW,oBAAoBtH,YAAY,8BAA8BJ,MAAM,CAAC,KAAO,OAAO,YAAc,IAAI2H,SAAS,CAAC,MAASuL,EAAe,YAAG3S,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKkN,EAAM,aAAcjM,EAAOhB,OAAOuB,MAAM,KAAM5H,EAAIgmB,iBAAiBE,aAAa5hB,OAAS,EAAGpE,EAAG,SAAS,CAACM,YAAY,kBAAkBJ,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAImmB,wBAAwBxX,EAAM,IAAI,CAAC3O,EAAIe,GAAG,SAASf,EAAIM,QAAQ,GAAGJ,EAAG,SAAS,CAACM,YAAY,eAAeG,GAAG,CAAC,MAAQX,EAAIomB,uBAAuB,CAAClmB,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,mBAAmB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaJ,EAAIe,GAAG,aAAa,KAAKb,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAAER,EAAIgmB,iBAAiB1I,MAAMhZ,OAAS,EAAGpE,EAAG,MAAM,CAACM,YAAY,kBAAkBR,EAAIuN,GAAIvN,EAAIgmB,iBAAsB,MAAE,SAAS5mB,EAAKuP,GAAO,OAAOzO,EAAG,MAAM,CAACyD,IAAIgL,EAAMnO,YAAY,aAAa,CAACN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,OAAO,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAG,QAAQb,EAAG,OAAO,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAGf,EAAIgB,GAAG5B,EAAK9D,SAAS4E,EAAG,OAAO,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI2lB,eAAevmB,EAAKZ,OAAO,SAAS0B,EAAG,SAAS,CAACM,YAAY,kBAAkBJ,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIqmB,iBAAiB1X,EAAM,IAAI,CAAC3O,EAAIe,GAAG,UAAU,GAAG,GAAGf,EAAIM,KAAKJ,EAAG,MAAM,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAIsmB,0BAA0B,CAACpmB,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uKAAuK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,iBAAiB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,WAAW,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaF,EAAG,IAAI,CAACF,EAAIe,GAAG,YAAYb,EAAG,IAAI,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,mBAAmBb,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,SAAS,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAI+lB,oBAAoB,CAAC/lB,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,cAAcJ,MAAM,CAAC,UAAYJ,EAAIgmB,iBAAiBC,SAASrQ,SAAW5V,EAAIgmB,iBAAiB1qB,KAAKsa,QAAgD,IAAtC5V,EAAIgmB,iBAAiB1I,MAAMhZ,QAAc3D,GAAG,CAAC,MAAQX,EAAIumB,oBAAoB,CAACvmB,EAAIe,GAAG,oBAAoBf,EAAIM,KAAMN,EAAkB,eAAEE,EAAG,MAAM,CAACM,YAAY,oBAAoBG,GAAG,CAAC,MAAQX,EAAIwmB,kBAAkB,CAACtmB,EAAG,MAAM,CAACM,YAAY,mBAAmBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoBC,MAAMT,EAAIymB,aAAaC,SAAS,CAACxmB,EAAG,OAAO,CAACM,YAAY,oBAAoB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI2mB,YAAY3mB,EAAIymB,aAAanrB,MAAQ,UAAU4E,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,KAAK,CAACF,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,aAAanrB,SAAU0E,EAAIymB,aAAaG,WAAa5mB,EAAIymB,YAAYG,UAAY,EAAG1mB,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,QAAQf,EAAIe,GAAG,OAAOf,EAAIgB,GAAGhB,EAAIymB,YAAYG,WAAW,WAAW5mB,EAAIM,SAASJ,EAAG,SAAS,CAACM,YAAY,YAAYG,GAAG,CAAC,MAAQX,EAAIwmB,kBAAkB,CAACtmB,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAAER,EAAIymB,aAAanJ,OAAStd,EAAIymB,YAAYnJ,MAAMhZ,OAAS,EAAGpE,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,aAAaR,EAAIuN,GAAIvN,EAAIymB,YAAiB,MAAE,SAASrnB,EAAKuP,GAAO,OAAOzO,EAAG,MAAM,CAACyD,IAAIvE,EAAK8G,IAAMyI,EAAMnO,YAAY,YAAYC,MAAM,CAAEoN,OAAQ7N,EAAI6mB,oBAAsBlY,GAAQhO,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI8mB,WAAWnY,EAAM,IAAI,CAACzO,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,OAAO,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI2mB,YAAYvnB,EAAK9D,YAAY4E,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,YAAYJ,MAAM,CAAC,MAAQhB,EAAK9D,OAAO,CAAC0E,EAAIe,GAAGf,EAAIgB,GAAG5B,EAAK9D,MAAQ8D,EAAK2nB,kBAAoB,WAAW7mB,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,OAAO,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI2lB,eAAevmB,EAAKZ,UAAU0B,EAAG,OAAO,CAACM,YAAY,kBAAkB,CAACR,EAAIe,GAAG,OAAOb,EAAG,OAAO,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIgnB,mBAAmB5nB,EAAKoF,gBAAgBtE,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,SAAS,CAACM,YAAY,0BAA0BJ,MAAM,CAAC,MAAQ,MAAMO,GAAG,CAAC,MAAQ,SAAS0G,GAAiC,OAAzBA,EAAOsE,kBAAyB3L,EAAIinB,mBAAmB7nB,EAAK,IAAI,CAACc,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uKAAuK,OAAS,eAAe,eAAe,OAAOF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,iBAAiB,OAAS,eAAe,eAAe,OAAOF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,WAAW,OAAS,eAAe,eAAe,WAAWF,EAAG,SAAS,CAACM,YAAY,wBAAwBJ,MAAM,CAAC,MAAQ,MAAMO,GAAG,CAAC,MAAQ,SAAS0G,GAAiC,OAAzBA,EAAOsE,kBAAyB3L,EAAIknB,iBAAiB9nB,EAAMuP,EAAM,IAAI,CAACzO,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,gVAAgV,OAAS,eAAe,eAAe,cAAc,GAAG,GAAIJ,EAAe,YAAEE,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACN,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAG,aAAef,EAAImnB,qBAAm5BjnB,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,SAAS,CAACM,YAAY,WAAWG,GAAG,CAAC,MAAQX,EAAIonB,yBAAyB,CAACpnB,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,aAAaG,GAAG,CAAC,MAAQX,EAAIqnB,iBAAiB,CAACrnB,EAAIe,GAAG,UAAhlCb,EAAG,SAAS,CAACM,YAAY,WAAWG,GAAG,CAAC,MAAQX,EAAIsnB,iBAAiB,CAACpnB,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,iPAAiP,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,6MAA6M,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaJ,EAAIe,GAAG,YAA2Of,EAAImnB,qBAA8/JjnB,EAAG,MAAM,CAACM,YAAY,yBAAyB,CAACN,EAAG,MAAM,CAACM,YAAY,eAAe,CAA2B,OAAzBR,EAAIymB,YAAYjiB,KAAe,CAACtE,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,SAASb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAqB,aAAEzf,WAAW,0BAA0B1H,MAAM,CAAC,KAAO,OAAO,YAAc,SAAS2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAqB,cAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,eAAgBlgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAmB,WAAEzf,WAAW,wBAAwB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAmB,YAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,aAAclgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAoB,YAAEzf,WAAW,yBAAyB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAoB,aAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,cAAelgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAoB,YAAEzf,WAAW,yBAAyB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAoB,aAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,cAAelgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,SAASb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAe,OAAEzf,WAAW,oBAAoB1H,MAAM,CAAC,KAAO,OAAO,YAAc,SAAS2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAe,QAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,SAAUlgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,SAASb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAc,MAAEzf,WAAW,mBAAmB1H,MAAM,CAAC,KAAO,OAAO,YAAc,SAAS2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAc,OAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,QAASlgB,EAAOhB,OAAOuB,MAAM,QAAkC,OAAzB5H,EAAIymB,YAAYjiB,KAAe,CAACtE,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAqB,aAAEzf,WAAW,0BAA0B1H,MAAM,CAAC,KAAO,OAAO,YAAc,UAAU2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAqB,cAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,eAAgBlgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAmB,WAAEzf,WAAW,wBAAwB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAmB,YAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,aAAclgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAmB,WAAEzf,WAAW,wBAAwB1H,MAAM,CAAC,KAAO,OAAO,YAAc,UAAU2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAmB,YAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,aAAclgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAkB,UAAEzf,WAAW,uBAAuB1H,MAAM,CAAC,KAAO,OAAO,YAAc,UAAU2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAkB,WAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,YAAalgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAmB,WAAEzf,WAAW,wBAAwB1H,MAAM,CAAC,KAAO,OAAO,YAAc,UAAU2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAmB,YAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,aAAclgB,EAAOhB,OAAOuB,MAAM,QAAkC,QAAzB5H,EAAIymB,YAAYjiB,KAAgB,CAACtE,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,YAAYb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAuB,eAAEzf,WAAW,4BAA4B1H,MAAM,CAAC,KAAO,OAAO,YAAc,YAAY2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAuB,gBAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,iBAAkBlgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAoB,YAAEzf,WAAW,yBAAyB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAoB,aAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,cAAelgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAsB,cAAEzf,WAAW,2BAA2B1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAsB,eAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,gBAAiBlgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAoB,YAAEzf,WAAW,yBAAyB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAoB,aAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,cAAelgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAsB,cAAEzf,WAAW,2BAA2B1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAsB,eAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,gBAAiBlgB,EAAOhB,OAAOuB,MAAM,QAAkC,SAAzB5H,EAAIymB,YAAYjiB,KAAiB,CAACtE,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAuB,eAAEzf,WAAW,4BAA4B1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAuB,gBAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,iBAAkBlgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAkB,UAAEzf,WAAW,uBAAuB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAkB,WAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,YAAalgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAqB,aAAEzf,WAAW,0BAA0B1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAqB,cAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,eAAgBlgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAkB,UAAEzf,WAAW,uBAAuB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAkB,WAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,YAAalgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAwB,gBAAEzf,WAAW,6BAA6B1H,MAAM,CAAC,KAAO,OAAO,YAAc,UAAU2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAwB,iBAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,kBAAmBlgB,EAAOhB,OAAOuB,MAAM,QAAkC,SAAzB5H,EAAIymB,YAAYjiB,KAAiB,CAACtE,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAmB,WAAEzf,WAAW,wBAAwB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAmB,YAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,aAAclgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAmB,WAAEzf,WAAW,wBAAwB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAmB,YAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,aAAclgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAmB,WAAEzf,WAAW,wBAAwB1H,MAAM,CAAC,KAAO,QAAQ2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAmB,YAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,aAAclgB,EAAOhB,OAAOuB,MAAM,QAAQ5H,EAAIM,MAAM,KAA/0dJ,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAA2B,OAAzBR,EAAIymB,YAAYjiB,KAAetE,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,SAASb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYe,cAAgB,YAAYtnB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYgB,YAAc,YAAYvnB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYiB,aAAe,YAAYxnB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYkB,aAAe,YAAYznB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,SAASb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYmB,QAAU,YAAY1nB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,SAASb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYoB,OAAS,cAAwC,OAAzB7nB,EAAIymB,YAAYjiB,KAAetE,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYqB,cAAgB,YAAY5nB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYsB,YAAc,YAAY7nB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYuB,YAAc,YAAY9nB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYwB,WAAa,YAAY/nB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYyB,YAAc,cAAwC,QAAzBloB,EAAIymB,YAAYjiB,KAAgBtE,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,YAAYb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAY0B,gBAAkB,YAAYjoB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAY2B,aAAe,YAAYloB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAY4B,eAAiB,YAAYnoB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAY6B,aAAe,YAAYpoB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAY8B,eAAiB,cAAwC,SAAzBvoB,EAAIymB,YAAYjiB,KAAiBtE,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAY+B,gBAAkB,YAAYtoB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYgC,WAAa,YAAYvoB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYiC,cAAgB,YAAYxoB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYkC,WAAa,YAAYzoB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYmC,iBAAmB,cAAwC,SAAzB5oB,EAAIymB,YAAYjiB,KAAiBtE,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYoC,YAAc,YAAY3oB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYqC,YAAc,YAAY5oB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYsC,YAAc,cAAc/oB,EAAIM,SAAq3TN,EAAIM,OAAOJ,EAAG,MAAM,CAA0B,SAAxBF,EAAIgpB,gBAA4B9oB,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,KAAK,CAACF,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAAGR,EAAIipB,iBAA05B/oB,EAAG,MAAM,CAACM,YAAY,wBAAwB,CAACN,EAAG,SAAS,CAACM,YAAY,mBAAmBJ,MAAM,CAAC,UAAYJ,EAAIkpB,mBAAmBvoB,GAAG,CAAC,MAAQX,EAAImpB,qBAAqB,CAACnpB,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,qBAAqBG,GAAG,CAAC,MAAQX,EAAIopB,oBAAoB,CAACppB,EAAIe,GAAG,UAA5pCb,EAAG,SAAS,CAACM,YAAY,mBAAmBG,GAAG,CAAC,MAAQX,EAAIqpB,oBAAoB,CAACnpB,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,iPAAiP,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,6MAA6M,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaJ,EAAIe,GAAG,cAA4Sb,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAAGR,EAAIipB,iBAA8F/oB,EAAG,WAAW,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAmB,gBAAE8H,WAAW,oBAAoBtH,YAAY,iBAAiBJ,MAAM,CAAC,YAAc,cAAc2H,SAAS,CAAC,MAAS/H,EAAmB,iBAAGW,GAAG,CAAC,MAAQ,CAAC,SAAS0G,GAAWA,EAAOhB,OAAO2B,YAAiBhI,EAAIspB,gBAAgBjiB,EAAOhB,OAAOuB,MAAK,EAAE5H,EAAIupB,uBAAxZrpB,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIwpB,oBAAgZ,UAAxBxpB,EAAIgpB,gBAA6B9oB,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,IAAMJ,EAAIwpB,YAAY,IAAMxpB,EAAIymB,aAAanrB,UAAmC,QAAxB0E,EAAIgpB,gBAA2B9oB,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,SAAS,CAACE,MAAM,CAAC,IAAMJ,EAAIwpB,YAAY,MAAQ,OAAO,OAAS,aAAsC,SAAxBxpB,EAAIgpB,gBAA4B9oB,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,OAAO,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAG,UAAUb,EAAG,OAAO,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIwpB,YAAYluB,WAAW4E,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,OAAO,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIwpB,YAAYhlB,WAAWtE,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,OAAO,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAG,UAAUb,EAAG,OAAO,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIwpB,YAAYC,eAAevpB,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,OAAO,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIwpB,YAAYE,WAAWxpB,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,OAAO,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIwpB,YAAYhrB,WAAYwB,EAAe,YAAEE,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACN,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAG,aAAef,EAAImnB,qBAA2GjnB,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,SAAS,CAACM,YAAY,WAAWG,GAAG,CAAC,MAAQX,EAAIonB,yBAAyB,CAACpnB,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,aAAaG,GAAG,CAAC,MAAQX,EAAIqnB,iBAAiB,CAACrnB,EAAIe,GAAG,UAAxSb,EAAG,SAAS,CAACM,YAAY,WAAWG,GAAG,CAAC,MAAQX,EAAIsnB,iBAAiB,CAACtnB,EAAIe,GAAG,UAAyOf,EAAImnB,qBAA8/JjnB,EAAG,MAAM,CAACM,YAAY,yBAAyB,CAACN,EAAG,MAAM,CAACM,YAAY,eAAe,CAA2B,OAAzBR,EAAIymB,YAAYjiB,KAAe,CAACtE,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,SAASb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAqB,aAAEzf,WAAW,0BAA0B1H,MAAM,CAAC,KAAO,OAAO,YAAc,SAAS2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAqB,cAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,eAAgBlgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAmB,WAAEzf,WAAW,wBAAwB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAmB,YAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,aAAclgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAoB,YAAEzf,WAAW,yBAAyB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAoB,aAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,cAAelgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAoB,YAAEzf,WAAW,yBAAyB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAoB,aAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,cAAelgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,SAASb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAe,OAAEzf,WAAW,oBAAoB1H,MAAM,CAAC,KAAO,OAAO,YAAc,SAAS2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAe,QAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,SAAUlgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,SAASb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAc,MAAEzf,WAAW,mBAAmB1H,MAAM,CAAC,KAAO,OAAO,YAAc,SAAS2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAc,OAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,QAASlgB,EAAOhB,OAAOuB,MAAM,QAAkC,OAAzB5H,EAAIymB,YAAYjiB,KAAe,CAACtE,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAqB,aAAEzf,WAAW,0BAA0B1H,MAAM,CAAC,KAAO,OAAO,YAAc,UAAU2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAqB,cAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,eAAgBlgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAmB,WAAEzf,WAAW,wBAAwB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAmB,YAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,aAAclgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAmB,WAAEzf,WAAW,wBAAwB1H,MAAM,CAAC,KAAO,OAAO,YAAc,UAAU2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAmB,YAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,aAAclgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAkB,UAAEzf,WAAW,uBAAuB1H,MAAM,CAAC,KAAO,OAAO,YAAc,UAAU2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAkB,WAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,YAAalgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAmB,WAAEzf,WAAW,wBAAwB1H,MAAM,CAAC,KAAO,OAAO,YAAc,UAAU2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAmB,YAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,aAAclgB,EAAOhB,OAAOuB,MAAM,QAAkC,QAAzB5H,EAAIymB,YAAYjiB,KAAgB,CAACtE,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,YAAYb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAuB,eAAEzf,WAAW,4BAA4B1H,MAAM,CAAC,KAAO,OAAO,YAAc,YAAY2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAuB,gBAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,iBAAkBlgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAoB,YAAEzf,WAAW,yBAAyB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAoB,aAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,cAAelgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAsB,cAAEzf,WAAW,2BAA2B1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAsB,eAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,gBAAiBlgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAoB,YAAEzf,WAAW,yBAAyB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAoB,aAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,cAAelgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAsB,cAAEzf,WAAW,2BAA2B1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAsB,eAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,gBAAiBlgB,EAAOhB,OAAOuB,MAAM,QAAkC,SAAzB5H,EAAIymB,YAAYjiB,KAAiB,CAACtE,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAuB,eAAEzf,WAAW,4BAA4B1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAuB,gBAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,iBAAkBlgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAkB,UAAEzf,WAAW,uBAAuB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAkB,WAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,YAAalgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAqB,aAAEzf,WAAW,0BAA0B1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAqB,cAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,eAAgBlgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAkB,UAAEzf,WAAW,uBAAuB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAkB,WAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,YAAalgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAwB,gBAAEzf,WAAW,6BAA6B1H,MAAM,CAAC,KAAO,OAAO,YAAc,UAAU2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAwB,iBAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,kBAAmBlgB,EAAOhB,OAAOuB,MAAM,QAAkC,SAAzB5H,EAAIymB,YAAYjiB,KAAiB,CAACtE,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAmB,WAAEzf,WAAW,wBAAwB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAmB,YAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,aAAclgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAmB,WAAEzf,WAAW,wBAAwB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAmB,YAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,aAAclgB,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIunB,SAAmB,WAAEzf,WAAW,wBAAwB1H,MAAM,CAAC,KAAO,QAAQ2H,SAAS,CAAC,MAAS/H,EAAIunB,SAAmB,YAAG5mB,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIunB,SAAU,aAAclgB,EAAOhB,OAAOuB,MAAM,QAAQ5H,EAAIM,MAAM,KAA/0dJ,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAA2B,OAAzBR,EAAIymB,YAAYjiB,KAAetE,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,SAASb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYe,cAAgB,YAAYtnB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYgB,YAAc,YAAYvnB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYiB,aAAe,YAAYxnB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYkB,aAAe,YAAYznB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,SAASb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYmB,QAAU,YAAY1nB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,SAASb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYoB,OAAS,cAAwC,OAAzB7nB,EAAIymB,YAAYjiB,KAAetE,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYqB,cAAgB,YAAY5nB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYsB,YAAc,YAAY7nB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYuB,YAAc,YAAY9nB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYwB,WAAa,YAAY/nB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYyB,YAAc,cAAwC,QAAzBloB,EAAIymB,YAAYjiB,KAAgBtE,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,YAAYb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAY0B,gBAAkB,YAAYjoB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAY2B,aAAe,YAAYloB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAY4B,eAAiB,YAAYnoB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAY6B,aAAe,YAAYpoB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAY8B,eAAiB,cAAwC,SAAzBvoB,EAAIymB,YAAYjiB,KAAiBtE,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAY+B,gBAAkB,YAAYtoB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYgC,WAAa,YAAYvoB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYiC,cAAgB,YAAYxoB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYkC,WAAa,YAAYzoB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYmC,iBAAmB,cAAwC,SAAzB5oB,EAAIymB,YAAYjiB,KAAiBtE,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYoC,YAAc,YAAY3oB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYqC,YAAc,YAAY5oB,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIymB,YAAYsC,YAAc,cAAc/oB,EAAIM,SAAq3TN,EAAIM,OAAON,EAAIoH,GAAG,KAAKpH,EAAIM,SAASJ,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,SAAS,CAACM,YAAY,eAAeG,GAAG,CAAC,MAAQX,EAAI2pB,oBAAoB,CAACzpB,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,mBAAmB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaJ,EAAIe,GAAG,gBAAgBb,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,SAAS,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIymB,YAAkB,OAAE3e,WAAW,uBAAuBtH,YAAY,gBAAgBG,GAAG,CAAC,OAAS,CAAC,SAAS0G,GAAQ,IAAIuiB,EAAgB3hB,MAAM4hB,UAAUrZ,OAAOsZ,KAAKziB,EAAOhB,OAAO0jB,QAAQ,SAASC,GAAG,OAAOA,EAAEC,QAAQ,GAAG9W,IAAI,SAAS6W,GAAG,IAAIE,EAAM,WAAYF,EAAIA,EAAEG,OAASH,EAAEpiB,MAAM,OAAOsiB,CAAG,GAAIlqB,EAAIoG,KAAKpG,EAAIymB,YAAa,SAAUpf,EAAOhB,OAAO+jB,SAAWR,EAAgBA,EAAc,GAAG,EAAE5pB,EAAIqqB,sBAAsB,CAACnqB,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,UAAU,CAACJ,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,iBAAiB,CAACJ,EAAIe,GAAG,SAASb,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,cAAc,CAACJ,EAAIe,GAAG,SAASb,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,aAAa,CAACJ,EAAIe,GAAG,eAAeb,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,SAAS,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAIwmB,kBAAkB,CAACxmB,EAAIe,GAAG,QAASf,EAAIymB,aAAanJ,OAAStd,EAAIymB,YAAYnJ,MAAMhZ,OAAS,EAAGpE,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIsqB,iBAAiBtqB,EAAIymB,YAAY,IAAI,CAACzmB,EAAIe,GAAG,UAAUb,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIuqB,aAAavqB,EAAIymB,YAAY,IAAI,CAACzmB,EAAIe,GAAG,gBAAgBf,EAAIM,KAAMN,EAAoB,iBAAEE,EAAG,MAAM,CAACM,YAAY,kBAAkBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQrH,EAAI+kB,kBAAmB,CAAK,KAAK/kB,EAAIM,KAAKJ,EAAG,MAAM,CAACM,YAAY,kCAAkCC,MAAM,CAAE,KAAQT,EAAI+kB,kBAAmB3kB,MAAM,CAAC,UAAY,OAAO,CAACF,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,YAAYb,EAAG,SAAS,CAACM,YAAY,kBAAkBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQrH,EAAI+kB,kBAAmB,CAAK,IAAI,CAAC7kB,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAc,WAAE8H,WAAW,eAAetH,YAAY,eAAeJ,MAAM,CAAC,KAAO,OAAO,YAAc,oBAAoB2H,SAAS,CAAC,MAAS/H,EAAc,YAAGW,GAAG,CAAC,MAAQ,CAAC,SAAS0G,GAAWA,EAAOhB,OAAO2B,YAAiBhI,EAAI2T,WAAWtM,EAAOhB,OAAOuB,MAAK,EAAE5H,EAAIwqB,kBAAkBtqB,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,6IAA6I,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAgBJ,EAAc,WAAEE,EAAG,SAAS,CAACM,YAAY,mBAAmBJ,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQX,EAAIyqB,cAAc,CAACvqB,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeJ,EAAIM,OAAQN,EAAc,WAAEE,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACR,EAAIe,GAAG,OAAOf,EAAIgB,GAAGhB,EAAI0qB,cAAcpmB,QAAQ,WAAWtE,EAAIM,OAAOJ,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,aAAa,CAACR,EAAIoH,GAAG,GAAGlH,EAAG,QAAQF,EAAIuN,GAAIvN,EAAkB,eAAE,SAAS2qB,GAAK,OAAOzqB,EAAG,KAAK,CAACyD,IAAIgnB,EAAIzkB,IAAI,CAAChG,EAAG,KAAK,CAACM,YAAY,YAAY,CAACN,EAAG,OAAO,CAACM,YAAY,WAAWC,MAAMkqB,EAAIjE,UAAUxmB,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAGf,EAAIgB,GAAG2pB,EAAIrvB,SAAUqvB,EAAI/D,WAAa+D,EAAI/D,UAAY,EAAG1mB,EAAG,MAAM,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,MAAMf,EAAIgB,GAAG2pB,EAAI/D,WAAW,UAAU5mB,EAAIM,SAASJ,EAAG,KAAK,CAACF,EAAIe,GAAGf,EAAIgB,GAAG2pB,EAAInmB,SAAStE,EAAG,KAAK,CAACF,EAAIe,GAAGf,EAAIgB,GAAG2pB,EAAIlB,aAAavpB,EAAG,KAAK,CAACF,EAAIe,GAAGf,EAAIgB,GAAG2pB,EAAIjB,SAASxpB,EAAG,KAAK,CAACM,YAAY,OAAO,CAACN,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,KAAKO,GAAG,CAAC,MAAQ,SAAS0G,GAAgC,OAAxBA,EAAOC,iBAAwBtH,EAAI4qB,SAASD,EAAI,IAAI,CAAC3qB,EAAIe,GAAG,QAAS4pB,EAAIrN,OAASqN,EAAIrN,MAAMhZ,OAAS,EAAGpE,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,KAAKO,GAAG,CAAC,MAAQ,SAAS0G,GAAgC,OAAxBA,EAAOC,iBAAwBtH,EAAIsqB,iBAAiBK,EAAI,IAAI,CAAC3qB,EAAIe,GAAG,UAAUb,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,KAAKO,GAAG,CAAC,MAAQ,SAAS0G,GAAgC,OAAxBA,EAAOC,iBAAwBtH,EAAIuqB,aAAaI,EAAI,IAAI,CAAC3qB,EAAIe,GAAG,QAAQb,EAAG,IAAI,CAACM,YAAY,cAAcJ,MAAM,CAAC,KAAO,KAAKO,GAAG,CAAC,MAAQ,SAAS0G,GAAgC,OAAxBA,EAAOC,iBAAwBtH,EAAI6qB,WAAWF,EAAI,IAAI,CAAC3qB,EAAIe,GAAG,WAAW,GAAG,OAAOb,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI8qB,mBAAmB5qB,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,SAAS,CAACM,YAAY,cAAcJ,MAAM,CAAC,SAA+B,IAApBJ,EAAI6U,aAAmBlU,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI+qB,SAAS/qB,EAAI6U,YAAc,EAAE,IAAI,CAAC7U,EAAIe,GAAG,SAASf,EAAIuN,GAAIvN,EAAgB,aAAE,SAASzB,GAAM,OAAO2B,EAAG,SAAS,CAACyD,IAAIpF,EAAKiC,YAAY,iBAAiBC,MAAM,CAAEoN,OAAQtP,IAASyB,EAAI6U,aAAclU,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI+qB,SAASxsB,EAAK,IAAI,CAACyB,EAAIe,GAAGf,EAAIgB,GAAGzC,KAAQ,GAAG2B,EAAG,SAAS,CAACM,YAAY,cAAcJ,MAAM,CAAC,SAAWJ,EAAI6U,cAAgB7U,EAAIiV,YAAYtU,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI+qB,SAAS/qB,EAAI6U,YAAc,EAAE,IAAI,CAAC7U,EAAIe,GAAG,UAAU,UACp1lE,EACI,GAAkB,CAAC,WAAY,IAAIf,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACM,YAAY,cAAc,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,YAAYb,EAAG,MAAM,CAACM,YAAY,sBAC1L,EAAE,WAAY,IAAIR,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,OAAO,CAACM,YAAY,iBAAiBN,EAAG,OAAO,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,SACxK,EAAE,WAAY,IAAIf,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,OAAO,CAACM,YAAY,mBAAmBN,EAAG,OAAO,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,SAC1K,EAAE,WAAY,IAAIf,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,OAAO,CAACM,YAAY,kBAAkBN,EAAG,OAAO,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,UACzK,EAAE,WAAY,IAAIf,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,OAAO,CAACM,YAAY,mBAAmBN,EAAG,OAAO,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,WAC1K,EAAE,WAAY,IAAIf,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,OAAO,CAACM,YAAY,mBAAmBN,EAAG,OAAO,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,WAC1K,EAAE,WAAY,IAAIf,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,OAAO,CAACM,YAAY,iBAAiBN,EAAG,OAAO,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAG,YACxK,EAAE,WAAY,IAAIf,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,IAAI,CAACF,EAAIe,GAAG,sCAC/G,EAAE,WAAY,IAAIf,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAIe,GAAG,SAASb,EAAG,KAAK,CAACF,EAAIe,GAAG,QAAQb,EAAG,KAAK,CAACF,EAAIe,GAAG,SAASb,EAAG,KAAK,CAACF,EAAIe,GAAG,UAAUb,EAAG,KAAK,CAACF,EAAIe,GAAG,WAC3L,GCLO,MAAMiqB,GAAa,CAExB1lB,oBAAqB,sBACrB2lB,qBAAsB,uBACtBC,sBAAuB,wBAGvBC,gBAAiB,kBACjBC,gBAAiB,kBACjBC,gBAAiB,kBACjBC,qBAAsB,uBACtBC,uBAAwB,yBAGxBC,aAAc,eACdC,aAAc,eACdC,aAAc,eAGdC,kBAAmB,oBACnBC,kBAAmB,oBACnBC,kBAAmB,oBACnBC,qBAAsB,uBAGtBC,kBAAmB,oBACnBC,kBAAmB,oBACnBC,kBAAmB,qBAOrB,MAAMC,GACJ,WAAAhS,GACEja,KAAKksB,UAAY,IAAIC,IACrBnsB,KAAKosB,eAAiB,IAAID,GAC5B,CASA,EAAAzrB,CAAG2rB,EAAWliB,EAAS2f,EAAU,CAAC,GAC3B9pB,KAAKksB,UAAUI,IAAID,IACtBrsB,KAAKksB,UAAU5W,IAAI+W,EAAW,IAGhCrsB,KAAKksB,UAAU9tB,IAAIiuB,GAAW5lB,KAAK,CACjC0D,UACAoiB,SAAUzC,EAAQyC,UAAY,GAElC,CAKA,GAAA7mB,CAAI2mB,EAAWliB,GACb,IAAKnK,KAAKksB,UAAUI,IAAID,GAAY,OAEpC,MAAMG,EAAWxsB,KAAKksB,UAAU9tB,IAAIiuB,GAC9B3d,EAAQ8d,EAASC,UAAUC,GAAKA,EAAEviB,UAAYA,GAChDuE,GAAS,GACX8d,EAAS9K,OAAOhT,EAAO,EAE3B,CAOA,IAAAie,CAAKN,EAAW5vB,GACd,IAAKuD,KAAKksB,UAAUI,IAAID,GAAY,OAEpC,MAAMG,EAAWxsB,KAAKksB,UAAU9tB,IAAIiuB,GAEpCG,EAAS/oB,QAAQ,EAAG0G,UAASoiB,eAC3B,GAAIA,EAAW,EAAG,CAEhB,MAAMK,EAAU,GAAGP,KAAaliB,EAAQ9O,MAAQ,cAE5C2E,KAAKosB,eAAeE,IAAIM,IAC1BC,aAAa7sB,KAAKosB,eAAehuB,IAAIwuB,IAGvC,MAAMrgB,EAAQ5F,WAAW,KACvBwD,EAAQ1N,GACRuD,KAAKosB,eAAeluB,OAAO0uB,IAC1BL,GAEHvsB,KAAKosB,eAAe9W,IAAIsX,EAASrgB,EACnC,MAEEpC,EAAQ1N,IAGd,CAKA,KAAAqwB,GACE9sB,KAAKksB,UAAUY,QACf9sB,KAAKosB,eAAe3oB,QAAQ8I,GAASsgB,aAAatgB,IAClDvM,KAAKosB,eAAeU,OACtB,EAIK,MAAMC,GAAW,IAAId,GAG5B,QACE,OAAAe,CAAQC,GAENA,EAAIrD,UAAUzkB,UAAY4nB,GAC1BE,EAAIrD,UAAUxkB,YAAc2lB,EAC9B,GCzHK,SAASrF,GAAewH,GAC7B,GAAc,IAAVA,EAAa,MAAO,UACxB,MAAMC,EAAI,KACJC,EAAQ,CAAC,QAAS,KAAM,KAAM,MAC9Bnd,EAAI6B,KAAKyQ,MAAMzQ,KAAKvV,IAAI2wB,GAASpb,KAAKvV,IAAI4wB,IAChD,OAAOE,YAAYH,EAAQpb,KAAKE,IAAImb,EAAGld,IAAIqd,QAAQ,IAAM,IAAMF,EAAMnd,EACvE,CAKO,SAASyW,GAAY6G,GAC1B,MAAMlyB,EAAOkyB,GAAY,UACnBC,EAAYC,GAAiBpyB,GAAMua,cACnC8X,EAAU,CACd,IAAO,KACP,IAAO,KACP,KAAQ,KACR,IAAO,KACP,KAAQ,KACR,IAAO,MACP,KAAQ,MACR,IAAO,KACP,GAAM,KACN,IAAO,MACP,KAAQ,MACR,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,KAAM,KACN,IAAO,KACP,GAAM,KACN,GAAM,KACN,IAAO,KACP,KAAQ,KACR,IAAO,KACP,KAAQ,KACR,IAAO,KACP,GAAM,KACN,GAAM,KACN,KAAQ,KACR,IAAO,MAET,OAAOA,EAAQF,IAAc,IAC/B,CAKO,SAASC,GAAiBE,GAC/B,OAAOA,EAAS9Q,MAAM,KAAK+Q,OAAS,EACtC,CAKO,SAASC,GAAYL,GAC1B,MAAMM,EAAU,CACd,IAAO,kBACP,IAAO,qBACP,KAAQ,0EACR,IAAO,2BACP,KAAQ,oEACR,IAAO,gCACP,KAAQ,4EACR,IAAO,aACP,GAAM,gBACN,IAAO,aACP,KAAQ,aACR,IAAO,YACP,IAAO,YACP,IAAO,gBACP,IAAO,YACP,IAAO,YACP,IAAO,kBACP,IAAO,aACP,IAAO,YACP,IAAO,kBACP,IAAO,+BACP,KAAM,8BACN,IAAO,WACP,KAAQ,mBACR,IAAO,WACP,KAAQ,YACR,IAAO,WACP,GAAM,gBACN,GAAM,0BAER,OAAOA,EAAQN,EAAU5X,gBAAkB,0BAC7C,CAKO,SAASmR,GAAmBgH,GACjC,MAAMC,EAAU,CACd,kBAAmB,QACnB,qBAAsB,SACtB,0EAA2E,SAC3E,2BAA4B,UAC5B,oEAAqE,UACrE,gCAAiC,eACjC,4EAA6E,eAC7E,aAAc,OACd,gBAAiB,aACjB,aAAc,SACd,YAAa,QACb,YAAa,QACb,gBAAiB,QACjB,YAAa,QACb,YAAa,QACb,kBAAmB,QACnB,aAAc,QACd,YAAa,QACb,kBAAmB,SACnB,+BAAgC,SAChC,8BAA+B,QAC/B,WAAY,QACZ,mBAAoB,SACpB,WAAY,QACZ,YAAa,SACb,WAAY,QACZ,4BAA6B,YAE/B,OAAOA,EAAQD,IAAa,MAC9B,CAKO,SAAS1I,GAAa9gB,GAC3B,MAAMypB,EAAU,CACd,KAAM,MACN,KAAM,SACN,MAAO,UACP,OAAQ,QACR,OAAQ,UAEV,OAAOA,EAAQzpB,IAAS,KAC1B,CAKO,SAAS0pB,GAAc1pB,GAC5B,MAAM2pB,EAAY,CAChB,KAAM,kBACN,KAAM,kBACN,MAAO,wBACP,OAAQ,0BACR,OAAQ,mBAEV,OAAOA,EAAU3pB,IAAS,GAC5B,CA8BO,SAAS4pB,GAAyBZ,EAAUQ,GACjD,MAAMK,GAAY,IAAIjf,MAAOkf,eAAe,SACtCtb,EAAU,gCAEXwa,UACDQ,GAAY,eACVK,4EAON,OAAOrb,CACT,CC5MO,SAASub,GAAmBC,EAAe3Z,EAAa7W,GAC7D,IAEE,MAAMywB,EAAkBD,EAAcrb,IAAIub,IACxC,GAAIA,EAAYpR,OAASrV,MAAMC,QAAQwmB,EAAYpR,OAAQ,CACzD,MAAMmR,EAAkBC,EAAYpR,MAAMnK,IAAI/T,IAC5C,MAAMuvB,EAAiB,IAAKvvB,GAO5B,OANIA,EAAKwvB,YAAcxvB,EAAKwvB,sBAAsBC,cAEhDF,EAAeC,WAAa3mB,MAAM4K,KAAK,IAAImR,WAAW5kB,EAAKwvB,qBAGtDD,EAAevvB,KACfuvB,IAET,MAAO,IAAKD,EAAapR,MAAOmR,EAClC,CACA,OAAOC,IAGHI,EAAa,CACjBN,cAAeC,EACf5Z,YAAaA,GAETka,EAAa/wB,EAAY,wBAAwBA,IAAc,uBACrE7B,aAAa+G,QAAQ6rB,EAAY9sB,KAAKmB,UAAU0rB,IAChDvyB,QAAQC,IAAI,yBAAyBwB,KACvC,CAAE,MAAOhB,GACPT,QAAQS,MAAM,aAAcA,EAC9B,CACF,CAKO,SAASgyB,GAAqBhxB,GACnC,IACE,MAAM+wB,EAAa/wB,EAAY,wBAAwBA,IAAc,uBAC/DixB,EAAQ9yB,aAAaC,QAAQ2yB,GACnC,GAAIE,EAAO,CACT,MAAMvyB,EAAOuF,KAAKC,MAAM+sB,GACxB,GAAIvyB,EAAK8xB,eAAiBvmB,MAAMC,QAAQxL,EAAK8xB,eAAgB,CAE3D,MAAMU,EAAoBxyB,EAAK8xB,cAAcrb,IAAIub,IAC/C,GAAIA,EAAYpR,OAASrV,MAAMC,QAAQwmB,EAAYpR,OAAQ,CACzD,MAAM4R,EAAoBR,EAAYpR,MAAMnK,IAAI/T,IAC9C,MAAM+vB,EAAmB,IAAK/vB,GAC9B,GAAIA,EAAKwvB,YAAc3mB,MAAMC,QAAQ9I,EAAKwvB,YAAa,CAErD,MAAMQ,EAAa,IAAIpL,WAAW5kB,EAAKwvB,YACvCO,EAAiBP,WAAaQ,EAAWC,MAC3C,CACA,OAAOF,IAET,MAAO,IAAKT,EAAapR,MAAO4R,EAClC,CACA,OAAOR,IAGT,OADAnyB,QAAQC,IAAI,yBAAyBwB,MAC9B,CACLwwB,cAAeU,EACfra,YAAanY,EAAKmY,aAAe,EAErC,CACF,CACA,OAAO,IACT,CAAE,MAAO7X,GAEP,OADAT,QAAQS,MAAM,aAAcA,GACrB,IACT,CACF,CCpEO,SAASiqB,GAAmB7nB,GACjC,IAEE,IAAIkwB,EAAW,KAEf,GAAIlwB,EAAKwvB,WAEPU,EAAWlwB,EAAKwvB,WAChBryB,QAAQC,IAAI,uBAAwB4C,EAAK9D,KAAM,kBAAmB8D,EAAKwvB,WAAWW,gBAC7E,MAAInwB,EAAKA,MAAQA,EAAKA,gBAAgBwjB,MAItC,CACLrmB,QAAQE,KAAK,kBAAmB2C,GAGhC,MAAMouB,EAAWpuB,EAAK9D,MAAQ8D,EAAK2nB,kBAAoB,OACjDyI,EAAgB9B,GAAiBF,GACjCiC,EAAqBrB,GAAyBZ,EAAUpuB,EAAKoF,MAE7Dke,EAAO,IAAIwB,KAAK,CAACuL,GAAqB,CAC1CjrB,KAAMpF,EAAKoF,MAAQspB,GAAY0B,IAAkB,eAE7CzyB,EAAM2yB,IAAIC,gBAAgBjN,GAE1BkN,EAAI9qB,SAASsN,cAAc,KAUjC,OATAwd,EAAEpyB,KAAOT,EACT6yB,EAAEC,SAAWrC,EACboC,EAAEtd,MAAMuI,QAAU,OAClB/V,SAASyN,KAAKC,YAAYod,GAC1BA,EAAEzS,QACFrY,SAASyN,KAAKud,YAAYF,GAC1BF,IAAIK,gBAAgBhzB,QAEpBmO,MAAM,MAAMsiB,sCAEd,CA1BE8B,EAAWlwB,EAAKA,KAChB7C,QAAQC,IAAI,kBAAmB4C,EAAK9D,KAyBtC,CAGA,IAAKg0B,EAGH,OAFA/yB,QAAQS,MAAM,UAAWoC,QACzB8L,MAAM,eAKR,MAAMwX,EAAO,IAAIwB,KAAK,CAACoL,GAAW,CAAE9qB,KAAMpF,EAAKoF,MAAQ,6BACjDzH,EAAM2yB,IAAIC,gBAAgBjN,GAE1BkN,EAAI9qB,SAASsN,cAAc,KACjCwd,EAAEpyB,KAAOT,EACT6yB,EAAEC,SAAWzwB,EAAK9D,MAAQ8D,EAAK2nB,kBAAoB,OACnD6I,EAAEtd,MAAMuI,QAAU,OAClB/V,SAASyN,KAAKC,YAAYod,GAC1BA,EAAEzS,QACFrY,SAASyN,KAAKud,YAAYF,GAC1BF,IAAIK,gBAAgBhzB,GAEpBR,QAAQC,IAAI,UAAW4C,EAAK9D,KAC9B,CAAE,MAAO0B,GACPT,QAAQS,MAAM,WAAYA,GAC1BkO,MAAM,WACR,CACF,CAKO,SAASof,GAAiBoE,GAC/B,IAEE,IAAKA,EAAYpR,OAAsC,IAA7BoR,EAAYpR,MAAMhZ,OAE1C,YADA4G,MAAM,YAIR3O,QAAQC,IAAI,aAAckyB,EAAYpR,MAAMhZ,OAAQ,OAGpDoqB,EAAYpR,MAAM5Z,QAAQ,CAACtE,EAAMuP,KAC/B/H,WAAW,KACT,IACEqgB,GAAmB7nB,EACrB,CAAE,MAAOpC,GACPT,QAAQS,MAAM,QAAQoC,EAAK9D,WAAY0B,EACzC,GACS,IAAR2R,KAILzD,MAAM,QAAQwjB,EAAYpR,MAAMhZ,oBAElC,CAAE,MAAOtH,GACPT,QAAQS,MAAM,WAAYA,GAC1BkO,MAAM,aACR,CACF,CAKO,SAASqf,GAAanrB,GAC3B,IAEE,GAAIA,EAAKke,OAASle,EAAKke,MAAMhZ,OAAS,EAGpC,YADAgmB,GAAiBlrB,GAKnB,MAAM4wB,EAAiB5wB,EAAKke,OAA+B,IAAtBle,EAAKke,MAAMhZ,OAAelF,EAAKke,MAAM,GAAKle,EAC/E6nB,GAAmB+I,EACrB,CAAE,MAAOhzB,GACPT,QAAQS,MAAM,WAAYA,GAC1BkO,MAAM,WACR,CACF,CAKO,SAAS+kB,GAAa7wB,EAAM8wB,GACjC,GAAI9wB,EAAKA,KAAM,CACb,MAAMme,EAAS,IAAIC,WACnBD,EAAOE,OAAUlb,IACf2tB,EAAS3tB,EAAE8D,OAAOjC,SAEpBmZ,EAAO4S,WAAW/wB,EAAKA,KAAM,QAC/B,KAAO,CAEL,MAAM4T,EAAU,OAAO5T,EAAK9D,YAAY8D,EAAKoF,aAAapF,EAAKqqB,kBAAkBrqB,EAAKsqB,2CACtFwG,EAASld,EACX,CACF,CAKO,SAASod,GAAchxB,EAAM8wB,GAClC,GAAI9wB,EAAKA,KAAM,CACb,MAAMme,EAAS,IAAIC,WACnBD,EAAOE,OAAUlb,IACf2tB,EAAS3tB,EAAE8D,OAAOjC,SAEpBmZ,EAAOK,cAAcxe,EAAKA,KAC5B,KAAO,CAEL,MAAMixB,EAAc,yWACpBH,EAASG,EACX,CACF,CAKO,SAASC,GAAYlxB,EAAM8wB,GAChC,MAAMnzB,EAAMqC,EAAKA,KAAOswB,IAAIC,gBAAgBvwB,EAAKA,MAAQ,IACzD8wB,EAASnzB,EACX,CAKO,SAASwzB,GAAYnxB,GAC1B,MAAO,CACL9D,KAAM8D,EAAK9D,KACXkJ,KAAMpF,EAAKoF,KACXilB,SAAUrqB,EAAKqqB,SACfC,KAAMtqB,EAAKsqB,KACXlrB,KAAMY,EAAKA,KAAOumB,GAAevmB,EAAKA,KAAKZ,MAAQ,OAEvD,CClLA,MAAM,GAAM,WAAa,CACvB3D,QAAS,GACTC,QAASH,EAAA,GAAOC,IAAIE,QACpBuB,QAAS,CACP,eAAgB,mBAChB,OAAU,oBAEZP,iBAAiB,IAInB,GAAIC,aAAaC,QAAQC,IACvBtB,IAEE,MAAMuB,EAAQC,aAAaC,QAAQ,gBAenC,OAdIF,IACFvB,EAAO0B,QAAQC,cAAgB,UAAUJ,KAIvCvB,EAAO+B,gBAAgBC,iBAClBhC,EAAO0B,QAAQ,gBACtBE,QAAQC,IAAI,uBAAwB7B,EAAOkC,QAAQC,cAAenC,EAAOoC,KACzER,QAAQC,IAAI,cAAe7B,EAAO+B,KAAK8zB,OAAO,UAAUlsB,QAAU,EAAG,SAErE/H,QAAQC,IAAI,YAAa7B,EAAOkC,QAAQC,cAAenC,EAAOoC,KAC9DR,QAAQC,IAAI,QAAS7B,EAAO+B,OAGvB/B,GAETqC,IACET,QAAQS,MAAM,WAAYA,GACnBC,QAAQC,OAAOF,KAK1B,GAAIjB,aAAaoB,SAASlB,IACxBkB,IACEZ,QAAQC,IAAI,YAAaW,EAASC,OAAQD,EAAST,MAC5CS,EAAST,MAElBM,IAGE,GAFAT,QAAQS,MAAM,YAAaA,GAEvBA,EAAMG,SAAU,CAClB,MAAM,OAAEC,EAAM,KAAEV,GAASM,EAAMG,SAW/B,OAVAZ,QAAQS,MAAM,SAAUI,EAAQV,GAEjB,MAAXU,IAEFjB,aAAakB,WAAW,gBACxBlB,aAAakB,WAAW,iBACxBlB,aAAakB,WAAW,aACxBC,OAAOC,SAASC,KAAO,UAGlBP,QAAQC,OAAOR,GAAQM,EAChC,CAAO,OAAIA,EAAMhB,SACfO,QAAQS,MAAM,QAASA,EAAMhB,SACtBiB,QAAQC,OAAO,IAAIO,MAAM,qBAEhClB,QAAQS,MAAM,QAASA,EAAMU,SACtBT,QAAQC,OAAOF,MAMrB,MAAMyzB,GAAe,CAC1B,KAAM,QACN,KAAM,SACN,MAAO,UACP,OAAQ,QACR,OAAQ,QACR,KAAM,SACN,OAAQ,UAIGC,GAAe,CAC1B,MAAS,KACT,OAAU,KACV,QAAW,MACX,MAAS,OACT,OAAU,OACV,OAAU,SAYCC,GAAiB,CAC5B,MAAS,KACT,aAAgB,MAChB,UAAa,MACb,SAAY,OAIDC,GAAe,CAC1B,MAAS,eACT,aAAgB,gBAChB,UAAa,mBACb,SAAY,mBAIDC,GAAe,CAW1B,iBAAAC,CAAkBC,GAMhB,OALAx0B,QAAQC,IAAI,6CAA8Cu0B,GAEtDN,GAAaM,EAAgBvsB,QAC/BusB,EAAgBvsB,KAAOisB,GAAaM,EAAgBvsB,OAE/C,GAAI1G,KAAK,6BAA8BizB,EAChD,EAQA,sBAAAC,CAAuBhzB,EAAWO,EAAO,EAAGC,EAAO,IAEjD,OADAjC,QAAQC,IAAI,wDAAyDwB,GAC9D,GAAIK,IAAI,sCAAsCL,IAAa,CAChES,OAAQ,CAAEF,OAAMC,OAAMyyB,OAAQ,YAAaC,UAAW,SAE1D,EAOA,uBAAAC,CAAwBC,EAAeh0B,GAErC,OADAb,QAAQC,IAAI,qDAAsD40B,EAAe,MAAOh0B,GACjF,GAAI2B,MAAM,uBAAuBqyB,WAAwB,KAAM,CACpE3yB,OAAQ,CAAErB,WAEd,EAMA,oBAAAi0B,CAAqBD,GAEnB,OADA70B,QAAQC,IAAI,kDAAmD40B,GACxD,GAAI/yB,IAAI,uBAAuB+yB,IACxC,EAMA,iBAAAE,CAAkBF,GAEhB,OADA70B,QAAQC,IAAI,6CAA8C40B,GACnD,GAAIjzB,OAAO,uBAAuBizB,IAC3C,EAQA,kBAAAG,CAAmB1yB,EAASN,EAAO,EAAGC,EAAO,IAE3C,OADAjC,QAAQC,IAAI,+CAAgDqC,GACrD,GAAIR,IAAI,oCAAqC,CAClDI,OAAQ,CAAEI,UAASN,OAAMC,SAE7B,EAMA,iBAAAgzB,CAAkBC,GAEhB,OADAl1B,QAAQC,IAAI,iDAAkDi1B,GACvD,GAAI3zB,KAAK,mCAAoC2zB,EACtD,EAOA,UAAAzM,CAAW5lB,EAAMgyB,GACf70B,QAAQC,IAAI,mDAAoD40B,EAAe,YAAahyB,GAAM9D,MAClG,MAAM+D,EAAW,IAAI1C,SAGrB,OAFA0C,EAASC,OAAO,OAAQF,GACxBC,EAASC,OAAO,gBAAiB8xB,GAC1B,GAAItzB,KAAK,kCAAmCuB,EACrD,EAOA,gBAAAqyB,CAAiBpU,EAAO8T,GACtB70B,QAAQC,IAAI,yDAA0D40B,EAAe,aAAc9T,GAAOhZ,QAC1G,MAAMjF,EAAW,IAAI1C,SAKrB,OAJA2gB,EAAM5Z,QAAQtE,IACZC,EAASC,OAAO,QAASF,KAE3BC,EAASC,OAAO,gBAAiB8xB,GAC1B,GAAItzB,KAAK,wCAAyCuB,EAC3D,EAMA,mBAAAsyB,CAAoBP,GAElB,OADA70B,QAAQC,IAAI,8DAA+D40B,GACpE,GAAI/yB,IAAI,4BAA4B+yB,UAC7C,EAMA,UAAAvG,CAAW+G,GAET,OADAr1B,QAAQC,IAAI,0CAA2Co1B,GAChD,GAAIzzB,OAAO,4BAA4ByzB,IAChD,EAOA,kBAAAC,CAAmBD,EAAQE,EAAgB,MAEzC,OADAv1B,QAAQC,IAAI,uDAAwDo1B,GAC7D,GAAIvzB,IAAI,4BAA4BuzB,iBAAuB,CAChEnzB,OAAQ,CAAEqzB,kBAEd,EAOA,kBAAAC,CAAmBX,EAAeY,GAEhC,OADAz1B,QAAQC,IAAI,6DAA8D40B,EAAe,UAAWY,GAC7F,GAAIjzB,MAAM,8BAA8BqyB,WAAwBY,EACzE,GC9PK,SAASC,GAAmB5yB,EAAUrB,EAAWk0B,GAEtD,MAAMC,EAAM,CACVn0B,UAAWA,EACXuO,MAAOlN,EAAS/D,KAChBkJ,KAAMisB,GAAayB,IAAa,SAChC90B,OAAQ,SAIJg1B,EAAa,CAAC,EAuCpB,MApCiB,OAAbF,GACE7yB,EAASmoB,eAAc4K,EAAWC,QAAUhzB,EAASmoB,aAAa1K,MAAM,KAAK3J,IAAIyH,GAAKA,EAAEhF,SACxFvW,EAASooB,aAAY2K,EAAW7lB,MAAQlN,EAASooB,YACjDpoB,EAASqoB,cAAa0K,EAAWE,QAAUjzB,EAASqoB,aACpDroB,EAASsoB,cAAayK,EAAWzK,YAAchO,SAASta,EAASsoB,cAAgB,MACjFtoB,EAASuoB,SAAQwK,EAAWxK,OAASvoB,EAASuoB,QAC9CvoB,EAASwoB,QAAOuK,EAAWvK,MAAQxoB,EAASwoB,QAC1B,OAAbqK,GACL7yB,EAASyoB,eAAcsK,EAAWG,SAAWlzB,EAASyoB,cACtDzoB,EAAS0oB,aAAYqK,EAAWrK,WAAa1oB,EAAS0oB,YACtD1oB,EAAS2oB,aAAYoK,EAAWpK,WAAa3oB,EAAS2oB,YACtD3oB,EAAS4oB,YAAWmK,EAAWnK,UAAY5oB,EAAS4oB,UAAUnL,MAAM,KAAK3J,IAAIyH,GAAKA,EAAEhF,SACpFvW,EAAS6oB,aAAYkK,EAAWlK,WAAa7oB,EAAS6oB,aACpC,QAAbgK,GACL7yB,EAAS8oB,iBAAgBiK,EAAW72B,QAAU8D,EAAS8oB,gBACvD9oB,EAAS+oB,cAAagK,EAAWhK,YAAc/oB,EAAS+oB,aACxD/oB,EAASgpB,gBAAe+J,EAAWI,OAASnzB,EAASgpB,eACrDhpB,EAASipB,cAAa8J,EAAW5zB,KAAOa,EAASipB,aACjDjpB,EAASkpB,gBAAe6J,EAAWK,OAASpzB,EAASkpB,gBACnC,SAAb2J,GACL7yB,EAASmpB,iBAAgB4J,EAAWM,UAAYrzB,EAASmpB,gBACzDnpB,EAASopB,YAAW2J,EAAW3J,UAAYppB,EAASopB,WACpDppB,EAASqpB,eAAc0J,EAAW72B,QAAU8D,EAASqpB,cACrDrpB,EAASspB,YAAWyJ,EAAWzJ,UAAYtpB,EAASspB,WACpDtpB,EAASupB,kBAAiBwJ,EAAWxJ,gBAAkBvpB,EAASupB,kBAC9C,SAAbsJ,IACL7yB,EAASwpB,aAAYuJ,EAAWvJ,WAAaxpB,EAASwpB,YACtDxpB,EAASypB,aAAYsJ,EAAWtJ,WAAazpB,EAASypB,YACtDzpB,EAAS0pB,aAAYqJ,EAAWrJ,WAAa1pB,EAAS0pB,aAIxDvlB,OAAOC,KAAK2uB,GAAY9tB,OAAS,IACnC6tB,EAAIC,WAAaA,GAGZD,CACT,CAOO,SAASQ,GAAeR,GAG7B,IAAI1I,EAAW,KAIbA,EADE0I,EAAI7d,aAA0C,kBAApB6d,EAAI7d,aAAuD,KAA3B6d,EAAI7d,YAAYsB,OACjEuc,EAAI7d,YAGJ6d,EAAIS,SACJT,EAAI1I,UACJ0I,EAAIU,UACJV,EAAIW,WAIZrJ,GAAyB,SAAbA,GAA4C,kBAAbA,GAAyBA,EAAS7T,MAA4B,KAApB6T,EAAS7T,UAE7Fuc,EAAIY,aAA0C,kBAApBZ,EAAIY,YAChCtJ,EAAW0I,EAAIY,YAAYz3B,MAAQ62B,EAAIY,YAAYF,UAAYV,EAAIY,YAAY9xB,SACtEkxB,EAAIa,eAA8C,kBAAtBb,EAAIa,cACzCvJ,EAAW0I,EAAIa,cAAc13B,MAAQ62B,EAAIa,cAAcH,UAAYV,EAAIa,cAAc/xB,SAC5EkxB,EAAIc,aAA0C,kBAApBd,EAAIc,cACvCxJ,EAAW0I,EAAIc,YAAY33B,MAAQ62B,EAAIc,YAAYJ,UAAYV,EAAIc,YAAYhyB,aAM9EwoB,GAAyB,SAAbA,GAA4C,kBAAbA,GAA6C,KAApBA,EAAS7T,UAEhF6T,EAAW,QAIRA,IACHA,EAAW,QAGb,MAAMyJ,EAAe,CACnBhtB,GAAIisB,EAAIjsB,GACR5K,KAAM62B,EAAI5lB,MACV/H,KAAMksB,GAAayB,EAAI3tB,OAAS2tB,EAAI3tB,KACpCkiB,QAASpB,GAAaoL,GAAayB,EAAI3tB,OAAS2tB,EAAI3tB,MACpDilB,SAAUA,EACV5Q,UAAWsZ,EAAItZ,UACf6Q,KAAMyJ,GAAehB,EAAIrZ,WACzB8N,UAAWuL,EAAIvL,WAAa,EAC5BtJ,MAAO,IAIT,GAAI6U,EAAIC,WAAY,CAClB,MAAMgB,EAASjB,EAAIC,WAEF,UAAbD,EAAI3tB,MACN0uB,EAAa1L,aAAevf,MAAMC,QAAQkrB,EAAOf,SAAWe,EAAOf,QAAQgB,KAAK,MAAQD,EAAOf,QAC/Fa,EAAazL,WAAa2L,EAAO7mB,MACjC2mB,EAAaxL,YAAc0L,EAAOd,QAClCY,EAAavL,YAAcyL,EAAOzL,YAClCuL,EAAatL,OAASwL,EAAOxL,OAC7BsL,EAAarL,MAAQuL,EAAOvL,OACN,WAAbsK,EAAI3tB,MACb0uB,EAAapL,aAAesL,EAAOb,SACnCW,EAAanL,WAAaqL,EAAOrL,WACjCmL,EAAalL,WAAaoL,EAAOpL,WACjCkL,EAAajL,UAAYhgB,MAAMC,QAAQkrB,EAAOnL,WAAamL,EAAOnL,UAAUoL,KAAK,MAAQD,EAAOnL,UAChGiL,EAAahL,WAAakL,EAAOlL,YACX,YAAbiK,EAAI3tB,MACb0uB,EAAa/K,eAAiBiL,EAAO73B,QACrC23B,EAAa9K,YAAcgL,EAAOhL,YAClC8K,EAAa7K,cAAgB+K,EAAOZ,OACpCU,EAAa5K,YAAc8K,EAAO50B,KAClC00B,EAAa3K,cAAgB6K,EAAOX,QACd,UAAbN,EAAI3tB,MACb0uB,EAAa1K,eAAiB4K,EAAOV,UACrCQ,EAAazK,UAAY2K,EAAO3K,UAChCyK,EAAaxK,aAAe0K,EAAO73B,QACnC23B,EAAavK,UAAYyK,EAAOzK,UAChCuK,EAAatK,gBAAkBwK,EAAOxK,iBAChB,WAAbuJ,EAAI3tB,OACb0uB,EAAarK,WAAauK,EAAOvK,WACjCqK,EAAapK,WAAasK,EAAOtK,WACjCoK,EAAanK,WAAaqK,EAAOrK,WAErC,CAEA,OAAOmK,CACT,CAKA,SAASC,GAAeG,GACtB,IAAKA,EAAY,MAAO,GAExB,IACE,MAAMvkB,EAAO,IAAIK,KAAKkkB,GACtB,OAAOvkB,EAAKuf,eAAe,QAAS,CAClCjf,KAAM,UACNE,MAAO,UACPb,IAAK,UACL6kB,KAAM,UACNC,OAAQ,WAEZ,CAAE,MAAOjxB,GACP,OAAO+wB,CACT,CACF,CAQO,SAASG,GAA8BlM,EAAUmM,GACtD,MAAM1B,EAAe,CAAC,EAiCtB,MA/BwB,OAApB0B,GACEnM,EAASC,eAAcwK,EAAaK,QAAU9K,EAASC,aAAa1K,MAAM,KAAK3J,IAAIyH,GAAKA,EAAEhF,SAC1F2R,EAASE,aAAYuK,EAAazlB,MAAQgb,EAASE,YACnDF,EAASG,cAAasK,EAAaM,QAAU/K,EAASG,aACtDH,EAASI,cAAaqK,EAAarK,YAAchO,SAAS4N,EAASI,cAAgB,MACnFJ,EAASK,SAAQoK,EAAapK,OAASL,EAASK,QAChDL,EAASM,QAAOmK,EAAanK,MAAQN,EAASM,QACrB,OAApB6L,GACLnM,EAASO,eAAckK,EAAaO,SAAWhL,EAASO,cACxDP,EAASQ,aAAYiK,EAAajK,WAAaR,EAASQ,YACxDR,EAASS,aAAYgK,EAAahK,WAAaT,EAASS,YACxDT,EAASU,YAAW+J,EAAa/J,UAAYV,EAASU,UAAUnL,MAAM,KAAK3J,IAAIyH,GAAKA,EAAEhF,SACtF2R,EAASW,aAAY8J,EAAa9J,WAAaX,EAASW,aAC/B,QAApBwL,GACLnM,EAASY,iBAAgB6J,EAAaz2B,QAAUgsB,EAASY,gBACzDZ,EAASa,cAAa4J,EAAa5J,YAAcb,EAASa,aAC1Db,EAASc,gBAAe2J,EAAaQ,OAASjL,EAASc,eACvDd,EAASe,cAAa0J,EAAaxzB,KAAO+oB,EAASe,aACnDf,EAASgB,gBAAeyJ,EAAaS,OAASlL,EAASgB,gBAC9B,SAApBmL,GACLnM,EAASiB,iBAAgBwJ,EAAaU,UAAYnL,EAASiB,gBAC3DjB,EAASkB,YAAWuJ,EAAavJ,UAAYlB,EAASkB,WACtDlB,EAASmB,eAAcsJ,EAAaz2B,QAAUgsB,EAASmB,cACvDnB,EAASoB,YAAWqJ,EAAarJ,UAAYpB,EAASoB,WACtDpB,EAASqB,kBAAiBoJ,EAAapJ,gBAAkBrB,EAASqB,kBACzC,SAApB8K,IACLnM,EAASsB,aAAYmJ,EAAanJ,WAAatB,EAASsB,YACxDtB,EAASuB,aAAYkJ,EAAalJ,WAAavB,EAASuB,YACxDvB,EAASwB,aAAYiJ,EAAajJ,WAAaxB,EAASwB,aAGvDiJ,CACT,CC47BA,QACE12B,KAAM,uBACNiJ,MAAO,CACLovB,YAAa,CACXnvB,KAAMyD,MACNvD,QAAS,IAAM,IAEjB1G,UAAW,CACTwG,KAAM,CAAC2B,OAAQytB,QACflvB,QAAS,OAGb,IAAAhI,GACE,MAAO,CACLm3B,kBAAkB,EAClBC,kBAAkB,EAClBvO,gBAAiB,GACjBwO,aAAc,KACd5O,WAAY,GACZ6O,eAAgB,GAChBC,eAAgB,GAChBzF,cAAe,GACfzJ,kBAAkB,EAClBlQ,YAAa,EACbO,SAAU,EACV8e,WAAY,EAEZvgB,WAAY,GACZwgB,cAAe,GACfC,aAAa,EACbC,oBAAqB,KAErB7O,oBAAoB,EACpB8O,oBAAqB,KACrBpP,gBAAgB,EAChBuB,YAAa,KACb+C,YAAa,GACbR,gBAAiB,OACjBnC,kBAAmB,KAGnBM,sBAAsB,EACtB8B,kBAAkB,EAClBK,gBAAiB,GACjBJ,mBAAmB,EACnB3B,SAAU,CAERC,aAAc,GACdC,WAAY,GACZC,YAAa,GACbC,YAAa,GACbC,OAAQ,GACRC,MAAO,GAEPC,aAAc,GACdC,WAAY,GACZC,WAAY,GACZC,UAAW,GACXC,WAAY,GAEZC,eAAgB,GAChBC,YAAa,GACbC,cAAe,GACfC,YAAa,GACbC,cAAe,GAEfC,eAAgB,GAChBC,UAAW,GACXC,aAAc,GACdC,UAAW,GACXC,gBAAiB,GAEjBC,WAAY,GACZC,WAAY,GACZC,WAAY,IAGdtD,gBAAiB,CACfnqB,KAAM,GACN4qB,aAAc,CACZ,CAAElT,QAAS,KAEbsK,MAAO,IAGT0I,iBAAkB,CAChBC,SAAU,GACV3qB,KAAM,GACN4qB,aAAc,CACZ,CAAElT,QAAS,KAEbsK,MAAO,IAGb,EACAtW,SAAU,CAER,QAAAutB,GAGE,OAAOt0B,KAAKuuB,cAAclqB,OAAS,EAAIrE,KAAKuuB,cAAgBvuB,KAAK0zB,WACnE,EAGA,aAAAjJ,GAEE,OAAIzqB,KAAKm0B,aAAen0B,KAAK0T,WAAWiC,OAC/B3V,KAAKk0B,cAGPl0B,KAAKs0B,QACd,EAGA,cAAAC,GACE,MAAMpe,GAASnW,KAAK4U,YAAc,GAAK5U,KAAKmV,SACtCqF,EAAMrE,EAAQnW,KAAKmV,SACzB,OAAOnV,KAAKyqB,cAAc9hB,MAAMwN,EAAOqE,EACzC,EAGA,UAAAxF,GACE,OAAOlD,KAAKmE,KAAKjW,KAAKyqB,cAAcpmB,OAASrE,KAAKmV,SACpD,EAGA,cAAA0V,GACE,MAAM1U,GAASnW,KAAK4U,YAAc,GAAK5U,KAAKmV,SAAW,EACjDqF,EAAM1I,KAAKuM,IAAIre,KAAK4U,YAAc5U,KAAKmV,SAAUnV,KAAKyqB,cAAcpmB,QAC1E,MAAO,OAAO8R,OAAWqE,SAAWxa,KAAKyqB,cAAcpmB,UACzD,EAGA,YAAAmwB,GACE,MAAMC,EAAQ,GACRC,EAAa,EACnB,IAAIve,EAAQrE,KAAKkE,IAAI,EAAGhW,KAAK4U,YAAc9C,KAAKyQ,MAAMmS,EAAa,IAC/Dla,EAAM1I,KAAKuM,IAAIre,KAAKgV,WAAYmB,EAAQue,EAAa,GAErDla,EAAMrE,EAAQ,EAAIue,IACpBve,EAAQrE,KAAKkE,IAAI,EAAGwE,EAAMka,EAAa,IAGzC,IAAK,IAAIzkB,EAAIkG,EAAOlG,GAAKuK,EAAKvK,IAC5BwkB,EAAMhuB,KAAKwJ,GAEb,OAAOwkB,CACT,GAEF,aAAM9vB,SAEE3E,KAAK20B,mBAGX,MAAMC,EAAS7F,GAAqB/uB,KAAKjC,WACrC62B,GAAUA,EAAOhgB,cACnB5U,KAAK4U,YAAcggB,EAAOhgB,YAE9B,EACA1K,MAAO,CACL,gBAAA4a,CAAiB+P,GAEf9H,GAASJ,KAAK5B,GAAWc,qBAAsBgJ,EACjD,GAEF,aAAAtvB,GAEE+oB,GAAmBtuB,KAAKuuB,cAAevuB,KAAK4U,YAAa5U,KAAKjC,WAG1DiC,KAAKo0B,sBACPvH,aAAa7sB,KAAKo0B,qBAClBp0B,KAAKo0B,oBAAsB,KAE/B,EACAzuB,QAAS,CAIP,sBAAMgvB,GACJ,GAAK30B,KAAKjC,UAKV,IACEzB,QAAQC,IAAI,qBAAsByD,KAAKjC,WAGvC,MAAMb,QAAiB0zB,GAAaG,uBAAuB/wB,KAAKjC,UAAW,EAAG,IAI9E,GAHAzB,QAAQC,IAAI,YAAaW,GAGrBA,GAA8B,MAAlBA,EAASoM,MAAgBpM,EAAST,KAAM,CAEtD,MAAMq4B,EAAe53B,EAAST,KAAKsW,SAAW,GAG1C+hB,EAAazwB,OAAS,IACxB/H,QAAQC,IAAI,qBAAsBu4B,EAAa,IAC/Cx4B,QAAQC,IAAI,cAAegH,OAAOC,KAAKsxB,EAAa,KACpDx4B,QAAQC,IAAI,cAAe,CACzB8X,YAAaygB,EAAa,GAAGzgB,YAC7Bse,QAASmC,EAAa,GAAGnC,QACzBoC,UAAWD,EAAa,GAAGC,UAC3BvL,SAAUsL,EAAa,GAAGtL,SAC1BoJ,SAAUkC,EAAa,GAAGlC,SAC1BC,SAAUiC,EAAa,GAAGjC,SAC1BG,YAAa8B,EAAa,GAAG9B,YAC7BF,YAAagC,EAAa,GAAGhC,YAC7BC,cAAe+B,EAAa,GAAG/B,iBAInC/yB,KAAKuuB,cAAgBuG,EAAa5hB,IAAIgf,GAAOQ,GAAeR,UAGtDlyB,KAAKg1B,2BAEX14B,QAAQC,IAAI,YAAayD,KAAKuuB,cAChC,MACEjyB,QAAQE,KAAK,cAAeU,GAE5B8C,KAAKuuB,cAAgB,EAEzB,CAAE,MAAOxxB,GACPT,QAAQS,MAAM,YAAaA,GAE3BiD,KAAKuuB,cAAgB,EACvB,MAhDEjyB,QAAQE,KAAK,uBAiDjB,EAMA,8BAAMw4B,GAEJ,MAAMC,EAA2Bj1B,KAAKuuB,cAAche,OAClDpR,KAAUA,EAAKqqB,UAA8B,SAAlBrqB,EAAKqqB,WAAwBrqB,EAAKyZ,WAG/D,GAAwC,IAApCqc,EAAyB5wB,OAE3B,YADA/H,QAAQC,IAAI,qBAId,IAAKyD,KAAKjC,UAER,YADAzB,QAAQE,KAAK,6BAIfF,QAAQC,IAAI,WAAW04B,EAAyB5wB,iBAChD/H,QAAQC,IAAI,gBAAiB04B,EAAyB/hB,IAAIgiB,IAAK,CAAGjvB,GAAIivB,EAAEjvB,GAAI5K,KAAM65B,EAAE75B,KAAMud,UAAWsc,EAAEtc,UAAW4Q,SAAU0L,EAAE1L,aAG9H,MAAM2L,EAAmB,IAAI,IAAI5f,IAAI0f,EAAyB/hB,IAAIgiB,GAAKhvB,OAAOgvB,EAAEtc,cAChFtc,QAAQC,IAAI,qBAAsB44B,GAGlC,MAAMC,EAAkB,IAAIjJ,IAE5B,IAEE7vB,QAAQC,IAAI,4BAA4ByD,KAAKjC,aAC7C,MAAMb,QAAiB,GAAAQ,WAAWkC,kBAAkBI,KAAKjC,UAAW,EAAG,KAIvE,GAFAzB,QAAQC,IAAI,kBAAmBW,GAE3BA,GAA8B,MAAlBA,EAASoM,KAAc,CACrC,IAAI6O,EAAU,GACVjb,EAAST,MAAQS,EAAST,KAAKsW,QACjCoF,EAAUjb,EAAST,KAAKsW,QACf/K,MAAMC,QAAQ/K,EAAST,QAChC0b,EAAUjb,EAAST,MAGrBH,QAAQC,IAAI,UAAU4b,EAAQ9T,gBAG9B8T,EAAQ1U,QAAQ4xB,IACd,MAAMC,EAAWpvB,OAAOmvB,EAAO11B,QAAU01B,EAAOpvB,IAC1CsvB,EAAaF,EAAOzC,UAAYyC,EAAOh6B,MAAQg6B,EAAOr0B,SACxDu0B,GAAoC,KAAtBA,EAAW5f,SAC3Byf,EAAgB9f,IAAIggB,EAAUC,GAC9Bj5B,QAAQC,IAAI,gBAAgB+4B,UAAiBC,SAIjDj5B,QAAQC,IAAI,YAAayL,MAAM4K,KAAKwiB,EAAgBI,WACtD,MACEl5B,QAAQE,KAAK,iBAAkBU,EAEnC,CAAE,MAAOH,GACPT,QAAQS,MAAM,gBAAiBA,EACjC,CAGA,GAA6B,IAAzBq4B,EAAgB72B,KAElB,YADAjC,QAAQE,KAAK,2BAKf,IAAIi5B,EAAc,EAElB,IAAK,IAAI/mB,EAAQ,EAAGA,EAAQ1O,KAAKuuB,cAAclqB,OAAQqK,IAAS,CAC9D,MAAM+f,EAAczuB,KAAKuuB,cAAc7f,GACjCgnB,EAAexvB,OAAOuoB,EAAY7V,WAGxC,GAAM6V,EAAYjF,UAAqC,SAAzBiF,EAAYjF,WAAwB4L,EAAgB9I,IAAIoJ,GAczEjH,EAAYjF,UAAqC,SAAzBiF,EAAYjF,WAAwBiF,EAAY7V,WACnFtc,QAAQE,KAAK,0BAA0Bk5B,UAAqBjH,EAAYpzB,YAf2B,CACnG,MAAMw3B,EAAWuC,EAAgBh3B,IAAIs3B,GAG/BC,EAAqB,IACtBlH,EACHjF,SAAUqJ,GAIZ7yB,KAAKmG,KAAKnG,KAAKuuB,cAAe7f,EAAOinB,GAErCF,IACAn5B,QAAQC,IAAI,QAAQmS,EAAQ,gBAAgB+f,EAAYpzB,cAAcozB,EAAYxoB,WAAW4sB,kBAAyB6C,KACxH,CAGF,CAEAp5B,QAAQC,IAAI,qBAAqBk5B,SACjCn5B,QAAQC,IAAI,wBAAyByD,KAAKuuB,cAAcrb,IAAIgiB,IAAK,CAAGjvB,GAAIivB,EAAEjvB,GAAI5K,KAAM65B,EAAE75B,KAAMmuB,SAAU0L,EAAE1L,SAAU5Q,UAAWsc,EAAEtc,oBAGzH5Y,KAAKyd,YACXzd,KAAK+Z,cACP,EAEA,UAAAgL,CAAWxgB,GACTvE,KAAKslB,gBAAkB/gB,EACvBvE,KAAKklB,WAAa+I,GAAc1pB,GAEhCvE,KAAK41B,uBACL51B,KAAK4zB,kBAAmB,CAC1B,EAEA,sBAAMzO,CAAiBpf,GACrB,MAAMsX,EAAQrV,MAAM4K,KAAK7M,EAAMK,OAAOiX,OAClCA,EAAMhZ,OAAS,IACjB/H,QAAQC,IAAI,UAAW,CACrBs5B,WAAYxY,EAAMhZ,OAClBkhB,mBAAoBvlB,KAAKulB,mBACzBN,eAAgBjlB,KAAKilB,eACrBuB,YAAaxmB,KAAKwmB,YAAcxmB,KAAKwmB,YAAYvgB,GAAK,OAIpDjG,KAAKulB,oBAAsBvlB,KAAKq0B,qBAClC/3B,QAAQC,IAAI,wBACNyD,KAAK81B,8BAA8BzY,IAChCrd,KAAK6zB,iBAEdxW,EAAM5Z,QAAQtE,IACZa,KAAK+lB,iBAAiB1I,MAAM5W,KAAK,CAC/BpL,KAAM8D,EAAK9D,KACXkD,KAAMY,EAAKZ,KACXgG,KAAMpF,EAAKoF,KACXpF,KAAMA,MAGDa,KAAK4zB,kBAEdvW,EAAM5Z,QAAQtE,IACZa,KAAKwlB,gBAAgBnI,MAAM5W,KAAK,CAC9BpL,KAAM8D,EAAK9D,KACXkD,KAAMY,EAAKZ,KACXgG,KAAMpF,EAAKoF,KACXpF,KAAMA,MAKZa,KAAKmd,MAAM4Y,UAAUpuB,MAAQ,GAEjC,EAEA,iBAAAie,GACE5lB,KAAKmd,MAAM4Y,UAAU7Y,OACvB,EAEA,UAAAyI,CAAWjX,GACT1O,KAAKwlB,gBAAgBnI,MAAMqE,OAAOhT,EAAO,EAC3C,EAGA,oBAAAknB,GACE51B,KAAKwlB,gBAAkB,CACrBnqB,KAAM,GAENksB,aAAc,GACdC,WAAY,GACZC,YAAa,GACbC,YAAa,GACbC,OAAQ,GACRC,MAAO,GAEPC,aAAc,GACdC,WAAY,GACZC,WAAY,GACZC,UAAW,GACXC,WAAY,GAEZC,eAAgB,GAChBC,YAAa,GACbC,cAAe,GACfC,YAAa,GACbC,cAAe,GAEfC,eAAgB,GAChBC,UAAW,GACXC,aAAc,GACdC,UAAW,GACXC,gBAAiB,GAEjBC,WAAY,GACZC,WAAY,GACZC,WAAY,GACZzL,MAAO,GAEX,EAEA,mBAAMwI,GACJ,IAAK7lB,KAAKulB,oBAAsBvlB,KAAKwlB,gBAAgBnqB,KAAKsa,SAAW3V,KAAKwlB,gBAAgBnI,MAAMhZ,OAAS,EACvG,IAEE,GAAIrE,KAAKulB,oBAAsBvlB,KAAKq0B,oBAAqB,CAEvD/3B,QAAQC,IAAI,4BAA6ByD,KAAKq0B,qBAG9C,MAAMhX,EAAQrd,KAAKwlB,gBAAgBnI,MAAMnK,IAAIgiB,GAAKA,EAAE/1B,MAG9CjC,QAAiB0zB,GAAaa,iBAAiBpU,EAAOrd,KAAKq0B,qBAajE,OAZA/3B,QAAQC,IAAI,YAAaW,SAGnB8C,KAAK20B,mBAGX30B,KAAK41B,uBACL51B,KAAKulB,oBAAqB,EAC1BvlB,KAAKq0B,oBAAsB,KAC3Br0B,KAAK4zB,kBAAmB,OAExB3oB,MAAM,QAAQoS,EAAMhZ,iBAEtB,CAGA/H,QAAQC,IAAI,oBAAqByD,KAAKjC,WAGtC,MAAMi4B,EAAYhE,GAAmBhyB,KAAKwlB,gBAAiBxlB,KAAKjC,UAAWiC,KAAKslB,iBAChFhpB,QAAQC,IAAI,WAAYy5B,GAGxB,MAAMC,QAAuBrF,GAAaC,kBAAkBmF,GAI5D,GAHA15B,QAAQC,IAAI,UAAW05B,GAGK,MAAxBA,EAAe3sB,OAAiB2sB,EAAex5B,KACjD,MAAM,IAAIe,MAAMy4B,EAAeryB,KAAO,UAGxC,MAAM6qB,EAAcwH,EAAex5B,KAC7B00B,EAAgB1C,EAAYxoB,GAG5BoX,EAAQrd,KAAKwlB,gBAAgBnI,MAAMnK,IAAIgiB,GAAKA,EAAE/1B,MACpD7C,QAAQC,IAAI,gBAAiB8gB,EAAMhZ,QAEnC,MAAMue,QAAuBgO,GAAaa,iBAAiBpU,EAAO8T,GAClE70B,QAAQC,IAAI,YAAaqmB,SAGnB5iB,KAAK20B,mBAGX30B,KAAK41B,uBACL51B,KAAKulB,oBAAqB,EAC1BvlB,KAAKq0B,oBAAsB,KAC3Br0B,KAAK4zB,kBAAmB,EAGxB5zB,KAAKk2B,eAELjrB,MAAM,MAAMjL,KAAKwlB,gBAAgBnqB,gBAAgBgiB,EAAMhZ,aAEzD,CAAE,MAAOtH,GACPT,QAAQS,MAAM,QAASA,GACvBkO,MAAM,UAAYlO,EAAMU,SAAW,OACrC,CAEJ,EAGA,QAAAqtB,CAASxsB,GACHA,GAAQ,GAAKA,GAAQ0B,KAAKgV,aAC5BhV,KAAK4U,YAActW,EAEvB,EAEA,YAAA43B,GACEl2B,KAAK4U,YAAc5U,KAAKgV,UAC1B,EAGA,aAAAuV,GAEMvqB,KAAKo0B,qBACPvH,aAAa7sB,KAAKo0B,qBAIfp0B,KAAK0T,WAAWiC,OAMrB3V,KAAKo0B,oBAAsBztB,WAAW,KACpC3G,KAAKm2B,iBACJ,KAPDn2B,KAAKwqB,aAQT,EAKA,mBAAM2L,GACJ,GAAKn2B,KAAK0T,WAAWiC,QAAW3V,KAAKjC,UAIrC,IACEzB,QAAQC,IAAI,aAAcyD,KAAK0T,YAC/B1T,KAAKm0B,aAAc,EAGnB,MAAMj3B,QAAiB0zB,GAAaU,mBAAmBtxB,KAAK0T,WAAY,EAAG,IAG3E,GAFApX,QAAQC,IAAI,QAASW,GAEjBA,GAA8B,MAAlBA,EAASoM,MAAgBpM,EAAST,KAAM,CAEtD,MAAMq4B,EAAe53B,EAAST,KAAKsW,SAAW,GAC9C/S,KAAKk0B,cAAgBY,EAAa5hB,IAAIgf,GAAOQ,GAAeR,IAE5D51B,QAAQC,IAAI,QAASyD,KAAKk0B,eAG1Bl0B,KAAK4U,YAAc,CACrB,MACEtY,QAAQE,KAAK,YAAaU,GAC1B8C,KAAKk0B,cAAgB,EAEzB,CAAE,MAAOn3B,GACPT,QAAQS,MAAM,QAASA,GACvBiD,KAAKk0B,cAAgB,GACrBjpB,MAAM,UAAYlO,EAAMU,SAAW,OACrC,CACF,EAEA,WAAA+sB,GACExqB,KAAK0T,WAAa,GAClB1T,KAAKk0B,cAAgB,GACrBl0B,KAAKm0B,aAAc,EACnBn0B,KAAK4U,YAAc,EAGf5U,KAAKo0B,sBACPvH,aAAa7sB,KAAKo0B,qBAClBp0B,KAAKo0B,oBAAsB,KAE/B,EAGA,wBAAA3O,GACE,GAAIzlB,KAAKq0B,oBAAqB,CAC5B,MAAM+B,EAAoBp2B,KAAKuuB,cAActX,KAAKof,GAAQA,EAAKpwB,KAAOjG,KAAKq0B,qBAC3E,OAAO+B,EAAoBA,EAAkB/6B,KAAO,MACtD,CACA,MAAO,MACT,EAEA,iBAAA+pB,GACEplB,KAAK4zB,kBAAmB,EACxB5zB,KAAK41B,uBACL51B,KAAKulB,oBAAqB,EAC1BvlB,KAAKq0B,oBAAsB,KAC3Br0B,KAAKmd,MAAM4Y,UAAUpuB,MAAQ,EAC/B,EAEA,gBAAAqd,GAEEhlB,KAAKs2B,kBACLt2B,KAAK6zB,kBAAmB,CAC1B,EAEA,uBAAAxN,GAEErmB,KAAKmd,MAAM4Y,UAAU7Y,OACvB,EAEA,gBAAAkJ,CAAiB1X,GACf1O,KAAK+lB,iBAAiB1I,MAAMqE,OAAOhT,EAAO,EAC5C,EAEA,oBAAAyX,GACEnmB,KAAK+lB,iBAAiBE,aAAaxf,KAAK,CAAE8vB,UAAW,GAAIC,WAAY,IACvE,EAEA,uBAAAtQ,CAAwBxX,GAClB1O,KAAK+lB,iBAAiBE,aAAa5hB,OAAS,GAC9CrE,KAAK+lB,iBAAiBE,aAAavE,OAAOhT,EAAO,EAErD,EAEA,eAAA4nB,GACEt2B,KAAK+lB,iBAAmB,CACtBC,SAAU,GACV3qB,KAAM,GACN4qB,aAAc,CACZ,CAAEsQ,UAAW,GAAIC,WAAY,KAE/BnZ,MAAO,GAEX,EAEA,uBAAMiJ,GACJ,GAAItmB,KAAK+lB,iBAAiBC,SAASrQ,QAAU3V,KAAK+lB,iBAAiB1qB,KAAKsa,QAAU3V,KAAK+lB,iBAAiB1I,MAAMhZ,OAAS,EACrH,IACE,MAAMoyB,EAAcz2B,KAAK+lB,iBAAiBC,SAASrQ,OAG7C+gB,QAAwB15B,QAAQ8c,IACpC9Z,KAAK+lB,iBAAiB1I,MAAMnK,IAAImG,MAAOgW,EAAU3gB,KAC/C,MAAMioB,QAAoBtH,EAASlwB,KAAKw3B,cAClC7P,EAAmBuI,EAASh0B,KAC5Bk0B,EAAgB9B,GAAiB3G,GAEvC,MAAO,CACL7gB,GAAIkJ,KAAK0S,MAAQnT,EACjBrT,KAAM2E,KAAK+lB,iBAAiB1qB,MAAQ2E,KAAK+lB,iBAAiB1I,MAAMhZ,OAAS,EAAI,IAAIqK,EAAQ,IAAM,IAAM6gB,EACrGhrB,KAAM8qB,EAAS9qB,KACfilB,SAAU,OACVC,MAAM,IAAIta,MAAOkf,eAAe,SAChC5H,QAASzmB,KAAKqlB,aAAaoR,GAC3B9H,WAAYgI,EACZx3B,KAAMkwB,EAASlwB,KACf8mB,aAAcjmB,KAAK+lB,iBAAiBE,aAAa1V,OAAOqmB,GAAKA,EAAEL,UAAU5gB,QAAUihB,EAAEJ,WAAW7gB,QAAQzC,IAAI0jB,GAAK,GAAGA,EAAEL,WAAa,QAAQK,EAAEJ,YAAc,MAC3J1P,iBAAkBA,EAClBvoB,KAAM8wB,EAAS9wB,SAMfs4B,EAAiB,CACrB5wB,GAAIkJ,KAAK0S,MACTxmB,KAAM2E,KAAK+lB,iBAAiB1qB,KAC5BkJ,KAAMkyB,EACNjN,SAAU,OACVC,MAAM,IAAIta,MAAOkf,eAAe,SAChC5H,QAAS,MACTpJ,MAAOqZ,EACP/P,UAAW3mB,KAAK+lB,iBAAiB1I,MAAMhZ,OACvC4hB,aAAcjmB,KAAK+lB,iBAAiBE,aAAa1V,OAAOqmB,GAAKA,EAAEL,UAAU5gB,QAAUihB,EAAEJ,WAAW7gB,QAAQzC,IAAI0jB,GAAK,GAAGA,EAAEL,WAAa,QAAQK,EAAEJ,YAAc,OAG7Jx2B,KAAKuuB,cAAc9nB,KAAKowB,GACxB72B,KAAK+K,MAAM,gBAAiB8rB,GAG5B72B,KAAKs2B,kBACLt2B,KAAK6zB,kBAAmB,EAGxB7zB,KAAKk2B,eAGL5H,GAAmBtuB,KAAKuuB,cAAevuB,KAAK4U,YAAa5U,KAAKjC,WAE9DkN,MAAM,SAASwrB,eAAyBz2B,KAAK+lB,iBAAiB1I,MAAMhZ,mBACtE,CAAE,MAAOtH,GACPT,QAAQS,MAAM,eAAgBA,GAC9BkO,MAAM,aACR,CAEJ,EAEA,iBAAA6a,GACE9lB,KAAK6zB,kBAAmB,EACxB7zB,KAAKs2B,kBACLt2B,KAAKmd,MAAM4Y,UAAUpuB,MAAQ,EAC/B,EAEA,QAAAgjB,CAASxrB,GACPa,KAAKwmB,YAAcrnB,EACnBa,KAAK82B,gBAAgB33B,GACrBa,KAAKilB,gBAAiB,CACxB,EAEA,eAAA6R,CAAgB33B,GAEd,MAAMowB,EAAgB9B,GAAiBtuB,EAAK9D,MAAMua,cAE9C,CAAC,MAAO,KAAM,OAAQ,MAAO,OAAOnU,SAAS8tB,IAE/CvvB,KAAK+oB,gBAAkB,OACvBiH,GAAa7wB,EAAO4T,IAAc/S,KAAKupB,YAAcxW,KAC5C,CAAC,MAAO,OAAQ,MAAO,MAAO,MAAO,QAAQtR,SAAS8tB,IAE/DvvB,KAAK+oB,gBAAkB,QACvBoH,GAAchxB,EAAO4T,IAAc/S,KAAKupB,YAAcxW,KAC3B,QAAlBwc,GAETvvB,KAAK+oB,gBAAkB,MACvBsH,GAAYlxB,EAAO4T,IAAc/S,KAAKupB,YAAcxW,MAGpD/S,KAAK+oB,gBAAkB,OACvB/oB,KAAKupB,YAAc+G,GAAYnxB,GAEnC,EAGA,eAAAonB,GACEvmB,KAAKilB,gBAAiB,EACtBjlB,KAAKwmB,YAAc,KACnBxmB,KAAKupB,YAAc,GACnBvpB,KAAK+oB,gBAAkB,OACvB/oB,KAAK4mB,kBAAoB,KACzB5mB,KAAKknB,sBAAuB,EAC5BlnB,KAAKgpB,kBAAmB,EACxBhpB,KAAKqpB,gBAAkB,GACvBrpB,KAAKipB,mBAAoB,EACzBjpB,KAAK+2B,eACP,EAGA,cAAA1P,GACErnB,KAAKknB,sBAAuB,EAC5BlnB,KAAKg3B,cACP,EAGA,iBAAA5N,GACEppB,KAAKgpB,kBAAmB,EACxBhpB,KAAKqpB,gBAAkBrpB,KAAKupB,YAC5BvpB,KAAKipB,mBAAoB,CAC3B,EAGA,kBAAAK,GACEtpB,KAAKipB,kBAAoBjpB,KAAKqpB,kBAAoBrpB,KAAKupB,WACzD,EAGA,kBAAAL,GACMlpB,KAAKipB,oBACPjpB,KAAKupB,YAAcvpB,KAAKqpB,gBACxBrpB,KAAKipB,mBAAoB,EACzBjpB,KAAKgpB,kBAAmB,EAGxBhpB,KAAKi3B,6BAELhsB,MAAM,YAEV,EAGA,iBAAAke,GACMnpB,KAAKipB,kBACHiO,QAAQ,wBACVl3B,KAAKgpB,kBAAmB,EACxBhpB,KAAKqpB,gBAAkB,GACvBrpB,KAAKipB,mBAAoB,IAG3BjpB,KAAKgpB,kBAAmB,EACxBhpB,KAAKqpB,gBAAkB,GACvBrpB,KAAKipB,mBAAoB,EAE7B,EAIA,YAAA+N,GACOh3B,KAAKwmB,cAGoB,OAA1BxmB,KAAKwmB,YAAYjiB,MACnBvE,KAAKsnB,SAASC,aAAevnB,KAAKwmB,YAAYe,cAAgB,GAC9DvnB,KAAKsnB,SAASE,WAAaxnB,KAAKwmB,YAAYgB,YAAc,GAC1DxnB,KAAKsnB,SAASG,YAAcznB,KAAKwmB,YAAYiB,aAAe,GAC5DznB,KAAKsnB,SAASI,YAAc1nB,KAAKwmB,YAAYkB,aAAe,GAC5D1nB,KAAKsnB,SAASK,OAAS3nB,KAAKwmB,YAAYmB,QAAU,GAClD3nB,KAAKsnB,SAASM,MAAQ5nB,KAAKwmB,YAAYoB,OAAS,IACb,OAA1B5nB,KAAKwmB,YAAYjiB,MAC1BvE,KAAKsnB,SAASO,aAAe7nB,KAAKwmB,YAAYqB,cAAgB,GAC9D7nB,KAAKsnB,SAASQ,WAAa9nB,KAAKwmB,YAAYsB,YAAc,GAC1D9nB,KAAKsnB,SAASS,WAAa/nB,KAAKwmB,YAAYuB,YAAc,GAC1D/nB,KAAKsnB,SAASU,UAAYhoB,KAAKwmB,YAAYwB,WAAa,GACxDhoB,KAAKsnB,SAASW,WAAajoB,KAAKwmB,YAAYyB,YAAc,IACvB,QAA1BjoB,KAAKwmB,YAAYjiB,MAC1BvE,KAAKsnB,SAASY,eAAiBloB,KAAKwmB,YAAY0B,gBAAkB,GAClEloB,KAAKsnB,SAASa,YAAcnoB,KAAKwmB,YAAY2B,aAAe,GAC5DnoB,KAAKsnB,SAASc,cAAgBpoB,KAAKwmB,YAAY4B,eAAiB,GAChEpoB,KAAKsnB,SAASe,YAAcroB,KAAKwmB,YAAY6B,aAAe,GAC5DroB,KAAKsnB,SAASgB,cAAgBtoB,KAAKwmB,YAAY8B,eAAiB,IAC7B,SAA1BtoB,KAAKwmB,YAAYjiB,MAC1BvE,KAAKsnB,SAASiB,eAAiBvoB,KAAKwmB,YAAY+B,gBAAkB,GAClEvoB,KAAKsnB,SAASkB,UAAYxoB,KAAKwmB,YAAYgC,WAAa,GACxDxoB,KAAKsnB,SAASmB,aAAezoB,KAAKwmB,YAAYiC,cAAgB,GAC9DzoB,KAAKsnB,SAASoB,UAAY1oB,KAAKwmB,YAAYkC,WAAa,GACxD1oB,KAAKsnB,SAASqB,gBAAkB3oB,KAAKwmB,YAAYmC,iBAAmB,IACjC,SAA1B3oB,KAAKwmB,YAAYjiB,OAC1BvE,KAAKsnB,SAASsB,WAAa5oB,KAAKwmB,YAAYoC,YAAc,GAC1D5oB,KAAKsnB,SAASuB,WAAa7oB,KAAKwmB,YAAYqC,YAAc,GAC1D7oB,KAAKsnB,SAASwB,WAAa9oB,KAAKwmB,YAAYsC,YAAc,IAE9D,EAGA,aAAAiO,GACE/2B,KAAKsnB,SAAW,CACdC,aAAc,GACdC,WAAY,GACZC,YAAa,GACbC,YAAa,GACbC,OAAQ,GACRC,MAAO,GACPC,aAAc,GACdC,WAAY,GACZC,WAAY,GACZC,UAAW,GACXC,WAAY,GACZC,eAAgB,GAChBC,YAAa,GACbC,cAAe,GACfC,YAAa,GACbC,cAAe,GACfC,eAAgB,GAChBC,UAAW,GACXC,aAAc,GACdC,UAAW,GACXC,gBAAiB,GACjBC,WAAY,GACZC,WAAY,GACZC,WAAY,GAEhB,EAGA,4BAAM3B,GACJ,GAAKnnB,KAAKwmB,YAEV,IACElqB,QAAQC,IAAI,gBAAiByD,KAAKwmB,YAAYvgB,GAAI,MAAOjG,KAAKwmB,YAAYjiB,MAG1E,MAAMwtB,EAAeyB,GAA8BxzB,KAAKsnB,SAAUtnB,KAAKwmB,YAAYjiB,MACnFjI,QAAQC,IAAI,UAAWw1B,GAGvB,MAAM70B,QAAiB0zB,GAAakB,mBAAmB9xB,KAAKwmB,YAAYvgB,GAAI8rB,GAG5E,GAFAz1B,QAAQC,IAAI,YAAaW,IAErBA,GAA8B,MAAlBA,EAASoM,KA+CvB,MAAM,IAAI9L,MAAMN,EAAS0G,KAAO,QA/CK,CAEP,OAA1B5D,KAAKwmB,YAAYjiB,MACnBvE,KAAKwmB,YAAYe,aAAevnB,KAAKsnB,SAASC,aAC9CvnB,KAAKwmB,YAAYgB,WAAaxnB,KAAKsnB,SAASE,WAC5CxnB,KAAKwmB,YAAYiB,YAAcznB,KAAKsnB,SAASG,YAC7CznB,KAAKwmB,YAAYkB,YAAc1nB,KAAKsnB,SAASI,YAC7C1nB,KAAKwmB,YAAYmB,OAAS3nB,KAAKsnB,SAASK,OACxC3nB,KAAKwmB,YAAYoB,MAAQ5nB,KAAKsnB,SAASM,OACJ,OAA1B5nB,KAAKwmB,YAAYjiB,MAC1BvE,KAAKwmB,YAAYqB,aAAe7nB,KAAKsnB,SAASO,aAC9C7nB,KAAKwmB,YAAYsB,WAAa9nB,KAAKsnB,SAASQ,WAC5C9nB,KAAKwmB,YAAYuB,WAAa/nB,KAAKsnB,SAASS,WAC5C/nB,KAAKwmB,YAAYwB,UAAYhoB,KAAKsnB,SAASU,UAC3ChoB,KAAKwmB,YAAYyB,WAAajoB,KAAKsnB,SAASW,YACT,QAA1BjoB,KAAKwmB,YAAYjiB,MAC1BvE,KAAKwmB,YAAY0B,eAAiBloB,KAAKsnB,SAASY,eAChDloB,KAAKwmB,YAAY2B,YAAcnoB,KAAKsnB,SAASa,YAC7CnoB,KAAKwmB,YAAY4B,cAAgBpoB,KAAKsnB,SAASc,cAC/CpoB,KAAKwmB,YAAY6B,YAAcroB,KAAKsnB,SAASe,YAC7CroB,KAAKwmB,YAAY8B,cAAgBtoB,KAAKsnB,SAASgB,eACZ,SAA1BtoB,KAAKwmB,YAAYjiB,MAC1BvE,KAAKwmB,YAAY+B,eAAiBvoB,KAAKsnB,SAASiB,eAChDvoB,KAAKwmB,YAAYgC,UAAYxoB,KAAKsnB,SAASkB,UAC3CxoB,KAAKwmB,YAAYiC,aAAezoB,KAAKsnB,SAASmB,aAC9CzoB,KAAKwmB,YAAYkC,UAAY1oB,KAAKsnB,SAASoB,UAC3C1oB,KAAKwmB,YAAYmC,gBAAkB3oB,KAAKsnB,SAASqB,iBACd,SAA1B3oB,KAAKwmB,YAAYjiB,OAC1BvE,KAAKwmB,YAAYoC,WAAa5oB,KAAKsnB,SAASsB,WAC5C5oB,KAAKwmB,YAAYqC,WAAa7oB,KAAKsnB,SAASuB,WAC5C7oB,KAAKwmB,YAAYsC,WAAa9oB,KAAKsnB,SAASwB,YAI9C,MAAMqO,EAAgBn3B,KAAKuuB,cAAc9B,UAAU4J,GAAQA,EAAKpwB,KAAOjG,KAAKwmB,YAAYvgB,KACjE,IAAnBkxB,GACFn3B,KAAKmG,KAAKnG,KAAKuuB,cAAe4I,EAAe,IAAKn3B,KAAKwmB,cAIzDxmB,KAAK+K,MAAM,cAAe/K,KAAKwmB,aAG/BxmB,KAAKknB,sBAAuB,EAE5Bjc,MAAM,YACR,CAGF,CAAE,MAAOlO,GACPT,QAAQS,MAAM,YAAaA,GAC3BkO,MAAM,UAAYlO,EAAMU,SAAW,OACrC,CACF,EAGA,cAAA2pB,GACEpnB,KAAKknB,sBAAuB,EAC5BlnB,KAAK+2B,eACP,EAGA,iBAAArN,GAEE1pB,KAAKulB,oBAAqB,EAC1BvlB,KAAKq0B,oBAAsBr0B,KAAKwmB,YAAYvgB,GAC5C3J,QAAQC,IAAI,eAAgB,CAC1B40B,cAAenxB,KAAKwmB,YAAYvgB,GAChCmxB,gBAAiBp3B,KAAKwmB,YAAYnrB,KAClCkqB,mBAAoBvlB,KAAKulB,qBAI3BvlB,KAAKmd,MAAM4Y,UAAU7Y,OACvB,EAGA,mCAAM4Y,CAA8BzY,GAClC,IACE/gB,QAAQC,IAAI,aAAc,CACxB40B,cAAenxB,KAAKwmB,YAAYvgB,GAChCmxB,gBAAiBp3B,KAAKwmB,YAAYnrB,KAClCw6B,WAAYxY,EAAMhZ,SAIpB,MAAMqyB,QAAwB15B,QAAQ8c,IACpCuD,EAAMnK,IAAImG,MAAOla,EAAMuP,KACrB,MAAMioB,QAAoBx3B,EAAKw3B,cAC/B,MAAO,CACL1wB,GAAIkJ,KAAK0S,MAAQnT,EACjBrT,KAAM8D,EAAK9D,KACXyrB,iBAAkB3nB,EAAK9D,KACvBkD,KAAMY,EAAKZ,KACXgG,KAAMpF,EAAKoF,KACXoqB,WAAYgI,EACZx3B,KAAMA,MAMNk4B,EAAcr3B,KAAKuuB,cAAc9B,UAAU4J,GAAQA,EAAKpwB,KAAOjG,KAAKwmB,YAAYvgB,IACtF3J,QAAQC,IAAI,YAAa,CAAE86B,cAAaC,SAAUt3B,KAAKwmB,YAAYvgB,MAE9C,IAAjBoxB,GAEFr3B,KAAKuuB,cAAc8I,GAAaha,MAAM5W,QAAQiwB,GAC9C12B,KAAKuuB,cAAc8I,GAAa1Q,UAAY3mB,KAAKuuB,cAAc8I,GAAaha,MAAMhZ,OAGlFrE,KAAKuuB,cAAc8I,GAAa5N,MAAO,IAAIta,MAAOkf,eAAe,SAGjEruB,KAAKwmB,YAAcxmB,KAAKuuB,cAAc8I,GAGtCr3B,KAAK+K,MAAM,cAAe/K,KAAKuuB,cAAc8I,IAG7C/I,GAAmBtuB,KAAKuuB,cAAevuB,KAAK4U,YAAa5U,KAAKjC,WAG9DiC,KAAKulB,oBAAqB,EAC1BvlB,KAAKq0B,oBAAsB,KAE3BppB,MAAM,QAAQoS,EAAMhZ,gBAAgBrE,KAAKuuB,cAAc8I,GAAah8B,aAEpEiB,QAAQS,MAAM,WAAYiD,KAAKwmB,YAAYvgB,IAC3CgF,MAAM,kBAGNjL,KAAKulB,oBAAqB,EAC1BvlB,KAAKq0B,oBAAsB,KAE/B,CAAE,MAAOt3B,GACPT,QAAQS,MAAM,eAAgBA,GAC9BkO,MAAM,cAGNjL,KAAKulB,oBAAqB,EAC1BvlB,KAAKq0B,oBAAsB,IAC7B,CACF,EAGA,gBAAMzJ,CAAWzrB,GACf,GAAI+3B,QAAQ,WAAW/3B,EAAK9D,mBAC1B,IACEiB,QAAQC,IAAI,YAAa4C,EAAK8G,IAG9B,MAAM/I,QAAiB0zB,GAAaS,kBAAkBlyB,EAAK8G,IAG3D,GAFA3J,QAAQC,IAAI,UAAWW,IAEnBA,GAA8B,MAAlBA,EAASoM,KAyBvB,MAAM,IAAI9L,MAAMN,EAAS0G,KAAO,QAzBK,CAErC,MAAMuzB,EAAgBn3B,KAAKuuB,cAAc9B,UAAUyI,GAAKA,EAAEjvB,KAAO9G,EAAK8G,IAMtE,IALuB,IAAnBkxB,GACFn3B,KAAKuuB,cAAc7M,OAAOyV,EAAe,GAIvCn3B,KAAKm0B,YAAa,CACpB,MAAMoD,EAAcv3B,KAAKk0B,cAAczH,UAAUyI,GAAKA,EAAEjvB,KAAO9G,EAAK8G,KAC/C,IAAjBsxB,GACFv3B,KAAKk0B,cAAcxS,OAAO6V,EAAa,EAE3C,CAGAv3B,KAAK+K,MAAM,eAAgB5L,GAGQ,IAA/Ba,KAAKu0B,eAAelwB,QAAgBrE,KAAK4U,YAAc,IACzD5U,KAAK4U,YAAc5U,KAAK4U,YAAc,GAGxC3J,MAAM,UACR,CAGF,CAAE,MAAOlO,GACPT,QAAQS,MAAM,UAAWA,GACzBkO,MAAM,UAAYlO,EAAMU,SAAW,OACrC,CAEJ,EAGA,UAAAopB,CAAWnY,GACT1O,KAAK4mB,kBAAoBlY,CAC3B,EAEA,cAAA8oB,CAAer4B,GACb,IACE7C,QAAQC,IAAI,UAAW4C,GAGvB7C,QAAQC,IAAI,oBACd,CAAE,MAAOQ,GACPT,QAAQS,MAAM,WAAYA,GAC1BkO,MAAM,iBACR,CACF,EAKA,yBAAAwsB,CAA0Bt4B,GACxB,QAAKA,IAGEA,EAAKooB,cAAgBpoB,EAAKqoB,YAAcroB,EAAKsoB,aAAetoB,EAAKuoB,aAAevoB,EAAKwoB,QAAUxoB,EAAKyoB,OACpGzoB,EAAK0oB,cAAgB1oB,EAAK2oB,YAAc3oB,EAAK4oB,YAAc5oB,EAAK6oB,WAAa7oB,EAAK8oB,YAClF9oB,EAAK+oB,gBAAkB/oB,EAAKgpB,aAAehpB,EAAKipB,eAAiBjpB,EAAKkpB,aAAelpB,EAAKmpB,eAC1FnpB,EAAKopB,gBAAkBppB,EAAKqpB,WAAarpB,EAAKspB,cAAgBtpB,EAAKupB,WAAavpB,EAAKwpB,iBACrFxpB,EAAKypB,YAAczpB,EAAK0pB,YAAc1pB,EAAK2pB,YAE3C3pB,EAAKu4B,WAAav4B,EAAKw4B,SACvBx4B,EAAK4oB,YAAc5oB,EAAKy4B,UACxBz4B,EAAKgpB,aAAehpB,EAAK04B,WACzB14B,EAAKqpB,WAAarpB,EAAK24B,SACvB34B,EAAK0pB,YAAc1pB,EAAK44B,UACvB54B,EAAK8mB,cAAgB9mB,EAAK8mB,aAAa5hB,OAAS,EAC1D,EAEA,gBAAA4iB,CAAiB9nB,EAAMuP,GACrB,MAAM6e,EAAWpuB,EAAK9D,MAAQ8D,EAAK2nB,kBAAoB,OACnDoQ,QAAQ,WAAW3J,UAErBvtB,KAAKwmB,YAAYnJ,MAAMqE,OAAOhT,EAAO,GACrC1O,KAAKwmB,YAAYG,UAAY3mB,KAAKwmB,YAAYnJ,MAAMhZ,OAGd,IAAlCrE,KAAKwmB,YAAYnJ,MAAMhZ,QACzBrE,KAAK4qB,WAAW5qB,KAAKwmB,aACrBxmB,KAAKumB,oBAGDvmB,KAAK4mB,oBAAsBlY,EAC7B1O,KAAK4mB,kBAAoB9U,KAAKkE,IAAI,EAAGtH,EAAQ,GACpC1O,KAAK4mB,kBAAoBlY,IAClC1O,KAAK4mB,kBAAoB5mB,KAAK4mB,kBAAoB,GAIpD0H,GAAmBtuB,KAAKuuB,cAAevuB,KAAK4U,YAAa5U,KAAKjC,WAC9DkN,MAAM,YAGZ,EAGA,YAAAqf,CAAanrB,GACXmrB,GAAanrB,EACf,EAGA,YAAAkmB,CAAa9gB,GACX,OAAO8gB,GAAa9gB,EACtB,EAGA,WAAAmiB,CAAY6G,GACV,OAAO7G,GAAY6G,EACrB,EAGA,kBAAAxG,CAAmBgH,GACjB,OAAOhH,GAAmBgH,EAC5B,EAGA,cAAArI,CAAewH,GACb,OAAOxH,GAAewH,EACxB,EAGA,wBAAM9C,GACJ,GAAKpqB,KAAKwmB,aAAgBxmB,KAAKwmB,YAAYvgB,GAI3C,IACE3J,QAAQC,IAAI,UAAW,CACrB40B,cAAenxB,KAAKwmB,YAAYvgB,GAChC+xB,UAAWh4B,KAAKwmB,YAAYrpB,SAI9B,MAAMD,QAAiB0zB,GAAaM,wBAClClxB,KAAKwmB,YAAYvgB,GACjBjG,KAAKwmB,YAAYrpB,QAKnB,GAFAb,QAAQC,IAAI,UAAWW,IAEnBA,GAA8B,MAAlBA,EAASoM,KAiBvB,MAAM,IAAI9L,MAAMN,EAAS0G,KAAO,UAjBK,CAErC,MAAMuzB,EAAgBn3B,KAAKuuB,cAAc9B,UAAU4J,GAAQA,EAAKpwB,KAAOjG,KAAKwmB,YAAYvgB,IAMxF,IALuB,IAAnBkxB,IACFn3B,KAAKuuB,cAAc4I,GAAeh6B,OAAS6C,KAAKwmB,YAAYrpB,QAI1D6C,KAAKm0B,YAAa,CACpB,MAAMoD,EAAcv3B,KAAKk0B,cAAczH,UAAU4J,GAAQA,EAAKpwB,KAAOjG,KAAKwmB,YAAYvgB,KACjE,IAAjBsxB,IACFv3B,KAAKk0B,cAAcqD,GAAap6B,OAAS6C,KAAKwmB,YAAYrpB,OAE9D,CAEA8N,MAAM,YAAcylB,GAAe1wB,KAAKwmB,YAAYrpB,QACtD,CAGF,CAAE,MAAOJ,GACPT,QAAQS,MAAM,YAAaA,GAC3BkO,MAAM,YAAclO,EAAMU,SAAW,QAGrC,MAAMw6B,EAAWj4B,KAAKuuB,cAActX,KAAKof,GAAQA,EAAKpwB,KAAOjG,KAAKwmB,YAAYvgB,IAC1EgyB,IACFj4B,KAAKwmB,YAAYrpB,OAAS86B,EAAS96B,OAEvC,CACF,EAGA,4BAAM+6B,CAAuB/G,GAC3B,IACE70B,QAAQC,IAAI,UAAW40B,GAEvB,MAAMj0B,QAAiB0zB,GAAaQ,qBAAqBD,GAGzD,GAFA70B,QAAQC,IAAI,UAAWW,GAEnBA,GAA8B,MAAlBA,EAASoM,MAAgBpM,EAAST,KAChD,OAAOi2B,GAAex1B,EAAST,MAE/B,MAAM,IAAIe,MAAMN,EAAS0G,KAAO,SAEpC,CAAE,MAAO7G,GAGP,OAFAT,QAAQS,MAAM,YAAaA,GAC3BkO,MAAM,YAAclO,EAAMU,SAAW,QAC9B,IACT,CACF,EAGA,gBAAA2a,CAAiBjb,GACf,OAAOuzB,GAAevzB,IAAWA,CACnC,EAGA,cAAAg7B,CAAeh7B,GACb,OAAOwzB,GAAaxzB,IAAW,EACjC,ICj3E4I,MCQ5I,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIF,GAAe,G,QCnBX,GAAS,WAAkB,IAAI4C,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,iBAAiBC,MAAM,CAAE,oBAAqBT,EAAIq4B,mBAAoB,CAACn4B,EAAG,MAAM,CAACM,YAAY,YAAYC,MAAM,CAAE,UAAaT,EAAIq4B,mBAAoB,CAACn4B,EAAG,MAAM,CAACM,YAAY,WAAW,CAAGR,EAAIq4B,iBAAyQr4B,EAAIM,KAA3PJ,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,SAAS,CAACM,YAAY,oBAAoBG,GAAG,CAAC,MAAQX,EAAIs4B,oBAAoB,CAACt4B,EAAIe,GAAG,YAAYb,EAAG,SAAS,CAACM,YAAY,sBAAsBG,GAAG,CAAC,MAAQX,EAAIu4B,kBAAkB,CAACv4B,EAAIe,GAAG,eAA0Bf,EAAIq4B,iBAAgGr4B,EAAIM,KAAlFJ,EAAG,QAAQ,CAACM,YAAY,SAASJ,MAAM,CAAC,KAAO,OAAO,YAAc,YAAqBJ,EAAIuN,GAAIvN,EAAW,QAAE,SAASw4B,GAAQ,OAASx4B,EAAIq4B,iBAAuyBr4B,EAAIM,KAAzxBJ,EAAG,MAAM,CAACyD,IAAI60B,EAAOtyB,GAAG1F,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIy4B,aAAaD,EAAOtyB,GAAG,IAAI,CAAChG,EAAG,OAAO,CAACF,EAAIe,GAAGf,EAAIgB,GAAGw3B,EAAOl9B,SAAS4E,EAAG,MAAM,CAACO,MAAM,CAAE,eAAe,EAAM,SAAY+3B,EAAOE,UAAWt4B,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,kBAAkB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAgBo4B,EAAe,SAAEt4B,EAAG,KAAK,CAACM,YAAY,YAAYR,EAAIuN,GAAIvN,EAAI24B,gBAAgBH,EAAOtyB,IAAK,SAAS0yB,GAAK,OAAO14B,EAAG,KAAK,CAACyD,IAAIi1B,EAAI1yB,GAAGzF,MAAM,CAAEoN,OAAQ+qB,EAAI1yB,KAAKlG,EAAI64B,UAAWl4B,GAAG,CAAC,MAAQ,SAAS0G,GAAQrH,EAAI64B,SAASD,EAAI1yB,EAAE,IAAI,CAAClG,EAAIe,GAAGf,EAAIgB,GAAG43B,EAAIrsB,SAAS,GAAG,GAAGvM,EAAIM,MAAe,GAAGJ,EAAG,SAAS,CAACM,YAAY,eAAeJ,MAAM,CAAC,MAAQJ,EAAIq4B,iBAAmB,QAAU,SAAS13B,GAAG,CAAC,MAAQX,EAAIiN,gBAAgB,CAAC/M,EAAG,MAAM,CAACO,MAAM,CAAE,QAAWT,EAAIq4B,kBAAmBj4B,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,mBAAmB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,gBAAgB,GAAGF,EAAG,MAAM,CAACM,YAAY,cAAcC,MAAM,CAAE,SAAYT,EAAIq4B,mBAAoB,CAACn4B,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI84B,UAAUvsB,UAAUrM,EAAG,MAAM,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,QAAQf,EAAIgB,GAAGhB,EAAI84B,UAAUC,cAAc74B,EAAG,WAAW,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAoB,iBAAE8H,WAAW,qBAAqBtH,YAAY,SAASC,MAAM,CAAE,UAAaT,EAAIg5B,WAAY54B,MAAM,CAAC,UAAYJ,EAAIg5B,WAAWjxB,SAAS,CAAC,MAAS/H,EAAoB,kBAAGW,GAAG,CAAC,MAAQ,CAAC,SAAS0G,GAAWA,EAAOhB,OAAO2B,YAAiBhI,EAAIi5B,iBAAiB5xB,EAAOhB,OAAOuB,MAAK,EAAE5H,EAAIk5B,kBAAkBh5B,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACN,EAAG,SAAS,CAACM,YAAY,OAAO,CAACR,EAAIe,GAAG,UAAUb,EAAG,SAAS,CAACM,YAAY,OAAO,CAACR,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,gBAAkBR,EAAIg5B,UAAuGh5B,EAAIM,KAAhGJ,EAAG,SAAS,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAIsnB,iBAAiB,CAACtnB,EAAIe,GAAG,UAAoBf,EAAa,UAAEE,EAAG,SAAS,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAIm5B,aAAa,CAACn5B,EAAIe,GAAG,UAAUf,EAAIM,KAAKJ,EAAG,SAAS,CAACM,YAAY,cAAcJ,MAAM,CAAC,UAAYJ,EAAIg5B,YAAch5B,EAAIo5B,mBAAmBz4B,GAAG,CAAC,MAAQX,EAAIq5B,eAAe,CAACr5B,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAIg5B,WAAah5B,EAAIo5B,kBAAoB,MAAQ,OAAO,aAAcp5B,EAAoB,iBAAEE,EAAG,MAAM,CAACM,YAAY,wBAAwBG,GAAG,CAAC,MAAQX,EAAIs5B,oBAAoB,CAACp5B,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACN,EAAG,KAAK,CAACF,EAAIe,GAAG,UAAUb,EAAG,SAAS,CAACM,YAAY,YAAYG,GAAG,CAAC,MAAQX,EAAIs5B,oBAAoB,CAACt5B,EAAIe,GAAG,SAASb,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAe,YAAE8H,WAAW,gBAAgB1H,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAe,aAAGW,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,YAAiBhI,EAAIu5B,YAAYlyB,EAAOhB,OAAOuB,MAAK,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,SAAS,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAkB,eAAE8H,WAAW,mBAAmBnH,GAAG,CAAC,OAAS,SAAS0G,GAAQ,IAAIuiB,EAAgB3hB,MAAM4hB,UAAUrZ,OAAOsZ,KAAKziB,EAAOhB,OAAO0jB,QAAQ,SAASC,GAAG,OAAOA,EAAEC,QAAQ,GAAG9W,IAAI,SAAS6W,GAAG,IAAIE,EAAM,WAAYF,EAAIA,EAAEG,OAASH,EAAEpiB,MAAM,OAAOsiB,CAAG,GAAIlqB,EAAIw5B,eAAenyB,EAAOhB,OAAO+jB,SAAWR,EAAgBA,EAAc,EAAE,IAAI5pB,EAAIuN,GAAIvN,EAAW,QAAE,SAASw4B,GAAQ,OAAOt4B,EAAG,SAAS,CAACyD,IAAI60B,EAAOtyB,GAAG6B,SAAS,CAAC,MAAQywB,EAAOl9B,OAAO,CAAC0E,EAAIe,GAAGf,EAAIgB,GAAGw3B,EAAOl9B,QAAQ,GAAG,KAAK4E,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,WAAWb,EAAG,WAAW,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAiB,cAAE8H,WAAW,kBAAkB1H,MAAM,CAAC,YAAc,UAAU,KAAO,MAAM2H,SAAS,CAAC,MAAS/H,EAAiB,eAAGW,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,YAAiBhI,EAAIy5B,cAAcpyB,EAAOhB,OAAOuB,MAAK,OAAO1H,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,SAAS,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAIs5B,oBAAoB,CAACt5B,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,cAAcJ,MAAM,CAAC,UAAYJ,EAAIu5B,aAAa54B,GAAG,CAAC,MAAQX,EAAI05B,gBAAgB,CAAC15B,EAAIe,GAAG,kBAAkBf,EAAIM,KAAMN,EAAuB,oBAAEE,EAAG,MAAM,CAACM,YAAY,wBAAwBG,GAAG,CAAC,MAAQX,EAAI25B,uBAAuB,CAACz5B,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACN,EAAG,KAAK,CAACF,EAAIe,GAAG,WAAWb,EAAG,SAAS,CAACM,YAAY,YAAYG,GAAG,CAAC,MAAQX,EAAI25B,uBAAuB,CAAC35B,EAAIe,GAAG,SAASb,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,YAAYb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAiB,cAAE8H,WAAW,kBAAkB1H,MAAM,CAAC,KAAO,OAAO,YAAc,YAAY2H,SAAS,CAAC,MAAS/H,EAAiB,eAAGW,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,YAAiBhI,EAAI45B,cAAcvyB,EAAOhB,OAAOuB,MAAK,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACF,EAAIe,GAAG,YAAYb,EAAG,WAAW,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAwB,qBAAE8H,WAAW,yBAAyB1H,MAAM,CAAC,YAAc,eAAe,KAAO,KAAK2H,SAAS,CAAC,MAAS/H,EAAwB,sBAAGW,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,YAAiBhI,EAAI65B,qBAAqBxyB,EAAOhB,OAAOuB,MAAK,OAAO1H,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,SAAS,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAI25B,uBAAuB,CAAC35B,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,cAAcJ,MAAM,CAAC,UAAYJ,EAAI45B,eAAej5B,GAAG,CAAC,MAAQX,EAAI85B,mBAAmB,CAAC95B,EAAIe,GAAG,kBAAkBf,EAAIM,MAChoN,EACI,GAAkB,GC0HtB,IACEhF,KAAM,uBACNiJ,MAAO,CACLvG,UAAW,CACTwG,KAAM,CAAC2B,OAAQytB,QACflvB,QAAS,OAGb,IAAAhI,GACE,MAAO,CACLm8B,SAAU,EACVkB,kBAAkB,EAClBC,qBAAqB,EACrBT,YAAa,GACbC,eAAgB,GAChBC,cAAe,GACfG,cAAe,GACfC,qBAAsB,GACtBT,mBAAmB,EACnBa,cAAe,KACfjB,WAAW,EACXX,kBAAkB,EAClB6B,QAAS,CACP,CAAEh0B,GAAI,EAAG5K,KAAM,SAAUmS,YAAa,cAAeirB,UAAU,GAC/D,CAAExyB,GAAI,EAAG5K,KAAM,OAAQmS,YAAa,UAAWirB,UAAU,GACzD,CAAExyB,GAAI,EAAG5K,KAAM,OAAQmS,YAAa,UAAWirB,UAAU,IAE3DyB,KAAM,CACJ,CACEj0B,GAAI,EACJqG,MAAO,cACPwsB,QAAS,cACT/lB,QAAS,sEAEX,CACE9M,GAAI,EACJqG,MAAO,cACPwsB,QAAS,cACT/lB,QAAS,sEAEX,CACE9M,GAAI,EACJqG,MAAO,cACPwsB,QAAS,cACT/lB,QAAS,uEAIjB,EACAhM,SAAU,CACR,SAAA8xB,GACE,OAAO74B,KAAKk6B,KAAKjjB,KAAK2f,GAAKA,EAAE3wB,KAAOjG,KAAK44B,WAAa54B,KAAKk6B,KAAK,EAClE,EACAlB,iBAAkB,CAChB,GAAA56B,GACE,OAAO4B,KAAK64B,UAAY74B,KAAK64B,UAAU9lB,QAAU,EACnD,EACA,GAAAuC,CAAI3N,GACE3H,KAAK64B,YACP74B,KAAK64B,UAAU9lB,QAAUpL,EAE7B,IAGJ,OAAAhD,GAEE3E,KAAK+uB,uBAGL1xB,OAAOyH,iBAAiB,eAAgB9E,KAAKm6B,mBAC/C,EACA,aAAA50B,GAEMvF,KAAKm5B,mBACPn5B,KAAKo5B,eAGHp5B,KAAKg6B,eACPnN,aAAa7sB,KAAKg6B,eAGpB38B,OAAOmI,oBAAoB,eAAgBxF,KAAKm6B,mBAClD,EACAx0B,QAAS,CACP,iBAAA0yB,GACEr4B,KAAK85B,kBAAmB,EACxB95B,KAAKu5B,eAAiBv5B,KAAKi6B,QAAQ,IAAI5+B,MAAQ,EACjD,EAEA,iBAAAg+B,GACEr5B,KAAK85B,kBAAmB,EACxB95B,KAAKs5B,YAAc,GACnBt5B,KAAKu5B,eAAiB,GACtBv5B,KAAKw5B,cAAgB,EACvB,EAEA,eAAAlB,GACEt4B,KAAK+5B,qBAAsB,EAC3B/5B,KAAK25B,cAAgB,GACrB35B,KAAK45B,qBAAuB,EAC9B,EAEA,oBAAAF,GACE15B,KAAK+5B,qBAAsB,EAC3B/5B,KAAK25B,cAAgB,GACrB35B,KAAK45B,qBAAuB,EAC9B,EAEA,gBAAAC,GACE,IAAK75B,KAAK25B,cAAchkB,OAAQ,OAChC,MAAMykB,EAAY,CAChBn0B,GAAIkJ,KAAK0S,MACTxmB,KAAM2E,KAAK25B,cAAchkB,OACzBnI,YAAaxN,KAAK45B,qBAAqBjkB,OACvC8iB,UAAU,GAGZz4B,KAAKi6B,QAAQxzB,KAAK2zB,GAClBp6B,KAAKsuB,qBACLtuB,KAAK05B,sBACP,EAEA,YAAAlB,CAAa6B,GACX,MAAM9B,EAASv4B,KAAKi6B,QAAQhjB,KAAKie,GAAKA,EAAEjvB,KAAOo0B,GAC3C9B,IACFA,EAAOE,UAAYF,EAAOE,SAC1Bz4B,KAAKsuB,qBAET,EAEA,aAAAthB,GACEhN,KAAKo4B,kBAAoBp4B,KAAKo4B,gBAChC,EAEA,eAAAM,CAAgB2B,GACd,OAAOr6B,KAAKk6B,KAAK3pB,OAAOooB,GAAOA,EAAI0B,WAAaA,EAClD,EAEA,cAAAhT,GACErnB,KAAK+4B,WAAY,EAEb/4B,KAAKg5B,mBAAqBh5B,KAAK64B,UAAU9lB,UAC3C/S,KAAKm5B,mBAAoB,EAE7B,EAEA,UAAAD,GAEMl5B,KAAKm5B,kBACHjC,QAAQ,wBACVl3B,KAAK+4B,WAAY,EACjB/4B,KAAKm5B,mBAAoB,EAEzBn5B,KAAKs6B,0BAGPt6B,KAAK+4B,WAAY,EACjB/4B,KAAKm5B,mBAAoB,EAE7B,EAEA,qBAAAmB,GAEE,MAAMC,EAAav6B,KAAKk6B,KAAKjjB,KAAK0hB,GAAOA,EAAI1yB,KAAOjG,KAAK44B,UACrD2B,IACFv6B,KAAKg5B,iBAAmBuB,EAAWxnB,QAEvC,EAEA,aAAA0mB,GACE,GAAIz5B,KAAKs5B,YAAa,CAEpB,MAAMkB,EAAiBx6B,KAAKi6B,QAAQhjB,KAAKie,GAAKA,EAAE75B,OAAS2E,KAAKu5B,gBAExDkB,EAAS,CACbx0B,GAAIkJ,KAAK0S,MACTvV,MAAOtM,KAAKs5B,YACZR,SAAS,IAAI3pB,MAAOkf,eAAe,SACnCtb,QAAS/S,KAAKw5B,eAAiB,YAC/Ba,SAAUG,GAAgBv0B,IAAM,MAGlCjG,KAAKk6B,KAAK5W,QAAQmX,GAClBz6B,KAAK44B,SAAW6B,EAAOx0B,GACvBjG,KAAKq5B,oBAGLr5B,KAAKsuB,qBAGLtuB,KAAK+K,MAAM,mBAAoB0vB,GAE/BxvB,MAAM,gBACR,CACF,EAEA,aAAAguB,GAEMj5B,KAAK+4B,YACP/4B,KAAKm5B,mBAAoB,EAGrBn5B,KAAKg6B,eACPnN,aAAa7sB,KAAKg6B,eAIpBh6B,KAAKg6B,cAAgBrzB,WAAW,KAC9B3G,KAAK06B,YACJ,KAEP,EAEA,YAAAtB,GACMp5B,KAAK64B,YAEP74B,KAAK64B,UAAU9lB,QAAU/S,KAAKg5B,iBAE9Bh5B,KAAK64B,UAAUC,SAAU,IAAI3pB,MAAOkf,eAAe,SAGnDruB,KAAKsuB,qBAGLtuB,KAAKm5B,mBAAoB,EACzBn5B,KAAK+4B,WAAY,EAGjB/4B,KAAK+K,MAAM,iBAAkB/K,KAAK64B,WAElC5tB,MAAM,WAEV,EAEA,QAAAyvB,GACM16B,KAAK64B,WAAa74B,KAAKm5B,oBAEzBn5B,KAAK64B,UAAUC,SAAU,IAAI3pB,MAAOkf,eAAe,SACnDruB,KAAKsuB,qBACLtuB,KAAKm5B,mBAAoB,EAGzBn5B,KAAK+K,MAAM,sBAAuB/K,KAAK64B,WAEvCv8B,QAAQC,IAAI,WAEhB,EAEA,kBAAA+xB,GAEE,IACE,MAAMO,EAAa,CACjBqL,KAAMl6B,KAAKk6B,KACXD,QAASj6B,KAAKi6B,QACdrB,SAAU54B,KAAK44B,SACfO,kBAAmBn5B,KAAKm5B,mBAEpBrK,EAAa9uB,KAAKjC,UAAY,qBAAqBiC,KAAKjC,YAAc,oBAC5E7B,aAAa+G,QAAQ6rB,EAAY9sB,KAAKmB,UAAU0rB,IAChDvyB,QAAQC,IAAI,wBAAwByD,KAAKjC,aAC3C,CAAE,MAAOhB,GACPT,QAAQS,MAAM,aAAcA,EAC9B,CACF,EAEA,oBAAAgyB,GAEE,IACE,MAAMD,EAAa9uB,KAAKjC,UAAY,qBAAqBiC,KAAKjC,YAAc,oBACtEixB,EAAQ9yB,aAAaC,QAAQ2yB,GACnC,GAAIE,EAAO,CACT,MAAMvyB,EAAOuF,KAAKC,MAAM+sB,GACpBvyB,EAAKy9B,MAAQlyB,MAAMC,QAAQxL,EAAKy9B,OAASz9B,EAAKy9B,KAAK71B,OAAS,IAC9DrE,KAAKk6B,KAAOz9B,EAAKy9B,KACjB59B,QAAQC,IAAI,wBAAwByD,KAAKjC,eAEvCtB,EAAKw9B,SAAWjyB,MAAMC,QAAQxL,EAAKw9B,UAAYx9B,EAAKw9B,QAAQ51B,OAAS,IACvErE,KAAKi6B,QAAUx9B,EAAKw9B,QACpB39B,QAAQC,IAAI,wBAAwByD,KAAKjC,eAEvCtB,EAAKm8B,WACP54B,KAAK44B,SAAWn8B,EAAKm8B,eAEQj8B,IAA3BF,EAAK08B,oBACPn5B,KAAKm5B,kBAAoB18B,EAAK08B,kBAElC,CACF,CAAE,MAAOp8B,GACPT,QAAQS,MAAM,aAAcA,EAC9B,CACF,EAEA,kBAAAo9B,CAAmBp0B,GAEjB,GAAI/F,KAAKm5B,kBAGP,OAFApzB,EAAMsB,iBACNtB,EAAM40B,YAAc,mBACb,kBAEX,ICva4I,MCQ5I,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIF,GAAe,G,QCnBX,GAAS,WAAkB,IAAI56B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,WAAW,CAACN,EAAG,MAAM,CAACM,YAAY,eAAe,CAACR,EAAIoH,GAAG,GAAGlH,EAAG,IAAI,CAACM,YAAY,iBAAiB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgBJ,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,6BAA6B,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,qCAAqC,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaJ,EAAIe,GAAG,8BAA8Bb,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACob,IAAI,aAAa9a,YAAY,eAAe,CAACN,EAAG,MAAM,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,gEAAgEf,EAAIuN,GAAIvN,EAAY,SAAE,SAAStC,GAAS,OAAOwC,EAAG,MAAM,CAACyD,IAAIjG,EAAQwI,GAAG1F,YAAY,SAASC,MAAM/C,EAAQ8G,MAAM,CAACxE,EAAIe,GAAG,IAAIf,EAAIgB,GAAGtD,EAAQsV,SAAS,MAAM,IAAI,GAAG9S,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,SAAS,CAACM,YAAY,kBAAkBJ,MAAM,CAAC,SAAWJ,EAAI66B,UAAU,MAAQ,OAAO,KAAO,UAAUl6B,GAAG,CAAC,MAAQ,SAAS0G,GAAyD,OAAjDA,EAAOsE,kBAAkBtE,EAAOC,iBAAwBtH,EAAI86B,eAAetzB,MAAM,KAAMC,UAAU,IAAI,CAACvH,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,sPAAsP,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,aAAa,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,mBAAmB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAgBJ,EAAgB,aAAEE,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAI+6B,4BAA4B,CAAC76B,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,+KAA+K,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,iBAAiB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaF,EAAG,OAAO,CAACF,EAAIe,GAAG,iBAAiBb,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAIg7B,iBAAiB,CAAC96B,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uKAAuK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,4BAA4B,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaF,EAAG,OAAO,CAACF,EAAIe,GAAG,iBAAiBf,EAAIM,OAAOJ,EAAG,QAAQ,CAACob,IAAI,YAAYC,YAAY,CAAC,QAAU,QAAQnb,MAAM,CAAC,KAAO,OAAO,SAAW,IAAIO,GAAG,CAAC,OAASX,EAAIi7B,oBAAoB/6B,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAgB,aAAE8H,WAAW,iBAAiBtH,YAAY,iBAAiBJ,MAAM,CAAC,KAAO,OAAO,YAAc,YAAY,SAAWJ,EAAI66B,WAAW9yB,SAAS,CAAC,MAAS/H,EAAgB,cAAGW,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAIA,EAAO7C,KAAKoX,QAAQ,QAAQ5b,EAAI6b,GAAGxU,EAAOyU,QAAQ,QAAQ,GAAGzU,EAAO1D,IAAI,SAAgB,KAAY3D,EAAIk7B,YAAY1zB,MAAM,KAAMC,UAAU,EAAE,MAAQ,SAASJ,GAAWA,EAAOhB,OAAO2B,YAAiBhI,EAAIm7B,aAAa9zB,EAAOhB,OAAOuB,MAAK,KAAK1H,EAAG,SAAS,CAACM,YAAY,WAAWJ,MAAM,CAAC,UAAYJ,EAAIm7B,aAAavlB,QAAU5V,EAAI66B,WAAWl6B,GAAG,CAAC,MAAQX,EAAIk7B,cAAc,CAAGl7B,EAAI66B,UAA+Z36B,EAAG,MAAM,CAACM,YAAY,oBAA1aN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,cAAc,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,8BAA8B,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAA4DJ,EAAkB,eAAEE,EAAG,MAAM,CAACM,YAAY,sBAAsBG,GAAG,CAAC,MAAQX,EAAIo7B,kBAAkB,CAACl7B,EAAG,MAAM,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,KAAK,CAACF,EAAIe,GAAG,cAAef,EAAIq7B,cAAc/2B,OAAS,EAAGpE,EAAG,IAAI,CAACM,YAAY,mBAAmB,CAACR,EAAIe,GAAG,OAAOf,EAAIgB,GAAGhB,EAAIq7B,cAAc/2B,QAAQ,QAAQtE,EAAIM,OAAOJ,EAAG,SAAS,CAACM,YAAY,YAAYG,GAAG,CAAC,MAAQX,EAAIo7B,kBAAkB,CAACl7B,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAAER,EAAgB,aAAEE,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,MAAM,CAACM,YAAY,0BAA0BN,EAAG,IAAI,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAG,mBAAyC,IAArBf,EAAIsd,MAAMhZ,OAAcpE,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,sPAAsP,OAAS,eAAe,eAAe,MAAM,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,aAAa,OAAS,eAAe,eAAe,MAAM,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,IAAI,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,iBAAiBb,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,MAAM,CAACM,YAAY,aAAaR,EAAIuN,GAAIvN,EAAS,MAAE,SAASZ,GAAM,OAAOc,EAAG,MAAM,CAACyD,IAAIvE,EAAK8G,GAAG1F,YAAY,YAAYC,MAAM,CAAE,SAAYT,EAAIq7B,cAAc35B,SAAStC,EAAK8G,KAAMvF,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIs7B,oBAAoBl8B,EAAK8G,GAAG,IAAI,CAAChG,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAGf,EAAIgB,GAAG5B,EAAK9D,MAAQ8D,EAAKmN,OAAS,YAAYrM,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,mBAAmB,CAACR,EAAIe,GAAGf,EAAIgB,GAAG5B,EAAKoF,MAAQ,WAAYpF,EAAc,UAAEc,EAAG,OAAO,CAACM,YAAY,oBAAoB,CAACR,EAAIe,GAAGf,EAAIgB,GAAG5B,EAAKwnB,WAAW,SAAS5mB,EAAIM,WAAWJ,EAAG,MAAM,CAACM,YAAY,wBAAwBC,MAAM,CAAE,OAAUT,EAAIq7B,cAAc35B,SAAStC,EAAK8G,MAAO,CAAChG,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAAER,EAAIq7B,cAAc35B,SAAStC,EAAK8G,IAAKhG,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,kBAAkB,OAAS,eAAe,eAAe,MAAM,iBAAiB,QAAQ,kBAAkB,aAAaJ,EAAIM,YAAY,GAAG,OAAOJ,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,SAAS,CAACM,YAAY,aAAaG,GAAG,CAAC,MAAQX,EAAIo7B,kBAAkB,CAACp7B,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,cAAcC,MAAM,CAAE,SAAyC,IAA7BT,EAAIq7B,cAAc/2B,QAAelE,MAAM,CAAC,SAAwC,IAA7BJ,EAAIq7B,cAAc/2B,QAAc3D,GAAG,CAAC,MAAQX,EAAIu7B,uBAAuB,CAACr7B,EAAG,OAAO,CAACF,EAAIe,GAAG,UAAWf,EAAIq7B,cAAc/2B,OAAS,EAAGpE,EAAG,OAAO,CAACM,YAAY,kBAAkB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIq7B,cAAc/2B,WAAWtE,EAAIM,aAAaN,EAAIM,QAC7kQ,EACI,GAAkB,CAAC,WAAY,IAAIN,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACM,YAAY,cAAc,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,YAAYb,EAAG,MAAM,CAACM,YAAY,sBAC1L,GCCA,MAAM,GAAM,WAAa,CACvB3F,QAAS,GACTC,QAAS,IACTuB,QAAS,CACP,eAAgB,mBAChB,OAAU,uCAEZP,iBAAiB,IAOnB,SAAS0/B,GAAoBC,EAAYC,GAElCD,EAAWE,cACdF,EAAWE,YAAc,IAI3B,IAAIC,EAAWF,EAQf,GAPIA,EAAKj6B,WAAW,UAClBm6B,EAAWF,EAAK/5B,UAAU,GACjB+5B,EAAKj6B,WAAW,WACzBm6B,EAAWF,EAAK/5B,UAAU,KAIvBi6B,EAAShmB,OACZ,OAAO,KAKT,GAAI6lB,EAAWE,YAAa,CAC1B,MAAME,EAAUD,EAAShmB,OACnBkmB,EAAqBL,EAAWE,YAAY/lB,OAG7CkmB,EAAmBr6B,WAAW,MAASq6B,EAAmBr6B,WAAW,OAAQo6B,EAAQn6B,SAAS,OAEjG+5B,EAAWE,YAAc,KAAOF,EAAWE,YAAc,KAAO,IAAMF,EAAWE,aAI9EE,EAAQp6B,WAAW,MAASo6B,EAAQp6B,WAAW,MAC/Cq6B,EAAmBC,SAAS,MAC5BN,EAAWE,YAAYI,SAAS,OAAUN,EAAWE,YAAYI,SAAS,MAC1EN,EAAWE,YAAYI,SAAS,MAASN,EAAWE,YAAYI,SAAS,OAC5EN,EAAWE,aAAe,KAE9B,KAAO,CAEL,MAAME,EAAUD,EAAShmB,QACrBimB,EAAQn6B,SAAS,MAASm6B,EAAQp6B,WAAW,MAASo6B,EAAQp6B,WAAW,MAASo6B,EAAQp6B,WAAW,MAASo6B,EAAQp6B,WAAW,OACnIg6B,EAAWE,YAAc,MAE7B,CAIA,MAAMK,EAAkBJ,EAAShmB,OACjC,GAAIomB,EAAgBv6B,WAAW,MAAQu6B,EAAgBv6B,WAAW,KAEhE,GAAIg6B,EAAWE,YAAY/lB,OAAQ,CACjC,MAAMqmB,EAAiBR,EAAWE,YAAY/lB,OAE9C,IACE,MAAM5T,EAASC,KAAKC,MAAM+5B,GAE1B,OADAR,EAAWE,YAAcC,EAClB55B,CACT,CAAE,MAAOO,GAEPhG,QAAQE,KAAK,0BAA2Bw/B,EAAet6B,UAAU,EAAG,MACpE85B,EAAWE,YAAcC,CAC3B,CACF,MACEH,EAAWE,YAAcC,OAI3BH,EAAWE,aAAeC,EAI5B,IACE,IAAIM,EAAcT,EAAWE,YAAY/lB,OAGzC,GAAIsmB,EAAYz6B,WAAW,OAASy6B,EAAYH,SAAS,KAAM,CAE7D,MAAMI,GAAcD,EAAYrY,MAAM,QAAU,IAAIvf,OAC9C83B,GAAeF,EAAYrY,MAAM,QAAU,IAAIvf,OACrD,GAAI63B,EAAaC,EAEf,OAAO,IAEX,CAGA,GAAIF,EAAYz6B,WAAW,OAASy6B,EAAYH,SAAS,KAAM,CAC7D,MAAMM,GAAgBH,EAAYrY,MAAM,QAAU,IAAIvf,OAChDg4B,GAAiBJ,EAAYrY,MAAM,QAAU,IAAIvf,OACvD,GAAI+3B,EAAeC,EAEjB,OAAO,IAEX,CAEA,MAAMt6B,EAASC,KAAKC,MAAMg6B,GAG1B,OADAT,EAAWE,YAAc,GAClB35B,CACT,CAAE,MAAOO,GAEP,MAAMs5B,EAAUJ,EAAWE,YAAY/lB,OAGvC,IAAKimB,EAAQp6B,WAAW,OAASo6B,EAAQp6B,WAAW,KAAM,CAGxD,GAAIo6B,EAAQn6B,SAAS,MAAoB,MAAZm6B,GAA+B,MAAZA,EAAiB,CAG/D,GAAIJ,EAAWE,YAAYr3B,OAAS,IAAQ,CAC1C/H,QAAQS,MAAM,6CACd,MAAMu/B,EAAad,EAAWE,YAE9B,OADAF,EAAWE,YAAc,GAClB,CAAE3+B,OAAO,EAAMw/B,QAASD,EAAW56B,UAAU,EAAG,KACzD,CACA,OAAO,IACT,CAIE,OAFApF,QAAQE,KAAK,4BAA6Bo/B,EAAQl6B,UAAU,EAAG,MAC/D85B,EAAWE,YAAc,GAClB,CAAE3+B,OAAO,EAAMw/B,QAASX,EAAQl6B,UAAU,EAAG,KAExD,CAIA,GAAI85B,EAAWE,YAAYr3B,OAAS,IAAQ,CAC1C/H,QAAQS,MAAM,6CACd,MAAMu/B,EAAad,EAAWE,YAE9B,OADAF,EAAWE,YAAc,GAClB,CAAE3+B,OAAO,EAAMw/B,QAASD,EAAW56B,UAAU,EAAG,KACzD,CAEA,OAAO,IACT,CACF,CAGA,GAAI5F,aAAaC,QAAQC,IACvBtB,IAEE,MAAMuB,EAAQC,aAAaC,QAAQ,gBAanC,OAZIF,IACFvB,EAAO0B,QAAQC,cAAgB,UAAUJ,KAIvCvB,EAAO+B,gBAAgBC,iBAClBhC,EAAO0B,QAAQ,gBACtBE,QAAQC,IAAI,yBAA0B7B,EAAOkC,QAAQC,cAAenC,EAAOoC,MAE3ER,QAAQC,IAAI,cAAe7B,EAAOkC,QAAQC,cAAenC,EAAOoC,KAG3DpC,GAETqC,IACET,QAAQS,MAAM,WAAYA,GACnBC,QAAQC,OAAOF,KAK1B,GAAIjB,aAAaoB,SAASlB,IACxBkB,IACEZ,QAAQC,IAAI,cAAeW,EAASC,OAAQD,EAAST,MAC9CS,EAAST,MAElBM,IAGE,GAFAT,QAAQS,MAAM,cAAeA,GAEzBA,EAAMG,SAAU,CAClB,MAAM,OAAEC,EAAM,KAAEV,GAASM,EAAMG,SAW/B,OAVAZ,QAAQS,MAAM,SAAUI,EAAQV,GAEjB,MAAXU,IAEFjB,aAAakB,WAAW,gBACxBlB,aAAakB,WAAW,iBACxBlB,aAAakB,WAAW,aACxBC,OAAOC,SAASC,KAAO,UAGlBP,QAAQC,OAAOR,GAAQM,EAChC,CAAO,OAAIA,EAAMhB,SACfO,QAAQS,MAAM,QAASA,EAAMhB,SACtBiB,QAAQC,OAAO,IAAIO,MAAM,qBAEhClB,QAAQS,MAAM,QAASA,EAAMU,SACtBT,QAAQC,OAAOF,MAQrB,MAAMy/B,GAAU,CAWrB,UAAAC,CAAW9pB,EAAO+pB,EAAiB,KAAMC,EAAkB,KAAMC,EAAWC,EAASC,GACnFxgC,QAAQC,IAAI,sCAAuCoW,EAAO,kBAAmB+pB,GAG7E,MAAMzgC,EAAQC,aAAaC,QAAQ,gBACnC,IAAKF,EAAO,CACV,MAAMc,EAAQ,IAAIS,MAAM,YAGxB,OAFAlB,QAAQS,MAAM,6BAA8BA,EAAMU,SAC9Co/B,GAASA,EAAQ9/B,GACdC,QAAQC,OAAOF,EACxB,CAGA,IAAID,EAAM,+BACV,MAAM0B,EAAS,IAAIu+B,gBACnBv+B,EAAOa,OAAO,QAASsT,GACnB+pB,GACFl+B,EAAOa,OAAO,iBAAkBq9B,GAElC5/B,GAAO,IAAM0B,EAAOw+B,WAGpB,IAAI1qB,EAAO,KAYX,OAVEA,EADEqqB,GAAmBp5B,OAAOC,KAAKm5B,GAAiBt4B,OAAS,EACpDrC,KAAKmB,UAAUw5B,GAGf,KAGTrgC,QAAQC,IAAI,8BAA+BO,GAC3CR,QAAQC,IAAI,kCAAmCN,GAGxCghC,MAAMngC,EAAK,CAChBF,OAAQ,OACRR,QAAS,CACP,cAAiB,UAAUH,IAC3B,eAAgB,mBAChB,OAAU,oBACV,gBAAiB,YAEnBqW,KAAMA,EACN4qB,YAAa,YAEZC,KAAKjgC,IAIJ,GAHAZ,QAAQC,IAAI,6BAA8BW,EAASC,OAAQD,EAASkgC,YAG5C,MAApBlgC,EAASC,QAAsC,MAApBD,EAASC,OAAgB,CACtD,MAAMJ,EAAQ,IAAIS,MAAM,cAGxB,MAFAlB,QAAQS,MAAM,6BAA8BG,EAASC,QACjD0/B,GAASA,EAAQ9/B,GACfA,CACR,CAGA,MAAMsgC,EAAcngC,EAASd,QAAQgC,IAAI,gBAIzC,GAHA9B,QAAQC,IAAI,uCAAwC8gC,GACpD/gC,QAAQC,IAAI,8BAA+BW,EAASJ,MAE/CugC,IAAgBA,EAAY57B,SAAS,qBAGxC,OAFAnF,QAAQE,KAAK,kCAAmC6gC,GAEzCngC,EAASwY,OAAOynB,KAAKznB,IAG1B,GAFApZ,QAAQS,MAAM,yCAA0C2Y,EAAKhU,UAAU,EAAG,MAEtE27B,GAAeA,EAAY57B,SAAS,aAAc,CACpD,MAAM1E,EAAQ,IAAIS,MAAM,oCAAoCkY,EAAKhU,UAAU,EAAG,QAG9E,MAFApF,QAAQS,MAAM,4CACV8/B,GAASA,EAAQ9/B,GACfA,CACR,CACA,MAAMA,EAAQ,IAAIS,MAAM,UAAUN,EAASC,YAAYuY,EAAKhU,UAAU,EAAG,QAEzE,MADIm7B,GAASA,EAAQ9/B,GACfA,IAIV,IAAKG,EAASogC,GAAI,CAChB,MAAMvgC,EAAQ,IAAIS,MAAM,uBAAuBN,EAASC,UAGxD,MAFAb,QAAQS,MAAM,+BAAgCG,EAASC,QACnD0/B,GAASA,EAAQ9/B,GACfA,CACR,CAEA,MAAMugB,EAASpgB,EAASoV,KAAKirB,YACvBC,EAAU,IAAIC,YACpB,IAAIrO,EAAS,GACb,MAAMsO,EAAa,CAAEhC,YAAa,IAE5BiC,EAAY,KAChBrgB,EAAOsgB,OAAOT,KAAK,EAAGU,OAAMl2B,YAC1B,GAAIk2B,EAAM,CAER,GAAIzO,EAAOzZ,OAAQ,CACjBrZ,QAAQC,IAAI,oCAAqC6yB,GACjD,MAAM0O,EAAQ1O,EAAOvS,MAAM,MAC3B,IAAK,MAAM4e,KAAQqC,EAEjB,GAAIrC,EAAKj6B,WAAW,UAAYi6B,EAAK9lB,OAAOnU,WAAW,SAAU,CAC/D,MAAM/D,EAAU89B,GAAoBmC,EAAYjC,GAC5Ch+B,IAAYA,EAAQV,OAClB6/B,GAAWA,EAAUn/B,EAE7B,MAAO,GAAIg+B,EAAKj6B,WAAW,YAAci6B,EAAK9lB,OAAOnU,WAAW,UAAW,CACzE,MAAM6qB,EAAYoP,EAAKh6B,SAAS,KAAOg6B,EAAK/5B,UAAU+5B,EAAK9f,QAAQ,KAAO,GAAGhG,OAAS8lB,EAAK9lB,OAC3FrZ,QAAQC,IAAI,kCAAmC8vB,EACjD,CAEJ,CAGA,GAAIqR,EAAWhC,YAAY/lB,OAAQ,CACjCrZ,QAAQE,KAAK,4CAA6CkhC,EAAWhC,aACrE,IACE,MAAMj+B,EAAUuE,KAAKC,MAAMy7B,EAAWhC,aAClCkB,GAAWA,EAAUn/B,EAC3B,CAAE,MAAO6E,GACPhG,QAAQS,MAAM,wCAAyCuF,EAAG,QAASo7B,EAAWhC,YAChF,CACAgC,EAAWhC,YAAc,EAC3B,CAGA,YADIoB,GAAYA,IAElB,CAEA1N,GAAUoO,EAAQO,OAAOp2B,EAAO,CAAEq2B,QAAQ,IAC1C,MAAMF,EAAQ1O,EAAOvS,MAAM,MAC3BuS,EAAS0O,EAAMlQ,OAAS,GAExB,IAAK,MAAM6N,KAAQqC,EAOjB,GALIrC,EAAK9lB,QACPrZ,QAAQC,IAAI,+BAAgCk/B,EAAK/5B,UAAU,EAAG,MAI5D+5B,EAAKj6B,WAAW,UAAYi6B,EAAK9lB,OAAOnU,WAAW,SAAU,CAE/D,IAAIy8B,EAAUxC,EAAK/5B,UAAU+5B,EAAK9f,QAAQ,SAAW,GAAGhG,OAGxD,IAAKsoB,EAAS,CACZ3hC,QAAQC,IAAI,oCACZ,QACF,CAEAD,QAAQC,IAAI,kCAAmC0hC,EAAQv8B,UAAU,EAAG,MAEpE,IAEE,MAAMjE,EAAUuE,KAAKC,MAAMg8B,GAC3B3hC,QAAQC,IAAI,2CAA4CkB,EAAQsI,MAAO,aAActI,EAAQsV,SAASrR,UAAU,EAAG,KAC/Gk7B,GACFtgC,QAAQC,IAAI,wCACZqgC,EAAUn/B,IAEVnB,QAAQE,KAAK,yCAEjB,CAAE,MAAO8F,GAEPhG,QAAQE,KAAK,oCAAqC8F,EAAE7E,QAAS,UAAWwgC,EAAQv8B,UAAU,EAAG,KAC7F,MAAMw8B,EAAoB3C,GAAoBmC,EAAYjC,GACtDyC,IACEA,EAAkBnhC,OACpBT,QAAQS,MAAM,kCAAmCmhC,EAAkB3B,SAC/DM,GAASA,EAAQ,IAAIr/B,MAAM,cAAgB0gC,EAAkB3B,QAAQ76B,UAAU,EAAG,SAEtFpF,QAAQC,IAAI,yCAA0C2hC,EAAkBn4B,OACpE62B,GAAWA,EAAUsB,IAG/B,CACF,MAAO,GAAIzC,EAAKj6B,WAAW,YAAci6B,EAAK9lB,OAAOnU,WAAW,UAAW,CAEzE,MAAM6qB,EAAYoP,EAAKh6B,SAAS,KAAOg6B,EAAK/5B,UAAU+5B,EAAK9f,QAAQ,KAAO,GAAGhG,OAAS8lB,EAAK9lB,OAC3FrZ,QAAQC,IAAI,gCAAiC8vB,EAC/C,MAAWoP,EAAK9lB,SAAW8lB,EAAKj6B,WAAW,MAGzClF,QAAQE,KAAK,oCAAqCi/B,EAAK/5B,UAAU,EAAG,MAIxEi8B,MACCQ,MAAMphC,IACPT,QAAQS,MAAM,iCAAkCA,GAC5C8/B,GAASA,EAAQ9/B,MAOzB,OAHA4gC,IAGO,CACLS,MAAO,KACL9gB,EAAO+gB,aAIZF,MAAMphC,IAGL,MAFAT,QAAQS,MAAM,aAAcA,GACxB8/B,GAASA,EAAQ9/B,GACfA,GAEZ,EAcA,mBAAAuhC,CAAoB3rB,EAAO+pB,EAAiB,KAAM6B,EAAa,KAAMC,EAAmB,KAAM7B,EAAkB,KAAMC,EAAWC,EAASC,GACxIxgC,QAAQC,IAAI,2CAA4C,CACtDoW,QACA+pB,iBACA+B,gBAAiBF,EAAaA,EAAWl6B,OAAS,EAClDq6B,sBAAuBF,EAAmBA,EAAiBn6B,OAAS,IAItE,MAAMpI,EAAQC,aAAaC,QAAQ,gBACnC,IAAKF,EAAO,CACV,MAAMc,EAAQ,IAAIS,MAAM,YAGxB,OAFAlB,QAAQS,MAAM,sCAAuCA,EAAMU,SACvDo/B,GAASA,EAAQ9/B,GACdC,QAAQC,OAAOF,EACxB,CAGA,MAAMqC,EAAW,IAAI1C,SACrB0C,EAASC,OAAO,QAASsT,GACrB+pB,GACFt9B,EAASC,OAAO,iBAAkBq9B,GAIhC6B,GAAcA,EAAWl6B,OAAS,GACpCk6B,EAAW96B,QAAQtE,IACjBC,EAASC,OAAO,aAAcF,KAK9Bq/B,GAAoBA,EAAiBn6B,OAAS,GAChDm6B,EAAiB/6B,QAAQkuB,IACvBvyB,EAASC,OAAO,mBAAoBsyB,EAAOqL,cAK3CL,GAAmBp5B,OAAOC,KAAKm5B,GAAiBt4B,OAAS,GAC3DjF,EAASC,OAAO,kBAAmB2C,KAAKmB,UAAUw5B,IAIpD,MAAM7/B,EAAM,0CAMZ,OAJAR,QAAQC,IAAI,uCAAwCO,GACpDR,QAAQC,IAAI,2CAA4CN,GAGjDghC,MAAMngC,EAAK,CAChBF,OAAQ,OACRR,QAAS,CACP,cAAiB,UAAUH,IAC3B,OAAU,oBACV,gBAAiB,YAGnBqW,KAAMlT,EACN89B,YAAa,YAEZC,KAAKjgC,IAIJ,GAHAZ,QAAQC,IAAI,sCAAuCW,EAASC,OAAQD,EAASkgC,YAGrD,MAApBlgC,EAASC,QAAsC,MAApBD,EAASC,OAAgB,CACtD,MAAMJ,EAAQ,IAAIS,MAAM,cAGxB,MAFAlB,QAAQS,MAAM,sCAAuCG,EAASC,QAC1D0/B,GAASA,EAAQ9/B,GACfA,CACR,CAGA,MAAMsgC,EAAcngC,EAASd,QAAQgC,IAAI,gBACzC,KAAKi/B,IAAgBA,EAAY57B,SAAS,wBACxCnF,QAAQE,KAAK,2CAA4C6gC,GACjC,MAApBngC,EAASC,QACX,OAAOD,EAASwY,OAAOynB,KAAKznB,IAC1BpZ,QAAQS,MAAM,wCAAyC2Y,GACvD,MAAM3Y,EAAQ,IAAIS,MAAM,UAAUN,EAASC,YAAYuY,KAEvD,MADImnB,GAASA,EAAQ9/B,GACfA,IAKZ,IAAKG,EAASogC,GAAI,CAChB,MAAMvgC,EAAQ,IAAIS,MAAM,uBAAuBN,EAASC,UAGxD,MAFAb,QAAQS,MAAM,wCAAyCG,EAASC,QAC5D0/B,GAASA,EAAQ9/B,GACfA,CACR,CAEA,MAAMugB,EAASpgB,EAASoV,KAAKirB,YACvBC,EAAU,IAAIC,YACpB,IAAIrO,EAAS,GACb,MAAMsO,EAAa,CAAEhC,YAAa,IAE5BiC,EAAY,KAChBrgB,EAAOsgB,OAAOT,KAAK,EAAGU,OAAMl2B,YAC1B,GAAIk2B,EAAM,CAER,GAAIzO,EAAOzZ,OAAQ,CACjBrZ,QAAQC,IAAI,6CAA8C6yB,GAC1D,MAAM0O,EAAQ1O,EAAOvS,MAAM,MAC3B,IAAK,MAAM4e,KAAQqC,EAEjB,GAAIrC,EAAKj6B,WAAW,UAAYi6B,EAAK9lB,OAAOnU,WAAW,SAAU,CAC/D,MAAM/D,EAAU89B,GAAoBmC,EAAYjC,GAC5Ch+B,IAAYA,EAAQV,OAClB6/B,GAAWA,EAAUn/B,EAE7B,MAAO,GAAIg+B,EAAKj6B,WAAW,YAAci6B,EAAK9lB,OAAOnU,WAAW,UAAW,CACzE,MAAM6qB,EAAYoP,EAAKh6B,SAAS,KAAOg6B,EAAK/5B,UAAU+5B,EAAK9f,QAAQ,KAAO,GAAGhG,OAAS8lB,EAAK9lB,OAC3FrZ,QAAQC,IAAI,2CAA4C8vB,EAC1D,CAEJ,CAGA,GAAIqR,EAAWhC,YAAY/lB,OAAQ,CACjCrZ,QAAQE,KAAK,qDAAsDkhC,EAAWhC,aAC9E,IACE,MAAMj+B,EAAUuE,KAAKC,MAAMy7B,EAAWhC,aAClCkB,GAAWA,EAAUn/B,EAC3B,CAAE,MAAO6E,GACPhG,QAAQS,MAAM,iDAAkDuF,EAAG,QAASo7B,EAAWhC,YACzF,CACAgC,EAAWhC,YAAc,EAC3B,CAGA,YADIoB,GAAYA,IAElB,CAEA1N,GAAUoO,EAAQO,OAAOp2B,EAAO,CAAEq2B,QAAQ,IAC1C,MAAMF,EAAQ1O,EAAOvS,MAAM,MAC3BuS,EAAS0O,EAAMlQ,OAAS,GAExB,IAAK,MAAM6N,KAAQqC,EAEjB,GAAIrC,EAAKj6B,WAAW,UAAYi6B,EAAK9lB,OAAOnU,WAAW,SAAU,CAE/D,IAAIy8B,EAAUxC,EAAK/5B,UAAU+5B,EAAK9f,QAAQ,SAAW,GAAGhG,OAGxD,IAAKsoB,EAAS,SAEd,IAEE,MAAMxgC,EAAUuE,KAAKC,MAAMg8B,GACvBrB,GAAWA,EAAUn/B,EAC3B,CAAE,MAAO6E,GAEPhG,QAAQE,KAAK,gDAAiDyhC,EAAQv8B,UAAU,EAAG,KACnF,MAAMw8B,EAAoB3C,GAAoBmC,EAAYjC,GACtDyC,IACEA,EAAkBnhC,OACpBT,QAAQS,MAAM,2CAA4CmhC,EAAkB3B,SACxEM,GAASA,EAAQ,IAAIr/B,MAAM,cAAgB0gC,EAAkB3B,QAAQ76B,UAAU,EAAG,QAElFk7B,GAAWA,EAAUsB,GAG/B,CACF,MAAO,GAAIzC,EAAKj6B,WAAW,YAAci6B,EAAK9lB,OAAOnU,WAAW,UAAW,CAEzE,MAAM6qB,EAAYoP,EAAKh6B,SAAS,KAAOg6B,EAAK/5B,UAAU+5B,EAAK9f,QAAQ,KAAO,GAAGhG,OAAS8lB,EAAK9lB,OAC3FrZ,QAAQC,IAAI,yCAA0C8vB,EACxD,MAAWoP,EAAK9lB,SAAW8lB,EAAKj6B,WAAW,MAGzClF,QAAQE,KAAK,6CAA8Ci/B,EAAK/5B,UAAU,EAAG,MAIjFi8B,MACCQ,MAAMphC,IACPT,QAAQS,MAAM,0CAA2CA,GACrD8/B,GAASA,EAAQ9/B,MAOzB,OAHA4gC,IAGO,CACLS,MAAO,KACL9gB,EAAO+gB,aAIZF,MAAMphC,IAGL,MAFAT,QAAQS,MAAM,2CAA4CA,GACtD8/B,GAASA,EAAQ9/B,GACfA,GAEZ,EAOA,UAAAgoB,CAAW5lB,GACT7C,QAAQC,IAAI,uCAAwC4C,GAAM9D,MAC1D,MAAM+D,EAAW,IAAI1C,SAErB,OADA0C,EAASC,OAAO,OAAQF,GACjB,GAAItB,KAAK,gCAAiCuB,EACnD,EAOA,WAAAu/B,CAAYthB,GACV/gB,QAAQC,IAAI,2CAA4C8gB,GAAOhZ,QAC/D,MAAMjF,EAAW,IAAI1C,SAIrB,OAHA2gB,EAAM5Z,QAAQtE,IACZC,EAASC,OAAO,QAASF,KAEpB,GAAItB,KAAK,sCAAuCuB,EACzD,EAOA,aAAAw/B,CAAcjN,GAEZ,OADAr1B,QAAQC,IAAI,0CAA2Co1B,GAChD,GAAIvzB,IAAI,0BAA0BuzB,IAC3C,EAQA,aAAAkN,CAAcnC,EAAgBoC,GAE5B,OADAxiC,QAAQC,IAAI,iCAAkC,CAAEmgC,iBAAgBoC,WACzD,GAAI1gC,IAAI,+BAAgC,CAC7CI,OAAQ,CAAEk+B,iBAAgBoC,WAE9B,GAGF,ICvgBA,IACEzjC,KAAM,kBACNiJ,MAAO,CACLvG,UAAW,CACTwG,KAAM,CAAC2B,OAAQytB,QACflvB,QAAS,OAGb,IAAAhI,GACE,MAAO,CACLy+B,aAAc,GACdN,WAAW,EACXvsB,SAAU,GACV0wB,gBAAgB,EAChBC,cAAc,EACd3hB,MAAO,GACP4hB,cAAc,EACd7D,cAAe,GACf8D,mBAAoB,GACpBC,yBAA0B,GAC1BzC,eAAgB,KAChB0C,wBAAyB,KAE7B,EACA,OAAAz6B,GAEE3E,KAAKq/B,0BACLr/B,KAAKs/B,qBAELz6B,SAASC,iBAAiB,QAAS9E,KAAK+E,mBAC1C,EACA,aAAAQ,GAEMvF,KAAKo/B,0BACPp/B,KAAKo/B,wBAAwBhB,QAC7Bp+B,KAAKo/B,wBAA0B,MAGjCp/B,KAAKu/B,wBACLv/B,KAAKw/B,qBAEL36B,SAASW,oBAAoB,QAASxF,KAAK+E,mBAC7C,EACAY,QAAS,CACP,iBAAMs1B,GACJ,IAAKj7B,KAAKk7B,aAAavlB,QAAU3V,KAAK46B,UAAW,OAEjD,MAAM6E,EAAc,CAClBx5B,GAAIkJ,KAAK0S,MACTtd,KAAM,QACNwO,QAAS/S,KAAKk7B,aAAavlB,QAI7B,GAAI3V,KAAKk/B,mBAAmB76B,OAAS,GAAKrE,KAAKm/B,yBAAyB96B,OAAS,EAAG,CAClF,MAAMq7B,EAAW,GAIjB,GAHI1/B,KAAKk/B,mBAAmB76B,OAAS,GACnCq7B,EAASj5B,KAAK,SAASzG,KAAKk/B,mBAAmBhsB,IAAIgiB,GAAKA,EAAE75B,MAAM+3B,KAAK,SAEnEpzB,KAAKm/B,yBAAyB96B,OAAS,EAAG,CAC5C,MAAMs7B,EAAoB3/B,KAAKqd,MAC5B9M,OAAOpR,GAAQa,KAAKm/B,yBAAyB19B,SAAStC,EAAK8G,KAC3DiN,IAAI/T,GAAQA,EAAK9D,MAAQ8D,EAAKmN,OAAS,SAC1CozB,EAASj5B,KAAK,UAAUk5B,EAAkBvM,KAAK,QACjD,CACAqM,EAAY1sB,SAAW,QAAU2sB,EAAStM,KAAK,OAAS,GAC1D,CAEApzB,KAAKqO,SAAS5H,KAAKg5B,GACnB,MAAM9sB,EAAQ3S,KAAKk7B,aAAavlB,OAChC3V,KAAKk7B,aAAe,GACpBl7B,KAAK46B,WAAY,EAGjB,MAAMgF,EAAczwB,KAAK0S,MAAQ,EAC3Bge,EAAY,CAChB55B,GAAI25B,EACJr7B,KAAM,OACNwO,QAAS,IAEX/S,KAAKqO,SAAS5H,KAAKo5B,GAGnB7/B,KAAKu/B,wBAGLv/B,KAAKyd,UAAU,KACbzd,KAAK8/B,mBAGP,IAEE,MAAMvB,EAAav+B,KAAKk/B,mBAAmB76B,OAAS,EAAIrE,KAAKk/B,mBAAqB,KAC5EV,EAAmBx+B,KAAKm/B,yBAAyB96B,OAAS,EAAIrE,KAAKm/B,yBAAyBjsB,IAAIjN,IAEpG,MAAM85B,EAAsB,kBAAP95B,EAAkByT,SAASzT,EAAI,IAAMA,EAC1D,OAAO2T,MAAMmmB,GAAS,KAAOA,IAC5BxvB,OAAOtK,GAAa,OAAPA,GAAe,KAG/BjG,KAAKk/B,mBAAqB,GAC1Bl/B,KAAKm/B,yBAA2B,GAK9Bn/B,KAAKo/B,wBAFHb,GAAcC,QAEqBhC,GAAQ8B,oBAC3C3rB,EACA3S,KAAK08B,eACL6B,EACAC,EACA,KACC/gC,IAECuC,KAAKggC,oBAAoBviC,EAASoiC,IAEnC9iC,IAECiD,KAAKigC,kBAAkBljC,EAAO8iC,IAEhC,KAEE7/B,KAAKkgC,qBAAqBL,WAKOrD,GAAQC,WAC3C9pB,EACA3S,KAAK08B,eACL,KACCj/B,IAECuC,KAAKggC,oBAAoBviC,EAASoiC,IAEnC9iC,IAECiD,KAAKigC,kBAAkBljC,EAAO8iC,IAEhC,KAEE7/B,KAAKkgC,qBAAqBL,IAIlC,CAAE,MAAO9iC,GACPT,QAAQS,MAAM,UAAWA,GACzB8iC,EAAU9sB,QAAU,iBAAmBhW,EAAMU,SAAW,QACxDuC,KAAK46B,WAAY,EACjB56B,KAAKu/B,uBACP,CACF,EAKA,mBAAAS,CAAoBviC,EAASoiC,GAC3BvjC,QAAQC,IAAI,UAAWkB,GAGvB,MAAMsI,EAAQtI,EAAQsI,MAStB,IANItI,EAAQi/B,gBAAkBj/B,EAAQ0iC,mBACpCngC,KAAK08B,eAAiBj/B,EAAQi/B,gBAAkBj/B,EAAQ0iC,gBACxDngC,KAAKw/B,sBAIO,8BAAVz5B,EAEFzJ,QAAQC,IAAI,yBAA0ByD,KAAK08B,qBACtC,GAAc,+BAAV32B,EAAwC,CAEjD,MAAMgN,EAAUtV,EAAQsV,QACpBA,GAA4B,cAAjBtV,EAAQwlB,OAErB4c,EAAU9sB,SAAWA,EAGrB/S,KAAKyd,UAAU,KACbzd,KAAK8/B,mBAGX,KAAqB,mCAAV/5B,GAETzJ,QAAQC,IAAI,SAERkB,EAAQsV,SAA4B,cAAjBtV,EAAQwlB,MAEzBxlB,EAAQsV,UAAY8sB,EAAU9sB,UAChC8sB,EAAU9sB,QAAUtV,EAAQsV,SAGhC/S,KAAKu/B,yBACc,gCAAVx5B,EAETzJ,QAAQC,IAAI,SACO,6BAAVwJ,GAETzJ,QAAQS,MAAM,QAASU,EAAQyN,cAAgBzN,EAAQ2iC,eACvDP,EAAU9sB,QAAU8sB,EAAU9sB,SAAW,cAAgBtV,EAAQyN,cAAgBzN,EAAQ2iC,eAAiB,QAC1GpgC,KAAK46B,WAAY,EACjB56B,KAAKo/B,wBAA0B,KAC/Bp/B,KAAKu/B,yBACc,SAAVx5B,EAETzJ,QAAQC,IAAI,UACO,UAAVwJ,IAETzJ,QAAQS,MAAM,UAAWU,EAAQyN,cAAgBzN,EAAQ2iC,eACzDP,EAAU9sB,QAAU8sB,EAAU9sB,SAAW,iBAAmBtV,EAAQyN,cAAgBzN,EAAQ2iC,eAAiB,QAC7GpgC,KAAK46B,WAAY,EACjB56B,KAAKo/B,wBAA0B,KAC/Bp/B,KAAKu/B,yBAIO,+BAAVx5B,GACF/F,KAAKu/B,uBAET,EAKA,iBAAAU,CAAkBljC,EAAO8iC,GACvBvjC,QAAQS,MAAM,UAAWA,GACzB8iC,EAAU9sB,QAAU8sB,EAAU9sB,SAAW,iBAAmBhW,EAAMU,SAAW,QAC7EuC,KAAK46B,WAAY,EACjB56B,KAAKo/B,wBAA0B,KAC/Bp/B,KAAKu/B,uBACP,EAKA,oBAAAW,CAAqBL,GACnBvjC,QAAQC,IAAI,UACVyD,KAAK46B,WAAY,EACnB56B,KAAKo/B,wBAA0B,KAG1BS,EAAU9sB,SAAwC,KAA7B8sB,EAAU9sB,QAAQ4C,SAC1CkqB,EAAU9sB,QAAU,kBAGtB/S,KAAKu/B,wBACLv/B,KAAKyd,UAAU,KACbzd,KAAK8/B,kBAET,EAEA,cAAAA,GACM9/B,KAAKmd,MAAMkjB,aACbrgC,KAAKmd,MAAMkjB,WAAWC,UAAYtgC,KAAKmd,MAAMkjB,WAAWE,aAE5D,EAEA,qBAAAhB,GACE,IACE,MAAMzQ,EAAa9uB,KAAKjC,UAAY,kBAAkBiC,KAAKjC,YAAc,iBACzE7B,aAAa+G,QAAQ6rB,EAAY9sB,KAAKmB,UAAUnD,KAAKqO,WACrD/R,QAAQC,IAAI,yBAAyByD,KAAKjC,aAC5C,CAAE,MAAOhB,GACPT,QAAQS,MAAM,UAAWA,EAC3B,CACF,EAEA,kBAAAyiC,GACE,IACE,MAAM1Q,EAAa9uB,KAAKjC,UAAY,oBAAoBiC,KAAKjC,YAAc,mBACvEiC,KAAK08B,iBACPxgC,aAAa+G,QAAQ6rB,EAAY9uB,KAAK08B,gBACtCpgC,QAAQC,IAAI,YAAYyD,KAAK08B,kBAEjC,CAAE,MAAO3/B,GACPT,QAAQS,MAAM,YAAaA,EAC7B,CACF,EAEA,kBAAAuiC,GACE,IACE,MAAMxQ,EAAa9uB,KAAKjC,UAAY,oBAAoBiC,KAAKjC,YAAc,mBACrEixB,EAAQ9yB,aAAaC,QAAQ2yB,GAC/BE,IACFhvB,KAAK08B,eAAiB1N,EACtB1yB,QAAQC,IAAI,YAAYyD,KAAK08B,kBAEjC,CAAE,MAAO3/B,GACPT,QAAQS,MAAM,YAAaA,EAC7B,CACF,EAEA,uBAAAsiC,GACE,IACE,MAAMvQ,EAAa9uB,KAAKjC,UAAY,kBAAkBiC,KAAKjC,YAAc,iBACnEixB,EAAQ9yB,aAAaC,QAAQ2yB,GAC/BE,GACFhvB,KAAKqO,SAAWrM,KAAKC,MAAM+sB,GAC3B1yB,QAAQC,IAAI,yBAAyByD,KAAKjC,eAG1CiC,KAAKwgC,2BAET,CAAE,MAAOzjC,GACPT,QAAQS,MAAM,UAAWA,EAC3B,CACF,EAGA,yBAAAyjC,GACE,IAAKxgC,KAAKjC,UAAW,OAErB,MAAM0iC,EAAkBzgC,KAAK0gC,2BAA2B1gC,KAAKjC,WACzD0iC,EAAgBp8B,OAAS,IAC3BrE,KAAKqO,SAAWoyB,EAChBzgC,KAAKu/B,wBACLjjC,QAAQC,IAAI,UAAUyD,KAAKjC,qBAE/B,EAGA,0BAAA2iC,CAA2B3iC,GACzB,MAAM4iC,EAAqB,CACzB,EAAK,CACH,CACE16B,GAAIkJ,KAAK0S,MAAQ,IACjBtd,KAAM,OACNwO,QAAS,gEAEX,CACE9M,GAAIkJ,KAAK0S,MAAQ,IACjBtd,KAAM,QACNwO,QAAS,wBAEX,CACE9M,GAAIkJ,KAAK0S,MAAQ,IACjBtd,KAAM,OACNwO,QAAS,oHAGb,EAAK,CACH,CACE9M,GAAIkJ,KAAK0S,MAAQ,IACjBtd,KAAM,OACNwO,QAAS,qDAEX,CACE9M,GAAIkJ,KAAK0S,MAAQ,IACjBtd,KAAM,QACNwO,QAAS,iBAEX,CACE9M,GAAIkJ,KAAK0S,MAAQ,IACjBtd,KAAM,OACNwO,QAAS,qIAGb,EAAK,CACH,CACE9M,GAAIkJ,KAAK0S,MAAQ,IACjBtd,KAAM,OACNwO,QAAS,uDAEX,CACE9M,GAAIkJ,KAAK0S,MAAQ,IACjBtd,KAAM,QACNwO,QAAS,oBAEX,CACE9M,GAAIkJ,KAAK0S,MAAQ,IACjBtd,KAAM,OACNwO,QAAS,2HAKf,OAAO4tB,EAAmB5iC,IAAc,EAC1C,EAGA,cAAA88B,GACE76B,KAAKg/B,cAAgBh/B,KAAKg/B,YAC5B,EAGA,+BAAMlE,GACJ96B,KAAKg/B,cAAe,EACpBh/B,KAAK++B,gBAAiB,EACtB/+B,KAAKo7B,cAAgB,GACK,IAAtBp7B,KAAKqd,MAAMhZ,QAAgBrE,KAAKjC,iBAC5BiC,KAAK4gC,WAEf,EAGA,cAAA7F,GACE/6B,KAAKg/B,cAAe,EACpBh/B,KAAKmd,MAAM4Y,UAAU7Y,OACvB,EAGA,gBAAA8d,CAAiBj1B,GACf,MAAMsX,EAAQrV,MAAM4K,KAAK7M,EAAMK,OAAOiX,OACtC,GAAIA,EAAMhZ,OAAS,EAAG,CACpB/H,QAAQC,IAAI,WAAY8gB,GAExBrd,KAAKk/B,mBAAqB7hB,EAG1B,MAAMwjB,EAAYxjB,EAAMnK,IAAI/T,GAAQA,EAAK9D,MAAM+3B,KAAK,KAC9CsM,EAAW,aAAamB,KAC9B7gC,KAAKk7B,aAAel7B,KAAKk7B,aAAavlB,OAClC,GAAG3V,KAAKk7B,mBAAmBwE,IAC3BA,CACN,CAEA1/B,KAAKmd,MAAM4Y,UAAUpuB,MAAQ,EAC/B,EAGA,eAAAwzB,GACEn7B,KAAK++B,gBAAiB,EACtB/+B,KAAKo7B,cAAgB,EACvB,EAGA,iBAAA0F,GACM5J,QAAQ,mBACVl3B,KAAKqO,SAAW,GAChBrO,KAAK08B,eAAiB,KACtB18B,KAAKk/B,mBAAqB,GAC1Bl/B,KAAKm/B,yBAA2B,GAChCn/B,KAAKu/B,wBACLv/B,KAAKw/B,qBAEDx/B,KAAKo/B,0BACPp/B,KAAKo/B,wBAAwBhB,QAC7Bp+B,KAAKo/B,wBAA0B,MAEjCp/B,KAAK46B,WAAY,EAErB,EAGA,eAAMgG,GACJ,GAAK5gC,KAAKjC,UAAV,CAKAiC,KAAKi/B,cAAe,EACpB,IACE,MAAM/hC,QAAiB0zB,GAAaG,uBAAuB/wB,KAAKjC,UAAW,EAAG,KAC9EzB,QAAQC,IAAI,YAAaW,GAErBA,GAA8B,MAAlBA,EAASoM,MAAgBpM,EAAST,MAC5CuL,MAAMC,QAAQ/K,EAAST,MACzBuD,KAAKqd,MAAQngB,EAAST,KACbS,EAAST,KAAKsW,SAAW/K,MAAMC,QAAQ/K,EAAST,KAAKsW,SAC9D/S,KAAKqd,MAAQngB,EAAST,KAAKsW,QAE3B/S,KAAKqd,MAAQ,GAEf/gB,QAAQC,IAAI,iBAAkByD,KAAKqd,MAAMhZ,UAEzCrE,KAAKqd,MAAQ,GACb/gB,QAAQE,KAAK,YAAaU,GAE9B,CAAE,MAAOH,GACPT,QAAQS,MAAM,cAAeA,GAC7BiD,KAAKqd,MAAQ,EACf,CAAE,QACArd,KAAKi/B,cAAe,CACtB,CAzBA,MAFE3iC,QAAQE,KAAK,mBA4BjB,EAGA,mBAAA6+B,CAAoB1J,GAClB,MAAMjjB,EAAQ1O,KAAKo7B,cAAczf,QAAQgW,GACrCjjB,GAAS,EACX1O,KAAKo7B,cAAc1Z,OAAOhT,EAAO,GAEjC1O,KAAKo7B,cAAc30B,KAAKkrB,EAE5B,EAGA,0BAAM2J,GACJ,GAAkC,IAA9Bt7B,KAAKo7B,cAAc/2B,OAAc,OAGrC,MAAM08B,EAAuB/gC,KAAKqd,MAAM9M,OAAOpR,GAAQa,KAAKo7B,cAAc35B,SAAStC,EAAK8G,KAGlF+6B,EAAa,GACbrB,EAAoB,GAE1B,IAEE,IAAK,MAAMlR,KAAesS,EACxB,IAEE,MAAME,QAAuBrQ,GAAaQ,qBAAqB3C,EAAYxoB,IAC3E,GAAIg7B,GAA0C,MAAxBA,EAAe33B,MAAgB23B,EAAexkC,KAAM,CACxE,MAAM4gB,EAAQ4jB,EAAexkC,KAAK4gB,OAAS,GAY3C,GAVAA,EAAM5Z,QAAQtE,IACZ,GAAIA,EAAK8G,GAAI,CACX,MAAM0rB,EAA4B,kBAAZxyB,EAAK8G,GAAkByT,SAASva,EAAK8G,GAAI,IAAM9G,EAAK8G,GACrE2T,MAAM+X,IACTqP,EAAWv6B,KAAKkrB,EAEpB,IAIEtU,EAAMhZ,OAAS,EAAG,CACpB,MAAMw8B,EAAYxjB,EAAMnK,IAAIgiB,GAAKA,EAAE3H,UAAY,SAAS6F,KAAK,MAC7DuM,EAAkBl5B,KAAK,GAAGgoB,EAAYniB,OAASmiB,EAAYpzB,MAAQ,SAASwlC,IAC9E,MACElB,EAAkBl5B,KAAK,GAAGgoB,EAAYniB,OAASmiB,EAAYpzB,MAAQ,YAEvE,CACF,CAAE,MAAO0B,GACPT,QAAQS,MAAM,QAAQ0xB,EAAYxoB,cAAelJ,GACjD4iC,EAAkBl5B,KAAK,GAAGgoB,EAAYniB,OAASmiB,EAAYpzB,MAAQ,eACrE,CAIF2E,KAAKm/B,yBAA2B6B,EAGhC,MAAMtB,EAAW,cAAcC,EAAkBvM,KAAK,UACxDpzB,KAAKk7B,aAAel7B,KAAKk7B,aAAavlB,OAClC,GAAG3V,KAAKk7B,mBAAmBwE,IAC3BA,EAEFpjC,QAAQC,IAAI,cAAeyD,KAAKm/B,0BAChC7iC,QAAQC,IAAI,SAAUwkC,EACxB,CAAE,MAAOhkC,GACPT,QAAQS,MAAM,YAAaA,GAC3BiD,KAAKkhC,UAAYlhC,KAAKkhC,SAASnkC,MAAM,eACvC,CAEAiD,KAAKm7B,iBACP,EAGA,kBAAAp2B,CAAmBgB,GACb/F,KAAKg/B,eAAiBj5B,EAAMK,OAAOC,QAAQ,wBAC7CrG,KAAKg/B,cAAe,EAExB,IC9tBuI,MCOvI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,GAAe,G,QClBX,GAAS,WAAkB,IAAIj/B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,0BAA0B,CAACN,EAAG,UAAU,CAACE,MAAM,CAAC,OAASJ,EAAI+M,aAAapM,GAAG,CAAC,MAAQX,EAAIgN,gBAAgB9M,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,SAAS,CAACM,YAAY,WAAWG,GAAG,CAAC,MAAQX,EAAIiN,gBAAgB,CAAC/M,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,0BAA0B,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,SAAS,CAACM,YAAY,WAAWJ,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQX,EAAI0T,WAAW,CAACxT,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,2BAA2B,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,iBAAiBb,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,SAAS,CAACM,YAAY,kBAAkBJ,MAAM,CAAC,MAAQ,UAAUO,GAAG,CAAC,MAAQX,EAAIohC,wBAAwB,CAAClhC,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,cAAc,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,sCAAsC,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,mBAAmBF,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACM,YAAY,mBAAmB,CAACR,EAAIe,GAAG,eAAeb,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACR,EAAIe,GAAG,WAAWb,EAAG,SAAS,CAACM,YAAY,mBAAmBJ,MAAM,CAAC,MAAQ,UAAUO,GAAG,CAAC,MAAQX,EAAIqhC,kBAAkB,CAACnhC,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,iBAAiB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,KAAK,EAAI,KAAK,OAAS,eAAe,eAAe,OAAOF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,mCAAmC,OAAS,eAAe,eAAe,MAAM,iBAAiB,aAAaF,EAAG,OAAO,CAACF,EAAIe,GAAG,cAAcb,EAAG,MAAM,CAACM,YAAY,kBAAkBR,EAAIuN,GAAIvN,EAAgB,aAAE,SAAStC,GAAS,OAAOwC,EAAG,MAAM,CAACyD,IAAIjG,EAAQwI,GAAGzF,MAAuB,OAAjB/C,EAAQ8G,KAAgB,aAAe,gBAAgB,CAACtE,EAAG,MAAM,CAACO,MAAuB,OAAjB/C,EAAQ8G,KAAgB,iBAAmB,eAAe,CAACxE,EAAIe,GAAG,IAAIf,EAAIgB,GAAGtD,EAAQsV,SAAS,QAAQ,GAAG,GAAG9S,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,SAAS,CAACM,YAAY,kBAAkBJ,MAAM,CAAC,SAAWJ,EAAI66B,UAAU,MAAQ,OAAO,KAAO,UAAUl6B,GAAG,CAAC,MAAQ,SAAS0G,GAAyD,OAAjDA,EAAOsE,kBAAkBtE,EAAOC,iBAAwBtH,EAAI86B,eAAetzB,MAAM,KAAMC,UAAU,IAAI,CAACvH,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,sPAAsP,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,aAAa,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,mBAAmB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAgBJ,EAAgB,aAAEE,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAI+6B,4BAA4B,CAAC76B,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,+KAA+K,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,iBAAiB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaF,EAAG,OAAO,CAACF,EAAIe,GAAG,iBAAiBb,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAIg7B,iBAAiB,CAAC96B,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uKAAuK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,4BAA4B,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaF,EAAG,OAAO,CAACF,EAAIe,GAAG,iBAAiBf,EAAIM,OAAOJ,EAAG,QAAQ,CAACob,IAAI,YAAYC,YAAY,CAAC,QAAU,QAAQnb,MAAM,CAAC,KAAO,OAAO,SAAW,IAAIO,GAAG,CAAC,OAASX,EAAIi7B,oBAAoB/6B,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAe,YAAE8H,WAAW,gBAAgB1H,MAAM,CAAC,KAAO,OAAO,YAAc,YAAY,SAAWJ,EAAI66B,WAAW9yB,SAAS,CAAC,MAAS/H,EAAe,aAAGW,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAIA,EAAO7C,KAAKoX,QAAQ,QAAQ5b,EAAI6b,GAAGxU,EAAOyU,QAAQ,QAAQ,GAAGzU,EAAO1D,IAAI,SAAgB,KAAY3D,EAAIk7B,YAAY1zB,MAAM,KAAMC,UAAU,EAAE,MAAQ,SAASJ,GAAWA,EAAOhB,OAAO2B,YAAiBhI,EAAI0/B,YAAYr4B,EAAOhB,OAAOuB,MAAK,KAAK1H,EAAG,SAAS,CAACM,YAAY,WAAWJ,MAAM,CAAC,UAAYJ,EAAI0/B,YAAY9pB,QAAU5V,EAAI66B,WAAWl6B,GAAG,CAAC,MAAQX,EAAIk7B,cAAc,CAACl7B,EAAIe,GAAG,cAAef,EAAwB,qBAAEE,EAAG,MAAM,CAACM,YAAY,6BAA6BG,GAAG,CAAC,MAAQX,EAAIshC,wBAAwB,CAACphC,EAAG,MAAM,CAACM,YAAY,qBAAqBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACF,EAAIe,GAAG,UAAUb,EAAG,SAAS,CAACM,YAAY,YAAYG,GAAG,CAAC,MAAQX,EAAIshC,wBAAwB,CAACphC,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,cAAc,CAA8B,IAA5BR,EAAIuhC,aAAaj9B,OAAcpE,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,IAAI,CAACF,EAAIe,GAAG,cAAcb,EAAG,MAAM,CAACM,YAAY,sBAAsBR,EAAIuN,GAAIvN,EAAgB,aAAE,SAASwhC,GAAS,OAAOthC,EAAG,MAAM,CAACyD,IAAI69B,EAAQt7B,GAAG1F,YAAY,oBAAoBC,MAAM,CAAEoN,OAAQ2zB,EAAQt7B,KAAOlG,EAAIyhC,sBAAuB9gC,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI0hC,gBAAgBF,EAAQt7B,GAAG,IAAI,CAAChG,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGwgC,EAAQj1B,OAAS,QAAQi1B,EAAQt7B,SAAShG,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,OAAO,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI0a,WAAW8mB,EAAQzoB,eAAe7Y,EAAG,OAAO,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGwgC,EAAQG,cAAc,cAAczhC,EAAG,SAAS,CAACM,YAAY,qBAAqBJ,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQ,SAAS0G,GAAiC,OAAzBA,EAAOsE,kBAAyB3L,EAAI4hC,kBAAkBJ,EAAQt7B,GAAG,IAAI,CAAChG,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,gVAAgV,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,gBAAgB,GAAG,KAAKF,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAI6hC,uBAAuB,CAAC7hC,EAAIe,GAAG,gBAAgBf,EAAIM,KAAMN,EAA2B,wBAAEE,EAAG,MAAM,CAACM,YAAY,8BAA8BG,GAAG,CAAC,MAAQX,EAAI8hC,2BAA2B,CAAC5hC,EAAG,MAAM,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACR,EAAIoH,GAAG,GAAGlH,EAAG,SAAS,CAACM,YAAY,YAAYG,GAAG,CAAC,MAAQX,EAAI8hC,2BAA2B,CAAC5hC,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAAmC,IAAjCR,EAAI+hC,kBAAkBz9B,OAAcpE,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,+KAA+K,OAAS,eAAe,eAAe,MAAM,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,IAAI,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,YAAYb,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,MAAM,CAACM,YAAY,aAAaR,EAAIuN,GAAIvN,EAAqB,kBAAE,SAAS9E,GAAS,OAAOgF,EAAG,MAAM,CAACyD,IAAIzI,EAAQgL,GAAG1F,YAAY,YAAYC,MAAM,CAAE,SAAYT,EAAIgiC,yBAA2BhiC,EAAIgiC,wBAAwB97B,KAAOhL,EAAQgL,IAAKvF,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIiiC,sBAAsB/mC,EAAQ,IAAI,CAACgF,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAGf,EAAIgB,GAAG9F,EAAQqR,OAASrR,EAAQI,MAAQ,YAAY4E,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAAEtF,EAAmB,YAAEgF,EAAG,OAAO,CAACM,YAAY,mBAAmB,CAACR,EAAIe,GAAGf,EAAIgB,GAAG9F,EAAQuS,gBAAgBzN,EAAIM,WAAWJ,EAAG,MAAM,CAACM,YAAY,wBAAwBC,MAAM,CAAE,OAAUT,EAAIgiC,yBAA2BhiC,EAAIgiC,wBAAwB97B,KAAOhL,EAAQgL,KAAM,CAAChG,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAAER,EAAIgiC,yBAA2BhiC,EAAIgiC,wBAAwB97B,KAAOhL,EAAQgL,GAAIhG,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,kBAAkB,OAAS,eAAe,eAAe,MAAM,iBAAiB,QAAQ,kBAAkB,aAAaJ,EAAIM,YAAY,GAAG,OAAOJ,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,SAAS,CAACM,YAAY,aAAaG,GAAG,CAAC,MAAQX,EAAI8hC,2BAA2B,CAAC9hC,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,cAAcC,MAAM,CAAE,UAAaT,EAAIgiC,yBAA0B5hC,MAAM,CAAC,UAAYJ,EAAIgiC,yBAAyBrhC,GAAG,CAAC,MAAQX,EAAIkiC,0BAA0B,CAAChiC,EAAG,OAAO,CAACF,EAAIe,GAAG,kBAAkBf,EAAIM,KAAMN,EAAkB,eAAEE,EAAG,MAAM,CAACM,YAAY,8BAA8BG,GAAG,CAAC,MAAQX,EAAIo7B,kBAAkB,CAACl7B,EAAG,MAAM,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,KAAK,CAACF,EAAIe,GAAG,cAAef,EAAIq7B,cAAc/2B,OAAS,EAAGpE,EAAG,IAAI,CAACM,YAAY,mBAAmB,CAACR,EAAIe,GAAG,OAAOf,EAAIgB,GAAGhB,EAAIq7B,cAAc/2B,QAAQ,QAAQtE,EAAIM,OAAOJ,EAAG,SAAS,CAACM,YAAY,YAAYG,GAAG,CAAC,MAAQX,EAAIo7B,kBAAkB,CAACl7B,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAAER,EAAgB,aAAEE,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,MAAM,CAACM,YAAY,0BAA0BN,EAAG,IAAI,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAG,mBAAyC,IAArBf,EAAIsd,MAAMhZ,OAAcpE,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,sPAAsP,OAAS,eAAe,eAAe,MAAM,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,aAAa,OAAS,eAAe,eAAe,MAAM,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,IAAI,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,iBAAiBb,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,MAAM,CAACM,YAAY,aAAaR,EAAIuN,GAAIvN,EAAS,MAAE,SAASZ,GAAM,OAAOc,EAAG,MAAM,CAACyD,IAAIvE,EAAK8G,GAAG1F,YAAY,YAAYC,MAAM,CAAE,SAAYT,EAAIq7B,cAAc35B,SAAStC,EAAK8G,KAAMvF,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIs7B,oBAAoBl8B,EAAK8G,GAAG,IAAI,CAAChG,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAGf,EAAIgB,GAAG5B,EAAK9D,MAAQ8D,EAAKmN,OAAS,YAAYrM,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,OAAO,CAACM,YAAY,mBAAmB,CAACR,EAAIe,GAAGf,EAAIgB,GAAG5B,EAAKoF,MAAQ,WAAYpF,EAAc,UAAEc,EAAG,OAAO,CAACM,YAAY,oBAAoB,CAACR,EAAIe,GAAGf,EAAIgB,GAAG5B,EAAKwnB,WAAW,SAAS5mB,EAAIM,WAAWJ,EAAG,MAAM,CAACM,YAAY,wBAAwBC,MAAM,CAAE,OAAUT,EAAIq7B,cAAc35B,SAAStC,EAAK8G,MAAO,CAAChG,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAAER,EAAIq7B,cAAc35B,SAAStC,EAAK8G,IAAKhG,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,kBAAkB,OAAS,eAAe,eAAe,MAAM,iBAAiB,QAAQ,kBAAkB,aAAaJ,EAAIM,YAAY,GAAG,OAAOJ,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,SAAS,CAACM,YAAY,aAAaG,GAAG,CAAC,MAAQX,EAAIo7B,kBAAkB,CAACp7B,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,cAAcC,MAAM,CAAE,SAAyC,IAA7BT,EAAIq7B,cAAc/2B,QAAelE,MAAM,CAAC,SAAwC,IAA7BJ,EAAIq7B,cAAc/2B,QAAc3D,GAAG,CAAC,MAAQX,EAAIu7B,uBAAuB,CAACr7B,EAAG,OAAO,CAACF,EAAIe,GAAG,UAAWf,EAAIq7B,cAAc/2B,OAAS,EAAGpE,EAAG,OAAO,CAACM,YAAY,kBAAkB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIq7B,cAAc/2B,WAAWtE,EAAIM,aAAaN,EAAIM,MAAM,EACx6c,EACI,GAAkB,CAAC,WAAY,IAAIN,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,KAAK,CAACF,EAAIe,GAAG,UAAUb,EAAG,IAAI,CAACM,YAAY,mBAAmB,CAACR,EAAIe,GAAG,oBACzL,GCCA,MAAMohC,GAAsB,CAC1BC,QAAS,iBACTtnC,QAAS,MAIL,GAAM,WAAa,CACvBD,QAAS,GACTC,QAASqnC,GAAoBrnC,QAC7BgB,iBAAiB,IAkCZ,SAASumC,GAAgBzvB,EAAO+pB,EAAiB,MACtD,OAAO,GAAI7+B,KAAK,GAAGqkC,GAAoBC,eAAgB,CACrDxvB,MAAOA,EACP+pB,eAAgBA,GAEpB,CAUOrjB,eAAegpB,GAAsB1vB,EAAO+pB,EAAiB,KAAME,EAAW0F,EAAOzF,GAC1F,IAEE,MAAM5gC,EAAQC,aAAaC,QAAQ,gBACnC,IAAKF,EAEH,MADAK,QAAQS,MAAM,mCACR,IAAIS,MAAM,YAGlBlB,QAAQC,IAAI,iCAAkC,CAC5CO,IAAK,GAAGolC,GAAoBC,0BAC5BxvB,QACA+pB,mBAIF,IAAI5/B,EAAM,GAAGolC,GAAoBC,iCAAiC34B,mBAAmBmJ,KACjF+pB,IACF5/B,GAAO,mBAAmB0M,mBAAmBkzB,MAG/CpgC,QAAQC,IAAI,oBAAqBO,GAEjC,MAAMI,QAAiB+/B,MAAMngC,EAAK,CAChCF,OAAQ,OACRR,QAAS,CACP,cAAiB,UAAUH,IAC3B,eAAgB,oBAElBqW,KAAMtQ,KAAKmB,UAAU,CAAC,KAKxB,GAFA7G,QAAQC,IAAI,mBAAoBW,EAASC,OAAQD,EAASkgC,aAErDlgC,EAASogC,GAAI,CAChB,MAAMiF,QAAkBrlC,EAASwY,OAEjC,MADApZ,QAAQS,MAAM,mBAAoBwlC,GAC5B,IAAI/kC,MAAM,uBAAuBN,EAASC,iBAAiBolC,IACnE,CAEA,MAAMjlB,EAASpgB,EAASoV,KAAKirB,YACvBC,EAAU,IAAIC,YACpB,IAAIrO,EAAS,GACToT,EAAa,GACbC,EAAa,EACbC,EAAsB,KACtBC,EAAe,KACfjF,EAAa,GAEjBphC,QAAQC,IAAI,0BAEZ,MAAO,EAAM,CACX,MAAM,KAAEshC,EAAI,MAAEl2B,SAAgB2V,EAAOsgB,OAErC,GAAIC,EAAM,CACRvhC,QAAQC,IAAI,yBAA0BkmC,EAAY,QAC9CH,GACFA,EAAM,CAAEnC,gBAAiBuC,IAE3B,KACF,CAEAD,IACA,MAAMG,EAAQpF,EAAQO,OAAOp2B,EAAO,CAAEq2B,QAAQ,IAC9C1hC,QAAQC,IAAI,qBAAuBkmC,EAAa,IAAKG,GAErDxT,GAAUwT,EACV,MAAM9E,EAAQ1O,EAAOvS,MAAM,MAC3BuS,EAAS0O,EAAMlQ,MAEf,IAAK,MAAM6N,KAAQqC,EAAO,CACxB,MAAM+E,EAAcpH,EAAK9lB,OAGzB,GAAIktB,EAAYrhC,WAAW,UACzBmhC,EAAeE,EAAYnhC,UAAU,GAAGiU,OACxCrZ,QAAQC,IAAI,mBAAoBomC,GAChCjF,EAAa,OAHf,CAQA,GAAImF,EAAYrhC,WAAW,SAAU,CACnC,MAAMshC,EAAcD,EAAYnhC,UAAU,GAAGiU,OAY7C,GATImtB,EAAYthC,WAAW,KAEzBk8B,EAAa,CAACoF,GACLpF,EAAWr5B,OAAS,GAE7Bq5B,EAAWj3B,KAAKq8B,GAIdA,EAAYhH,SAAS,MAAQ4B,EAAWr5B,OAAS,EAAG,CAEtD,MAAM45B,EAAUP,EAAWtK,KAAK,MAAMpoB,QAAQ,MAAO,IAAIA,QAAQ,OAAQ,KACzE,IACE,MAAMvN,EAAUuE,KAAKC,MAAMg8B,GAC3B3hC,QAAQC,IAAI,sBAAuBkB,IAG/BA,EAAQ0iC,iBAAmB1iC,EAAQi/B,kBACrCgG,EAAsBjlC,EAAQ0iC,iBAAmB1iC,EAAQi/B,gBAI3D,MAAMrQ,EAAYsW,GAAgBllC,EAAQsI,OAAStI,EAAQ4uB,UAGrD0W,EAAatlC,EAAQhB,MAAQgB,EAAQulC,OAE3C,GAAkB,YAAd3W,GAAyC,kBAAdA,GAE7B,GAAI0W,GAAcnG,EAAW,CAE3B,MAAMqG,EAAgBF,EACtB,GAAIE,IAAkBT,EAAY,CAChC,MAAMU,EAAQD,EAAcvhC,UAAU8gC,EAAWn+B,QACjD/H,QAAQC,IAAI,mBAAoB2mC,GAChCV,EAAaS,EACbrG,EAAUsG,EAAOzlC,EACnB,CACF,MACuB,gBAAd4uB,EAET/vB,QAAQC,IAAI,oCAAqCmmC,GAC1B,UAAdrW,GAET/vB,QAAQS,MAAM,qBAAsBU,GAChCo/B,GACFA,EAAQ,IAAIr/B,MAAMC,EAAQA,SAAWA,EAAQ2iC,eAAiB3iC,EAAQhB,MAAQ,mBAIhFH,QAAQC,IAAI,qBAAsB8vB,GAGpCqR,EAAa,EACf,CAAE,MAAOp7B,GACPhG,QAAQS,MAAM,uBAAwBuF,EAAG,WAAY27B,GACrDP,EAAa,EACf,CACF,CACA,QACF,CAGoB,KAAhBmF,IACFF,EAAe,KACXjF,EAAWr5B,OAAS,IACtB/H,QAAQE,KAAK,iCACbkhC,EAAa,IA1EjB,CA6EF,CACF,CACF,CAAE,MAAO3gC,GAKP,MAJAT,QAAQS,MAAM,UAAWA,GACrB8/B,GACFA,EAAQ9/B,GAEJA,CACR,CACF,CAOO,SAASomC,GAAsBC,GACpC,OAAO,GAAIvlC,KAAK,GAAGqkC,GAAoBC,qBAAqBiB,IAC9D,CA3NA,GAAItnC,aAAaC,QAAQC,IACvBtB,IAEE,MAAMuB,EAAQC,aAAaC,QAAQ,gBAInC,OAHIF,IACFvB,EAAO0B,QAAQ,iBAAmB,UAAUH,KAEvCvB,GAETqC,IACET,QAAQS,MAAM,mBAAoBA,GAC3BC,QAAQC,OAAOF,KAK1B,GAAIjB,aAAaoB,SAASlB,IACxBkB,GAAYA,EACZH,IACET,QAAQS,MAAM,mBAAoBA,GAC3BC,QAAQC,OAAOF,KAyM1B,QACEqlC,mBACAC,yBACAc,0BCgEF,IACE9nC,KAAM,cACNwL,WAAY,CACV4J,QAAO,IAET,IAAAhU,GACE,MAAO,CACLqQ,aAAa,EACbu2B,aAAc,MACdC,YAAa,GACbC,oBAAoB,EACpB9D,YAAa,GACb+D,aAAc,GACdC,qBAAqB,EACrBC,UAAW,KACX9I,WAAW,EACXoE,cAAc,EACdD,gBAAgB,EAChB4E,yBAAyB,EACzB5B,wBAAyB,KACzB1kB,MAAO,GACP+d,cAAe,GACf6D,cAAc,EACd2E,sBAAsB,EACtBtC,aAAc,GACdE,qBAAsB,KACtBqC,mBAAoB,KACpBC,eAAgB,CACd79B,GAAI,EACJqG,MAAO,aACPkB,YAAa,aACbu2B,KAAM,QACNr2B,SAAU,IAEZo0B,kBAAmB,CACjB,CACE77B,GAAI,EACJqG,MAAO,aACPkB,YAAa,aACbu2B,KAAM,QACNr2B,SAAU,IAEZ,CACEzH,GAAI,EACJqG,MAAO,cACPkB,YAAa,cACbu2B,KAAM,MACNr2B,SAAU,IAEZ,CACEzH,GAAI,EACJqG,MAAO,aACPkB,YAAa,aACbu2B,KAAM,MACNr2B,SAAU,IAEZ,CACEzH,GAAI,EACJqG,MAAO,YACPkB,YAAa,YACbu2B,KAAM,MACNr2B,SAAU,KAGdqL,MAAO,GAEPirB,aAAc,CACZ,EAAG,CACH,CACE/9B,GAAI,EACJqG,MAAO,UACPkB,YAAa,iBACby2B,SAAU,KACV9mC,OAAQ,cACNoL,SAAS,EACT27B,WAAW,GAEf,CACEj+B,GAAI,EACJqG,MAAO,UACPkB,YAAa,gBACby2B,SAAU,KACV9mC,OAAQ,YACNoL,SAAS,EACT27B,WAAW,GAEf,CACEj+B,GAAI,EACJqG,MAAO,SACPkB,YAAa,gBACby2B,SAAU,KACV9mC,OAAQ,cACNoL,SAAS,EACT27B,WAAW,GAEf,CACEj+B,GAAI,EACJqG,MAAO,SACPkB,YAAa,gBACby2B,SAAU,MACV9mC,OAAQ,SACNoL,SAAS,EACT27B,WAAW,GAEf,CACEj+B,GAAI,EACJqG,MAAO,SACPkB,YAAa,cACby2B,SAAU,KACV9mC,OAAQ,cACNoL,SAAS,EACT27B,WAAW,GAEf,CACEj+B,GAAI,EACJqG,MAAO,UACPkB,YAAa,iBACby2B,SAAU,KACV9mC,OAAQ,YACNoL,SAAS,EACT27B,WAAW,IAGf,EAAG,CACD,CACEj+B,GAAI,EACJqG,MAAO,YACPkB,YAAa,yBACby2B,SAAU,MACV9mC,OAAQ,cACRoL,SAAS,EACT27B,WAAW,GAEb,CACEj+B,GAAI,EACJqG,MAAO,WACPkB,YAAa,gBACby2B,SAAU,OACV9mC,OAAQ,YACRoL,SAAS,EACT27B,WAAW,GAEb,CACEj+B,GAAI,EACJqG,MAAO,SACPkB,YAAa,kBACby2B,SAAU,OACV9mC,OAAQ,cACRoL,SAAS,EACT27B,WAAW,GAEb,CACEj+B,GAAI,GACJqG,MAAO,SACPkB,YAAa,gBACby2B,SAAU,MACV9mC,OAAQ,SACRoL,SAAS,EACT27B,WAAW,IAGf,EAAG,CACD,CACEj+B,GAAI,GACJqG,MAAO,SACPkB,YAAa,eACby2B,SAAU,OACV9mC,OAAQ,YACRoL,SAAS,EACT27B,WAAW,GAEb,CACEj+B,GAAI,GACJqG,MAAO,SACPkB,YAAa,eACby2B,SAAU,OACV9mC,OAAQ,cACRoL,SAAS,EACT27B,WAAW,GAEb,CACEj+B,GAAI,GACJqG,MAAO,SACPkB,YAAa,aACby2B,SAAU,OACV9mC,OAAQ,cACRoL,SAAS,EACT27B,WAAW,GAEb,CACEj+B,GAAI,GACJqG,MAAO,SACPkB,YAAa,eACby2B,SAAU,OACV9mC,OAAQ,YACRoL,SAAS,EACT27B,WAAW,IAGf,EAAG,CACD,CACEj+B,GAAI,GACJqG,MAAO,SACPkB,YAAa,eACby2B,SAAU,QACV9mC,OAAQ,cACRoL,SAAS,EACT27B,WAAW,GAEb,CACEj+B,GAAI,GACJqG,MAAO,SACPkB,YAAa,eACby2B,SAAU,QACV9mC,OAAQ,SACRoL,SAAS,EACT27B,WAAW,GAEb,CACEj+B,GAAI,GACJqG,MAAO,SACPkB,YAAa,cACby2B,SAAU,OACV9mC,OAAQ,cACRoL,SAAS,EACT27B,WAAW,KAKrB,EACAn9B,SAAU,CACR,aAAAo9B,GACE,IAAIC,EAAWpkC,KAAK+Y,MAcpB,GAX0B,cAAtB/Y,KAAKqjC,aAEPe,EAAWA,EAAS7zB,OAAOC,GAAQxQ,KAAKqkC,gBAAgB7zB,IACzB,QAAtBxQ,KAAKqjC,eAEde,EAAWA,EAAS7zB,OAAOC,GAAQA,EAAKrT,SAAW6C,KAAKqjC,cACxD/mC,QAAQC,IAAI,GAAGyD,KAAKqjC,uBAAwBe,EAAS//B,SAKnDrE,KAAKsjC,YAAY3tB,OAAQ,CAC3B,MAAMhD,EAAQ3S,KAAKsjC,YAAY1tB,cAC/BwuB,EAAWA,EAAS7zB,OAAOC,GACzBA,EAAKlE,MAAMsJ,cAAcnU,SAASkR,IAClCnC,EAAKhD,YAAYoI,cAAcnU,SAASkR,IACxCnC,EAAKyzB,SAASruB,cAAcnU,SAASkR,IAEvCrW,QAAQC,IAAI,WAAY6nC,EAAS//B,OACnC,CAGA,OADA/H,QAAQC,IAAI,cAAe6nC,GACpBA,CACT,GAEF,OAAAz/B,GACEE,SAASC,iBAAiB,QAAS9E,KAAK+E,oBAGxC/E,KAAKskC,oBAGLtkC,KAAKukC,8BAGL,MAAMC,EAAoBtoC,aAAaC,QAAQ,qBAC/C,GAAIqoC,EAAmB,CACrB,MAAMC,EAAY/qB,SAAS8qB,GACrBjD,EAAUvhC,KAAKshC,aAAarqB,KAAK0D,GAAKA,EAAE1U,KAAOw+B,GACjDlD,IACFvhC,KAAKwhC,qBAAuBiD,EAC5BzkC,KAAKwjC,aAAejC,EAAQlzB,SAAW,IAAIkzB,EAAQlzB,UAAY,GAC/D/R,QAAQC,IAAI,cAAekoC,GAC3BzkC,KAAKyd,UAAU,KACbzd,KAAK8/B,mBAGX,CAGA9/B,KAAKskB,mBAGLtkB,KAAKyd,UAAU,KAEb,MAAMinB,EAAsBxoC,aAAaC,QAAQ,uBACjD,GAAIuoC,EACF,IACE,MAAM9mC,EAAcoE,KAAKC,MAAMyiC,GAC/BpoC,QAAQC,IAAI,eAAgBqB,EAAY0O,OAGxC,MAAMq4B,EAAe3kC,KAAK8hC,kBAAkB7qB,KAAKnC,GAAK5O,OAAO4O,EAAE7O,MAAQC,OAAOtI,EAAYqI,KACtF0+B,GACF3kC,KAAK8jC,eAAiBa,EACtBroC,QAAQC,IAAI,cAAeooC,EAAar4B,OAGxCtM,KAAK4kC,iBAAiB5kC,KAAK8jC,eAAe79B,MAE1C3J,QAAQC,IAAI,qBAEZyD,KAAK4kC,iBAAiB5kC,KAAK8jC,eAAe79B,IAE9C,CAAE,MAAOlJ,GACPT,QAAQS,MAAM,eAAgBA,GAE9BiD,KAAK4kC,iBAAiB5kC,KAAK8jC,eAAe79B,GAC5C,MAGAjG,KAAK4kC,iBAAiB5kC,KAAK8jC,eAAe79B,KAmBhD,EACA,aAAAV,GAEMvF,KAAKwhC,sBAAwBxhC,KAAKwjC,aAAan/B,OAAS,IAC1DrE,KAAK6kC,yBACL3oC,aAAa+G,QAAQ,oBAAqBiD,OAAOlG,KAAKwhC,wBAGxD38B,SAASW,oBAAoB,QAASxF,KAAK+E,oBAC3CF,SAASW,oBAAoB,mBAAoBxF,KAAKmhC,uBACtD9jC,OAAOmI,oBAAoB,QAASxF,KAAKmhC,uBAGzCnhC,KAAKiF,MAAMQ,KAAK,qBAGZzF,KAAK0jC,WACPj3B,cAAczM,KAAK0jC,UAEvB,EACA/9B,QAAS,CACP,aAAAqH,GACEhN,KAAK8M,aAAe9M,KAAK8M,WAC3B,EACA,YAAAC,GACE/M,KAAK8M,aAAc,CACrB,EACA,qBAAAg4B,GACE9kC,KAAKyjC,qBAAuBzjC,KAAKyjC,mBACnC,EACA,aAAAsB,CAAc9pC,GACZ+E,KAAK8jC,eAAiB,IAAK7oC,GAC3B+E,KAAKyjC,qBAAsB,EAG3BvnC,aAAa+G,QAAQ,sBAAuBjB,KAAKmB,UAAU,CACzD8C,GAAIhL,EAAQgL,GACZqG,MAAOrR,EAAQqR,MACfkB,YAAavS,EAAQuS,YACrBu2B,KAAM9oC,EAAQ8oC,KACdr2B,SAAUzS,EAAQyS,YAIpB1N,KAAK4kC,iBAAiB3pC,EAAQgL,GAChC,EAGA,qBAAAk7B,GACE7kC,QAAQC,IAAI,oBAGZyD,KAAK4kC,iBAAiB5kC,KAAK8jC,eAAe79B,IAE1C3J,QAAQC,IAAI,wBAAyByD,KAAK+Y,MAAM1U,OAClD,EACA,gBAAAugC,CAAiB7mC,GAEfzB,QAAQC,IAAI,eAAewB,SAG3B,MAAMimC,EAAehkC,KAAKglC,qBAAqBjnC,GAE3CimC,GAAgBA,EAAa3/B,OAAS,GACxC/H,QAAQC,IAAI,aAAaynC,EAAa3/B,cAEtCrE,KAAK+Y,MAAM2I,OAAO,EAAG1hB,KAAK+Y,MAAM1U,UAAW2/B,KAE3C1nC,QAAQC,IAAI,aAAawB,UACzBiC,KAAK+Y,MAAM2I,OAAO,EAAG1hB,KAAK+Y,MAAM1U,QAEpC,EACA,sBAAMigB,GACJhoB,QAAQC,IAAI,yBAGZ,MAAMN,EAAQC,aAAaC,QAAQ,gBAC7BqG,EAAWtG,aAAaC,QAAQ,aAChC+R,KAAqBjS,IAASuG,GAEpC,GAAK0L,EAML,IAEE,MAAMhR,QAAiB,GAAAQ,WAAWe,cAAc,EAAG,KAEnDnC,QAAQC,IAAI,eAAgBW,GAG5B,IAAI4V,EAAW,GAoBf,GAnBI9K,MAAMC,QAAQ/K,GAEhB4V,EAAW5V,EACFA,GAAYA,EAAST,OAE1BuL,MAAMC,QAAQ/K,EAAST,MACzBqW,EAAW5V,EAAST,KACXuL,MAAMC,QAAQ/K,EAAST,KAAKsW,SAErCD,EAAW5V,EAAST,KAAKsW,QAChB/K,MAAMC,QAAQ/K,EAAST,KAAKuW,MAErCF,EAAW5V,EAAST,KAAKuW,KAChBhL,MAAMC,QAAQ/K,EAAST,KAAKwW,WAErCH,EAAW5V,EAAST,KAAKwW,UAIzBH,EAASzO,OAAS,EAAG,CAEvB,MAAM4gC,EAAenyB,EAASI,IAAIjY,IAChC,MAAM8C,EAAY9C,EAAQgL,IAAMhL,EAAQ8C,WAAa9C,EAAQkY,WAG7D,IAAIzF,EAAWzS,EAAQyS,UAAY,EAWnC,OAVKA,GAAYzS,EAAQkC,SAErBuQ,EADqB,cAAnBzS,EAAQkC,QAA6C,cAAnBlC,EAAQkC,QAA6C,QAAnBlC,EAAQkC,OACnE,IACiB,WAAnBlC,EAAQkC,QAA0C,WAAnBlC,EAAQkC,QAA0C,QAAnBlC,EAAQkC,OACpE,GAEA,GAIR,CACL8I,GAAIlI,EACJuO,MAAOrR,EAAQqR,OAASrR,EAAQI,MAAQJ,EAAQmY,aAAe,QAC/D5F,YAAavS,EAAQuS,aAAevS,EAAQoY,MAAQpY,EAAQqR,OAAS,GACrEy3B,KAAM9oC,EAAQ8oC,MAAQ9oC,EAAQoZ,aAAepZ,EAAQiqC,SAAW,QAChEx3B,SAAUA,KAad,GATApR,QAAQC,IAAI,eAAe0oC,EAAa5gC,gBAMxCrE,KAAK8hC,kBAAoBmD,EAGrBjlC,KAAK8hC,kBAAkBz9B,OAAS,EAAG,CACrC,MAAM8gC,EAAuBnlC,KAAK8hC,kBAAkB7qB,KAAKnC,GAAK5O,OAAO4O,EAAE7O,MAAQC,OAAOlG,KAAK8jC,eAAe79B,KACrGk/B,IACHnlC,KAAK8jC,eAAiB,IAAK9jC,KAAK8hC,kBAAkB,IAElD9hC,KAAK4kC,iBAAiB5kC,KAAK8jC,eAAe79B,IAE9C,CAEA3J,QAAQC,IAAI,YAAayD,KAAK8hC,kBAChC,MACExlC,QAAQC,IAAI,kBAEhB,CAAE,MAAOQ,GACPT,QAAQS,MAAM,eAAgBA,EAEhC,MAnFET,QAAQC,IAAI,wBAoFhB,EAGA,oBAAAyoC,CAAqBjnC,GAEnB,MAAMqnC,EAAqBplC,KAAKqlC,2BAA2BtnC,GAC3D,OAAIqnC,EAAmB/gC,OAAS,EACvB+gC,EAILplC,KAAKgkC,aAAajmC,GACbiC,KAAKgkC,aAAajmC,GAGpB,EACT,EAGA,0BAAAsnC,CAA2BtnC,GAEzB,MAAM+U,EAAW9Q,KAAKC,MAAM/F,aAAaC,QAAQ,aAAe,MAE1DlB,EAAU6X,EAASmE,KAAKnC,GAAK5O,OAAO4O,EAAE7O,MAAQC,OAAOnI,IAE3D,OAAK9C,GAKDA,EAAQ8d,OAAS/Q,MAAMC,QAAQhN,EAAQ8d,QAAU9d,EAAQ8d,MAAM1U,OAAS,EAGnEpJ,EAAQ8d,MAAM7F,IAAI1C,IAAQ,CAC/BvK,GAAIuK,EAAKvK,GACTqG,MAAOkE,EAAKlE,MACZkB,YAAagD,EAAKhD,aAAe,GACjCy2B,SAAUzzB,EAAK80B,eAAiB90B,EAAK+0B,iBAAmB,MACxDpoC,OAAQ6C,KAAKwlC,kBAAkBh1B,EAAKrT,QACpCoL,SAAS,EACT27B,WAAW,EACXuB,aAAcj1B,KAfT,EAoBX,EAGA,iBAAAg1B,CAAkBroC,GAChB,MAAMqW,EAAY,CAChB,MAAO,UACP,QAAW,UACX,MAAO,cACP,YAAe,cACf,KAAM,YACN,UAAa,YACb,KAAM,SACN,OAAU,SACV,MAAO,YACP,MAAO,UAET,OAAOA,EAAUrW,IAAW,SAC9B,EAGA,2BAAAuoC,CAA4B3nC,GAE1B,MAAMimC,EAAehiC,KAAKC,MAAM/F,aAAaC,QAAQ,WAAW4B,YAAsB,MAGtF,OAAOimC,EAAazzB,OAAOC,GAAwB,cAAhBA,EAAKrT,OAC1C,EAGA,eAAAknC,CAAgB7zB,GAEd,OAA0B,IAAnBA,EAAK0zB,WAAsC,cAAhB1zB,EAAKrT,MACzC,EAGA,uBAAAwoC,CAAwBvC,EAAQc,GAE9B,MAAM1zB,EAAOxQ,KAAK+Y,MAAM9B,KAAK2uB,GAAKA,EAAE3/B,KAAOm9B,GACvC5yB,IACFA,EAAK0zB,UAAYA,EACbA,IACF1zB,EAAKrT,OAAS,cAKlB6C,KAAK6lC,oBACP,EAGA,kBAAAA,GAEEvpC,QAAQC,IAAI,sBACd,EAGA,iBAAA+nC,GACEhoC,QAAQC,IAAI,6BACZD,QAAQC,IAAI,YAAayF,KAAKC,MAAM/F,aAAaC,QAAQ,aAAe,OACxEG,QAAQC,IAAI,SAAUyF,KAAKC,MAAM/F,aAAaC,QAAQ,UAAY,OAClEG,QAAQC,IAAI,aAAcyF,KAAKC,MAAM/F,aAAaC,QAAQ,cAAgB,OAG1E,MAAMqH,EAAOD,OAAOC,KAAKtH,cACzBI,QAAQC,IAAI,mBAAoBiH,GAGhC,MAAMsiC,EAAWtiC,EAAK+M,OAAO7M,GAAOA,EAAIjC,SAAS,SAAWiC,EAAIjC,SAAS,SACzEnF,QAAQC,IAAI,SAAUupC,GAEtBA,EAASriC,QAAQC,IACfpH,QAAQC,IAAI,GAAGmH,KAAQ1B,KAAKC,MAAM/F,aAAaC,QAAQuH,IAAQ,SAIjE1D,KAAK+lC,wBACP,EAGA,sBAAAA,GACEzpC,QAAQC,IAAI,oBAEZ,MAAMuW,EAAW9Q,KAAKC,MAAM/F,aAAaC,QAAQ,aAAe,MAChEG,QAAQC,IAAI,WAAYuW,GAGxB,MAAMkzB,EAAoBlzB,EAASmE,KAAKnC,GAAKA,EAAExI,MAAM7K,SAAS,QAC1DukC,GACF1pC,QAAQC,IAAI,WAAYypC,GACxB1pC,QAAQC,IAAI,aAAcypC,EAAkBjtB,OAExCitB,EAAkBjtB,OAAS/Q,MAAMC,QAAQ+9B,EAAkBjtB,QAC7Dzc,QAAQC,IAAI,OAAOypC,EAAkBjtB,MAAM1U,eAC3C2hC,EAAkBjtB,MAAMtV,QAAQ,CAAC+M,EAAM9B,KACrCpS,QAAQC,IAAI,MAAMmS,EAAQ,KAAM8B,MAGlClU,QAAQC,IAAI,2BAGdD,QAAQC,IAAI,YAGZD,QAAQC,IAAI,WACZuW,EAASrP,QAAQ,CAACxI,EAASyT,KACzBpS,QAAQC,IAAI,MAAMmS,EAAQ,MAAMzT,EAAQqR,cAAcrR,EAAQgL,OAC9D3J,QAAQC,IAAI,aAActB,EAAQ8d,SAGxC,EAGA,YAAAktB,GACE3pC,QAAQC,IAAI,aACZyD,KAAKskC,oBAGLtkC,KAAK8hC,kBAAoB9hC,KAAK8hC,kBAAkBvxB,OAAOtV,GAAWA,EAAQgL,IAAM,GAChFjG,KAAKgkC,aAAe,CAAC,EAGrBhkC,KAAKskB,mBAGLtkB,KAAK4kC,iBAAiB5kC,KAAK8jC,eAAe79B,IAE1C3J,QAAQC,IAAI,OACd,EAGA,iBAAA2pC,GACE5pC,QAAQC,IAAI,eAGZ,MAAMgoB,EAAkBviB,KAAKC,MAAM/F,aAAaC,QAAQ,aAAe,MAEvEooB,EAAgB9gB,QAAQxI,IACtB,MAAM8C,EAAY9C,EAAQgL,GACpBkgC,EAAc,CAClB,CACElgC,GAAIkJ,KAAK0S,MAAQ/P,KAAKs0B,SACtB95B,MAAO,GAAGrR,EAAQqR,eAClBkB,YAAa,cACby2B,SAAU,QACV9mC,OAAQ,cACRY,UAAWA,EACXmmC,WAAW,GAEb,CACEj+B,GAAIkJ,KAAK0S,MAAQ/P,KAAKs0B,SAAW,EACjC95B,MAAO,GAAGrR,EAAQqR,eAClBkB,YAAa,cACby2B,SAAU,MACV9mC,OAAQ,YACRY,UAAWA,EACXmmC,WAAW,GAEb,CACEj+B,GAAIkJ,KAAK0S,MAAQ/P,KAAKs0B,SAAW,EACjC95B,MAAO,GAAGrR,EAAQqR,eAClBkB,YAAa,WACby2B,SAAU,OACV9mC,OAAQ,cACRY,UAAWA,EACXmmC,WAAW,IAKfhoC,aAAa+G,QAAQ,WAAWlF,UAAmBiE,KAAKmB,UAAUgjC,IAClE7pC,QAAQC,IAAI,OAAOtB,EAAQqR,aAAa65B,EAAY9hC,kBAItDrE,KAAKimC,cACP,EACA,QAAAxyB,GACEzT,KAAKwG,QAAQC,KAAK,QACpB,EACA,SAAA4/B,CAAU91B,GACRvQ,KAAKqjC,aAAe9yB,CACtB,EACA,oBAAA+1B,GACEtmC,KAAKujC,oBAAsBvjC,KAAKujC,kBAClC,EACA,iBAAAgD,CAAkBh2B,GAChBvQ,KAAKqjC,aAAe9yB,EACpBvQ,KAAKujC,oBAAqB,CAC5B,EACA,aAAAiD,GACE,MAAMC,EAAc,CAClB,IAAO,OACP,UAAa,MACb,cAAe,MACf,UAAa,MACb,OAAU,OAEZ,OAAOA,EAAYzmC,KAAKqjC,eAAiB,MAC3C,EACA,iBAAAqD,CAAkB3gC,GAChB/F,KAAKsjC,YAAcv9B,EAAMK,OAAOuB,KAClC,EACA,kBAAAg/B,CAAmBvD,GACjB,MAAM5yB,EAAOxQ,KAAK+Y,MAAM9B,KAAK2uB,GAAKA,EAAE3/B,KAAOm9B,GACvC5yB,IACFA,EAAKjI,SAAWiI,EAAKjI,QAEzB,EACA,aAAAkF,CAActQ,GACZ,MAAMqW,EAAY,CAChB,QAAW,MACX,cAAe,MACf,UAAa,KACb,OAAU,MAEZ,OAAOA,EAAUrW,IAAWA,CAC9B,EACA,cAAAg7B,CAAeh7B,GACb,OAAOA,CACT,EACA,iBAAM89B,GAEJ,GADA3+B,QAAQC,IAAI,mCAAoCyD,KAAKy/B,cAChDz/B,KAAKy/B,YAAY9pB,QAAU3V,KAAK46B,UAEnC,YADAt+B,QAAQC,IAAI,oDAKTyD,KAAKwhC,uBACRxhC,KAAKwhC,qBAAuBryB,KAAK0S,OAGnCvlB,QAAQC,IAAI,+BACZ,MAAMqqC,EAAiB5mC,KAAKy/B,YAAY9pB,OAGlCkxB,EAAU,CACd5gC,GAAIkJ,KAAK0S,MACTtd,KAAM,OACNwO,QAAS6zB,EACTxY,UAAW,IAAIjf,MAEjBnP,KAAKwjC,aAAa/8B,KAAKogC,GACvBvqC,QAAQC,IAAI,2CAA4CyD,KAAKwjC,cAG7DxjC,KAAK6kC,yBAGL7kC,KAAKy/B,YAAc,GACnBnjC,QAAQC,IAAI,iBAGZyD,KAAK46B,WAAY,EAGjB,MAAMkM,EAAQ,CACZ7gC,GAAIkJ,KAAK0S,MAAQ,EACjBtd,KAAM,KACNwO,QAAS,GACTqb,UAAW,IAAIjf,MAEjBnP,KAAKwjC,aAAa/8B,KAAKqgC,GACvB,MAAMC,EAAiB/mC,KAAKwjC,aAAan/B,OAAS,EAGlDrE,KAAKyd,UAAU,KACbzd,KAAK8/B,mBAGP,IAEE,MAAMngC,EAASzD,aAAaC,QAAQ,WAAa,eAEjDG,QAAQC,IAAI,6BAA8BoD,EAAQ,kBAAmBK,KAAK6jC,0BAGpEmD,GAAA,sBACJJ,EACA5mC,KAAK6jC,mBAEL,CAACoD,EAAaxqC,KACZH,QAAQC,IAAI,qBAAsB0qC,EAAa,SAAUjnC,KAAKwjC,aAAauD,GAAgBh0B,QAAQ1O,QAEnG,MAAM6iC,EAAiBlnC,KAAKwjC,aAAauD,GAAgBh0B,QACzD/S,KAAKmG,KAAKnG,KAAKwjC,aAAauD,GAAiB,UAAWG,EAAiBD,GACzE3qC,QAAQC,IAAI,iBAAkByD,KAAKwjC,aAAauD,GAAgBh0B,QAAQ1O,QAExErE,KAAKyd,UAAU,KACbzd,KAAK8/B,oBAIRrjC,IACCH,QAAQC,IAAI,YAERE,GAAQA,EAAK0jC,kBACfngC,KAAK6jC,mBAAqBpnC,EAAK0jC,gBAC/B7jC,QAAQC,IAAI,cAAeyD,KAAK6jC,qBAIlC7jC,KAAK6kC,yBAGL7kC,KAAK46B,WAAY,EAGjB56B,KAAKyd,UAAU,KACbzd,KAAK8/B,oBAIR/iC,IACCT,QAAQS,MAAM,cAAeA,GAC7BiD,KAAKwjC,aAAauD,GAAgBh0B,QAAU,sBAC5C/S,KAAK46B,WAAY,EAGjB56B,KAAK6kC,yBAEL7kC,KAAKyd,UAAU,KACbzd,KAAK8/B,oBAIb,CAAE,MAAO/iC,GACPT,QAAQS,MAAM,UAAWA,GACzBiD,KAAKwjC,aAAauD,GAAgBh0B,QAAU,sBAC5C/S,KAAK46B,WAAY,EAGjB56B,KAAK6kC,yBAEL7kC,KAAKyd,UAAU,KACbzd,KAAK8/B,kBAET,CACF,EACA,cAAAA,GACE,MAAMqH,EAAgBnnC,KAAKonC,IAAIC,cAAc,mBACzCF,IACFA,EAAc7G,UAAY6G,EAAc5G,aAE5C,EACA,kBAAAx7B,CAAmBgB,GACZ/F,KAAKonC,IAAIznB,SAAS5Z,EAAMK,UAC3BpG,KAAKyjC,qBAAsB,EAC3BzjC,KAAKujC,oBAAqB,GAGxBvjC,KAAKg/B,eAAiBj5B,EAAMK,OAAOC,QAAQ,wBAC7CrG,KAAKg/B,cAAe,EAExB,EAGA,cAAAnE,GACE76B,KAAKg/B,cAAgBh/B,KAAKg/B,YAC5B,EAGA,+BAAMlE,GACJ96B,KAAKg/B,cAAe,EAGpBh/B,KAAK2jC,yBAA0B,EAC/B3jC,KAAK+hC,wBAA0B,KAE/B/hC,KAAKqd,MAAQ,EACf,EAGA,cAAA0d,GACE/6B,KAAKg/B,cAAe,EACpBh/B,KAAKmd,MAAM4Y,UAAU7Y,OACvB,EAGA,gBAAA8d,CAAiBj1B,GACf,MAAMsX,EAAQrV,MAAM4K,KAAK7M,EAAMK,OAAOiX,OACtC,GAAIA,EAAMhZ,OAAS,EAAG,CACpB/H,QAAQC,IAAI,WAAY8gB,GAExB,MAAMwjB,EAAYxjB,EAAMnK,IAAI/T,GAAQA,EAAK9D,MAAM+3B,KAAK,KAC9CsM,EAAW,YAAYmB,IAC7B7gC,KAAKy/B,YAAcz/B,KAAKy/B,YAAY9pB,OAChC,GAAG3V,KAAKy/B,kBAAkBC,IAC1BA,CAIN,CAEI1/B,KAAKmd,MAAM4Y,YACb/1B,KAAKmd,MAAM4Y,UAAUpuB,MAAQ,GAEjC,EAGA,wBAAAk6B,GACE7hC,KAAK2jC,yBAA0B,EAC/B3jC,KAAK+hC,wBAA0B,IACjC,EAGA,qBAAAC,CAAsB/mC,GACpB+E,KAAK+hC,wBAA0B9mC,CACjC,EAGA,6BAAMgnC,GACJ,IAAKjiC,KAAK+hC,wBAAyB,OAEnCzlC,QAAQC,IAAI,UAAWyD,KAAK+hC,yBAG5B,MAAMhkC,EAAYiC,KAAK+hC,wBAAwB97B,GAG/CjG,KAAK6hC,2BAGL7hC,KAAK++B,gBAAiB,EACtB/+B,KAAKo7B,cAAgB,GAGjBr9B,SACIiC,KAAK4gC,UAAU7iC,EAEzB,EAGA,eAAAo9B,GACEn7B,KAAK++B,gBAAiB,EACtB/+B,KAAKo7B,cAAgB,EACvB,EAGA,eAAMwF,CAAU7iC,GACd,GAAKA,EAAL,CAKAiC,KAAKi/B,cAAe,EACpB,IACE,MAAM/hC,QAAiB0zB,GAAaG,uBAAuBhzB,EAAW,EAAG,KACzEzB,QAAQC,IAAI,YAAaW,GAErBA,GAA8B,MAAlBA,EAASoM,MAAgBpM,EAAST,MAC5CuL,MAAMC,QAAQ/K,EAAST,MACzBuD,KAAKqd,MAAQngB,EAAST,KACbS,EAAST,KAAKsW,SAAW/K,MAAMC,QAAQ/K,EAAST,KAAKsW,SAC9D/S,KAAKqd,MAAQngB,EAAST,KAAKsW,QAE3B/S,KAAKqd,MAAQ,GAEf/gB,QAAQC,IAAI,iBAAkByD,KAAKqd,MAAMhZ,QAErCrE,KAAKqd,MAAMhZ,OAAS,IACtB/H,QAAQC,IAAI,WAAYyD,KAAKqd,MAAM,IACnC/gB,QAAQC,IAAI,QAASgH,OAAOC,KAAKxD,KAAKqd,MAAM,QAG9Crd,KAAKqd,MAAQ,GACb/gB,QAAQE,KAAK,YAAaU,GAE9B,CAAE,MAAOH,GACPT,QAAQS,MAAM,cAAeA,GAC7BiD,KAAKqd,MAAQ,EACf,CAAE,QACArd,KAAKi/B,cAAe,CACtB,CA9BA,MAFE3iC,QAAQE,KAAK,mBAiCjB,EAGA,mBAAA6+B,CAAoB1J,GAClB,MAAMjjB,EAAQ1O,KAAKo7B,cAAczf,QAAQgW,GACrCjjB,GAAS,EACX1O,KAAKo7B,cAAc1Z,OAAOhT,EAAO,GAEjC1O,KAAKo7B,cAAc30B,KAAKkrB,EAE5B,EAGA,oBAAA2J,GACE,GAAkC,IAA9Bt7B,KAAKo7B,cAAc/2B,OAAc,OAErC,MAAMs7B,EAAoB3/B,KAAKqd,MAC5B9M,OAAOpR,GAAQa,KAAKo7B,cAAc35B,SAAStC,EAAK8G,KAChDiN,IAAI/T,GAAQA,EAAK9D,MAAQ8D,EAAKmN,OAAS,SACvC8mB,KAAK,KAGFsM,EAAW,eAAeC,IAChC3/B,KAAKy/B,YAAcz/B,KAAKy/B,YAAY9pB,OAChC,GAAG3V,KAAKy/B,kBAAkBC,IAC1BA,EAGJpjC,QAAQC,IAAI,WAAYyD,KAAKo7B,eAC7B9+B,QAAQC,IAAI,SAAUyD,KAAKqd,MAAM9M,OAAOpR,GAAQa,KAAKo7B,cAAc35B,SAAStC,EAAK8G,MAEjFjG,KAAKm7B,iBACP,EAGA,eAAAiG,GACEphC,KAAKukC,8BACLvkC,KAAK4jC,sBAAuB,CAC9B,EAGA,qBAAAvC,GACErhC,KAAK4jC,sBAAuB,CAC9B,EAGA,2BAAAW,GACE,IACE,MAAMvV,EAAQ9yB,aAAaC,QAAQ,kBAC/B6yB,GACFhvB,KAAKshC,aAAet/B,KAAKC,MAAM+sB,GAE/BhvB,KAAKshC,aAAagG,KAAK,CAAC3X,EAAG4X,IAAM,IAAIp4B,KAAKo4B,EAAEzuB,WAAa,IAAI3J,KAAKwgB,EAAE7W,aAEpE9Y,KAAKshC,aAAe,EAExB,CAAE,MAAOvkC,GACPT,QAAQS,MAAM,YAAaA,GAC3BiD,KAAKshC,aAAe,EACtB,CACF,EAGA,yBAAAkG,GACE,IACEtrC,aAAa+G,QAAQ,iBAAkBjB,KAAKmB,UAAUnD,KAAKshC,cAC7D,CAAE,MAAOvkC,GACPT,QAAQS,MAAM,YAAaA,EAC7B,CACF,EAGA,oBAAA6kC,GAEM5hC,KAAKwhC,sBAAwBxhC,KAAKwjC,aAAan/B,OAAS,GAC1DrE,KAAK6kC,yBAIP,MAAM4C,EAAet4B,KAAK0S,MACpB6lB,EAAa,CACjBzhC,GAAIwhC,EACJn7B,MAAO,MACP+B,SAAU,GACVwK,WAAW,IAAI1J,MAAOyN,cACtB9D,WAAW,IAAI3J,MAAOyN,cACtB8kB,aAAc,GAGhB1hC,KAAKshC,aAAahe,QAAQokB,GAC1B1nC,KAAKwhC,qBAAuBiG,EAC5BznC,KAAKwjC,aAAe,GACpBxjC,KAAK6jC,mBAAqB,KAC1B3nC,aAAa+G,QAAQ,oBAAqBiD,OAAOuhC,IACjDznC,KAAKwnC,4BACLxnC,KAAKqhC,wBAEL/kC,QAAQC,IAAI,WAAYkrC,EAC1B,EAGA,eAAAhG,CAAgBgD,GACd,MAAMlD,EAAUvhC,KAAKshC,aAAarqB,KAAK0D,GAAKA,EAAE1U,KAAOw+B,GAChDlD,GAMDvhC,KAAKwhC,sBAAwBxhC,KAAKwhC,uBAAyBiD,GAAazkC,KAAKwjC,aAAan/B,OAAS,GACrGrE,KAAK6kC,yBAIP7kC,KAAKwhC,qBAAuBiD,EAC5BzkC,KAAKwjC,aAAejC,EAAQlzB,SAAW,IAAIkzB,EAAQlzB,UAAY,GAC/DrO,KAAK6jC,mBAAqB,KAC1B3nC,aAAa+G,QAAQ,oBAAqBiD,OAAOu+B,IAEjDzkC,KAAKqhC,wBACLrhC,KAAKyd,UAAU,KACbzd,KAAK8/B,mBAGPxjC,QAAQC,IAAI,UAAWkoC,EAAW,QAASzkC,KAAKwjC,aAAan/B,SApB3D/H,QAAQE,KAAK,WAAYioC,EAqB7B,EAGA,sBAAAI,GACE,IAAK7kC,KAAKwhC,qBAAsB,OAEhC,MAAMmG,EAAe3nC,KAAKshC,aAAa7U,UAAU9R,GAAKA,EAAE1U,KAAOjG,KAAKwhC,sBACpE,IAAsB,IAAlBmG,EAAqB,CAEvB,MAAMD,EAAa,CACjBzhC,GAAIjG,KAAKwhC,qBACTl1B,MAAOtM,KAAK4nC,uBACZv5B,SAAU,IAAIrO,KAAKwjC,cACnB3qB,WAAW,IAAI1J,MAAOyN,cACtB9D,WAAW,IAAI3J,MAAOyN,cACtB8kB,aAAc1hC,KAAKwjC,aAAan/B,QAElCrE,KAAKshC,aAAahe,QAAQokB,EAC5B,MAEE1nC,KAAKshC,aAAaqG,GAAct5B,SAAW,IAAIrO,KAAKwjC,cACpDxjC,KAAKshC,aAAaqG,GAAc7uB,WAAY,IAAI3J,MAAOyN,cACvD5c,KAAKshC,aAAaqG,GAAcjG,aAAe1hC,KAAKwjC,aAAan/B,OAE5DrE,KAAKshC,aAAaqG,GAAcr7B,OAAmD,QAA1CtM,KAAKshC,aAAaqG,GAAcr7B,QAC5EtM,KAAKshC,aAAaqG,GAAcr7B,MAAQtM,KAAK4nC,wBAIjD5nC,KAAKwnC,2BACP,EAGA,oBAAAI,GACE,MAAMC,EAAmB7nC,KAAKwjC,aAAavsB,KAAKrT,GAAoB,SAAbA,EAAIW,MAC3D,GAAIsjC,GAAoBA,EAAiB90B,QAAS,CAChD,MAAMzG,EAAQu7B,EAAiB90B,QAAQ4C,OACvC,OAAOrJ,EAAMjI,OAAS,GAAKiI,EAAM5K,UAAU,EAAG,IAAM,MAAQ4K,CAC9D,CACA,MAAO,KACT,EAGA,iBAAAq1B,CAAkB8C,GAChB,IAAKvN,QAAQ,iBACX,OAGF,MAAMxoB,EAAQ1O,KAAKshC,aAAa7U,UAAU9R,GAAKA,EAAE1U,KAAOw+B,IACzC,IAAX/1B,IACF1O,KAAKshC,aAAa5f,OAAOhT,EAAO,GAChC1O,KAAKwnC,4BAGD/C,IAAczkC,KAAKwhC,uBACrBxhC,KAAKwhC,qBAAuB,KAC5BxhC,KAAKwjC,aAAe,GACpBtnC,aAAakB,WAAW,sBAG9B,EAGA,UAAAqd,CAAW4Y,GACT,IAAKA,EAAY,MAAO,GACxB,MAAMvkB,EAAO,IAAIK,KAAKkkB,GAChBxR,EAAM,IAAI1S,KACV24B,EAAOjmB,EAAM/S,EACbi5B,EAAUj2B,KAAKyQ,MAAMulB,EAAO,KAC5BE,EAAQl2B,KAAKyQ,MAAMulB,EAAO,MAC1B93B,EAAO8B,KAAKyQ,MAAMulB,EAAO,OAE/B,OAAIC,EAAU,EAAU,KACpBA,EAAU,GAAW,GAAGA,OACxBC,EAAQ,GAAW,GAAGA,OACtBh4B,EAAO,EAAU,GAAGA,MAEjBlB,EAAK+V,mBAAmB,QAAS,CAAEvV,MAAO,QAASb,IAAK,WACjE,ICz/CmI,MCOnI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,GAAe,G,QClBX,GAAS,WAAkB,IAAI1O,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,UAAU,CAACE,MAAM,CAAC,OAASJ,EAAI+M,aAAapM,GAAG,CAAC,MAAQX,EAAIgN,gBAAgB9M,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,SAAS,CAACM,YAAY,WAAWG,GAAG,CAAC,MAAQX,EAAIiN,gBAAgB,CAAC/M,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,0BAA0B,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,SAAS,CAACM,YAAY,WAAWJ,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQX,EAAI0T,WAAW,CAACxT,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,2BAA2B,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,cAAcb,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,KAAK,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,mBAAmBG,GAAG,CAAC,MAAQX,EAAIkoC,sBAAsB,CAAEloC,EAAIyC,SAAe,OAAEvC,EAAG,MAAM,CAACM,YAAY,eAAeJ,MAAM,CAAC,IAAMJ,EAAIyC,SAAS3B,OAAO,IAAM,UAAUZ,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uKAAuK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,IAAI,EAAI,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,0UAA0U,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,KAAK,EAAI,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAAER,EAAmB,gBAAEE,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACN,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAgB,aAAE8H,WAAW,iBAAiBwT,IAAI,gBAAgB9a,YAAY,iBAAiBJ,MAAM,CAAC,YAAc,SAAS2H,SAAS,CAAC,MAAS/H,EAAgB,cAAGW,GAAG,CAAC,MAAQ,CAAC,SAAS0G,GAAQ,OAAIA,EAAO7C,KAAKoX,QAAQ,QAAQ5b,EAAI6b,GAAGxU,EAAOyU,QAAQ,QAAQ,GAAGzU,EAAO1D,IAAI,SAAgB,KAAY3D,EAAImoC,aAAa3gC,MAAM,KAAMC,UAAU,EAAE,SAASJ,GAAQ,OAAIA,EAAO7C,KAAKoX,QAAQ,QAAQ5b,EAAI6b,GAAGxU,EAAOyU,QAAQ,cAASlf,EAAUyK,EAAO1D,SAAI/G,GAAkB,KAAYoD,EAAIooC,mBAAmB5gC,MAAM,KAAMC,UAAU,GAAG,MAAQ,SAASJ,GAAWA,EAAOhB,OAAO2B,YAAiBhI,EAAIqoC,aAAahhC,EAAOhB,OAAOuB,MAAK,KAAK1H,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,SAAS,CAACM,YAAY,iBAAiBG,GAAG,CAAC,MAAQX,EAAImoC,eAAe,CAACjoC,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,kBAAkB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,SAAS,CAACM,YAAY,mBAAmBG,GAAG,CAAC,MAAQX,EAAIooC,qBAAqB,CAACloC,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,mBAAmBF,EAAG,MAAM,CAACM,YAAY,8BAA8B,CAACN,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACN,EAAG,OAAO,CAACM,YAAY,oBAAoB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIyC,SAASxB,aAAcjB,EAAIyC,SAAW,GAAEvC,EAAG,OAAO,CAACM,YAAY,mBAAmB,CAACR,EAAIe,GAAG,OAAOf,EAAIgB,GAAGhB,EAAIyC,SAASyD,OAAOlG,EAAIM,OAAOJ,EAAG,SAAS,CAACM,YAAY,oBAAoBG,GAAG,CAAC,MAAQX,EAAIsoC,eAAe,CAACpoC,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,iPAAiP,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,6MAA6M,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,uBAAuBF,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,KAAK,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,IAAI,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIyC,SAASsB,cAAc7D,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,KAAK,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,IAAI,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIyC,SAASqJ,qBAAqB5L,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAYf,EAAIuoC,cAAgBvoC,EAAIoB,WAAYlB,EAAG,SAAS,CAACM,YAAY,WAAWG,GAAG,CAAC,MAAQX,EAAIwoC,YAAY,CAACtoC,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,iPAAiP,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,6MAA6M,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaJ,EAAIe,GAAG,UAAUf,EAAIM,OAAQN,EAAgB,aAAEE,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,WAAW,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAa,UAAE8H,WAAW,cAAcwT,IAAI,gBAAgB9a,YAAY,iBAAiBJ,MAAM,CAAC,YAAc,cAAc2H,SAAS,CAAC,MAAS/H,EAAa,WAAGW,GAAG,CAAC,KAAOX,EAAIyoC,UAAU,MAAQ,SAASphC,GAAWA,EAAOhB,OAAO2B,YAAiBhI,EAAI0oC,UAAUrhC,EAAOhB,OAAOuB,MAAK,KAAK1H,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACN,EAAG,SAAS,CAACM,YAAY,WAAWG,GAAG,CAAC,MAAQX,EAAIyoC,YAAY,CAACzoC,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,aAAaG,GAAG,CAAC,MAAQX,EAAI2oC,kBAAkB,CAAC3oC,EAAIe,GAAG,YAAYb,EAAG,IAAI,CAACM,YAAY,4BAA4B,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIyC,SAASmmC,qBAAuB5oC,EAAIoB,WAAy/BpB,EAAIM,KAAj/BJ,EAAG,MAAM,CAACM,YAAY,+BAA+B,CAACN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,KAAK,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,IAAI,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,sBAAsBb,EAAG,SAAS,CAACM,YAAY,YAAYG,GAAG,CAAC,MAAQX,EAAIqB,YAAY,CAACnB,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uKAAuK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,WAAW,CAACE,MAAM,CAAC,OAAS,mBAAmB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,KAAK,GAAK,IAAI,GAAK,KAAK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaJ,EAAIe,GAAG,gBAA0Bf,EAAa,UAAEE,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAI0L,aAAa,CAACxL,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACF,EAAIe,GAAG,UAAUb,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAI0L,aAAa,CAACxL,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,IAAI,CAACF,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI4L,mBAAmB1L,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,SAAS,CAACM,YAAY,6BAA6BG,GAAG,CAAC,MAAQX,EAAI0L,aAAa,CAAC1L,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,8BAA8BG,GAAG,CAAC,MAAQX,EAAIqB,YAAY,CAACrB,EAAIe,GAAG,eAAef,EAAIM,SAAUN,EAAa,UAAEE,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAIuB,cAAc,OAAOvB,EAAIM,KAAMN,EAAuB,oBAAEE,EAAG,MAAM,CAACM,YAAY,6BAA6B,CAACN,EAAG,MAAM,CAACM,YAAY,4BAA4BG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAAC3L,EAAIoH,GAAG,GAAGlH,EAAG,MAAM,CAACM,YAAY,0BAA0B,CAACN,EAAG,MAAM,CAACM,YAAY,yBAAyB,CAACN,EAAG,SAAS,CAACob,IAAI,mBAAmB9a,YAAY,uBAAuBN,EAAG,MAAM,CAACob,IAAI,oBAAoB9a,YAAY,uBAAuB,CAACN,EAAG,MAAM,CAACob,IAAI,sBAAsB9a,YAAY,yBAAyB,CAACN,EAAG,MAAM,CAACM,YAAY,yDAAyDN,EAAG,MAAM,CAACM,YAAY,4BAA4B,CAACN,EAAG,SAAS,CAACM,YAAY,aAAaG,GAAG,CAAC,MAAQX,EAAI6oC,uBAAuB,CAAC7oC,EAAIe,GAAG,YAAYb,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAI8oC,kBAAkB,CAAC9oC,EAAIe,GAAG,gBAAgBf,EAAIM,KAAKJ,EAAG,QAAQ,CAACob,IAAI,eAAeC,YAAY,CAAC,QAAU,QAAQnb,MAAM,CAAC,KAAO,OAAO,OAAS,WAAWO,GAAG,CAAC,OAASX,EAAI+oC,uBAAuB,EACz/U,EACI,GAAkB,CAAC,WAAY,IAAI/oC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,4BAA4B,CAACN,EAAG,KAAK,CAACF,EAAIe,GAAG,UAAUb,EAAG,IAAI,CAACM,YAAY,oBAAoB,CAACR,EAAIe,GAAG,yBACpM,GCCA,MAAMioC,GAAc,WAAa,CAC/BnuC,QAAS,GACTC,QAASH,EAAA,GAAOC,IAAIE,QACpBuB,QAAS,CACP,OAAU,oBAEZP,iBAAiB,IAInBktC,GAAYjtC,aAAaC,QAAQC,IAC9BtB,IAEC,MAAMuB,EAAQC,aAAaC,QAAQ,gBAOnC,OANIF,IACFvB,EAAO0B,QAAQC,cAAgB,UAAUJ,KAG3CK,QAAQC,IAAI,WAAY7B,EAAOkC,QAAQC,cAAenC,EAAOoC,KAEtDpC,GAETqC,IACET,QAAQS,MAAM,WAAYA,GACnBC,QAAQC,OAAOF,KAK1BgsC,GAAYjtC,aAAaoB,SAASlB,IAChCkB,IACEZ,QAAQC,IAAI,eAAgBW,EAASC,QACrCb,QAAQC,IAAI,aAAcW,EAAST,MACnCH,QAAQC,IAAI,aAAcyF,KAAKmB,UAAUjG,EAAST,KAAM,KAAM,IAG1DS,EAAST,MAAQS,EAAST,KAAK6M,OACjChN,QAAQC,IAAI,YAAaW,EAAST,KAAK6M,MACvChN,QAAQC,IAAI,WAAYW,EAAST,KAAKmH,KACtCtH,QAAQC,IAAI,gBAAiBW,EAAST,KAAKA,MACvCS,EAAST,KAAKA,OAChBH,QAAQC,IAAI,qBAAsBW,EAAST,KAAKA,KAAKyF,WACrD5F,QAAQC,IAAI,mBAAoBW,EAAST,KAAKA,KAAK2F,WAIhDlF,EAAST,MAElBM,IAGE,GAFAT,QAAQS,MAAM,aAAcA,GAExBA,EAAMG,SAAU,CAClB,MAAM,OAAEC,EAAM,KAAEV,GAASM,EAAMG,SAa/B,OAZAZ,QAAQS,MAAM,gBAAiBI,GAC/Bb,QAAQS,MAAM,cAAeN,GAC7BH,QAAQS,MAAM,aAAciF,KAAKmB,UAAU1G,EAAM,KAAM,IAExC,MAAXU,IAEFjB,aAAakB,WAAW,gBACxBlB,aAAakB,WAAW,iBACxBlB,aAAakB,WAAW,aACxBC,OAAOC,SAASC,KAAO,UAGlBP,QAAQC,OAAOR,GAAQM,EAChC,CAAO,OAAIA,EAAMhB,SACfO,QAAQS,MAAM,QAASA,EAAMhB,SACtBiB,QAAQC,OAAO,IAAIO,MAAM,mBAEhClB,QAAQS,MAAM,QAASA,EAAMU,SACtBT,QAAQC,OAAOF,MAQrB,MAAMisC,GAAY,CAMvB,YAAAC,CAAa9pC,GACX7C,QAAQC,IAAI,qCAAsC4C,EAAK9D,MAEvD,MAAM+D,EAAW,IAAI1C,SAGrB,OAFA0C,EAASC,OAAO,OAAQF,GAEjB4pC,GAAYlrC,KAAK,8BAA+BuB,EAAU,CAC/DhD,QAAS,CACP,eAAgB,wBAGtB,EAMA,eAAA8sC,GAEE,OADA5sC,QAAQC,IAAI,0CACLwsC,GAAY3qC,IAAI,iCACzB,EAOA,iBAAA+qC,CAAkBxpC,GAEhB,OADArD,QAAQC,IAAI,gDAAiDoD,GACtDopC,GAAY3qC,IAAI,wBAAwBuB,IACjD,GAGF,IC8FA,IACEtE,KAAM,UACNwL,WAAY,CACV4J,QAAO,IAET,IAAAhU,GACE,MAAO,CACLqQ,aAAa,EACb7L,cAAc,EACd+I,WAAY,KACZo/B,iBAAiB,EACjBd,cAAc,EACdF,aAAc,GACdK,UAAW,GACXtnC,YAAY,EACZ2K,WAAW,EACXH,aAAc,GACdjH,WAAW,EACXpD,aAAc,GACd+nC,qBAAqB,EACrBC,mBAAoB,KACpBC,eAAgB,CACdh4B,EAAG,EACHG,EAAG,EACHnT,KAAM,GAERiE,SAAU,CACRyD,GAAI,KACJ2sB,SAAU,GACV9uB,MAAO,GACP9C,SAAU,GACVH,OAAQ,GACRgL,aAAc,GACd88B,aAAc,GACd1lB,KAAM,GACN9lB,OAAQ,IAGd,EACA,OAAAwH,GACE3E,KAAKwpC,eACLxpC,KAAKuK,iBACL1F,SAASC,iBAAiB,QAAS9E,KAAK+E,oBAExC/E,KAAKiF,MAAMC,IAAI,kBAAmBlF,KAAKwpC,aACzC,EACA,aAAAjkC,GACEV,SAASW,oBAAoB,QAASxF,KAAK+E,oBAC3C/E,KAAKiF,MAAMQ,KAAK,kBAAmBzF,KAAKwpC,aAC1C,EACA7jC,QAAS,CACP,YAAA6jC,GAEE,MAAMvtC,EAAQC,aAAaC,QAAQ,gBAC7ByJ,EAAgB1J,aAAaC,QAAQ,aAG3C,GAFA6D,KAAKmB,cAAgBlF,IAAS2J,GAE1B5F,KAAKmB,YAAcyE,EACrB,IACE,MAAMC,EAAW7D,KAAKC,MAAM2D,GAC5B5F,KAAKwC,SAAW,CACdyD,GAAIJ,EAASI,IAAMJ,EAASlG,OAC5BizB,SAAU/sB,EAAS+sB,UAAY/sB,EAASxK,MAAQ,GAChDyI,MAAO+B,EAAS/B,OAAS,GACzB9C,SAAU6E,EAAS7E,UAAY6E,EAASxK,MAAQ,QAChDwF,OAAQgF,EAAShF,QAAU,GAC3BgL,aAAchG,EAASgG,cAAgBhG,EAASwG,aAAe,QAC/Ds8B,aAAc9iC,EAAS8iC,cAAgB,mBACvC1lB,KAAMpd,EAASod,MAAQ,SACvB9lB,OAAQ0I,EAAS1I,QAAU,UAE7Bb,QAAQC,IAAI,UAAWyD,KAAKwC,SAC9B,CAAE,MAAOzF,GACPT,QAAQS,MAAM,YAAaA,GAC3BiD,KAAKmB,YAAa,CACpB,MAGAnB,KAAKmB,YAAa,EAClBnB,KAAKwC,SAAW,CACdyD,GAAI,KACJ2sB,SAAU,GACV9uB,MAAO,GACP9C,SAAU,KACVH,OAAQ,GACRgL,aAAc,GACd88B,aAAc,mBACd1lB,KAAM,QACN9lB,OAAQ,QAGd,EACA,cAAAoN,GACE,MAAMC,EAActO,aAAaC,QAAQ,cACrCqO,IACFxK,KAAKgK,WAAaQ,EAEtB,EACA,kBAAAzF,CAAmBgB,GACZA,EAAMK,OAAOC,QAAQ,kBAAqBN,EAAMK,OAAOC,QAAQ,gBAClErG,KAAKiB,cAAe,EAExB,EACA,aAAA+L,GACEhN,KAAK8M,aAAe9M,KAAK8M,WAC3B,EACA,YAAAC,GACE/M,KAAK8M,aAAc,CACrB,EACA,QAAA2G,GACEzT,KAAKwG,QAAQC,KAAK,QACpB,EACA,SAAArF,GACEpB,KAAKwG,QAAQC,KAAK,SACpB,EACA,gBAAAC,CAAiBjJ,GACfuC,KAAKsB,aAAe7D,EACpBuC,KAAK0E,WAAY,EAGjBiC,WAAW,KACT3G,KAAK0E,WAAY,EACjB1E,KAAKsB,aAAe,IACnB,IACL,EACA,UAAAmK,GACEzL,KAAK8L,WAAY,EACjB9L,KAAK2L,aAAe,EACtB,EACA,cAAAhL,GACEX,KAAKiB,cAAgBjB,KAAKiB,YAC5B,EACA,WAAAC,GACElB,KAAKiB,cAAe,CAEtB,EACA,MAAAI,GACErB,KAAKiB,cAAe,EAGpB/E,aAAakB,WAAW,gBACxBlB,aAAakB,WAAW,iBACxBlB,aAAakB,WAAW,qBACxBlB,aAAakB,WAAW,aACxBlB,aAAakB,WAAW,cACxBlB,aAAakB,WAAW,kBAGxBmG,OAAOC,KAAKtH,cAAcuH,QAAQC,IAC5BA,EAAIlC,WAAW,cACjBtF,aAAakB,WAAWsG,KAI5B1D,KAAK0G,iBAAiB,WAGtBC,WAAW,KACX3G,KAAKwG,QAAQC,KAAK,WACf,IACL,EAEA,oBAAAmiC,GAEE5oC,KAAKmd,MAAMssB,aAAa9hC,MAAQ,GAChC3H,KAAKqpC,qBAAsB,EAC3BrpC,KAAKspC,mBAAqB,IAC5B,EACA,oBAAAI,GACE,MAAM9rB,EAAS5d,KAAKmd,MAAMwsB,iBACpB7rB,EAAMF,EAAOG,WAAW,MACxBC,EAAM,IAAIC,MAEhBD,EAAIR,OAAS,KAEX,MAAMosB,EAAU,IAChB,IAAI,MAAEn4B,EAAK,OAAEG,GAAWoM,EAExB,GAAIvM,EAAQm4B,GAAWh4B,EAASg4B,EAAS,CACvC,MAAMxrB,EAAQtM,KAAKuM,IAAIurB,EAAUn4B,EAAOm4B,EAAUh4B,GAClDH,GAAS2M,EACTxM,GAAUwM,CACZ,CAEAR,EAAOnM,MAAQA,EACfmM,EAAOhM,OAASA,EAChBgM,EAAOvL,MAAMZ,MAAQA,EAAQ,KAC7BmM,EAAOvL,MAAMT,OAASA,EAAS,KAG/BkM,EAAIQ,UAAUN,EAAK,EAAG,EAAGvM,EAAOG,GAGhC,MAAMi4B,EAAqC,GAA1B/3B,KAAKuM,IAAI5M,EAAOG,GACjC5R,KAAKupC,eAAiB,CACpBh4B,GAAIE,EAAQo4B,GAAY,EACxBn4B,GAAIE,EAASi4B,GAAY,EACzBtrC,KAAMsrC,GAGR7pC,KAAK8pC,4BACL9pC,KAAK+pC,8BAIP/rB,EAAIgsB,QAAWjtC,IACbT,QAAQS,MAAM,UAAWA,GACzBkO,MAAM,gBACNjL,KAAK4oC,wBAGP5qB,EAAIY,IAAM5e,KAAKspC,kBACjB,EACA,yBAAAQ,GACE,MAAMjrB,EAAY7e,KAAKmd,MAAM8sB,oBACzBprB,IACFA,EAAUxM,MAAMb,KAAOxR,KAAKupC,eAAeh4B,EAAI,KAC/CsN,EAAUxM,MAAMV,IAAM3R,KAAKupC,eAAe73B,EAAI,KAC9CmN,EAAUxM,MAAMZ,MAAQzR,KAAKupC,eAAehrC,KAAO,KACnDsgB,EAAUxM,MAAMT,OAAS5R,KAAKupC,eAAehrC,KAAO,KAExD,EACA,0BAAAwrC,GACE,MAAMlrB,EAAY7e,KAAKmd,MAAM8sB,oBACvBrsB,EAAS5d,KAAKmd,MAAMwsB,iBAE1B,IAAK9qB,IAAcjB,EAAQ,OAE3B,IAAIqB,GAAa,EACbC,GAAa,EACbE,EAAS,EACTC,EAAS,EACTC,EAAa,EACbC,EAAa,EACb2qB,EAAgB,EAEpB,MAAMxqB,EAAapd,IACbA,EAAE8D,OAAO6K,UAAU0O,SAAS,wBAC9BT,GAAa,EAEbD,GAAa,EAGf,MAAM7N,EAAOwM,EAAOtM,wBACpB8N,EAAS9c,EAAEwd,QAAU1O,EAAKI,KAC1B6N,EAAS/c,EAAEyd,QAAU3O,EAAKO,IAC1B2N,EAAatf,KAAKupC,eAAeh4B,EACjCgO,EAAavf,KAAKupC,eAAe73B,EACjCw4B,EAAgBlqC,KAAKupC,eAAehrC,MAGhCyhB,EAAQ1d,IACZ,IAAK2c,IAAeC,EAAY,OAEhC,MAAM9N,EAAOwM,EAAOtM,wBACd2O,EAAW3d,EAAEwd,QAAU1O,EAAKI,KAC5B0O,EAAW5d,EAAEyd,QAAU3O,EAAKO,IAE5BwO,EAASF,EAAWb,EACpBgB,EAASF,EAAWb,EAE1B,GAAIJ,EAAY,CAEd,MAAMoB,EAAOvO,KAAKkE,IAAI,EAAGlE,KAAKuM,IAAIT,EAAOnM,MAAQzR,KAAKupC,eAAehrC,KAAM+gB,EAAaa,IAClFG,EAAOxO,KAAKkE,IAAI,EAAGlE,KAAKuM,IAAIT,EAAOhM,OAAS5R,KAAKupC,eAAehrC,KAAMghB,EAAaa,IAEzFpgB,KAAKupC,eAAeh4B,EAAI8O,EACxBrgB,KAAKupC,eAAe73B,EAAI4O,CAC1B,MAAO,GAAIpB,EAAY,CAErB,MAAMirB,EAAYhqB,EAASC,EACrBgqB,EAAUt4B,KAAKkE,IAAI,GAAIlE,KAAKuM,IAAIvM,KAAKuM,IAAIT,EAAOnM,MAAOmM,EAAOhM,QAASs4B,EAAgBC,IAGvF9pB,EAAOvO,KAAKkE,IAAI,EAAGlE,KAAKuM,IAAIT,EAAOnM,MAAQ24B,EAAS9qB,GAAc4qB,EAAgBE,GAAW,IAC7F9pB,EAAOxO,KAAKkE,IAAI,EAAGlE,KAAKuM,IAAIT,EAAOhM,OAASw4B,EAAS7qB,GAAc2qB,EAAgBE,GAAW,IAEpGpqC,KAAKupC,eAAeh4B,EAAI8O,EACxBrgB,KAAKupC,eAAe73B,EAAI4O,EACxBtgB,KAAKupC,eAAehrC,KAAO6rC,CAC7B,CAEApqC,KAAK8pC,6BAGDrpB,EAAU,KACdxB,GAAa,EACbC,GAAa,GAGfL,EAAU/Z,iBAAiB,YAAa4a,GACxC7a,SAASC,iBAAiB,YAAakb,GACvCnb,SAASC,iBAAiB,UAAW2b,GAGrCzgB,KAAK0gB,MAAM,qBAAsB,KAC/B7B,EAAUrZ,oBAAoB,YAAaka,GAC3C7a,SAASW,oBAAoB,YAAawa,GAC1Cnb,SAASW,oBAAoB,UAAWib,IAE5C,EACA,eAAAooB,GACE,IAAK7oC,KAAKspC,mBAAoB,OAE9B,MAAM1rB,EAAS/Y,SAASsN,cAAc,UAChC2L,EAAMF,EAAOG,WAAW,MAGxBssB,EAAa,GACnBzsB,EAAOnM,MAAQ44B,EACfzsB,EAAOhM,OAASy4B,EAGhBvsB,EAAIwsB,YACJxsB,EAAIysB,IAAIF,EAAa,EAAGA,EAAa,EAAGA,EAAa,EAAG,EAAG,EAAIv4B,KAAK04B,IACpE1sB,EAAI2sB,OAGJ,MAAMzsB,EAAM,IAAIC,MAChBD,EAAIR,OAASnE,UAEX,MAAMqxB,EAAc1qC,KAAKmd,MAAMwsB,iBAAiBl4B,MAC1Ck5B,EAAe3qC,KAAKmd,MAAMwsB,iBAAiB/3B,OAE3CkP,EAAW9gB,KAAKupC,eAAeh4B,EAAIm5B,EAAe1sB,EAAIvM,MACtDsP,EAAW/gB,KAAKupC,eAAe73B,EAAIi5B,EAAgB3sB,EAAIpM,OACvDg5B,EAAc5qC,KAAKupC,eAAehrC,KAAOmsC,EAAe1sB,EAAIvM,MAGlEqM,EAAIQ,UACFN,EACA8C,EAASC,EAAS6pB,EAAYA,EAC9B,EAAG,EAAGP,EAAYA,GAIpBzsB,EAAOitB,OAAOxxB,MAAOoJ,IAEnB,IAAKA,EAGH,OAFAnmB,QAAQS,MAAM,sBACdkO,MAAM,cAIR,IAEEjL,KAAK4oC,uBAGL,MAAMzpC,EAAO,IAAIwjB,KAAK,CAACF,GAAO,aAAc,CAAEle,KAAM,eACpDjI,QAAQC,IAAI,kBAAmB4C,EAAKZ,KAAM,SAG1C,MAAMrB,QAAiB8rC,GAAUC,aAAa9pC,GAC9C7C,QAAQC,IAAI,eAAgBW,GAG5B,IAAIwF,EAAY,GACM,MAAlBxF,EAASoM,MAAgBpM,EAAST,MAEpCiG,EAAYxF,EAAST,KAAK4F,QAAUnF,EAAST,KAAK0F,UAAY,GAC9D7F,QAAQC,IAAI,cAAemG,GAC3BpG,QAAQC,IAAI,UAAWW,EAAST,OAEhCH,QAAQE,KAAK,UAAWU,GAI1B,MAAM4tC,EAAcpoC,GAAakb,EAAOsD,UAAU,aAAc,IAGhElhB,KAAKwC,SAAS3B,OAASiqC,EACvB9qC,KAAKgK,WAAa8gC,EAGlB,IACE5uC,aAAa+G,QAAQ,aAAc6nC,EACrC,CAAE,MAAOxoC,GACPhG,QAAQS,MAAM,uBAAwBuF,GACvB,uBAAXA,EAAEjH,MACJiB,QAAQE,KAAK,mBAEjB,CAGA,MAAMoJ,EAAgB1J,aAAaC,QAAQ,aAC3C,IAAI6J,EAAgBhG,KAAKwC,SAASyD,GAClC,GAAIL,EACF,IACE,MAAMC,EAAW7D,KAAKC,MAAM2D,GAC5BC,EAAShF,OAASiqC,EAClB9kC,EAAgBH,EAASI,IAAMJ,EAASlG,QAAUqG,EAClD9J,aAAa+G,QAAQ,YAAajB,KAAKmB,UAAU0C,IACjDvJ,QAAQC,IAAI,kBACd,CAAE,MAAOQ,GACPT,QAAQS,MAAM,mBAAoBA,GACf,uBAAfA,EAAM1B,MACRiB,QAAQE,KAAK,4BAEjB,CAIF,MAAMuuC,EAAY,CAChBprC,OAAQuG,OAAOF,GACftD,UAAWooC,EACX1c,UAAWjf,KAAK0S,OAElBvlB,QAAQC,IAAI,eAAgB,CAC1BoD,OAAQorC,EAAUprC,OAClBqrC,kBAAmBD,EAAUprC,OAC7B+C,UAAWqoC,EAAUroC,UAAUhB,UAAU,EAAG,IAAM,MAClD0sB,UAAW2c,EAAU3c,YAEvBpuB,KAAKmF,UAAUwnB,KAAK3sB,KAAKoF,YAAYC,oBAAqB0lC,GAG1D/qC,KAAKiF,MAAM8F,MAAM,mBAGjB/K,KAAK0G,iBAAiB,UAExB,CAAE,MAAO3J,GACPT,QAAQS,MAAM,UAAWA,GAGzB,MAAMymB,EAAWzmB,EAAM6G,KAAO7G,EAAMU,SAAW,OACzCwtC,EAAQ/T,QAAQ,WAAW1T,cAEjC,GAAIynB,EAGF,YADAjrC,KAAK6oC,kBAKP,MAAMqC,EAActtB,EAAOsD,UAAU,aAAc,IACnDlhB,KAAKwC,SAAS3B,OAASqqC,EACvBlrC,KAAKgK,WAAakhC,EAGlB,IACEhvC,aAAa+G,QAAQ,aAAcioC,EACrC,CAAE,MAAO5oC,GACPhG,QAAQS,MAAM,uBAAwBuF,GACvB,uBAAXA,EAAEjH,MACJiB,QAAQE,KAAK,mBAEjB,CAGA,MAAMoJ,EAAgB1J,aAAaC,QAAQ,aAC3C,GAAIyJ,EACF,IACE,MAAMC,EAAW7D,KAAKC,MAAM2D,GAC5BC,EAAShF,OAASqqC,EAClBhvC,aAAa+G,QAAQ,YAAajB,KAAKmB,UAAU0C,GACnD,CAAE,MAAOvD,GACPhG,QAAQS,MAAM,iBAAkBuF,GACjB,uBAAXA,EAAEjH,MACJiB,QAAQE,KAAK,4BAEjB,CAIFwD,KAAKiF,MAAM8F,MAAM,kBACnB,GACC,aAAc,KAInBiT,EAAIgsB,QAAWjtC,IACbT,QAAQS,MAAM,YAAaA,GAC3BkO,MAAM,eAGR+S,EAAIY,IAAM5e,KAAKspC,kBACjB,EAEA,mBAAArB,GACE,IAAKjoC,KAAKmB,WAGR,OAFAnB,KAAK2L,aAAe,kBACpB3L,KAAK8L,WAAY,GAGnB9L,KAAKmd,MAAMssB,aAAavsB,OAC1B,EACA,kBAAA4rB,CAAmB/iC,GACjB,MAAM5G,EAAO4G,EAAMK,OAAOiX,MAAM,GAChC,GAAKle,EAEL,IAEE,IAAKA,EAAKoF,KAAK/C,WAAW,UAGxB,OAFAyJ,MAAM,gBACNjL,KAAKmd,MAAMssB,aAAa9hC,MAAQ,IAKlC,GAAIxI,EAAKZ,KAAO,QAGd,OAFA0M,MAAM,sBACNjL,KAAKmd,MAAMssB,aAAa9hC,MAAQ,IAIlC,MAAM2V,EAAS,IAAIC,WAEnBD,EAAOE,OAAUlb,IACftC,KAAKspC,mBAAqBhnC,EAAE8D,OAAOjC,OAEnCnE,KAAKqpC,qBAAsB,EAC3BrpC,KAAKyd,UAAU,KACbzd,KAAK0pC,0BAKTpsB,EAAO0sB,QAAWjtC,IAChBT,QAAQS,MAAM,UAAWA,GACzBkO,MAAM,kBACNjL,KAAKmd,MAAMssB,aAAa9hC,MAAQ,IAGlC2V,EAAOK,cAAcxe,EACvB,CAAE,MAAOpC,GACPT,QAAQS,MAAM,UAAWA,GACzBkO,MAAM,WAAalO,EAAMU,SACzBuC,KAAKmd,MAAMssB,aAAa9hC,MAAQ,EAClC,CACF,EAEA,YAAA0gC,GACE,IAAKroC,KAAKmB,WAGR,OAFAnB,KAAK2L,aAAe,kBACpB3L,KAAK8L,WAAY,GAGnB9L,KAAKopC,iBAAkB,EACvBppC,KAAKooC,aAAepoC,KAAKwC,SAASxB,SAClChB,KAAKyd,UAAU,KACbzd,KAAKmd,MAAMguB,cAAcC,QACzBprC,KAAKmd,MAAMguB,cAAcE,UAE7B,EACA,YAAAnD,GACE,MAAMoD,EAAkBtrC,KAAKooC,aAAazyB,OAC1C,GAAI21B,GAAmBA,IAAoBtrC,KAAKwC,SAASxB,SAAU,CAEjE,GAAIsqC,EAAgBjnC,OAAS,EAE3B,YADA4G,MAAM,cAGR,GAAIqgC,EAAgBjnC,OAAS,GAE3B,YADA4G,MAAM,eAIR,GAAIisB,QAAQ,aAAaoU,QAAuB,CAC9CtrC,KAAKwC,SAASxB,SAAWsqC,EACzBtrC,KAAKopC,iBAAkB,EAGvB,MAAMxjC,EAAgB1J,aAAaC,QAAQ,aAC3C,GAAIyJ,EACF,IACE,MAAMC,EAAW7D,KAAKC,MAAM2D,GAC5BC,EAAS7E,SAAWsqC,EACpBpvC,aAAa+G,QAAQ,YAAajB,KAAKmB,UAAU0C,IACjDvJ,QAAQC,IAAI,mBAAoBsJ,EAAS7E,SAC3C,CAAE,MAAOjE,GACPT,QAAQS,MAAM,mBAAoBA,EACpC,CAIFiD,KAAKiF,MAAM8F,MAAM,mBACjBzO,QAAQC,IAAI,SAAU+uC,EACxB,CACF,MAAWA,IAAoBtrC,KAAKwC,SAASxB,SAE3ChB,KAAKopC,iBAAkB,EAEvBn+B,MAAM,SAEV,EACA,kBAAAk9B,GACEnoC,KAAKooC,aAAepoC,KAAKwC,SAASxB,SAClChB,KAAKopC,iBAAkB,CACzB,EAEA,SAAAb,GACEvoC,KAAKsoC,cAAe,EACpBtoC,KAAKyoC,UAAYzoC,KAAKwC,SAASmmC,aAC/B3oC,KAAKyd,UAAU,KACbzd,KAAKmd,MAAMouB,cAAcH,SAE7B,EACA,SAAA5C,GACExoC,KAAKwC,SAASmmC,aAAe3oC,KAAKyoC,UAClCzoC,KAAKsoC,cAAe,CACtB,EACA,eAAAI,GACE1oC,KAAKyoC,UAAYzoC,KAAKwC,SAASmmC,aAC/B3oC,KAAKsoC,cAAe,CACtB,ICtzB+H,MCO/H,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,GAAe,G,QClBX,GAAS,WAAkB,IAAIvoC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,4BAA4B,CAAER,EAAa,UAAEE,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoBN,EAAG,IAAI,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAG,mBAAmBb,EAAG,MAAM,CAACA,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,SAAS,CAACM,YAAY,WAAWJ,MAAM,CAAC,aAAa,MAAMO,GAAG,CAAC,MAAQX,EAAIkb,SAAS,CAAChb,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,2BAA2B,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,cAAcb,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAAGR,EAAI9E,QAAiI8E,EAAIM,KAA5HJ,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoBN,EAAG,IAAI,CAACF,EAAIe,GAAG,mBAA6Bf,EAAW,QAAEE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,KAAK,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI9E,QAAQqR,UAAWvM,EAAoB,iBAAEE,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,SAAS,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAIyrC,cAAc,CAACvrC,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,iPAAiP,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,6MAA6M,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaJ,EAAIe,GAAG,YAAYb,EAAG,SAAS,CAACM,YAAY,iBAAiBG,GAAG,CAAC,MAAQX,EAAI9B,gBAAgB,CAACgC,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,gVAAgV,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaJ,EAAIe,GAAG,cAAcf,EAAIM,OAAOJ,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI9E,QAAQuS,kBAAkBvN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI9E,QAAQmpB,eAAenkB,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,eAAeC,MAAMT,EAAIqU,YAAYrU,EAAI9E,QAAQkC,SAAS,CAAC4C,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIqY,iBAAiBrY,EAAI9E,QAAQkC,cAAc8C,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI9E,QAAQiqC,cAAcjlC,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI0rC,gBAAgBxrC,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIwX,uBAAwBxX,EAAI9E,QAAQyZ,MAAQ3U,EAAI9E,QAAQyZ,KAAKrQ,OAAS,EAAGpE,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,MAAM,CAACM,YAAY,kBAAkBR,EAAIuN,GAAIvN,EAAI9E,QAAY,KAAE,SAAS0Z,EAAIjG,GAAO,OAAOzO,EAAG,OAAO,CAACyD,IAAIgL,EAAMnO,YAAY,OAAO,CAACR,EAAIe,GAAGf,EAAIgB,GAAG4T,KAAO,GAAG,KAAK5U,EAAIM,OAAOJ,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAI2rC,uBAAuB,CAAC3rC,EAAIe,GAAG,WAAWb,EAAG,SAAS,CAACM,YAAY,MAAMG,GAAG,CAAC,MAAQX,EAAI4rC,kBAAkB,CAAC5rC,EAAIe,GAAG,oBAAoBb,EAAG,MAAM,CAACM,YAAY,yBAAyB,CAACN,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAAER,EAAI9E,QAAQsE,UAAYQ,EAAI9E,QAAQgZ,MAAOhU,EAAG,MAAM,CAACM,YAAY,gBAAgBJ,MAAM,CAAC,IAAMJ,EAAI9E,QAAQsE,UAAYQ,EAAI9E,QAAQgZ,MAAM,IAAM,QAAQvT,GAAG,CAAC,KAAOX,EAAI6rC,YAAY,MAAQ7rC,EAAI8rC,gBAAgB5rC,EAAG,MAAM,CAACM,YAAY,6BAA6B,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,4HAA4H,OAAS,UAAU,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,+GAA+G,OAAS,UAAU,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,8BAA8B,OAAS,UAAU,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAgBJ,EAAoB,iBAAEE,EAAG,MAAM,CAACM,YAAY,wBAAwBG,GAAG,CAAC,MAAQX,EAAIob,qBAAqB,CAAClb,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,mBAAmB,OAAS,QAAQ,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaF,EAAG,OAAO,CAACF,EAAIe,GAAG,YAAYf,EAAIM,OAAOJ,EAAG,QAAQ,CAACob,IAAI,qBAAqBC,YAAY,CAAC,QAAU,QAAQnb,MAAM,CAAC,KAAO,OAAO,OAAS,WAAWO,GAAG,CAAC,OAASX,EAAI+rC,kCAAkC7rC,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,KAAK,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,WAAWG,GAAG,CAAC,MAAQ,SAAS0G,GAAiC,OAAzBA,EAAOsE,kBAAyB3L,EAAIgsC,uBAAuBxkC,MAAM,KAAMC,UAAU,IAAI,CAACvH,EAAG,SAAS,CAACM,YAAY,iBAAiB,CAACN,EAAG,OAAO,CAACF,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,kBAAkB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAgBJ,EAAgB,aAAEE,EAAG,KAAK,CAACM,YAAY,iBAAiB,CAACN,EAAG,KAAK,CAACM,YAAY,gBAAgBC,MAAM,CAAEoN,OAAiC,KAAzB7N,EAAIisC,kBAA0BtrC,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIksC,eAAe,GAAG,IAAI,CAAClsC,EAAIe,GAAG,UAAUb,EAAG,KAAK,CAACM,YAAY,gBAAgBC,MAAM,CAAEoN,OAAiC,MAAzB7N,EAAIisC,kBAA2BtrC,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIksC,eAAe,IAAI,IAAI,CAAClsC,EAAIe,GAAG,UAAUb,EAAG,KAAK,CAACM,YAAY,gBAAgBC,MAAM,CAAEoN,OAAiC,MAAzB7N,EAAIisC,kBAA2BtrC,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIksC,eAAe,IAAI,IAAI,CAAClsC,EAAIe,GAAG,UAAUb,EAAG,KAAK,CAACM,YAAY,gBAAgBC,MAAM,CAAEoN,OAAiC,MAAzB7N,EAAIisC,kBAA2BtrC,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIksC,eAAe,IAAI,IAAI,CAAClsC,EAAIe,GAAG,YAAYf,EAAIM,OAAQN,EAAoB,iBAAEE,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAImsC,aAAa,CAACnsC,EAAIe,GAAG,UAAUf,EAAIM,SAAuC,IAA7BN,EAAIokC,cAAc9/B,OAAcpE,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,4IAA4I,OAAS,UAAU,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,KAAK,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,UAAUf,EAAIoH,GAAG,OAAOlH,EAAG,MAAM,CAACM,YAAY,aAAaR,EAAIuN,GAAIvN,EAAiB,cAAE,SAASyQ,GAAM,OAAOvQ,EAAG,MAAM,CAACyD,IAAI8M,EAAKvK,GAAG1F,YAAY,YAAYG,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIosC,oBAAoB37B,EAAK,IAAI,CAACvQ,EAAG,MAAM,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,gBAAgBC,MAAMT,EAAIqsC,cAAc57B,EAAK8Q,WAAW,CAACvhB,EAAIe,GAAGf,EAAIgB,GAAGyP,EAAK8Q,aAAcvhB,EAAoB,iBAAEE,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,wBAAwB,CAACN,EAAG,SAAS,CAACM,YAAY,kBAAkBC,MAAMT,EAAIqU,YAAY5D,EAAKrT,QAAQgD,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIssC,yBAAyB77B,EAAK,IAAI,CAACzQ,EAAIe,GAAG,IAAIf,EAAIgB,GAAGyP,EAAKrT,QAAQ,KAAK8C,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,kBAAkB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAgBqQ,EAAmB,eAAEvQ,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,SAAS,CAACM,YAAY,gBAAgBC,MAAM,CAAEoN,OAAwB,QAAhB4C,EAAKrT,QAAmBuD,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIusC,iBAAiB97B,EAAM,MAAM,IAAI,CAACzQ,EAAIe,GAAG,SAASb,EAAG,SAAS,CAACM,YAAY,gBAAgBC,MAAM,CAAEoN,OAAwB,OAAhB4C,EAAKrT,QAAkBuD,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIusC,iBAAiB97B,EAAM,KAAK,IAAI,CAACzQ,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,gBAAgBC,MAAM,CAAEoN,OAAwB,OAAhB4C,EAAKrT,QAAkBuD,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIusC,iBAAiB97B,EAAM,KAAK,IAAI,CAACzQ,EAAIe,GAAG,UAAUf,EAAIM,OAAOJ,EAAG,SAAS,CAACM,YAAY,0BAA0BJ,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIwsC,oBAAoB/7B,EAAK,IAAI,CAACvQ,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uKAAuK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,MAAM,GAAK,IAAI,EAAI,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,oBAAoB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,SAAS,CAACM,YAAY,gBAAgBJ,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIysC,SAASh8B,EAAK,IAAI,CAACvQ,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,iPAAiP,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,6MAA6M,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,SAAS,CAACM,YAAY,kBAAkBJ,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI0sC,WAAWj8B,EAAKvK,GAAG,IAAI,CAAChG,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,gVAAgV,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBJ,EAAIM,OAAOJ,EAAG,MAAM,CAACM,YAAY,eAAeG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,KAAK,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGyP,EAAKlE,UAAUrM,EAAG,IAAI,CAACM,YAAY,oBAAoB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGyP,EAAKhD,gBAAgBvN,EAAG,MAAM,CAACM,YAAY,aAAa,CAAEiQ,EAAS,KAAEvQ,EAAG,OAAO,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAGf,EAAIgB,GAAGyP,EAAK1B,SAAS/O,EAAIM,KAAKJ,EAAG,OAAO,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAG,QAAQf,EAAIgB,GAAGyP,EAAK+0B,oBAAqB/0B,EAAkB,cAAEvQ,EAAG,OAAO,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,SAASf,EAAIgB,GAAGyP,EAAK80B,eAAe,OAAOvlC,EAAIM,SAA0B,QAAhBmQ,EAAKrT,QAAsBqT,EAAK80B,eAAwC,KAAvB90B,EAAK80B,cAAoPvlC,EAAIM,KAAjOJ,EAAG,MAAM,CAACM,YAAY,sBAAsBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,SAAS,CAACM,YAAY,aAAaG,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI2sC,WAAWl8B,EAAK,IAAI,CAACzQ,EAAIe,GAAG,aAAsB,GAAG,GAAIf,EAAI4sC,SAAStoC,OAAS,EAAGpE,EAAG,MAAM,CAACM,YAAY,yBAAyB,CAACN,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAI6sC,oBAAoB,CAAC3sC,EAAG,OAAO,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAG,QAAQb,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,kBAAkB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBJ,EAAIM,OAAOJ,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,KAAK,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,UAAWf,EAAoB,iBAAEE,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,SAAS,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAI8sC,gBAAgB,CAAC9sC,EAAIe,GAAG,UAAUb,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAIP,eAAe,CAACO,EAAIe,GAAG,YAAYf,EAAIM,OAAOJ,EAAG,MAAM,CAACM,YAAY,aAAa,CAACR,EAAIuN,GAAIvN,EAAe,YAAE,SAASs1B,GAAQ,OAAOp1B,EAAG,MAAM,CAACyD,IAAI2xB,EAAOpvB,GAAG1F,YAAY,eAAe,CAACN,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAAE80B,EAAa,OAAEp1B,EAAG,MAAM,CAACE,MAAM,CAAC,IAAMk1B,EAAOx0B,OAAO,IAAMw0B,EAAOh6B,QAAQ4E,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uKAAuK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,IAAI,EAAI,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,KAAK,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAGf,EAAIgB,GAAGs0B,EAAOh6B,SAAS4E,EAAG,IAAI,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAGf,EAAIgB,GAAGs0B,EAAOpS,WAAYljB,EAAoB,iBAAEE,EAAG,SAAS,CAACM,YAAY,oBAAoBJ,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI+sC,iBAAiBzX,EAAOpvB,GAAG,IAAI,CAAChG,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeJ,EAAIM,MAAM,GAAGN,EAAIuN,GAAIvN,EAAe,YAAE,SAASgtC,GAAQ,OAAO9sC,EAAG,MAAM,CAACyD,IAAIqpC,EAAO9mC,GAAG1F,YAAY,2BAA2B,CAACN,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACN,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uKAAuK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,IAAI,EAAI,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,KAAK,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAGf,EAAIgB,GAAGgsC,EAAO9pB,SAAShjB,EAAG,IAAI,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,WAAYf,EAAoB,iBAAEE,EAAG,SAAS,CAACM,YAAY,oBAAoBJ,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIitC,iBAAiBD,EAAO9mC,GAAG,IAAI,CAAChG,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeJ,EAAIM,MAAM,IAAI,OAAON,EAAIM,OAAQN,EAAiB,cAAEE,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAIktC,iBAAiB,CAAChtC,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,UAAUb,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAIktC,iBAAiB,CAAChtC,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAImtC,QAAa,MAAErlC,WAAW,kBAAkBtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,UAAU,UAAY,MAAM2H,SAAS,CAAC,MAAS/H,EAAImtC,QAAa,OAAGxsC,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAImtC,QAAS,QAAS9lC,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,WAAW,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAImtC,QAAmB,YAAErlC,WAAW,wBAAwBtH,YAAY,gBAAgBJ,MAAM,CAAC,YAAc,UAAU,KAAO,IAAI,UAAY,OAAO2H,SAAS,CAAC,MAAS/H,EAAImtC,QAAmB,aAAGxsC,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAImtC,QAAS,cAAe9lC,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAImtC,QAAe,QAAErlC,WAAW,oBAAoBtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,IAAMJ,EAAImQ,OAAOpI,SAAS,CAAC,MAAS/H,EAAImtC,QAAe,SAAGxsC,GAAG,CAAC,OAASX,EAAIotC,uBAAuB,MAAQ,SAAS/lC,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAImtC,QAAS,UAAW9lC,EAAOhB,OAAOuB,MAAM,KAAM5H,EAAImtC,QAAiB,UAAEjtC,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAImtC,QAAQxxB,cAAc3b,EAAIM,OAAOJ,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,SAASb,EAAG,SAAS,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAImtC,QAAgB,SAAErlC,WAAW,qBAAqBtH,YAAY,cAAcG,GAAG,CAAC,OAAS,SAAS0G,GAAQ,IAAIuiB,EAAgB3hB,MAAM4hB,UAAUrZ,OAAOsZ,KAAKziB,EAAOhB,OAAO0jB,QAAQ,SAASC,GAAG,OAAOA,EAAEC,QAAQ,GAAG9W,IAAI,SAAS6W,GAAG,IAAIE,EAAM,WAAYF,EAAIA,EAAEG,OAASH,EAAEpiB,MAAM,OAAOsiB,CAAG,GAAIlqB,EAAIoG,KAAKpG,EAAImtC,QAAS,WAAY9lC,EAAOhB,OAAO+jB,SAAWR,EAAgBA,EAAc,GAAG,IAAI,CAAC1pB,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,MAAM,CAACJ,EAAIe,GAAG,OAAOb,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,MAAM,CAACJ,EAAIe,GAAG,OAAOb,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,MAAM,CAACJ,EAAIe,GAAG,eAAeb,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,SAAS,CAACM,YAAY,oBAAoBJ,MAAM,CAAC,KAAO,UAAUO,GAAG,CAAC,MAAQX,EAAIktC,iBAAiB,CAACltC,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,kBAAkBJ,MAAM,CAAC,KAAO,SAAS,UAAYJ,EAAImtC,QAAQ5gC,MAAMqJ,QAAU5V,EAAIqtC,gBAAgB1sC,GAAG,CAAC,MAAQX,EAAIstC,cAAc,CAACttC,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAIqtC,eAAiB,SAAW,QAAQ,aAAartC,EAAIM,KAAMN,EAAwB,qBAAEE,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAIutC,wBAAwB,CAACrtC,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,UAAUb,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAIutC,wBAAwB,CAACrtC,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIwtC,gBAAoB,KAAE1lC,WAAW,yBAAyBtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,UAAU,UAAY,OAAO2H,SAAS,CAAC,MAAS/H,EAAIwtC,gBAAoB,MAAG7sC,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIwtC,gBAAiB,OAAQnmC,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,WAAW,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIwtC,gBAA2B,YAAE1lC,WAAW,gCAAgCtH,YAAY,gBAAgBJ,MAAM,CAAC,YAAc,UAAU,KAAO,IAAI,UAAY,OAAO2H,SAAS,CAAC,MAAS/H,EAAIwtC,gBAA2B,aAAG7sC,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIwtC,gBAAiB,cAAenmC,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIwtC,gBAAyB,UAAE1lC,WAAW,8BAA8BtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,QAAQ2H,SAAS,CAAC,MAAS/H,EAAIwtC,gBAAyB,WAAG7sC,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIwtC,gBAAiB,YAAanmC,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIwtC,gBAAuB,QAAE1lC,WAAW,4BAA4BtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,QAAQ2H,SAAS,CAAC,MAAS/H,EAAIwtC,gBAAuB,SAAG7sC,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAIwtC,gBAAiB,UAAWnmC,EAAOhB,OAAOuB,MAAM,SAAS1H,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,SAASb,EAAG,SAAS,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIwtC,gBAA0B,WAAE1lC,WAAW,+BAA+BtH,YAAY,cAAcG,GAAG,CAAC,OAAS,SAAS0G,GAAQ,IAAIuiB,EAAgB3hB,MAAM4hB,UAAUrZ,OAAOsZ,KAAKziB,EAAOhB,OAAO0jB,QAAQ,SAASC,GAAG,OAAOA,EAAEC,QAAQ,GAAG9W,IAAI,SAAS6W,GAAG,IAAIE,EAAM,WAAYF,EAAIA,EAAEG,OAASH,EAAEpiB,MAAM,OAAOsiB,CAAG,GAAIlqB,EAAIoG,KAAKpG,EAAIwtC,gBAAiB,aAAcnmC,EAAOhB,OAAO+jB,SAAWR,EAAgBA,EAAc,GAAG,IAAI,CAAC1pB,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,WAAW,CAACJ,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,YAAY,CAACJ,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACJ,EAAIe,GAAG,YAAYb,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,SAAS,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAIwtC,gBAAsB,OAAE1lC,WAAW,2BAA2BtH,YAAY,cAAcG,GAAG,CAAC,OAAS,SAAS0G,GAAQ,IAAIuiB,EAAgB3hB,MAAM4hB,UAAUrZ,OAAOsZ,KAAKziB,EAAOhB,OAAO0jB,QAAQ,SAASC,GAAG,OAAOA,EAAEC,QAAQ,GAAG9W,IAAI,SAAS6W,GAAG,IAAIE,EAAM,WAAYF,EAAIA,EAAEG,OAASH,EAAEpiB,MAAM,OAAOsiB,CAAG,GAAIlqB,EAAIoG,KAAKpG,EAAIwtC,gBAAiB,SAAUnmC,EAAOhB,OAAO+jB,SAAWR,EAAgBA,EAAc,GAAG,IAAI,CAAC1pB,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,aAAa,CAACJ,EAAIe,GAAG,SAASb,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,YAAY,CAACJ,EAAIe,GAAG,SAASb,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,cAAc,CAACJ,EAAIe,GAAG,SAASb,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,aAAa,CAACJ,EAAIe,GAAG,iBAAiBb,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,SAAS,CAACM,YAAY,oBAAoBJ,MAAM,CAAC,KAAO,UAAUO,GAAG,CAAC,MAAQX,EAAIutC,wBAAwB,CAACvtC,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,kBAAkBJ,MAAM,CAAC,KAAO,SAAS,UAAYJ,EAAIwtC,gBAAgBlyC,KAAKsa,QAAQjV,GAAG,CAAC,MAAQX,EAAIytC,oBAAoB,CAACztC,EAAIe,GAAG,kBAAkBf,EAAIM,KAAMN,EAAqB,kBAAEE,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAI0tC,qBAAqB,CAACxtC,EAAG,MAAM,CAACM,YAAY,gCAAgCG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,UAAUb,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAI0tC,qBAAqB,CAACxtC,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACM,YAAY,uBAAuBR,EAAIuN,GAAIvN,EAAoB,iBAAE,SAASyQ,GAAM,OAAOvQ,EAAG,MAAM,CAACyD,IAAI8M,EAAKvK,GAAG1F,YAAY,iBAAiBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIosC,oBAAoB37B,EAAK,IAAI,CAACvQ,EAAG,MAAM,CAACM,YAAY,mBAAmBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,gBAAgBC,MAAMT,EAAIqsC,cAAc57B,EAAK8Q,WAAW,CAACvhB,EAAIe,GAAGf,EAAIgB,GAAGyP,EAAK8Q,aAAcvhB,EAAoB,iBAAEE,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,wBAAwB,CAACN,EAAG,SAAS,CAACM,YAAY,kBAAkBC,MAAMT,EAAIqU,YAAY5D,EAAKrT,QAAQgD,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIssC,yBAAyB77B,EAAK,IAAI,CAACzQ,EAAIe,GAAG,IAAIf,EAAIgB,GAAGyP,EAAKrT,QAAQ,KAAK8C,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,kBAAkB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAgBqQ,EAAmB,eAAEvQ,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,SAAS,CAACM,YAAY,gBAAgBC,MAAM,CAAEoN,OAAwB,QAAhB4C,EAAKrT,QAAmBuD,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIusC,iBAAiB97B,EAAM,MAAM,IAAI,CAACzQ,EAAIe,GAAG,SAASb,EAAG,SAAS,CAACM,YAAY,gBAAgBC,MAAM,CAAEoN,OAAwB,OAAhB4C,EAAKrT,QAAkBuD,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIusC,iBAAiB97B,EAAM,KAAK,IAAI,CAACzQ,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,gBAAgBC,MAAM,CAAEoN,OAAwB,OAAhB4C,EAAKrT,QAAkBuD,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIusC,iBAAiB97B,EAAM,KAAK,IAAI,CAACzQ,EAAIe,GAAG,UAAUf,EAAIM,OAAOJ,EAAG,SAAS,CAACM,YAAY,gBAAgBJ,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIysC,SAASh8B,EAAK,IAAI,CAACvQ,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,iPAAiP,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,6MAA6M,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,SAAS,CAACM,YAAY,kBAAkBJ,MAAM,CAAC,MAAQ,QAAQO,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI0sC,WAAWj8B,EAAKvK,GAAG,IAAI,CAAChG,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,gVAAgV,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBJ,EAAIM,OAAOJ,EAAG,MAAM,CAACM,YAAY,oBAAoBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,KAAK,CAACM,YAAY,mBAAmB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGyP,EAAKlE,UAAUrM,EAAG,IAAI,CAACM,YAAY,yBAAyB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGyP,EAAKhD,gBAAgBvN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAAEiQ,EAAS,KAAEvQ,EAAG,OAAO,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAGf,EAAIgB,GAAGyP,EAAK1B,SAAS/O,EAAIM,KAAKJ,EAAG,OAAO,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAG,QAAQf,EAAIgB,GAAGyP,EAAK+0B,oBAAqB/0B,EAAkB,cAAEvQ,EAAG,OAAO,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,SAASf,EAAIgB,GAAGyP,EAAK80B,eAAe,OAAOvlC,EAAIM,SAA0B,QAAhBmQ,EAAKrT,QAAsBqT,EAAK80B,eAAwC,KAAvB90B,EAAK80B,cAAiPvlC,EAAIM,KAA9NJ,EAAG,MAAM,CAACM,YAAY,mBAAmBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,SAAS,CAACM,YAAY,aAAaG,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAI2sC,WAAWl8B,EAAK,IAAI,CAACzQ,EAAIe,GAAG,aAAsB,GAAG,SAASf,EAAIM,KAAMN,EAAqB,kBAAEE,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAI2tC,qBAAqB,CAACztC,EAAG,MAAM,CAACM,YAAY,2BAA2BG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACF,EAAIe,GAAG,UAAUb,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAI2tC,qBAAqB,CAACztC,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAI4tC,aAAkB,MAAE9lC,WAAW,uBAAuBtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW2H,SAAS,CAAC,MAAS/H,EAAI4tC,aAAkB,OAAGjtC,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAI4tC,aAAc,QAASvmC,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,WAAW,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAI4tC,aAAwB,YAAE9lC,WAAW,6BAA6BtH,YAAY,gBAAgBJ,MAAM,CAAC,YAAc,UAAU,KAAO,KAAK2H,SAAS,CAAC,MAAS/H,EAAI4tC,aAAwB,aAAGjtC,GAAG,CAAC,MAAQ,SAAS0G,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAI4tC,aAAc,cAAevmC,EAAOhB,OAAOuB,MAAM,OAAO1H,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAI4tC,aAAoB,QAAE9lC,WAAW,yBAAyBtH,YAAY,aAAaJ,MAAM,CAAC,KAAO,OAAO,IAAMJ,EAAImQ,OAAOpI,SAAS,CAAC,MAAS/H,EAAI4tC,aAAoB,SAAGjtC,GAAG,CAAC,OAASX,EAAI6tC,wBAAwB,MAAQ,SAASxmC,GAAWA,EAAOhB,OAAO2B,WAAiBhI,EAAIoG,KAAKpG,EAAI4tC,aAAc,UAAWvmC,EAAOhB,OAAOuB,MAAM,KAAM5H,EAAI4tC,aAAsB,UAAE1tC,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI4tC,aAAajyB,cAAc3b,EAAIM,OAAOJ,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,SAASb,EAAG,SAAS,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAI4tC,aAAqB,SAAE9lC,WAAW,0BAA0BtH,YAAY,cAAcG,GAAG,CAAC,OAAS,SAAS0G,GAAQ,IAAIuiB,EAAgB3hB,MAAM4hB,UAAUrZ,OAAOsZ,KAAKziB,EAAOhB,OAAO0jB,QAAQ,SAASC,GAAG,OAAOA,EAAEC,QAAQ,GAAG9W,IAAI,SAAS6W,GAAG,IAAIE,EAAM,WAAYF,EAAIA,EAAEG,OAASH,EAAEpiB,MAAM,OAAOsiB,CAAG,GAAIlqB,EAAIoG,KAAKpG,EAAI4tC,aAAc,WAAYvmC,EAAOhB,OAAO+jB,SAAWR,EAAgBA,EAAc,GAAG,IAAI,CAAC1pB,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,MAAM,CAACJ,EAAIe,GAAG,OAAOb,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,MAAM,CAACJ,EAAIe,GAAG,OAAOb,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,MAAM,CAACJ,EAAIe,GAAG,eAAeb,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,SAAS,CAACM,YAAY,oBAAoBJ,MAAM,CAAC,KAAO,UAAUO,GAAG,CAAC,MAAQX,EAAI2tC,qBAAqB,CAAC3tC,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,kBAAkBJ,MAAM,CAAC,KAAO,SAAS,UAAYJ,EAAI4tC,aAAarhC,MAAMqJ,QAAQjV,GAAG,CAAC,MAAQX,EAAI8tC,eAAe,CAAC9tC,EAAIe,GAAG,kBAAkBf,EAAIM,KAAMN,EAAyB,sBAAEE,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAI+tC,yBAAyB,CAAC7tC,EAAG,MAAM,CAACM,YAAY,oCAAoCG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,UAAUb,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAI+tC,yBAAyB,CAAC7tC,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,wBAAwB,CAACN,EAAG,QAAQ,CAACwH,WAAW,CAAC,CAACpM,KAAK,QAAQqM,QAAQ,UAAUC,MAAO5H,EAAqB,kBAAE8H,WAAW,sBAAsBtH,YAAY,0BAA0BJ,MAAM,CAAC,KAAO,OAAO,YAAc,kBAAkB2H,SAAS,CAAC,MAAS/H,EAAqB,mBAAGW,GAAG,CAAC,MAAQ,CAAC,SAAS0G,GAAWA,EAAOhB,OAAO2B,YAAiBhI,EAAIguC,kBAAkB3mC,EAAOhB,OAAOuB,MAAK,EAAE5H,EAAIiuC,sBAAsB/tC,EAAG,SAAS,CAACM,YAAY,aAAaJ,MAAM,CAAC,SAAWJ,EAAIo0B,aAAazzB,GAAG,CAAC,MAAQX,EAAIF,cAAc,CAAGE,EAAIo0B,YAAoal0B,EAAG,OAAO,CAACM,YAAY,0BAA9aN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,KAAK,EAAI,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,qBAAqB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,mBAAqEJ,EAAIkuC,cAAc5pC,OAAS,EAAGpE,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,yBAAyB,CAACN,EAAG,OAAO,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,MAAMf,EAAIgB,GAAGhB,EAAIkuC,cAAc5pC,QAAQ,UAAWtE,EAAImuC,gBAAgB7pC,OAAS,EAAGpE,EAAG,OAAO,CAACM,YAAY,kBAAkB,CAACR,EAAIe,GAAG,MAAMf,EAAIgB,GAAGhB,EAAImuC,gBAAgB7pC,QAAQ,QAAQtE,EAAIM,OAAOJ,EAAG,MAAM,CAACM,YAAY,aAAaR,EAAIuN,GAAIvN,EAAiB,cAAE,SAAS2K,GAAM,OAAOzK,EAAG,MAAM,CAACyD,IAAIgH,EAAKzE,IAAMyE,EAAK/K,OAAOY,YAAY,YAAYC,MAAM,CAAE,gBAAiBT,EAAImuC,gBAAgBzsC,SAASiJ,EAAKzE,IAAMyE,EAAK/K,SAAUe,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIouC,WAAWzjC,EAAK,IAAI,CAACzK,EAAG,MAAM,CAACM,YAAY,eAAe,CAAEmK,EAAKhI,WAAagI,EAAK7J,OAAQZ,EAAG,MAAM,CAACE,MAAM,CAAC,IAAMuK,EAAKhI,WAAagI,EAAK7J,OAAO,IAAM,UAAUZ,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uKAAuK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,IAAI,EAAI,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAGf,EAAIgB,GAAG2J,EAAKrP,MAAQqP,EAAKkoB,aAAa3yB,EAAG,MAAM,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAG2J,EAAK5G,OAAS,QAAU4G,EAAKzE,IAAMyE,EAAK/K,cAAeI,EAAImuC,gBAAgBzsC,SAASiJ,EAAKzE,IAAMyE,EAAK/K,QAASM,EAAG,MAAM,CAACM,YAAY,yBAAyB,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,kBAAkB,OAAS,UAAU,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeJ,EAAIM,MAAM,GAAG,KAAMN,EAAIquC,cAAgBruC,EAAIo0B,YAAal0B,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,KAAK,EAAI,IAAI,OAAS,UAAU,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,qBAAqB,OAAS,UAAU,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaF,EAAG,IAAI,CAACF,EAAIe,GAAG,eAAeb,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,KAAK,EAAI,IAAI,OAAS,OAAO,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,qBAAqB,OAAS,OAAO,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,aAAaF,EAAG,IAAI,CAACF,EAAIe,GAAG,wBAAwBb,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,SAAS,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAI+tC,yBAAyB,CAAC/tC,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,cAAcJ,MAAM,CAAC,SAA0C,IAA/BJ,EAAImuC,gBAAgB7pC,QAAgBtE,EAAIsuC,YAAY3tC,GAAG,CAAC,MAAQX,EAAIuuC,gBAAgB,CAAGvuC,EAAIsuC,WAA8HpuC,EAAG,OAAO,CAACF,EAAIe,GAAG,YAApIb,EAAG,OAAO,CAACF,EAAIe,GAAG,OAAOf,EAAIgB,GAAGhB,EAAImuC,gBAAgB7pC,OAAS,EAAI,KAAOtE,EAAImuC,gBAAgB7pC,OAAS,IAAM,eAA6CtE,EAAIM,KAAMN,EAAIwuC,qBAAuBxuC,EAAIyuC,aAAcvuC,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAI0uC,uBAAuB,CAACxuC,EAAG,MAAM,CAACM,YAAY,kCAAkCG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,UAAUb,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAI0uC,uBAAuB,CAACxuC,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,+BAA+B,CAACN,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,QAAQ,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIyuC,aAAaliC,YAAYrM,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,QAAQ,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,6CAA6C,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIyuC,aAAahhC,aAAe,aAAavN,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,QAAQ,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,SAASb,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,OAAO,CAACM,YAAY,sBAAsBC,MAAMT,EAAIqsC,cAAcrsC,EAAIyuC,aAAaltB,WAAW,CAACvhB,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIyuC,aAAaltB,iBAAiBrhB,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,QAAQ,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,QAAQb,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,OAAO,CAACM,YAAY,oBAAoBC,MAAMT,EAAIqU,YAAYrU,EAAIyuC,aAAarxC,SAAS,CAAC4C,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIyuC,aAAarxC,eAAgB4C,EAAIyuC,aAAiB,KAAEvuC,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,QAAQ,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIyuC,aAAa1/B,WAAW/O,EAAIM,KAAKJ,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,QAAQ,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,SAASb,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIyuC,aAAajJ,iBAAmB,WAAYxlC,EAAIyuC,aAA0B,cAAEvuC,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,QAAQ,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,SAASb,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIyuC,aAAalJ,oBAAoBvlC,EAAIM,OAAOJ,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,SAAS,CAACM,YAAY,kBAAkBG,GAAG,CAAC,MAAQX,EAAI0uC,uBAAuB,CAAC1uC,EAAIe,GAAG,cAAcf,EAAIM,OAAQN,EAAI2uC,qBAAuB3uC,EAAI4uC,aAAc1uC,EAAG,MAAM,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAI6uC,uBAAuB,CAAC3uC,EAAG,MAAM,CAACM,YAAY,kCAAkCG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAACzL,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,KAAK,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,UAAUb,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAI6uC,uBAAuB,CAAC3uC,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uBAAuB,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,KAAK,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI4uC,aAAariC,UAAUrM,EAAG,IAAI,CAACM,YAAY,2BAA2B,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI4uC,aAAanhC,aAAe,aAAavN,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,QAAQ,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WAAWb,EAAG,MAAM,CAACM,YAAY,sBAAsBR,EAAIuN,GAAIvN,EAAe,YAAE,SAASs1B,GAAQ,OAAOp1B,EAAG,MAAM,CAACyD,IAAI2xB,EAAOpvB,GAAG1F,YAAY,qBAAqBC,MAAM,CAAEwpB,SAAUjqB,EAAI8uC,qBAAuBxZ,EAAOpvB,IAAKvF,GAAG,CAAC,MAAQ,SAAS0G,GAAQrH,EAAI8uC,mBAAqBxZ,EAAOpvB,EAAE,IAAI,CAAChG,EAAG,MAAM,CAACM,YAAY,wBAAwB,CAAE80B,EAAa,OAAEp1B,EAAG,MAAM,CAACE,MAAM,CAAC,IAAMk1B,EAAOx0B,OAAO,IAAMw0B,EAAOh6B,QAAQ4E,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uKAAuK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,IAAI,EAAI,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGs0B,EAAOh6B,SAAS4E,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGs0B,EAAOpS,WAAYljB,EAAI8uC,qBAAuBxZ,EAAOpvB,GAAIhG,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,kBAAkB,OAAS,UAAU,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeJ,EAAIM,MAAM,GAAG,GAA+B,IAA3BN,EAAIkY,YAAY5T,OAAcpE,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,IAAI,CAACF,EAAIe,GAAG,yBAAyBf,EAAIM,SAASJ,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,SAAS,CAACM,YAAY,gBAAgBG,GAAG,CAAC,MAAQX,EAAI6uC,uBAAuB,CAAC7uC,EAAIe,GAAG,QAAQb,EAAG,SAAS,CAACM,YAAY,cAAcJ,MAAM,CAAC,UAAYJ,EAAI8uC,oBAAoBnuC,GAAG,CAAC,MAAQX,EAAI+uC,oBAAoB,CAAC/uC,EAAIe,GAAG,gBAAgBf,EAAIM,KAAMN,EAAa,UAAEE,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAIuB,cAAc,OAAOvB,EAAIM,KAAMN,EAAiB,cAAEE,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqBG,GAAG,CAAC,MAAQ,SAAS0G,GAAQA,EAAOsE,iBAAkB,IAAI,CAAC3L,EAAIoH,GAAG,GAAGlH,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,SAAS,CAACob,IAAI,aAAa9a,YAAY,gBAAgBN,EAAG,MAAM,CAACob,IAAI,cAAc9a,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACob,IAAI,gBAAgB9a,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,iCAAiCJ,MAAM,CAAC,cAAc,QAAQF,EAAG,MAAM,CAACM,YAAY,iCAAiCJ,MAAM,CAAC,cAAc,QAAQF,EAAG,MAAM,CAACM,YAAY,iCAAiCJ,MAAM,CAAC,cAAc,QAAQF,EAAG,MAAM,CAACM,YAAY,iCAAiCJ,MAAM,CAAC,cAAc,gBAAgBF,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,SAAS,CAACM,YAAY,aAAaG,GAAG,CAAC,MAAQX,EAAIuc,iBAAiB,CAACvc,EAAIe,GAAG,YAAYb,EAAG,SAAS,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAIwc,YAAY,CAACxc,EAAIe,GAAG,gBAAgBf,EAAIM,MACv63C,EACI,GAAkB,CAAC,WAAY,IAAIN,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACM,YAAY,uBAAuB,CAACR,EAAIe,GAAG,SAASb,EAAG,OAAO,CAACM,YAAY,kBAAkB,CAACR,EAAIe,GAAG,YAAcf,EAAIe,GAAG,gBACzM,EAAE,WAAY,IAAIf,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,KAAK,CAACF,EAAIe,GAAG,YAAYb,EAAG,IAAI,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAG,8BACnK,GCs1BA,IACEzF,KAAM,gBACN,IAAAoB,GACE,MAAO,CACLsyC,cAAc,EACd/C,iBAAkB,GAClBgD,oBAAoB,EACpBC,eAAe,EACfC,sBAAsB,EACtBxqC,WAAW,EACXpD,aAAc,GACd4rC,QAAS,CACP5gC,MAAO,GACPkB,YAAa,GACb2hC,QAAS,GACT7tB,SAAU,IACVnkB,OAAQ,MACRue,UAAW,IAEb6xB,gBAAiB,CACflyC,KAAM,GACNmS,YAAa,GACb+G,UAAW,GACXC,QAAS,GACTL,WAAY,SACZhX,OAAQ,WAEVlC,QAAS,KACT8d,MAAO,GACPd,YAAa,GACbkB,YAAa,GACb/D,WAAW,EACXg6B,mBAAmB,EACnBhC,gBAAgB,EAChBmB,qBAAqB,EACrBC,aAAc,KACda,mBAAmB,EACnB1B,aAAc,CACZrhC,MAAO,GACPkB,YAAa,GACb2hC,QAAS,GACT7tB,SAAU,IACV8hB,OAAQ,MAGVkM,uBAAuB,EACvBvB,kBAAmB,GACnBE,cAAe,GACfC,gBAAiB,GACjB/Z,aAAa,EACbka,YAAY,EACZD,aAAa,EACbha,oBAAqB,KAErB5X,eAAe,EACfC,cAAe,KACfC,kBAAmB,KACnBC,SAAU,CACRpL,EAAG,EACHG,EAAG,EACHD,MAAO,EACPG,OAAQ,GAGV88B,qBAAqB,EACrBC,aAAc,KACdE,mBAAoB,KAExB,EACA9nC,SAAU,CACR,aAAAo9B,GACE,IAAIprB,EAAQ/Y,KAAK+Y,MAKjB,OAJI/Y,KAAKgsC,mBACPjzB,EAAQA,EAAMxI,OAAOC,GAAQA,EAAK8Q,WAAathB,KAAKgsC,mBAG/CjzB,EACJuuB,KAAK,CAAC3X,EAAG4X,IAAM,IAAIp4B,KAAKo4B,EAAEtlB,YAAcslB,EAAEthC,IAAM,IAAIkJ,KAAKwgB,EAAE1N,YAAc0N,EAAE1pB,KAC3E0C,MAAM,EAAG,EACd,EACA,QAAAgkC,GAEE,OAAO3sC,KAAK+Y,KACd,EACA,gBAAAw2B,GAEE,IAAIx2B,EAAQ/Y,KAAK+Y,MAIjB,OAHI/Y,KAAKgsC,mBACPjzB,EAAQA,EAAMxI,OAAOC,GAAQA,EAAK8Q,WAAathB,KAAKgsC,mBAE/CjzB,CACT,EACA,SAAA0yB,GACE,OAAOzjC,MAAMC,QAAQjI,KAAK+Y,OAAS/Y,KAAK+Y,MAAM1U,OAAS,CACzD,EACA,gBAAAkT,GACE,OAAIvP,MAAMC,QAAQjI,KAAKiY,cAAgBjY,KAAKiY,YAAY5T,OAAS,EACxDrE,KAAKiY,YAAY5T,OAEtBrE,KAAK/E,SAA4C,kBAA1B+E,KAAK/E,QAAQ8c,SAC/B/X,KAAK/E,QAAQ8c,SAEf,CACT,EACA,gBAAAy3B,GAEE,MAAMC,EAAkBzvC,KAAKohB,qBAC7B,OAAOphB,KAAK/E,SAAW+E,KAAK/E,QAAQiqC,UAAYuK,CAClD,EAEA,KAAAv/B,GACE,MAAMA,EAAQ,IAAIf,KAClB,OAAOe,EAAM0M,cAAcC,MAAM,KAAK,EACxC,GAEF,OAAAlY,GACE3E,KAAK0vC,cACL7qC,SAASC,iBAAiB,QAAS9E,KAAK+E,oBAGxC/E,KAAKmF,UAAUzE,GACbV,KAAKoF,YAAYC,oBACjBrF,KAAKsF,oBACL,CAAEinB,SAAU,KAEhB,EACA,aAAAhnB,GACEV,SAASW,oBAAoB,QAASxF,KAAK+E,oBAG3C/E,KAAKmF,UAAUO,IAAI1F,KAAKoF,YAAYC,oBAAqBrF,KAAKsF,oBAChE,EACAK,QAAS,CACP,iBAAAinC,GACE5sC,KAAKovC,mBAAoB,CAC3B,EACA,kBAAA3B,GACEztC,KAAKovC,mBAAoB,CAC3B,EACA,mBAAAjD,CAAoB37B,GAClBxQ,KAAKwuC,aAAeh+B,EACpBxQ,KAAKuuC,qBAAsB,CAC7B,EACA,oBAAAE,GACEzuC,KAAKuuC,qBAAsB,EAC3BvuC,KAAKwuC,aAAe,IACtB,EACA,YAAAmB,GAEErzC,QAAQC,IAAI,oBAAqByD,KAAKsG,OAAO9H,OAAOyH,IACpDjG,KAAKwG,QAAQC,KAAK,YAAYzG,KAAKsG,OAAO9H,OAAOyH,WACnD,EAIA,sBAAM2+B,GACJ,MAAM7mC,EAAYiC,KAAKsG,OAAO9H,OAAOyH,GACrC,GAAKlI,EAKL,IACEzB,QAAQC,IAAI,uCAAwCwB,GAGpD,MAAM,QAAE6xC,SAAkB,2BAGpB1yC,QAAiB0yC,EAAQC,gBAAgB9xC,EAAW,EAAG,KAK7D,GAHAzB,QAAQC,IAAI,8BAA+BW,GAGvCA,GAA8B,MAAlBA,EAASoM,MAAgBpM,EAAST,KAAM,CACtD,MAAMqzC,EAAY5yC,EAAST,KAC3BH,QAAQC,IAAI,2BAA4BuzC,GAGxC,IAAIC,EAAW,GACXD,EAAU/8B,SAAW/K,MAAMC,QAAQ6nC,EAAU/8B,SAE/Cg9B,EAAWD,EAAU/8B,QACZ/K,MAAMC,QAAQ6nC,KAEvBC,EAAWD,GAGbxzC,QAAQC,IAAI,8BAA+BwzC,GAG3C,MAAM/pC,EAAgBhG,KAAKmhB,mBACrBsuB,EAAkBzvC,KAAKohB,qBAE7BphB,KAAK+Y,MAAQg3B,EAAS78B,IAAI1C,IAExB,IAAIw/B,EAAc,GACdC,EAAgB,GAQpB,OANIz/B,EAAK0/B,WAAaloC,MAAMC,QAAQuI,EAAK0/B,YAAc1/B,EAAK0/B,UAAU7rC,OAAS,IAE7E2rC,EAAcx/B,EAAK0/B,UAAUh9B,IAAIyc,GAAKgE,OAAOhE,EAAEhwB,SAC/CswC,EAAgBz/B,EAAK0/B,UAAUh9B,IAAIyc,GAAKA,EAAEkD,UAAUO,KAAK,OAGpD,CACLntB,GAAIuK,EAAKvK,GACTqG,MAAOkE,EAAKlE,MACZkB,YAAagD,EAAKhD,aAAe,GACjCsB,KAAM0B,EAAK2+B,SAAW3+B,EAAK2/B,UAAY,GACvCA,SAAU3/B,EAAK2+B,SAAW3+B,EAAK2/B,SAC/BhB,QAAS3+B,EAAK2+B,SAAW3+B,EAAK2/B,SAC9B7uB,SAAUthB,KAAKwhB,mBAAmBhR,EAAK8Q,UAAY,UACnD8uB,eAAgB5/B,EAAK8Q,UAAY,SACjCnkB,OAAQ6C,KAAKoY,iBAAiB5H,EAAKrT,QAAU,QAC7CkzC,aAAc7/B,EAAKrT,QAAU,OAC7BmzC,YAAaN,EACb1K,cAAe2K,EACft3B,WAAYnI,EAAKukB,WAAa/uB,EAE9Bu/B,gBAAsC,SAArB/0B,EAAK6D,YAAyBo7B,EAAmBj/B,EAAK6D,aAAeo7B,EACtFc,gBAAgB,KAIpBj0C,QAAQC,IAAI,+BAAgCyD,KAAK+Y,OAGjD/Y,KAAKwwC,iBAEP,MACEl0C,QAAQE,KAAK,kCAAmCU,GAEhD8C,KAAKywC,2BAET,CAAE,MAAO1zC,GACPT,QAAQS,MAAM,6BAA8BA,GAE5CiD,KAAKywC,2BACP,MAjFEn0C,QAAQE,KAAK,iBAkFjB,EAKA,yBAAAi0C,GACE,MAAM1yC,EAAYiC,KAAKsG,OAAO9H,OAAOyH,GAC/BwQ,EAAgBva,aAAaC,QAAQ,YAE3C,GAAIsa,EAAe,CACjB,MAAM3D,EAAW9Q,KAAKC,MAAMwU,GACtBkuB,EAAe7xB,EAASmE,KAAKnC,GAAK5O,OAAO4O,EAAE7O,MAAQC,OAAOnI,IAE5D4mC,GAAgBA,EAAa5rB,QAC/Bzc,QAAQC,IAAI,iDAAkDooC,EAAa5rB,OAE3E/Y,KAAK+Y,OAAS4rB,EAAa5rB,OAAS,IAAI7F,IAAI1C,IAAQ,CAClDvK,GAAIuK,EAAKvK,GACTqG,MAAOkE,EAAKlE,MACZkB,YAAagD,EAAKhD,YAClBsB,KAAM0B,EAAK2/B,UAAY3/B,EAAK2+B,SAAW3+B,EAAK1B,MAAQ,GACpDqhC,SAAU3/B,EAAK2/B,UAAY3/B,EAAK2+B,QAChC7tB,SAAUthB,KAAKwhB,mBAAmBhR,EAAK8Q,UAAY,UACnD8uB,eAAgB5/B,EAAK8Q,UAAY,SACjCnkB,OAAQ6C,KAAKoY,iBAAiB5H,EAAK6/B,cAAgB7/B,EAAKrT,QAAU,WAClEkzC,aAAc7/B,EAAK6/B,cAAgB7/B,EAAKrT,QAAU,UAClDmzC,YAAa9/B,EAAK8/B,aAAe,GACjC33B,WAAYnI,EAAKmI,YAAc,EAC/B4sB,gBAAiBvlC,KAAK0wC,gBAAgBlgC,EAAKmI,YAAc,GACzD43B,gBAAgB,KAGtB,CACF,EAEA,iBAAMb,GACJ,MAAM3xC,EAAYiC,KAAKsG,OAAO9H,OAAOyH,GACrC3J,QAAQC,IAAI,YAAawB,EAAW,aAAcA,GAGlD,IACE,MAAM,WAAEL,SAAqB,sCACvBR,QAAiBQ,EAAWS,eAAeJ,GAEjD,GAAIb,GAA8B,MAAlBA,EAASoM,MAAgBpM,EAAST,KAAM,CACtDH,QAAQC,IAAI,iBAAkBW,EAAST,MACvC,MAAMk0C,EAAazzC,EAAST,KAuC5B,OApCAuD,KAAK/E,QAAU,CACbgL,GAAI0qC,EAAW1qC,GACf5K,KAAMs1C,EAAWt1C,KACjBiR,MAAOqkC,EAAWt1C,KAClBmS,YAAamjC,EAAWnjC,aAAe,OACvC+G,UAAWo8B,EAAWp8B,WAAa,GACnCC,QAASm8B,EAAWn8B,SAAW,GAC/B4P,OAASusB,EAAWp8B,WAAao8B,EAAWn8B,QAC1C,GAAGm8B,EAAWp8B,eAAeo8B,EAAWn8B,UACxC,0BACFrX,OAAQwzC,EAAWxzC,QAAU,WAC7BgX,WAAYw8B,EAAWx8B,YAAc,UACrC5U,SAAUgC,EAAyBovC,EAAWpxC,WAAa,yDAC3D0U,MAAO1S,EAAyBovC,EAAWpxC,UAC3C2lC,QAASyL,EAAWt8B,aAAe,KACnC0D,SAAU44B,EAAW54B,UAAY,EACjCvC,SAAUm7B,EAAWn7B,UAAY,KACjCgD,OAAQ,KACR9D,KAAMi8B,EAAWj8B,MAAQ,GACzBqE,MAAO,GACPJ,WAAYg4B,EAAW/3B,WAAa,EACpCvE,YAAas8B,EAAWt8B,aAAe,MAGzC/X,QAAQC,IAAI,qBAAsByD,KAAK/E,QAAQsE,UAC/CjD,QAAQC,IAAI,SAAUo0C,EAAWt8B,YAAa,UAAWrU,KAAK/E,QAAQiqC,eAIhEllC,KAAK4wC,kBAEX5wC,KAAK6wC,+BAGL7wC,KAAK4kC,wBACL5kC,KAAKoV,WAAY,EAEnB,CACF,CAAE,MAAOrY,GACPT,QAAQS,MAAM,8BAA+BA,EAC/C,CAGA,MAAM0Z,EAAgBva,aAAaC,QAAQ,YAG3C,GAFAG,QAAQC,IAAI,sBAAuBka,GAE/BA,EAAe,CACjB,MAAM3D,EAAW9Q,KAAKC,MAAMwU,GAC5Bna,QAAQC,IAAI,YAAauW,GACzBxW,QAAQC,IAAI,UAAWuW,EAASI,IAAI4B,IAAK,CAAG7O,GAAI6O,EAAE7O,GAAI1B,YAAauQ,EAAE7O,OAGrE,MAAM0+B,EAAe7xB,EAASmE,KAAKnC,GAAK5O,OAAO4O,EAAE7O,MAAQC,OAAOnI,IAE5D4mC,GACFroC,QAAQC,IAAI,WAAYooC,GAGxB3kC,KAAK/E,QAAU,CACbgL,GAAI0+B,EAAa1+B,GACjB5K,KAAMspC,EAAatpC,MAAQspC,EAAar4B,MACxCA,MAAOq4B,EAAar4B,OAASq4B,EAAatpC,KAC1CmS,YAAam3B,EAAan3B,aAAem3B,EAAarsB,YAAcqsB,EAAapsB,WAAa,OAE9FhE,UAAWowB,EAAapwB,WAAaowB,EAAalsB,YAAc,GAChEjE,QAASmwB,EAAanwB,SAAWmwB,EAAajsB,UAAY,GAE1D0L,QAASugB,EAAalsB,YAAcksB,EAAapwB,aAAeowB,EAAajsB,UAAYisB,EAAanwB,SACpG,GAAGmwB,EAAalsB,YAAcksB,EAAapwB,eAAeowB,EAAajsB,UAAYisB,EAAanwB,UAChG,0BACFrX,OAAQ6C,KAAK8wC,eAAenM,EAAaxnC,QACzCgX,WAAYwwB,EAAaxwB,YAAc,UACvC5U,SAAUgC,EAAyBojC,EAAaplC,UAAYolC,EAAa1wB,QAAU,yDACnFA,MAAO1S,EAAyBojC,EAAa1wB,OAAS0wB,EAAaplC,UACnE2lC,QAASP,EAAatwB,aAAe,KACrC0D,SAAU4sB,EAAa5sB,SACvBvC,SAAUmvB,EAAanvB,SACvBgD,OAAQmsB,EAAansB,OACrB9D,KAAMiwB,EAAajwB,MAAQ,GAC3BqE,MAAO4rB,EAAa5rB,OAAS,GAC7BJ,WAAYgsB,EAAahsB,YAAc,EACvCtE,YAAaswB,EAAatwB,aAAe,MAG3C/X,QAAQC,IAAI,gBAAiByD,KAAK/E,QAAQgL,GAAI,aAAcjG,KAAK/E,QAAQsZ,UAAW,WAAYvU,KAAK/E,QAAQuZ,SAC7GlY,QAAQC,IAAI,cAAeyD,KAAK/E,QAAQsE,UAExCjD,QAAQC,IAAI,QAASooC,EAAapwB,UAAWowB,EAAanwB,SAC1DlY,QAAQC,IAAI,QAASooC,EAAa5rB,OAMlC/Y,KAAKiY,YAAc0sB,EAAa1sB,aAAe,GAC/CjY,KAAKmZ,YAAcwrB,EAAaxrB,aAAe,GAG/CnZ,KAAK6wC,iCAGLv0C,QAAQC,IAAI,YAAawB,GACzBzB,QAAQC,IAAI,UAAWuW,EAASI,IAAI4B,GAAKA,EAAE7O,KAC3C3J,QAAQC,IAAI,UAAWuW,EAASI,IAAI4B,IAAK,CACvC7O,GAAI6O,EAAE7O,GACN1B,YAAauQ,EAAE7O,GACf8qC,QAAS7qC,OAAO4O,EAAE7O,MAAQC,OAAOnI,OAEnCiC,KAAK/E,QAAU,CACjBgL,GAAIlI,EACJuO,MAAO,QACPkB,YAAa,cACb4W,OAAQ,KACRjnB,OAAQ,KACR+nC,QAAS,MAGX,MACE5oC,QAAQC,IAAI,uBACZyD,KAAK/E,QAAU,CACbgL,GAAIlI,EACJuO,MAAO,QACPkB,YAAa,cACb4W,OAAQ,KACRjnB,OAAQ,KACR+nC,QAAS,MAKbllC,KAAKoV,WAAY,EACjB9Y,QAAQC,IAAI,kBAAmByD,KAAK/E,SAGpC+E,KAAK4kC,kBACP,EAEA,+BAAAoM,GACE,MAAMjzC,EAAYiC,KAAKsG,OAAO9H,OAAOyH,GAC/BwQ,EAAgBva,aAAaC,QAAQ,YAE3C,GAAIsa,EAAe,CACjB,MAAM3D,EAAW9Q,KAAKC,MAAMwU,GACtBkuB,EAAe7xB,EAASmE,KAAKnC,GAAK5O,OAAO4O,EAAE7O,MAAQC,OAAOnI,IAE5D4mC,IACF3kC,KAAKiY,YAAc0sB,EAAa1sB,aAAe,CAC7C,CAAEhS,GAAI,EAAG5K,KAAM2E,KAAKohB,qBAAsB6B,KAAM,QAASpiB,OAAQ,OAEnEb,KAAKmZ,YAAcwrB,EAAaxrB,aAAe,GAEnD,CAGKnZ,KAAKiY,aAA2C,IAA5BjY,KAAKiY,YAAY5T,SACxCrE,KAAKiY,YAAc,CACjB,CAAEhS,GAAI,EAAG5K,KAAM2E,KAAKohB,qBAAsB6B,KAAM,QAASpiB,OAAQ,OAGvE,EACA,MAAAoa,GACEjb,KAAKwG,QAAQyqC,IAAI,EACnB,EACA,oBAAAvF,GACE,MAAM3tC,EAAYiC,KAAKsG,OAAO9H,OAAOyH,IAAMjG,KAAK/E,SAASgL,GAEzD,GADA3J,QAAQC,IAAI,iBAAkBwB,EAAW,QAAS,sBAAsBA,MACnEA,EAGH,OAFAzB,QAAQS,MAAM,oBACdkO,MAAM,mBAIRjL,KAAKwG,QAAQC,KAAK,CAChBpL,KAAM,mBACNmD,OAAQ,CAAEyH,GAAIC,OAAOnI,MACpBogC,MAAM+S,IAEU,yBAAbA,EAAI71C,OACNiB,QAAQS,MAAM,UAAWm0C,GACzBlxC,KAAKwG,QAAQC,KAAK,sBAAsB1I,KAAaogC,MAAM77B,IACzDhG,QAAQS,MAAM,WAAYuF,OAIlC,EACA,eAAAqpC,GACE,MAAM5tC,EAAYiC,KAAK/E,SAASgL,IAAMjG,KAAKsG,OAAO9H,OAAOyH,GACzDjG,KAAKwG,QAAQC,KAAK,CAAEF,KAAM,gBAAiBoM,MAAO,CAAE5U,cACtD,EACA,aAAA8uC,GACE,MAAMxxC,EAAO81C,OAAO,YACpB,GAAI91C,GAAQA,EAAKsa,OAAQ,CACvB,MAAMsN,EAAOkuB,OAAO,YACdC,EAAY,CAChBnrC,GAAIkJ,KAAK0S,MACTxmB,KAAMA,EAAKsa,OACXsN,KAAMA,EAAOA,EAAKtN,OAAS,OAC3B9U,OAAQ,MAEVb,KAAKiY,YAAYxR,KAAK2qC,GACtBpxC,KAAKwwC,kBACLvlC,MAAM,UACR,CACF,EACA,YAAAzL,GAEEQ,KAAKsvC,uBAAwB,EAC7BtvC,KAAK+tC,kBAAoB,GACzB/tC,KAAKiuC,cAAgB,GACrBjuC,KAAKkuC,gBAAkB,GACvBluC,KAAKouC,aAAc,CACrB,EACA,sBAAAN,GACE9tC,KAAKsvC,uBAAwB,EAC7BtvC,KAAK+tC,kBAAoB,GACzB/tC,KAAKiuC,cAAgB,GACrBjuC,KAAKkuC,gBAAkB,GACvBluC,KAAKouC,aAAc,EACnBpuC,KAAKm0B,aAAc,EACnBn0B,KAAKquC,YAAa,EACdruC,KAAKo0B,sBACPvH,aAAa7sB,KAAKo0B,qBAClBp0B,KAAKo0B,oBAAsB,KAE/B,EACA,iBAAA4Z,GAEMhuC,KAAKo0B,qBACPvH,aAAa7sB,KAAKo0B,qBAGhBp0B,KAAK+tC,kBAAkBp4B,OACzB3V,KAAKo0B,oBAAsBztB,WAAW,KACpC3G,KAAKH,eACJ,MAEHG,KAAKiuC,cAAgB,GACrBjuC,KAAKouC,aAAc,EAEvB,EACA,iBAAMvuC,GACJ,GAAKG,KAAK+tC,kBAAkBp4B,OAA5B,CAKA3V,KAAKm0B,aAAc,EACnBn0B,KAAKouC,aAAc,EAEnB,IACE,MAAM,WAAE1wC,SAAqB,sCACvBR,QAAiBQ,EAAWmC,YAAYG,KAAK+tC,kBAAkBp4B,OAAQ,EAAG,IAEhFrZ,QAAQC,IAAI,UAAWW,GAEnBA,GAA8B,MAAlBA,EAASoM,MAEnBpM,EAAST,MAAQS,EAAST,KAAKsW,QACjC/S,KAAKiuC,cAAgB/wC,EAAST,KAAKsW,QAC1B/K,MAAMC,QAAQ/K,EAAST,MAChCuD,KAAKiuC,cAAgB/wC,EAAST,KAE9BuD,KAAKiuC,cAAgB,GAGvBjuC,KAAKouC,aAAc,EACnB9xC,QAAQC,IAAI,UAAWyD,KAAKiuC,iBAE5BjuC,KAAK0G,iBAAiBxJ,GAAU0G,KAAO,QACvC5D,KAAKiuC,cAAgB,GACrBjuC,KAAKouC,aAAc,EAEvB,CAAE,MAAOrxC,GACPT,QAAQS,MAAM,UAAWA,GACzBiD,KAAK0G,iBAAiB,YAAc3J,EAAMU,SAAW,SACrDuC,KAAKiuC,cAAgB,GACrBjuC,KAAKouC,aAAc,CACrB,CAAE,QACApuC,KAAKm0B,aAAc,CACrB,CAnCA,MAFEn0B,KAAK0G,iBAAiB,WAsC1B,EACA,UAAAynC,CAAWzjC,GAET,MAAM/K,EAAS+K,EAAKzE,IAAMyE,EAAK/K,OACzB+O,EAAQ1O,KAAKkuC,gBAAgBvyB,QAAQhc,GAEvC+O,GAAS,GAEX1O,KAAKkuC,gBAAgBxsB,OAAOhT,EAAO,GACnCpS,QAAQC,IAAI,UAAWmO,EAAKrP,KAAM,QAAS2E,KAAKkuC,gBAAgB7pC,UAGhErE,KAAKkuC,gBAAgBznC,KAAK9G,GAC1BrD,QAAQC,IAAI,QAASmO,EAAKrP,KAAM,QAAS2E,KAAKkuC,gBAAgB7pC,QAElE,EACA,mBAAMiqC,GACJ,GAAoC,IAAhCtuC,KAAKkuC,gBAAgB7pC,OAAzB,CAKArE,KAAKquC,YAAa,EAElB,IACE,MAAM,WAAE3wC,SAAqB,sCACvBK,EAAYiC,KAAKsG,OAAO9H,OAAOyH,GAGrC,IAAIorC,EAAe,EACfC,EAAY,EAEhB,IAAK,MAAM3xC,KAAUK,KAAKkuC,gBACxB,IACE,MAAMhxC,QAAiBQ,EAAW8B,aAAazB,EAAW,CACxD4B,OAAQA,EACRsjB,KAAM,WAGJ/lB,GAA8B,MAAlBA,EAASoM,KACvB+nC,KAEAC,IACAh1C,QAAQS,MAAM,UAAW4C,EAAQzC,GAAU0G,KAE/C,CAAE,MAAO7G,GACPu0C,IACAh1C,QAAQS,MAAM,UAAW4C,EAAQ5C,EACnC,CAIEs0C,EAAe,GAAmB,IAAdC,EACtBtxC,KAAK0G,iBAAiB,QAAQ2qC,UACrBA,EAAe,GAAKC,EAAY,EACzCtxC,KAAK0G,iBAAiB,QAAQ2qC,UAAqBC,OAEnDtxC,KAAK0G,iBAAiB,YAGpB2qC,EAAe,IACjBrxC,KAAK8tC,yBAEL9tC,KAAK4wC,kBAET,CAAE,MAAO7zC,GACPT,QAAQS,MAAM,UAAWA,GACzBiD,KAAK0G,iBAAiB,UAAY3J,EAAMU,SAAW,QACrD,CAAE,QACAuC,KAAKquC,YAAa,CACpB,CAlDA,MAFEruC,KAAK0G,iBAAiB,aAqD1B,EACA,qBAAMkqC,GACJ,IACE,MAAM,WAAElzC,SAAqB,sCACvBK,EAAYiC,KAAKsG,OAAO9H,OAAOyH,GAE/B/I,QAAiBQ,EAAWkC,kBAAkB7B,EAAW,EAAG,IAIlE,GAFAzB,QAAQC,IAAI,UAAWW,GAEnBA,GAA8B,MAAlBA,EAASoM,KAAc,CAEjCpM,EAAST,MAAQS,EAAST,KAAKsW,QACjC/S,KAAKiY,YAAc/a,EAAST,KAAKsW,QAAQG,IAAImiB,IAAU,CACrDpvB,GAAIC,OAAOmvB,EAAO11B,QAClBtE,KAAMg6B,EAAOzC,UAAYyC,EAAOh6B,MAAQ,OACxC4nB,KAAMoS,EAAOkc,UAAYlc,EAAOpS,MAAQ,KACxCpiB,OAAQb,KAAKwxC,eAAenc,EAAOx0B,WAE5BmH,MAAMC,QAAQ/K,EAAST,QAChCuD,KAAKiY,YAAc/a,EAAST,KAAKyW,IAAImiB,IAAU,CAC7CpvB,GAAIC,OAAOmvB,EAAO11B,QAClBtE,KAAMg6B,EAAOzC,UAAYyC,EAAOh6B,MAAQ,OACxC4nB,KAAMoS,EAAOkc,UAAYlc,EAAOpS,MAAQ,KACxCpiB,OAAQb,KAAKwxC,eAAenc,EAAOx0B,YAIvCvE,QAAQC,IAAI,cAAeyD,KAAKiY,YAAY5T,OAAQ,KACpD/H,QAAQC,IAAI,UAAWyD,KAAKiY,YAAY/E,IAAIu+B,GAAKA,EAAExrC,KAGnD,IACE,MAAMyrC,EAAW,wBAAwB3zC,IACzC7B,aAAa+G,QAAQyuC,EAAUxrC,OAAOlG,KAAKiY,YAAY5T,QACzD,CAAE,MAAO/B,GACPhG,QAAQE,KAAK,cAAe8F,GAAG7E,SAAW6E,EAC5C,CAGAtC,KAAK6wC,8BACP,CACF,CAAE,MAAO9zC,GACPT,QAAQS,MAAM,YAAaA,EAE7B,CACF,EACA,mBAAAuI,EAAoB,OAAE3F,EAAM,UAAE+C,IAE5BpG,QAAQC,IAAI,4BAA6B,CACvCoD,SACAqrC,kBAAmBrrC,EACnB+C,UAAWA,EAAUhB,UAAU,EAAG,IAAM,MACxCiwC,iBAAkB3xC,KAAKiY,YAAY5T,OACnCutC,cAAe5xC,KAAKiY,YAAY/E,IAAIu+B,IAAK,CAAGxrC,GAAIwrC,EAAExrC,GAAI1B,YAAaktC,EAAExrC,QAIvE,MAAMovB,EAASr1B,KAAKiY,YAAYhB,KAAKw6B,GAAKA,EAAExrC,KAAOtG,GAC/C01B,GACF/4B,QAAQC,IAAI,UAAW84B,EAAOh6B,MAC9BiB,QAAQC,IAAI,UAAW84B,EAAOx0B,QAAQa,UAAU,EAAG,KACnD1B,KAAKmG,KAAKkvB,EAAQ,SAAU3yB,GAC5BpG,QAAQC,IAAI,aAAa84B,EAAOh6B,QAAQsE,UACxCrD,QAAQC,IAAI,UAAW84B,EAAOx0B,QAAQa,UAAU,EAAG,KAEnD1B,KAAK+Z,iBAELzd,QAAQE,KAAK,SAASmD,iBACtBrD,QAAQE,KAAK,UAAWwD,KAAKiY,YAAY/E,IAAIu+B,IAAK,CAAGxrC,GAAIwrC,EAAExrC,GAAI5K,KAAMo2C,EAAEp2C,SAE3E,EACA,4BAAAw1C,GAGE,MAAMgB,EAAa,CAAC,QAAS,gBAAiB,QAAS,QAAS,OAE1DC,EAAQ9xC,KAAKiY,YAAYhB,KAAKoe,IAClC,MAAMpS,GAAQoS,EAAOpS,MAAQ,IAAIpmB,cACjC,OAAOg1C,EAAWj7B,KAAKm7B,GAAa9uB,IAAS8uB,EAAUl1C,eAAiBomB,EAAKxhB,SAASswC,EAAUl1C,kBAG9Fi1C,GAEF9xC,KAAK/E,QAAQiqC,QAAU4M,EAAMz2C,KAC7BiB,QAAQC,IAAI,iBAAkBu1C,EAAMz2C,KAAM,MAAOy2C,EAAM7uB,OAC9CjjB,KAAK/E,QAAQoZ,aAA4C,OAA7BrU,KAAK/E,QAAQoZ,aAElDrU,KAAK/E,QAAQiqC,QAAUllC,KAAK/E,QAAQoZ,YACpC/X,QAAQC,IAAI,gBAAiByD,KAAK/E,QAAQoZ,cAG1C/X,QAAQC,IAAI,mBAAoByD,KAAK/E,QAAQiqC,QAEjD,EACA,gBAAA4H,CAAiBxX,GACX4B,QAAQ,gBACVl3B,KAAKiY,YAAcjY,KAAKiY,YAAY1H,OAAOkhC,GAAKA,EAAExrC,KAAOqvB,GACzDt1B,KAAKwwC,kBAET,EACA,gBAAAxD,CAAiBgF,GACX9a,QAAQ,gBACVl3B,KAAKmZ,YAAcnZ,KAAKmZ,YAAY5I,OAAOoK,GAAKA,EAAE1U,KAAO+rC,GACzDhyC,KAAKwwC,kBAET,EACA,eAAAA,GAEE,MAAM/5B,EAAgBzU,KAAKC,MAAM/F,aAAaC,QAAQ,aAAe,MACrEG,QAAQC,IAAI,UAAWyD,KAAK/E,QAAQgL,GAAI,aAAcjG,KAAK/E,QAAQgL,IAGnE,MAAMgsC,EAAex7B,EAAcgW,UAAU3X,GAAK5O,OAAO4O,EAAE7O,MAAQC,OAAOlG,KAAK/E,QAAQgL,MAEjE,IAAlBgsC,GAEFx7B,EAAcw7B,GAAgB,IACzBx7B,EAAcw7B,GACjBhsC,GAAIjG,KAAK/E,QAAQgL,GACjB5K,KAAM2E,KAAK/E,QAAQI,KACnBiR,MAAOtM,KAAK/E,QAAQqR,MACpBkB,YAAaxN,KAAK/E,QAAQuS,YAC1B+G,UAAWvU,KAAK/E,QAAQsZ,UACxBC,QAASxU,KAAK/E,QAAQuZ,QACtBL,WAAYnU,KAAK/E,QAAQkZ,WACzBhX,OAAQ6C,KAAK/E,QAAQkC,OACrBoC,SAAUS,KAAK/E,QAAQsE,UAAYS,KAAK/E,QAAQgZ,MAChDA,MAAOjU,KAAK/E,QAAQgZ,OAASjU,KAAK/E,QAAQsE,SAC1C0Y,YAAajY,KAAKiY,YAClBkB,YAAanZ,KAAKmZ,YAClBJ,MAAO/Y,KAAK+Y,OAGd7c,aAAa+G,QAAQ,WAAYjB,KAAKmB,UAAUsT,IAEhDna,QAAQC,IAAI,6BAA8ByD,KAAK/E,QAAQgL,IACvD3J,QAAQC,IAAI,WAAYyD,KAAK+Y,MAAM7F,IAAI0yB,IAAK,CAAGt5B,MAAOs5B,EAAEt5B,MAAOnP,OAAQyoC,EAAEzoC,OAAQkzC,aAAczK,EAAEyK,mBAEjG/zC,QAAQC,IAAI,qBAAsByD,KAAK/E,QAAQgL,IAC/C3J,QAAQC,IAAI,YAAaka,EAAcvD,IAAI4B,IAAK,CAAG7O,GAAI6O,EAAE7O,GAAI1B,YAAauQ,EAAE7O,OAEhF,EAEA,WAAAulC,GAGE,MAAM0G,EAAclyC,KAAK8wC,eAAe9wC,KAAK/E,QAAQkC,QAErD6C,KAAKutC,gBAAkB,CACrBlyC,KAAM2E,KAAK/E,QAAQI,MAAQ2E,KAAK/E,QAAQqR,MACxCkB,YAAaxN,KAAK/E,QAAQuS,aAAe,GACzC+G,UAAWvU,KAAK/E,QAAQsZ,WAAa,GACrCC,QAASxU,KAAK/E,QAAQuZ,SAAW,GACjCL,WAAYnU,KAAK/E,QAAQkZ,YAAc,UACvChX,OAAQ+0C,GAAe,UACvB3yC,SAAUS,KAAK/E,QAAQsE,UAAYS,KAAK/E,QAAQgZ,OAAS,0DAG3D3X,QAAQC,IAAI,aAAcyD,KAAKutC,iBAC/BvtC,KAAKkvC,sBAAuB,CAC9B,EACA,qBAAA5B,GACEttC,KAAKkvC,sBAAuB,CAC9B,EACA,uBAAM1B,GACJ,GAAKxtC,KAAKutC,gBAAgBlyC,KAAKsa,OAK/B,IAEE,MAAM,WAAEjY,SAAqB,sCAE7BpB,QAAQC,IAAI,oBACZD,QAAQC,IAAI,QAASyD,KAAK/E,QAAQgL,GAAI,aAAcjG,KAAK/E,QAAQgL,IACjE3J,QAAQC,IAAI,QAASyD,KAAKutC,iBAE1B,MAAMrwC,QAAiBQ,EAAWI,cAAckC,KAAK/E,QAAQgL,GAAIjG,KAAKutC,iBAEtEjxC,QAAQC,IAAI,eAAgBW,GAC5BZ,QAAQC,IAAI,YAAaW,EAAST,MAGZ,MAAlBS,EAASoM,MAEPpM,EAAST,MAEXuD,KAAK/E,QAAQgL,GAAK/I,EAAST,KAAKwJ,GAChCjG,KAAK/E,QAAQI,KAAO6B,EAAST,KAAKpB,KAClC2E,KAAK/E,QAAQqR,MAAQpP,EAAST,KAAKpB,KACnC2E,KAAK/E,QAAQuS,YAActQ,EAAST,KAAK+Q,YACzCxN,KAAK/E,QAAQsZ,UAAYrX,EAAST,KAAK8X,UACvCvU,KAAK/E,QAAQuZ,QAAUtX,EAAST,KAAK+X,QACrCxU,KAAK/E,QAAQkZ,WAAajX,EAAST,KAAK0X,WACxCnU,KAAK/E,QAAQkC,OAASD,EAAST,KAAKU,OACpC6C,KAAK/E,QAAQsE,SAAWrC,EAAST,KAAK8C,SACtCS,KAAK/E,QAAQgZ,MAAQ/W,EAAST,KAAK8C,SAG/BrC,EAAST,KAAK8X,WAAarX,EAAST,KAAK+X,UAC3CxU,KAAK/E,QAAQmpB,OAAS,GAAGlnB,EAAST,KAAK8X,eAAerX,EAAST,KAAK+X,WAGtElY,QAAQC,IAAI,iBAAkByD,KAAK/E,QAAQgL,IAC3C3J,QAAQC,IAAI,cAAeyD,KAAK/E,WAGhC+E,KAAK/E,QAAQI,KAAO2E,KAAKutC,gBAAgBlyC,KACzC2E,KAAK/E,QAAQqR,MAAQtM,KAAKutC,gBAAgBlyC,KAC1C2E,KAAK/E,QAAQuS,YAAcxN,KAAKutC,gBAAgB//B,YAChDxN,KAAK/E,QAAQsZ,UAAYvU,KAAKutC,gBAAgBh5B,UAC9CvU,KAAK/E,QAAQuZ,QAAUxU,KAAKutC,gBAAgB/4B,QAC5CxU,KAAK/E,QAAQkZ,WAAanU,KAAKutC,gBAAgBp5B,WAC/CnU,KAAK/E,QAAQkC,OAAS6C,KAAKutC,gBAAgBpwC,OAGvC6C,KAAKutC,gBAAgBh5B,WAAavU,KAAKutC,gBAAgB/4B,UACzDxU,KAAK/E,QAAQmpB,OAAS,GAAGpkB,KAAKutC,gBAAgBh5B,eAAevU,KAAKutC,gBAAgB/4B,YAKtFxU,KAAKwwC,kBAELxwC,KAAKstC,wBACLttC,KAAK0G,iBAAiB,YAEtBuE,MAAM,SAAW/N,EAAS0G,KAAO,QAErC,CAAE,MAAO7G,GACPT,QAAQS,MAAM,UAAWA,GACzBkO,MAAM,eACR,MAnEEA,MAAM,UAoEV,EACA,kBAAMknC,CAAana,GAEjB,GAAIA,GAAaA,IAAch4B,KAAK/E,QAAQkC,OAC1C,IAEE,MAAM,WAAEO,SAAqB,sCAE7BpB,QAAQC,IAAI,sBACZ,MAAMW,QAAiBQ,EAAWmB,oBAAoBmB,KAAK/E,QAAQgL,GAAI+xB,GAEvE17B,QAAQC,IAAI,iBAAkBW,GAGR,MAAlBA,EAASoM,MACXtJ,KAAK/E,QAAQkC,OAAS66B,EACtBh4B,KAAKwwC,kBACLxwC,KAAKgvC,oBAAqB,EAC1BhvC,KAAK0G,iBAAiB,YACtBpK,QAAQC,IAAI,YAAay7B,IAEzB/sB,MAAM,WAAa/N,EAAS0G,KAAO,QAEvC,CAAE,MAAO7G,GACPT,QAAQS,MAAM,YAAaA,GAC3BkO,MAAM,iBACR,CAEJ,EACA,mBAAMhN,GACJ,GAAIi5B,QAAQ,yCACV,IAEE,MAAM,WAAEx5B,SAAqB,sCAE7BpB,QAAQC,IAAI,wBACZD,QAAQC,IAAI,QAASyD,KAAK/E,QAAQgL,GAAI,aAAcjG,KAAK/E,QAAQgL,IACjE3J,QAAQC,IAAI,QAASyD,KAAK/E,QAAQI,MAAQ2E,KAAK/E,QAAQqR,OAEvD,MAAMpP,QAAiBQ,EAAWO,cAAc+B,KAAK/E,QAAQgL,IAO7D,GALA3J,QAAQC,IAAI,eAAgBW,GAC5BZ,QAAQC,IAAI,UAAWW,GAAUoM,MACjChN,QAAQC,IAAI,SAAUW,GAAU0G,KAG5B1G,GAA8B,MAAlBA,EAASoM,KAAc,CACrChN,QAAQC,IAAI,mBAGZ,MAAMka,EAAgBzU,KAAKC,MAAM/F,aAAaC,QAAQ,aAAe,MACrEG,QAAQC,IAAI,YAAaka,EAAcvD,IAAI4B,IAAK,CAAG7O,GAAI6O,EAAE7O,GAAI5K,KAAMyZ,EAAEzZ,MAAQyZ,EAAExI,UAG/E,MAAM8lC,EAAkB37B,EAAclG,OAAOuE,GAAK5O,OAAO4O,EAAE7O,MAAQC,OAAOlG,KAAK/E,QAAQgL,KACvF3J,QAAQC,IAAI,YAAa61C,EAAgBl/B,IAAI4B,IAAK,CAAG7O,GAAI6O,EAAE7O,GAAI5K,KAAMyZ,EAAEzZ,MAAQyZ,EAAExI,UAEjFpQ,aAAa+G,QAAQ,WAAYjB,KAAKmB,UAAUivC,IAEhDpyC,KAAK0G,iBAAiB,WACtBpK,QAAQC,IAAI,6BAGZoK,WAAW,KACT3G,KAAKwG,QAAQC,KAAK,oBACjB,KACL,KAAO,CACL,MAAM+c,EAAWtmB,GAAU0G,KAAO,OAClCtH,QAAQS,MAAM,aAAcymB,GAC5BvY,MAAM,QAAUuY,EAClB,CACF,CAAE,MAAOzmB,GACPT,QAAQS,MAAM,wBACdT,QAAQS,MAAM,QAASA,EAAMkd,YAAY5e,MACzCiB,QAAQS,MAAM,QAASA,EAAMU,SAC7BnB,QAAQS,MAAM,QAASA,GAGvB,IAAImO,EAAe,eAEfnO,EAAMG,UAERZ,QAAQS,MAAM,WAAYA,EAAMG,SAASC,OAAQJ,EAAMG,SAAST,MAChEyO,EAAenO,EAAMG,SAAST,MAAMmH,KAAO,UAAU7G,EAAMG,SAASC,WAC3DJ,EAAMhB,SAEfO,QAAQS,MAAM,cACdmO,EAAe,kBACNnO,EAAM6G,MAEfsH,EAAenO,EAAM6G,KAGvBqH,MAAMC,EACR,MAEA5O,QAAQC,IAAI,WAEhB,EAEA,sBAAA4wC,GAEE,OADAntC,KAAKktC,QAAQxxB,UAAY,KACrB1b,KAAKktC,QAAQiC,SAAW,IAAIhgC,KAAKnP,KAAKktC,QAAQiC,SAAW,IAAIhgC,KAAKnP,KAAKkQ,UACzElQ,KAAKktC,QAAQxxB,UAAY,gBAClB,EAGX,EAEA,UAAAwwB,GACElsC,KAAKivC,eAAgB,EAErBjvC,KAAKktC,QAAU,CACb5gC,MAAO,GACPkB,YAAa,GACb2hC,QAAS,GACT7tB,SAAU,IACVnkB,OAAQ,MACRue,UAAW,GAEf,EACA,cAAAuxB,GACEjtC,KAAKivC,eAAgB,CACvB,EACA,iBAAM5B,GAEJ,GAAIrtC,KAAKotC,eACP9wC,QAAQC,IAAI,qCAId,GAAKyD,KAAKktC,QAAQ5gC,MAAMqJ,OAMxB,GAAI3V,KAAKktC,QAAQiC,SAAW,IAAIhgC,KAAKnP,KAAKktC,QAAQiC,SAAW,IAAIhgC,KAAKnP,KAAKkQ,OACzEjF,MAAM,oBADR,CAMAjL,KAAKotC,gBAAiB,EAEtB,IAEE,MAAM,QAAEwC,SAAkB,2BAGpByC,EAAW,CACft0C,UAAWiC,KAAK/E,QAAQgL,GACxBqG,MAAOtM,KAAKktC,QAAQ5gC,MAAMqJ,OAC1BnI,YAAaxN,KAAKktC,QAAQ1/B,YAAYmI,OACtC2L,SAAUthB,KAAKqhB,iBAAiBrhB,KAAKktC,QAAQ5rB,UAC7C6tB,QAASnvC,KAAKktC,QAAQiC,SAAW,KACjCa,YAAa,IAGf1zC,QAAQC,IAAI,yBAA0B81C,GAGtC,MAAMn1C,QAAiB0yC,EAAQ1D,WAAWmG,GAE1C/1C,QAAQC,IAAI,yBAA0BW,GAElCA,GAA8B,MAAlBA,EAASoM,YAEjBtJ,KAAK4kC,mBAEX5kC,KAAKitC,iBACLjtC,KAAK0G,iBAAiB,YAEtBuE,MAAM,WAAa/N,EAAS0G,KAAO,QAEvC,CAAE,MAAO7G,GACPT,QAAQS,MAAM,wBAAyBA,GACvCkO,MAAM,eACR,CAAE,QAEAtE,WAAW,KACT3G,KAAKotC,gBAAiB,GACrB,IACL,CA3CA,MAREniC,MAAM,UAoDV,EACA,QAAAuhC,CAASh8B,GAEPxQ,KAAK2tC,aAAe,CAClBrhC,MAAOkE,EAAKlE,MACZkB,YAAagD,EAAKhD,aAAe,GACjC2hC,QAAS3+B,EAAK1B,MAAQ0B,EAAK2+B,SAAW,GACtC7tB,SAAU9Q,EAAK8Q,SACf8hB,OAAQ5yB,EAAKvK,IAGfjG,KAAKqvC,mBAAoB,CAC3B,EACA,kBAAA3B,GACE1tC,KAAKqvC,mBAAoB,EACzBrvC,KAAK2tC,aAAe,CAClBrhC,MAAO,GACPkB,YAAa,GACb2hC,QAAS,GACT7tB,SAAU,IACV8hB,OAAQ,KAEZ,EACA,kBAAMyK,GACJ,GAAK7tC,KAAK2tC,aAAarhC,MAAMqJ,OAM7B,GAAI3V,KAAK2tC,aAAawB,SAAW,IAAIhgC,KAAKnP,KAAK2tC,aAAawB,SAAW,IAAIhgC,KAAKnP,KAAKkQ,OACnFjF,MAAM,qBAIR,IAEE,MAAM,QAAE2kC,SAAkB,2BAGpB0C,EAAa,CACjBhmC,MAAOtM,KAAK2tC,aAAarhC,MAAMqJ,OAC/BnI,YAAaxN,KAAK2tC,aAAangC,YAAYmI,OAC3C2L,SAAUthB,KAAKqhB,iBAAiBrhB,KAAK2tC,aAAarsB,UAClD6tB,QAASnvC,KAAK2tC,aAAawB,SAAW,MAGxC7yC,QAAQC,IAAI,0BAA2ByD,KAAK2tC,aAAavK,OAAQ,MAAOkP,GAGxE,MAAMp1C,QAAiB0yC,EAAQ2C,WAAWvyC,KAAK2tC,aAAavK,OAAQkP,GAEpEh2C,QAAQC,IAAI,0BAA2BW,GAEnCA,GAA8B,MAAlBA,EAASoM,YAEjBtJ,KAAK4kC,mBAEX5kC,KAAK0tC,qBACL1tC,KAAK0G,iBAAiB,YAEtBuE,MAAM,WAAa/N,EAAS0G,KAAO,QAEvC,CAAE,MAAO7G,GACPT,QAAQS,MAAM,yBAA0BA,GACxCkO,MAAM,eACR,MAzCEA,MAAM,UA0CV,EACA,uBAAA2iC,GAEE,OADA5tC,KAAK2tC,aAAajyB,UAAY,KAC1B1b,KAAK2tC,aAAawB,SAAW,IAAIhgC,KAAKnP,KAAK2tC,aAAawB,SAAW,IAAIhgC,KAAKnP,KAAKkQ,UACnFlQ,KAAK2tC,aAAajyB,UAAY,gBACvB,EAGX,EACA,gBAAM+wB,CAAWrJ,GACf,GAAKlM,QAAQ,cAIb,IAEE,MAAM,QAAE0Y,SAAkB,2BAE1BtzC,QAAQC,IAAI,0BAA2B6mC,GAGvC,MAAMlmC,QAAiB0yC,EAAQnD,WAAWrJ,GAE1C9mC,QAAQC,IAAI,wBAAyBW,GAEjCA,GAA8B,MAAlBA,EAASoM,MACvBhN,QAAQC,IAAI,2CAGNyD,KAAK4kC,mBAEX5kC,KAAK0G,iBAAiB,WAEtBuE,MAAM,WAAa/N,EAAS0G,KAAO,QAEvC,CAAE,MAAO7G,GACPT,QAAQS,MAAM,uBAAwBA,GACtCkO,MAAM,eACR,CACF,EACA,kBAAAlG,CAAmBgB,GACZA,EAAMK,OAAOC,QAAQ,eACxBrG,KAAK+uC,cAAe,EACpB/uC,KAAKgvC,oBAAqB,EAE9B,EACA,gBAAA7tB,GAEE,MAAMvb,EAAgB1J,aAAaC,QAAQ,aAC3C,GAAIyJ,EACF,IACE,MAAMpD,EAAWR,KAAKC,MAAM2D,GAC5B,OAAOpD,EAASyD,IAAM,IACxB,CAAE,MAAOlJ,GAEP,OADAT,QAAQS,MAAM,YAAaA,GACpB,IACT,CAEF,OAAO,IACT,EACA,kBAAAqkB,GAEE,MAAMxb,EAAgB1J,aAAaC,QAAQ,aAC3C,GAAIyJ,EACF,IACE,MAAMpD,EAAWR,KAAKC,MAAM2D,GAC5B,OAAOpD,EAASnH,MAAQmH,EAASxB,UAAY,IAC/C,CAAE,MAAOjE,GAEP,OADAT,QAAQS,MAAM,YAAaA,GACpB,IACT,CAEF,MAAO,IACT,EACA,kBAAAykB,CAAmBF,GAEjB,MAAMkxB,EAAc,CAClB,KAAQ,IACR,OAAU,IACV,IAAO,KAET,OAAOA,EAAYlxB,IAAa,GAClC,EACA,gBAAAD,CAAiBC,GAEf,MAAMC,EAAW,CACf,IAAK,OACL,IAAK,SACL,IAAK,OAEP,OAAOA,EAASD,IAAa,QAC/B,EACA,eAAAovB,CAAgB/wC,GAEd,OAAe,IAAXA,EACKK,KAAKohB,qBAIP,KAAOzhB,CAChB,EACA,gBAAAyY,CAAiBjb,GAEf,MAAMqW,EAAY,CAEhB,SAAY,MACZ,QAAW,MACX,UAAa,MACb,SAAY,MAEZ,KAAQ,MACR,YAAe,MACf,QAAW,KACX,KAAQ,KAER,QAAW,MACX,UAAa,OAEf,OAAOA,EAAUrW,IAAWA,GAAU,IACxC,EACA,cAAA2zC,CAAe3zC,GAEb,MAAMs1C,EAAa,CAEjB,MAAO,WACP,MAAO,cACP,MAAO,YACP,MAAO,WAEP,MAAO,OACP,KAAM,UACN,KAAM,OACN,MAAO,aAIT,GAAIA,EAAWt1C,GACb,OAAOs1C,EAAWt1C,GAIpB,MAAMu1C,EAAa,CAAC,OAAQ,cAAe,UAAW,OAAQ,WAAY,UAAW,YAAa,WAAY,aAC9G,OAAIv1C,GAAUu1C,EAAWjxC,SAAStE,EAAON,eAChCM,EAAON,cAIT,MACT,EACA,wBAAAwvC,CAAyB77B,GAEvBxQ,KAAK+Y,MAAMtV,QAAQmiC,IACbA,EAAE3/B,KAAOuK,EAAKvK,IAChBjG,KAAKmG,KAAKy/B,EAAG,kBAAkB,KAInC5lC,KAAKmG,KAAKqK,EAAM,kBAAmBA,EAAK+/B,eAC1C,EACA,sBAAMjE,CAAiB97B,EAAMwnB,GAC3B,IAEE,MAAM,QAAE4X,SAAkB,2BAGpBsC,EAAclyC,KAAK8wC,eAAe9Y,GAExC17B,QAAQC,IAAI,mCAAmCiU,EAAKvK,YAAY+xB,MAAcka,MAG9E,MAAMh1C,QAAiB0yC,EAAQ+C,iBAAiBniC,EAAKvK,GAAIisC,GAEzD51C,QAAQC,IAAI,8BAA+BW,GAEvCA,GAA8B,MAAlBA,EAASoM,MACvBhN,QAAQC,IAAI,0CAGZyD,KAAKmG,KAAKqK,EAAM,kBAAkB,SAG5BxQ,KAAK4kC,mBAEX5kC,KAAK0G,iBAAiB,YAEtBpK,QAAQC,IAAI,MAAMiU,EAAKlE,iBAAiB0rB,MAAcka,MAGtDlyC,KAAKiF,MAAM8F,MAAM,oBAAqB,CACpChN,UAAWiC,KAAK/E,QAAQgL,GACxBm9B,OAAQ5yB,EAAKvK,GACb+xB,UAAWA,EACXka,YAAaA,MAGfjnC,MAAM,aAAe/N,EAAS0G,KAAO,SAErC5D,KAAKmG,KAAKqK,EAAM,kBAAkB,GAEtC,CAAE,MAAOzT,GACPT,QAAQS,MAAM,+BAAgCA,GAC9CkO,MAAM,kBAENjL,KAAKmG,KAAKqK,EAAM,kBAAkB,EACpC,CACF,EACA,gBAAMk8B,CAAWl8B,GAEf,MAAMoiC,EAAY1b,QAAQ,UAAU1mB,EAAKlE,YACzC,GAAKsmC,EAEL,IACwB5yC,KAAKmhB,mBACHnhB,KAAKohB,qBAE7B9kB,QAAQC,IAAI,2BAA4BiU,EAAKvK,GAAI,QAASuK,EAAKrT,QAG/D,MAAM,QAAEyyC,SAAkB,2BACpB1yC,QAAiB0yC,EAAQiD,UAAUriC,EAAKvK,IAI9C,GAFA3J,QAAQC,IAAI,qBAAsBW,GAE9BA,GAA8B,MAAlBA,EAASoM,KAAc,CACrChN,QAAQC,IAAI,+BAGN,IAAIS,QAAQmlB,GAAWxb,WAAWwb,EAAS,YAG3CniB,KAAK4kC,mBAGX5kC,KAAKyd,UAAU,KACbzd,KAAK+Z,iBAGP/Z,KAAK0G,iBAAiB,WAAW8J,EAAKlE,SAGtC,MAAMwmC,EAAc9yC,KAAK+Y,MAAM9B,KAAK2uB,GAAKA,EAAE3/B,KAAOuK,EAAKvK,IACvD3J,QAAQC,IAAI,yBAA0Bu2C,GAAa31C,OAAQ,OAAQ21C,GAAaxN,eAE5EwN,GAAsC,QAAvBA,EAAY31C,SAC7Bb,QAAQE,KAAK,sCACP,IAAIQ,QAAQmlB,GAAWxb,WAAWwb,EAAS,YAC3CniB,KAAK4kC,mBACX5kC,KAAK+Z,eAET,MACE9O,MAAM,WAAa/N,EAAS0G,KAAO,QAEvC,CAAE,MAAO7G,GACPT,QAAQS,MAAM,uBAAwBA,GACtCkO,MAAM,eACR,CACF,EAEA,mBAAAshC,CAAoB/7B,GAClBxQ,KAAK2uC,aAAen+B,EACpBxQ,KAAK6uC,mBAAqB,KAC1B7uC,KAAK0uC,qBAAsB,CAC7B,EAEA,oBAAAE,GACE5uC,KAAK0uC,qBAAsB,EAC3B1uC,KAAK2uC,aAAe,KACpB3uC,KAAK6uC,mBAAqB,IAC5B,EAEA,uBAAMC,GACJ,IAAK9uC,KAAK6uC,qBAAuB7uC,KAAK2uC,aAAc,OAEpD,MAAMoE,EAAiB/yC,KAAKiY,YAAYhB,KAAKw6B,GAAKA,EAAExrC,KAAOjG,KAAK6uC,oBAChE,GAAKkE,EAKL,IACEz2C,QAAQC,IAAI,kCAAmCyD,KAAK2uC,aAAa1oC,GAAI,QAASjG,KAAK2uC,aAAaxxC,QAGhG,MAAM,QAAEyyC,SAAkB,2BACpB1yC,QAAiB0yC,EAAQlD,WAAW1sC,KAAK2uC,aAAa1oC,GAAI,CAACjG,KAAK6uC,qBAItE,GAFAvyC,QAAQC,IAAI,4BAA6BW,GAErCA,GAA8B,MAAlBA,EAASoM,KAAc,CACrChN,QAAQC,IAAI,sCAGN,IAAIS,QAAQmlB,GAAWxb,WAAWwb,EAAS,YAG3CniB,KAAK4kC,mBAGX5kC,KAAKyd,UAAU,KACbzd,KAAK+Z,iBAGP/Z,KAAK0G,iBAAiB,SAAS1G,KAAK2uC,aAAariC,aAAaymC,EAAe13C,QAG7E,MAAM23C,EAAiBhzC,KAAK2uC,aAAa1oC,GACzCjG,KAAK4uC,uBAGL,MAAMkE,EAAc9yC,KAAK+Y,MAAM9B,KAAK2uB,GAAKA,EAAE3/B,KAAO+sC,GAClD12C,QAAQC,IAAI,gCAAiCu2C,GAAa31C,OAAQ,OAAQ21C,GAAaxN,eAEnFwN,GAAsC,QAAvBA,EAAY31C,SAC7Bb,QAAQE,KAAK,6CACP,IAAIQ,QAAQmlB,GAAWxb,WAAWwb,EAAS,YAC3CniB,KAAK4kC,mBACX5kC,KAAK+Z,eAET,MACE9O,MAAM,WAAa/N,EAAS0G,KAAO,QAEvC,CAAE,MAAO7G,GACPT,QAAQS,MAAM,8BAA+BA,GAC7CkO,MAAM,eACR,MAjDEA,MAAM,WAkDV,EACA,WAAAmJ,CAAYjX,GAEV,MAAe,aAAXA,GAAoC,QAAXA,EAAyB,WACvC,gBAAXA,GAAuC,QAAXA,EAAyB,UAC1C,WAAXA,GAAkC,OAAXA,EAAwB,SACpC,cAAXA,GAAqC,OAAXA,EAAwB,YACvC,cAAXA,GAAqC,QAAXA,EAAyB,YAChD,SACT,EACA,aAAAivC,CAAc9qB,GACZ,MAAiB,MAAbA,EAAyB,IACZ,MAAbA,EAAyB,IACtB,GACT,EACA,sBAAAyqB,GACE/rC,KAAK+uC,cAAgB/uC,KAAK+uC,YAC5B,EACA,oBAAAp7B,GACE3T,KAAKgvC,oBAAsBhvC,KAAKgvC,kBAClC,EACA,cAAA/C,CAAe1nC,GACbvE,KAAKgsC,iBAAmBznC,EACxBvE,KAAK+uC,cAAe,CACtB,EACA,kBAAA5zB,GAEEnb,KAAKmd,MAAM81B,mBAAmB/1B,OAChC,EACA,8BAAM4uB,CAAyB/lC,GAC7B,MAAM5G,EAAO4G,EAAMK,OAAOiX,MAAM,GAChC,IAAKle,EAAM,OAGT,MAAM+zC,EAAe,CAAC,aAAc,YAAa,YAAa,aAAc,aAC5E,IAAKA,EAAazxC,SAAStC,EAAKoF,MAG9B,OAFA0G,MAAM,4CACRjL,KAAKmd,MAAM81B,mBAAmBtrC,MAAQ,IAKtC,GAAIxI,EAAKZ,KAAO,QAGd,OAFA0M,MAAM,oBACRjL,KAAKmd,MAAM81B,mBAAmBtrC,MAAQ,IAKxC,MAAM2V,EAAS,IAAIC,WACnBD,EAAOE,OAAUlb,IACftC,KAAK0c,kBAAoBpa,EAAE8D,OAAOjC,OAElCnE,KAAKwc,eAAgB,EACrBxc,KAAKyd,UAAU,KACbzd,KAAK0d,oBAGTJ,EAAOK,cAAcxe,EACvB,EACA,wBAAMg0C,CAAmBC,GACvB,IAEE,MAAM3wB,QAAaziB,KAAKqzC,cAAcD,IAGhC,WAAE11C,SAAqB,sCAE7BpB,QAAQC,IAAI,qCAGZ,MAAMW,QAAiBQ,EAAWwB,mBAAmBujB,EAAMziB,KAAK/E,QAAQgL,IAkBxE,GAhBA3J,QAAQC,IAAI,gCAAiCW,GAC7CZ,QAAQC,IAAI,sCAAuCW,GACnDZ,QAAQC,IAAI,iCAAkCyF,KAAKmB,UAAUjG,EAAU,KAAM,IAGzEA,IACFZ,QAAQC,IAAI,sCAAuCW,EAASoM,MAC5DhN,QAAQC,IAAI,qCAAsCW,EAAS0G,KAC3DtH,QAAQC,IAAI,sCAAuCW,EAAST,MAExDS,EAAST,OACXH,QAAQC,IAAI,+CAAgDW,EAAST,KAAK8C,UAC1EjD,QAAQC,IAAI,0CAA2CgH,OAAOC,KAAKtG,EAAST,SAI5ES,GAA8B,MAAlBA,EAASoM,MAAgBpM,EAAST,KAAM,CAEtD,MAAM8C,EAAWrC,EAAST,KAAK8C,SAG/B,GAFAjD,QAAQC,IAAI,qCAAsCgD,IAE7CA,EAIH,OAHAjD,QAAQE,KAAK,+CACbF,QAAQE,KAAK,4CAA6CU,EAAST,WACnEwO,MAAM,kBAKRjL,KAAKmG,KAAKnG,KAAK/E,QAAS,WAAYsE,GACpCS,KAAKmG,KAAKnG,KAAK/E,QAAS,QAASsE,GAEjCjD,QAAQC,IAAI,gCAAiC,CAC3CgD,SAAUS,KAAK/E,QAAQsE,SACvB0U,MAAOjU,KAAK/E,QAAQgZ,QAItBjU,KAAKwwC,kBAGLxwC,KAAK+Z,eAELzd,QAAQC,IAAI,oCACZD,QAAQC,IAAI,mCAAoCgD,GAEhDS,KAAK0G,iBAAiB,aACtBpK,QAAQC,IAAI,qCAAsCgD,EACpD,MACEjD,QAAQS,MAAM,kCACdT,QAAQS,MAAM,iCAAkCG,GAChD+N,MAAM,UAAY/N,GAAU0G,KAAO,QAEvC,CAAE,MAAO7G,GAIP,GAHAT,QAAQS,MAAM,iCAAkCA,GAG5CA,GAA0B,MAAjBA,EAAMI,OAAgB,CACjCb,QAAQS,MAAM,+CACdT,QAAQS,MAAM,8CACd,MAAMd,EAAQC,aAAaC,QAAQ,gBAC9BF,EAIHgP,MAAM,eAHN3O,QAAQS,MAAM,oCACdkO,MAAM,eAIV,MACEA,MAAM,iBAEV,CACF,EACA,cAAAqR,GAEMtc,KAAKmd,MAAM81B,mBAAmBtrC,MAAQ,GAC1C3H,KAAKwc,eAAgB,EACrBxc,KAAKyc,cAAgB,KACrBzc,KAAK0c,kBAAoB,IAC3B,EACA,cAAAgB,GACE,MAAME,EAAS5d,KAAKmd,MAAMU,WACpBC,EAAMF,EAAOG,WAAW,MACxBC,EAAM,IAAIC,MAEhBD,EAAIR,OAAS,KAEX,MAAMU,EAAW,IACXC,EAAY,IAClB,IAAI,MAAE1M,EAAK,OAAEG,GAAWoM,EAExB,GAAIvM,EAAQyM,GAAYtM,EAASuM,EAAW,CAC1C,MAAMC,EAAQtM,KAAKuM,IAAIH,EAAWzM,EAAO0M,EAAYvM,GACrDH,GAAS2M,EACTxM,GAAUwM,CACZ,CAEAR,EAAOnM,MAAQA,EACfmM,EAAOhM,OAASA,EAChBgM,EAAOvL,MAAMZ,MAAQA,EAAQ,KAC7BmM,EAAOvL,MAAMT,OAASA,EAAS,KAG/BkM,EAAIQ,UAAUN,EAAK,EAAG,EAAGvM,EAAOG,GAGhC5R,KAAKyc,cAAgBuB,EAGrB,MAAMO,EAAY,GAAK,EACjBC,EAAY1M,KAAKuM,IAAY,GAAR5M,EAAaG,EAAS2M,EAAY,IACvDE,EAAaD,EAAYD,EAE/Bve,KAAK2c,SAAW,CACdpL,GAAIE,EAAQ+M,GAAa,EACzB9M,GAAIE,EAAS6M,GAAc,EAC3BhN,MAAO+M,EACP5M,OAAQ6M,GAGVze,KAAK0e,sBACL1e,KAAK2e,wBAGPX,EAAIY,IAAM5e,KAAK0c,iBACjB,EACA,mBAAAgC,GACE,MAAMG,EAAY7e,KAAKmd,MAAM2B,cACzBD,IACFA,EAAUxM,MAAMb,KAAOxR,KAAK2c,SAASpL,EAAI,KACzCsN,EAAUxM,MAAMV,IAAM3R,KAAK2c,SAASjL,EAAI,KACxCmN,EAAUxM,MAAMZ,MAAQzR,KAAK2c,SAASlL,MAAQ,KAC9CoN,EAAUxM,MAAMT,OAAS5R,KAAK2c,SAAS/K,OAAS,KAEpD,EACA,oBAAA+M,GACE,MAAME,EAAY7e,KAAKmd,MAAM2B,cACvBC,EAAU/e,KAAKmd,MAAM6B,YACrBpB,EAAS5d,KAAKmd,MAAMU,WAE1B,IAAKgB,IAAcE,IAAYnB,EAAQ,OAEvC,IAAIqB,GAAa,EACbC,GAAa,EACbC,EAAe,KACfC,EAAS,EACTC,EAAS,EACTC,EAAa,EACbC,EAAa,EACbC,EAAiB,EACjBC,EAAkB,EAEtB,MAAMlB,EAAY,GAAK,EAEjBmB,EAAapd,IACbA,EAAE8D,OAAO6K,UAAU0O,SAAS,kBAC9BT,GAAa,EACbC,EAAe7c,EAAE8D,OAAOwZ,QAAQC,QAEhCZ,GAAa,EAGf,MAAM7N,EAAOwM,EAAOtM,wBACpB8N,EAAS9c,EAAEwd,QAAU1O,EAAKI,KAC1B6N,EAAS/c,EAAEyd,QAAU3O,EAAKO,IAC1B2N,EAAatf,KAAK2c,SAASpL,EAC3BgO,EAAavf,KAAK2c,SAASjL,EAC3B8N,EAAiBxf,KAAK2c,SAASlL,MAC/BgO,EAAkBzf,KAAK2c,SAAS/K,QAG5BoO,EAAQ1d,IACZ,IAAK2c,IAAeC,EAAY,OAEhC,MAAM9N,EAAOwM,EAAOtM,wBACd2O,EAAW3d,EAAEwd,QAAU1O,EAAKI,KAC5B0O,EAAW5d,EAAEyd,QAAU3O,EAAKO,IAE5BwO,EAASF,EAAWb,EACpBgB,EAASF,EAAWb,EAE1B,GAAIJ,EAAY,CAEd,MAAMoB,EAAOvO,KAAKkE,IAAI,EAAGlE,KAAKuM,IAAIT,EAAOnM,MAAQzR,KAAK2c,SAASlL,MAAO6N,EAAaa,IAC7EG,EAAOxO,KAAKkE,IAAI,EAAGlE,KAAKuM,IAAIT,EAAOhM,OAAS5R,KAAK2c,SAAS/K,OAAQ2N,EAAaa,IAErFpgB,KAAK2c,SAASpL,EAAI8O,EAClBrgB,KAAK2c,SAASjL,EAAI4O,CACpB,MAAO,GAAIpB,EAAY,CAErB,IAAIqB,EAAWf,EACXgB,EAAYf,EACZY,EAAOf,EACPgB,EAAOf,EAEU,OAAjBJ,GAEFoB,EAAWzO,KAAKkE,IAAI,GAAIlE,KAAKuM,IAAIT,EAAOnM,MAAQ6N,EAAYE,EAAiBW,IAC7EK,EAAYD,EAAWhC,EACnBgB,EAAaiB,EAAY5C,EAAOhM,SAClC4O,EAAY5C,EAAOhM,OAAS2N,EAC5BgB,EAAWC,EAAYjC,IAEC,OAAjBY,GAEToB,EAAWzO,KAAKkE,IAAI,GAAIlE,KAAKuM,IAAIiB,EAAaE,EAAgBA,EAAiBW,IAC/EK,EAAYD,EAAWhC,EACvB8B,EAAOf,EAAaE,EAAiBe,EACjCF,EAAO,IACTA,EAAO,EACPE,EAAWjB,EAAaE,EACxBgB,EAAYD,EAAWhC,IAEC,OAAjBY,GAEToB,EAAWzO,KAAKkE,IAAI,GAAIlE,KAAKuM,IAAIT,EAAOnM,MAAQ6N,EAAYE,EAAiBW,IAC7EK,EAAYD,EAAWhC,EACvB+B,EAAOf,EAAaE,EAAkBe,EAClCF,EAAO,IACTA,EAAO,EACPE,EAAYjB,EAAaE,EACzBc,EAAWC,EAAYjC,IAEC,OAAjBY,IAEToB,EAAWzO,KAAKkE,IAAI,GAAIlE,KAAKuM,IAAIiB,EAAaE,EAAgBA,EAAiBW,IAC/EK,EAAYD,EAAWhC,EACvB8B,EAAOf,EAAaE,EAAiBe,EACrCD,EAAOf,EAAaE,EAAkBe,EAClCH,EAAO,IACTA,EAAO,EACPE,EAAWjB,EAAaE,EACxBgB,EAAYD,EAAWhC,EACvB+B,EAAOf,EAAaE,EAAkBe,GAEpCF,EAAO,IACTA,EAAO,EACPE,EAAYjB,EAAaE,EACzBc,EAAWC,EAAYjC,EACvB8B,EAAOf,EAAaE,EAAiBe,IAIzCvgB,KAAK2c,SAASpL,EAAI8O,EAClBrgB,KAAK2c,SAASjL,EAAI4O,EAClBtgB,KAAK2c,SAASlL,MAAQ8O,EACtBvgB,KAAK2c,SAAS/K,OAAS4O,CACzB,CAEAxgB,KAAK0e,uBAGD+B,EAAU,KACdxB,GAAa,EACbC,GAAa,EACbC,EAAe,MAGjBN,EAAU/Z,iBAAiB,YAAa4a,GACxC7a,SAASC,iBAAiB,YAAakb,GACvCnb,SAASC,iBAAiB,UAAW2b,GAGrCzgB,KAAK0gB,MAAM,qBAAsB,KAC/B7B,EAAUrZ,oBAAoB,YAAaka,GAC3C7a,SAASW,oBAAoB,YAAawa,GAC1Cnb,SAASW,oBAAoB,UAAWib,IAE5C,EACA,SAAAlE,GACE,IAAKvc,KAAKyc,cAAe,OAEzB,MAAMmB,EAAS/Y,SAASsN,cAAc,UAChC2L,EAAMF,EAAOG,WAAW,MAGxB4C,EAAc,GAAK,EACnBC,EAAc,IACdC,EAAeD,EAAcD,EAEnC/C,EAAOnM,MAAQmP,EACfhD,EAAOhM,OAASiP,EAGhB,MAAMC,EAAW9gB,KAAK2c,SAASpL,EAAIvR,KAAKmd,MAAMU,WAAWpM,MAASzR,KAAKyc,cAAchL,MAC/EsP,EAAW/gB,KAAK2c,SAASjL,EAAI1R,KAAKmd,MAAMU,WAAWjM,OAAU5R,KAAKyc,cAAc7K,OAChFoP,EAAehhB,KAAK2c,SAASlL,MAAQzR,KAAKmd,MAAMU,WAAWpM,MAASzR,KAAKyc,cAAchL,MACvFwP,EAAgBjhB,KAAK2c,SAAS/K,OAAS5R,KAAKmd,MAAMU,WAAWjM,OAAU5R,KAAKyc,cAAc7K,OAGhGkM,EAAIQ,UACFte,KAAKyc,cACLqE,EAASC,EAASC,EAAaC,EAC/B,EAAG,EAAGL,EAAaC,GAIrB,MAAMuyB,EAAex1B,EAAOsD,UAAU,aAAc,IACpDlhB,KAAKsc,iBAGLtc,KAAKmzC,mBAAmBC,EAC1B,EACA,aAAAC,CAAc5vB,GACZ,OAAO,IAAIzmB,QAAQ,CAACmlB,EAASllB,KAC3B,IACE,MAAMymB,EAAMD,EAAQ5G,MAAM,KACpB8G,EAAOD,EAAI,GAAGE,MAAM,WAAW,GAC/BC,EAAOvB,KAAKoB,EAAI,IACtB,IAAIrJ,EAAIwJ,EAAKxf,OACb,MAAMyf,EAAQ,IAAIC,WAAW1J,GAC7B,MAAOA,IACLyJ,EAAMzJ,GAAKwJ,EAAKG,WAAW3J,GAE7B,MAAMoI,EAAO,IAAIwB,KAAK,CAACH,GAAQ,CAAEvf,KAAMof,IACvCxB,EAAQM,EACV,CAAE,MAAO1lB,GACPE,EAAOF,EACT,GAEJ,EACA,gBAAA2J,CAAiBjJ,GACfuC,KAAKsB,aAAe7D,EACpBuC,KAAK0E,WAAY,EAGjBiC,WAAW,KACT3G,KAAK0E,WAAY,EACjB1E,KAAKsB,aAAe,IACnB,IACL,EACA,WAAAsqC,GACEtvC,QAAQC,IAAI,YAAayD,KAAK/E,QAAQsE,UAAYS,KAAK/E,QAAQgZ,MACjE,EACA,YAAA43B,CAAa9lC,GACX,MAAMxG,EAAWS,KAAK/E,QAAQsE,UAAYS,KAAK/E,QAAQgZ,MACvD3X,QAAQS,MAAM,gBAAiBwC,GAC/BjD,QAAQS,MAAM,UAAWgJ,GACzBzJ,QAAQE,KAAK,aACbF,QAAQE,KAAK,sCACbF,QAAQE,KAAK,mBACbF,QAAQE,KAAK,kCACbF,QAAQE,KAAK,eAGT+C,IACFjD,QAAQC,IAAI,6BAA8BgD,GAC1CjD,QAAQC,IAAI,2BACZD,QAAQC,IAAI,8BAA8BgD,mCAG1C09B,MAAM19B,EAAU,CAAE3C,OAAQ,SACvBugC,KAAKjgC,IACJZ,QAAQC,IAAI,kBAAmBW,EAASC,QACxCb,QAAQC,IAAI,kBAAmBW,EAASd,QAAQgC,IAAI,iBACpD9B,QAAQC,IAAI,iCAAkCW,EAASd,QAAQgC,IAAI,kCAEpE+/B,MAAMphC,IACLT,QAAQS,MAAM,cAAeA,GAC7BT,QAAQS,MAAM,sBAGtB,EAMA,cAAAy0C,CAAe3wC,GACb,IAAKA,EACH,OAAO,KAIT,GAAsB,kBAAXA,IAAwBA,EAAOW,WAAW,YAAcX,EAAOW,WAAW,aACnF,OAAOX,EAIT,GAAsB,kBAAXA,EACT,IACE,MAAMyyC,EAAYtxC,KAAKC,MAAMpB,GAE7B,OAAIyyC,EAAUlmB,QACLkmB,EAAUlmB,MAAM6K,UAAYqb,EAAUlmB,MAAM,QAAUkmB,EAAUlmB,MAAM,SAExE,IACT,CAAE,MAAO9qB,GAEP,OADAhG,QAAQE,KAAK,aAAc8F,EAAG,QAASzB,GAChC,IACT,CAIF,MAAsB,kBAAXA,GAAuBA,EAAOusB,QAChCvsB,EAAOusB,MAAM6K,UAAYp3B,EAAOusB,MAAM,QAAUvsB,EAAOusB,MAAM,SAG/D,IACT,IC5tFqI,MCOrI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,GAAe,G,QClBX,GAAS,WAAkB,IAAIrtB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,4BAA4B,CAACN,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,SAAS,CAACM,YAAY,WAAWJ,MAAM,CAAC,aAAa,MAAMO,GAAG,CAAC,MAAQX,EAAIkb,SAAS,CAAChb,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,2BAA2B,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,eAAeF,EAAG,OAAO,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIqT,aAAa,YAAYrT,EAAIoH,GAAG,KAAKlH,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,0BAA0B,CAACN,EAAG,QAAQ,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAG,QAAQb,EAAG,MAAM,CAACM,YAAY,cAAcC,MAAM,CAAEoN,OAAwB,SAAhB7N,EAAIwzC,WAAqB7yC,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIyzC,MAAM,OAAO,IAAI,CAACvzC,EAAG,OAAO,CAACF,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,cAAcC,MAAM,CAAEoN,OAAwB,YAAhB7N,EAAIwzC,WAAwB7yC,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIyzC,MAAM,UAAU,IAAI,CAACvzC,EAAG,OAAO,CAACF,EAAIe,GAAG,YAAYb,EAAG,MAAM,CAACM,YAAY,cAAcC,MAAM,CAAEoN,OAAwB,YAAhB7N,EAAIwzC,WAAwB7yC,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIyzC,MAAM,UAAU,IAAI,CAACvzC,EAAG,OAAO,CAACF,EAAIe,GAAG,gBAAgBb,EAAG,MAAM,CAACM,YAAY,cAAcC,MAAM,CAAEoN,OAAwB,OAAhB7N,EAAIwzC,WAAmB7yC,GAAG,CAAC,MAAQ,SAAS0G,GAAQ,OAAOrH,EAAIyzC,MAAM,KAAK,IAAI,CAACvzC,EAAG,OAAO,CAACF,EAAIe,GAAG,iBAAiBb,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAAkB,SAAhBR,EAAIwzC,UAAoBtzC,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACM,YAAY,YAAY,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIqT,gBAAgBnT,EAAG,MAAM,CAACM,YAAY,eAAe,CAACR,EAAIe,GAAG,gFAAgFf,EAAIM,KAAsB,SAAhBN,EAAIwzC,UAAoBtzC,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACR,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,0BAA0B,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI0zC,sBAAsBxzC,EAAG,MAAM,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAG,iBAAiBb,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACR,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,iCAAiC,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI2zC,mBAAmBzzC,EAAG,MAAM,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAG,SAASf,EAAIgB,GAAGhB,EAAI4zC,kBAAkB,UAAU1zC,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACR,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,+BAA+B,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,uKAAuK,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,WAAWF,EAAG,SAAS,CAACE,MAAM,CAAC,GAAK,KAAK,GAAK,IAAI,EAAI,IAAI,OAAS,eAAe,eAAe,IAAI,iBAAiB,QAAQ,kBAAkB,iBAAiBF,EAAG,MAAM,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI4xC,qBAAqB1xC,EAAG,MAAM,CAACM,YAAY,aAAa,CAACR,EAAIe,GAAG,MAAMf,EAAIgB,GAAGhB,EAAI6zC,oBAAoB,YAA6B,SAAhB7zC,EAAIwzC,UAAoBtzC,EAAG,MAAM,CAACM,YAAY,QAAQ,CAACR,EAAIoH,GAAG,GAAGlH,EAAG,MAAM,CAACM,YAAY,iBAAiBR,EAAIuN,GAAIvN,EAAc,WAAE,SAASs2B,GAAM,OAAOp2B,EAAG,MAAM,CAACyD,IAAI2yB,EAAKpwB,GAAG1F,YAAY,iBAAiB,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkBC,MAAM61B,EAAK9xB,OAAOtE,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACN,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGs1B,EAAK3gB,SAASzV,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGs1B,EAAK5M,YAAY,GAAG,KAAK1pB,EAAIM,OAAwB,YAAhBN,EAAIwzC,UAAuBtzC,EAAG,uBAAuB,CAACE,MAAM,CAAC,YAAcJ,EAAI2zB,YAAY,UAAY3zB,EAAIhC,WAAW2C,GAAG,CAAC,gBAAgBX,EAAI8zC,mBAAmB,eAAe9zC,EAAI+zC,kBAAkB,cAAc/zC,EAAIg0C,oBAAqC,YAAhBh0C,EAAIwzC,UAAuBtzC,EAAG,uBAAuB,CAACE,MAAM,CAAC,UAAYJ,EAAIhC,WAAW2C,GAAG,CAAC,mBAAmBX,EAAIi0C,yBAAyB/zC,EAAG,kBAAkB,CAACE,MAAM,CAAC,UAAYJ,EAAIhC,cAAc,QAC91J,EACI,GAAkB,CAAC,WAAY,IAAIgC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACR,EAAIe,GAAG,QAC9J,EAAE,WAAY,IAAIf,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,MAAM,CAACM,YAAY,cAAc,CAACR,EAAIe,GAAG,WACpI,GCsIA,IACEzF,KAAM,mBACNwL,WAAY,CACVotC,qBAAoB,GACpBC,qBAAoB,GACpBC,gBAAe,IAEjB,IAAA13C,GACE,MAAO,CACL82C,UAAW,OACXx1C,UAAW,KACXqV,YAAa,SACbqgC,kBAAmB,EACnBW,eAAgB,EAChBzC,iBAAkB,EAClBiC,mBAAoB,EACpBS,WAAY,CACV,CAAEpuC,GAAI,EAAG1B,KAAM,MAAOmR,KAAM,4BAA6B+T,KAAM,QAC/D,CAAExjB,GAAI,EAAG1B,KAAM,SAAUmR,KAAM,wBAAyB+T,KAAM,QAC9D,CAAExjB,GAAI,EAAG1B,KAAM,KAAMmR,KAAM,6BAA8B+T,KAAM,OAC/D,CAAExjB,GAAI,EAAG1B,KAAM,OAAQmR,KAAM,8BAA+B+T,KAAM,OAClE,CAAExjB,GAAI,EAAG1B,KAAM,SAAUmR,KAAM,mBAAoB+T,KAAM,QAE3DiK,YAAa,CACX,CAAEztB,GAAI,EAAG5K,KAAM,uBAAwBkJ,KAAM,KAAMilB,SAAU,KAAMC,KAAM,mBAAoBhD,QAAS,OACtG,CAAExgB,GAAI,EAAG5K,KAAM,oBAAqBkJ,KAAM,KAAMilB,SAAU,KAAMC,KAAM,mBAAoBhD,QAAS,UACnG,CAAExgB,GAAI,EAAG5K,KAAM,gBAAiBkJ,KAAM,MAAOilB,SAAU,KAAMC,KAAM,mBAAoBhD,QAAS,WAChG,CAAExgB,GAAI,EAAG5K,KAAM,iBAAkBkJ,KAAM,OAAQilB,SAAU,KAAMC,KAAM,mBAAoBhD,QAAS,SAClG,CAAExgB,GAAI,EAAG5K,KAAM,iBAAkBkJ,KAAM,OAAQilB,SAAU,MAAOC,KAAM,mBAAoBhD,QAAS,WAGzG,EACA1f,SAAU,CAER,cAAA2sC,GACE,OAAO1zC,KAAKo0C,eAAiB,EAAIp0C,KAAKo0C,eAAiBp0C,KAAKs0C,mBAC9D,EAGA,gBAAAX,GACE,OAAO3zC,KAAKu0C,0BACd,GAEF,OAAA5vC,GAUE,GATA3E,KAAKjC,UAAYiC,KAAKsG,OAAO9H,OAAOyH,GACpC3J,QAAQC,IAAI,uCAAwCyD,KAAKjC,WACzDiC,KAAKw0C,kBAELx0C,KAAK+uB,uBAEL/uB,KAAKy0C,wBAGDz0C,KAAKjC,UACP,IAEE,MAAMyb,EAAStd,aAAaC,QAAQ,wBAAwB6D,KAAKjC,aAC3D0b,EAAYD,EAASE,SAASF,EAAQ,IAAMG,KAC7CC,MAAMH,IAAcA,EAAY,IACnCzZ,KAAK2xC,iBAAmBl4B,EACxBzZ,KAAK4zC,mBAAqB9hC,KAAKyQ,MAA8B,IAAxBviB,KAAK2xC,kBAC1Cr1C,QAAQC,IAAI,eAAgByD,KAAK2xC,mBAInC,MAAM+C,EAAiB,qBAAqB10C,KAAKjC,YAC3C42C,EAAYz4C,aAAaC,QAAQu4C,GACvC,GAAIC,EAAW,CACb,MAAMC,EAAW5yC,KAAKC,MAAM0yC,GACxBC,EAAS1a,MAAQlyB,MAAMC,QAAQ2sC,EAAS1a,QAC1Cl6B,KAAKo0C,eAAiBQ,EAAS1a,KAAK71B,OACpC/H,QAAQC,IAAI,eAAgByD,KAAKo0C,gBAErC,CACF,CAAE,MAAO9xC,GACPhG,QAAQE,KAAK,UAAW8F,EAC1B,CAIFtC,KAAKyd,UAAU,KAEbzd,KAAK60C,aAET,EACA,aAAAtvC,GAEEvF,KAAKsuB,oBACP,EACA3oB,QAAS,CACP,MAAAsV,GACEjb,KAAKwG,QAAQyqC,IAAI,EACnB,EACA,KAAAuC,CAAMsB,GACA90C,KAAKuzC,YAAcuB,IACvB90C,KAAKuzC,UAAYuB,EACnB,EACA,qBAAMN,GAEJ,IAAKx0C,KAAKjC,UAER,YADAiC,KAAKoT,YAAc,UAIrB,IACE,MAAMlW,QAAiB,GAAAQ,WAAWS,eAAe6B,KAAKjC,WAEtD,GAAIb,GAA8B,MAAlBA,EAASoM,MAAgBpM,EAAST,KAIhD,OAFAuD,KAAKoT,YAAclW,EAAST,KAAKpB,MAAQ,YACzCiB,QAAQC,IAAI,eAAgByD,KAAKoT,YAGrC,CAAE,MAAOrW,GACPT,QAAQS,MAAM,8BAA+BA,EAC/C,CAGA,MAAM0Z,EAAgBva,aAAaC,QAAQ,YAI3C,GAHAG,QAAQC,IAAI,oBAAqByD,KAAKjC,UAAW,aAAciC,KAAKjC,WACpEzB,QAAQC,IAAI,sBAAuBka,GAE/BA,EACF,IACE,MAAM3D,EAAW9Q,KAAKC,MAAMwU,GAC5Bna,QAAQC,IAAI,YAAauW,GACzBxW,QAAQC,IAAI,UAAWuW,EAASI,IAAI4B,IAAK,CAAG7O,GAAI6O,EAAE7O,GAAI1B,YAAauQ,EAAE7O,OAGrE,MAAMhL,EAAU6X,EAASmE,KAAKnC,GAAK5O,OAAO4O,EAAE7O,MAAQC,OAAOlG,KAAKjC,YAE5D9C,GAEF+E,KAAKoT,YAAcnY,EAAQI,MAAQJ,EAAQqR,OAAS,OACpDhQ,QAAQC,IAAI,QAASyD,KAAKoT,YAAa,QAASnY,KAEhD+E,KAAKoT,YAAc,OACnB9W,QAAQC,IAAI,YAAayD,KAAKjC,UAAW,UAAW+U,EAASI,IAAI4B,GAAKA,EAAE7O,KAE5E,CAAE,MAAOlJ,GACPT,QAAQS,MAAM,YAAaA,GAC3BiD,KAAKoT,YAAc,MACrB,MAEApT,KAAKoT,YAAc,OACnB9W,QAAQC,IAAI,sBAEhB,EAGA,kBAAAs3C,CAAmB10C,GAEjB,MAAM41C,EAAc,CAClB9uC,GAAIkJ,KAAK0S,MACTtd,KAAM,MACNmR,KAAM,MAAMvW,EAAKoF,QAAQpF,EAAK9D,OAC9BouB,KAAM,MAERzpB,KAAKq0C,WAAW/wB,QAAQyxB,GAGxB/0C,KAAKsuB,qBAGLtuB,KAAKg1C,uBACP,EAEA,qBAAAhB,CAAsBrb,GAEpB,MAAMoc,EAAc,CAClB9uC,GAAIkJ,KAAK0S,MACTtd,KAAM,SACNmR,KAAM,UAAUijB,EAAIrsB,QACpBmd,KAAM,MAERzpB,KAAKq0C,WAAW/wB,QAAQyxB,GAGxB/0C,KAAKsuB,qBAGLtuB,KAAKi1C,qBAGLj1C,KAAKk1C,aACP,EAEA,iBAAApB,CAAkB30C,GAEhB,MAAM41C,EAAc,CAClB9uC,GAAIkJ,KAAK0S,MACTtd,KAAM,SACNmR,KAAM,MAAMvW,EAAKoF,QAAQpF,EAAK9D,OAC9BouB,KAAM,MAERzpB,KAAKq0C,WAAW/wB,QAAQyxB,GAGxB/0C,KAAKsuB,qBAGLtuB,KAAKg1C,uBACP,EAEA,gBAAAjB,CAAiB50C,GAEf,MAAM41C,EAAc,CAClB9uC,GAAIkJ,KAAK0S,MACTtd,KAAM,OACNmR,KAAM,MAAMvW,EAAKoF,aAAapF,EAAK9D,OACnCouB,KAAM,MAERzpB,KAAKq0C,WAAW/wB,QAAQyxB,GAGxB/0C,KAAKsuB,oBAGP,EAEA,eAAMumB,SAEE73C,QAAQ8c,IAAI,CAChB9Z,KAAKg1C,wBACLh1C,KAAKi1C,qBACLj1C,KAAKm1C,wBAET,EAKA,2BAAMH,GACJ,GAAKh1C,KAAKjC,UAKV,IACEzB,QAAQC,IAAI,qBAAsByD,KAAKjC,WACvC,MAAMb,QAAiB0zB,GAAaG,uBAAuB/wB,KAAKjC,UAAW,EAAG,GAC9EzB,QAAQC,IAAI,UAAWW,GAEnBA,GAA8B,MAAlBA,EAASoM,MAAgBpM,EAAST,MAEhDuD,KAAKyzC,kBAAoBv2C,EAAST,KAAK24C,eAAiBl4C,EAAST,KAAK44C,OAAS,EAC/E/4C,QAAQC,IAAI,QAASyD,KAAKyzC,qBAE1Bn3C,QAAQE,KAAK,cAAeU,GAC5B8C,KAAKyzC,kBAAoB,EAE7B,CAAE,MAAO12C,GACPT,QAAQS,MAAM,YAAaA,GAC3BiD,KAAKyzC,kBAAoB,CAC3B,MApBEn3C,QAAQE,KAAK,uBAqBjB,EAKA,kBAAAy4C,GACE,IAAKj1C,KAAKjC,UAGR,OAFAzB,QAAQE,KAAK,6BACbwD,KAAKo0C,eAAiB,GAIxB,IACE,MAAMtlB,EAAa,qBAAqB9uB,KAAKjC,YACvCixB,EAAQ9yB,aAAaC,QAAQ2yB,GACnC,GAAIE,EAAO,CACT,MAAMvyB,EAAOuF,KAAKC,MAAM+sB,GAClBjN,EAAQtlB,EAAKy9B,MAAQlyB,MAAMC,QAAQxL,EAAKy9B,MAAQz9B,EAAKy9B,KAAK71B,OAAS,EACzErE,KAAKo0C,eAAiBryB,EACtBzlB,QAAQC,IAAI,gBAAiByD,KAAKo0C,eAAgB,IACpD,MAEEp0C,KAAKo0C,eAAiB,EACtB93C,QAAQC,IAAI,YAEhB,CAAE,MAAOQ,GACPT,QAAQS,MAAM,YAAaA,GAC3BiD,KAAKo0C,eAAiB,CACxB,CACF,EAMA,iBAAM9/B,CAAYvW,GAChB,IAAKA,EACH,OAAO,EAIT,IACE,MAAMyb,EAAStd,aAAaC,QAAQ,wBAAwB4B,KACtD0b,EAAYD,EAASE,SAASF,EAAQ,IAAMG,IAClD,IAAKC,MAAMH,IAAcA,EAAY,EAEnC,OADAnd,QAAQC,IAAI,WAAWwB,aAAsB0b,GACtCA,CAEX,CAAE,MAAOnX,GACPhG,QAAQE,KAAK,gBAAiB8F,EAChC,CAGA,IACEhG,QAAQC,IAAI,WAAYwB,EAAW,WACnC,MAAMb,QAAiB,GAAAQ,WAAWkC,kBAAkB7B,EAAW,EAAG,KAElE,GAAIb,GAA8B,MAAlBA,EAASoM,KAAc,CACrC,IAAI8N,EAAc,EAUlB,GATIla,EAAST,MAAQS,EAAST,KAAKsW,QAEjCqE,EAAcla,EAAST,KAAKsW,QAAQ1O,OAC3B2D,MAAMC,QAAQ/K,EAAST,QAEhC2a,EAAcla,EAAST,KAAK4H,QAI1B+S,EAAc,EAChB,IACElb,aAAa+G,QAAQ,wBAAwBlF,IAAamI,OAAOkR,IACjE9a,QAAQC,IAAI,WAAWwB,aAAsBqZ,EAC/C,CAAE,MAAO9U,GACPhG,QAAQE,KAAK,cAAe8F,GAAG7E,SAAW6E,EAC5C,CAGF,OAAO8U,EAAc,EAAIA,EAAc,CACzC,CACF,CAAE,MAAOra,GACPT,QAAQE,KAAK,QAAQuB,YAAqBhB,EAC5C,CAGA,OAAO,CACT,EAKA,0BAAMo4C,GACJ,MAAMp3C,EAAYiC,KAAKjC,WAAaiC,KAAKsG,OAAO9H,OAAOyH,GACvD,IAAKlI,EAIH,OAHAzB,QAAQE,KAAK,0BACbwD,KAAK2xC,iBAAmB,OACxB3xC,KAAK4zC,mBAAqB,GAK5B5zC,KAAK2xC,uBAAyB3xC,KAAKsU,YAAYvW,GAG/C,IACE,MAAMb,QAAiB,GAAAQ,WAAWkC,kBAAkB7B,EAAW,EAAG,KAClE,GAAIb,GAA8B,MAAlBA,EAASoM,KAAc,CACrC,IAAI6O,EAAU,GACVjb,EAAST,MAAQS,EAAST,KAAKsW,QACjCoF,EAAUjb,EAAST,KAAKsW,QACf/K,MAAMC,QAAQ/K,EAAST,QAChC0b,EAAUjb,EAAST,MAKrB,MAAM64C,EAAcn9B,EAAQ5H,OAAO8kB,IAET,IAApBA,EAAOkgB,WAA0C,IAArBlgB,EAAOmgB,YAAwC,IAAlBngB,EAAOogB,SAGxC,WAAxBpgB,EAAOqgB,cAAqD,WAAxBrgB,EAAOqgB,eAGzB,WAAlBrgB,EAAOl4B,QAAyC,WAAlBk4B,EAAOl4B,QAAyC,WAAlBk4B,EAAOl4B,UAKtEkH,OAGC8T,EAAQ9T,OAAS,IAAM8T,EAAQ,GAAGw9B,eAAe,aACzBx9B,EAAQ,GAAGw9B,eAAe,cAC1Bx9B,EAAQ,GAAGw9B,eAAe,WAC1Bx9B,EAAQ,GAAGw9B,eAAe,iBAC1Bx9B,EAAQ,GAAGw9B,eAAe,YACpD31C,KAAK4zC,mBAAqB0B,EAC1Bh5C,QAAQC,IAAI,eAAgByD,KAAK4zC,mBAAoB,SAAU5zC,KAAK2xC,iBAAkB,QAGtF3xC,KAAK4zC,mBAAqB9hC,KAAKyQ,MAA8B,IAAxBviB,KAAK2xC,kBAC1Cr1C,QAAQC,IAAI,uBAAwByD,KAAK4zC,mBAAoB,SAAU5zC,KAAK2xC,iBAAkB,MAElG,MAEE3xC,KAAK4zC,mBAAqB9hC,KAAKyQ,MAA8B,IAAxBviB,KAAK2xC,kBAC1Cr1C,QAAQC,IAAI,uBAAwByD,KAAK4zC,mBAAoB,IAEjE,CAAE,MAAO72C,GACPT,QAAQE,KAAK,uBAAwBO,GAErCiD,KAAK4zC,mBAAqB9hC,KAAKyQ,MAA8B,IAAxBviB,KAAK2xC,iBAC5C,CAEAr1C,QAAQC,IAAI,gBAAiByD,KAAK2xC,iBAAkB,SAAU3xC,KAAK4zC,mBAAoB,IACzF,EAEA,WAAAsB,GAEEl1C,KAAK60C,WACP,EAGA,kBAAAvmB,GACE,IACE,MAAMO,EAAa,CACjBwlB,WAAYr0C,KAAKq0C,WACjBt2C,UAAWiC,KAAKjC,WAElB7B,aAAa+G,QAAQ,oBAAoBjD,KAAKjC,YAAaiE,KAAKmB,UAAU0rB,IAC1EvyB,QAAQC,IAAI,kBACd,CAAE,MAAOQ,GACPT,QAAQS,MAAM,aAAcA,EAC9B,CACF,EAEA,oBAAAgyB,GACE,IACE,MAAMC,EAAQ9yB,aAAaC,QAAQ,oBAAoB6D,KAAKjC,aAC5D,GAAIixB,EAAO,CACT,MAAMvyB,EAAOuF,KAAKC,MAAM+sB,GACpBvyB,EAAK43C,YAAcrsC,MAAMC,QAAQxL,EAAK43C,cACxCr0C,KAAKq0C,WAAa53C,EAAK43C,WACvB/3C,QAAQC,IAAI,mBAEhB,CACF,CAAE,MAAOQ,GACPT,QAAQS,MAAM,aAAcA,EAC9B,CACF,EAGA,qBAAA64C,GACE,IACE,MAAM9mB,EAAa9uB,KAAKjC,UAAY,wBAAwBiC,KAAKjC,YAAc,uBACzEixB,EAAQ9yB,aAAaC,QAAQ2yB,GACnC,GAAIE,EAAO,CACT,MAAMvyB,EAAOuF,KAAKC,MAAM+sB,GACxB,OAAOvyB,EAAK8xB,cAAgB9xB,EAAK8xB,cAAclqB,OAAS,CAC1D,CACF,CAAE,MAAOtH,GACPT,QAAQS,MAAM,cAAeA,EAC/B,CACA,OAAO,CACT,EAGA,iBAAAu3C,GACE,IACE,MAAMxlB,EAAa9uB,KAAKjC,UAAY,qBAAqBiC,KAAKjC,YAAc,oBACtEixB,EAAQ9yB,aAAaC,QAAQ2yB,GACnC,GAAIE,EAAO,CACT,MAAMvyB,EAAOuF,KAAKC,MAAM+sB,GACxB,OAAOvyB,EAAKy9B,KAAOz9B,EAAKy9B,KAAK71B,OAAS,CACxC,CACF,CAAE,MAAOtH,GACPT,QAAQS,MAAM,YAAaA,EAC7B,CACA,OAAO,CACT,EAGA,wBAAAw3C,GAGE,OAAOziC,KAAKuM,IAAI,EAAGvM,KAAKyQ,MAAiC,GAA3BviB,KAAKs0C,qBACrC,EAGA,qBAAAG,GACE,IAAKz0C,KAAKjC,UAAW,OAGrB,MAAMH,EAAcoC,KAAK61C,uBAAuB71C,KAAKjC,WAGrDiC,KAAK81C,sBAAsBl4C,EAAYm4C,SAGvC/1C,KAAKg2C,sBAAsBp4C,EAAYq4C,QACzC,EAGA,sBAAAJ,CAAuB93C,GACrB,MAAMm4C,EAAiB,CACrB,EAAK,CACHH,QAAS,CACP,CAAE9vC,GAAI,EAAG5K,KAAM,mBAAoBkJ,KAAM,MAAOilB,SAAU,MAAOC,KAAM,mBAAoBhD,QAAS,WACpG,CAAExgB,GAAI,EAAG5K,KAAM,eAAgBkJ,KAAM,KAAMilB,SAAU,OAAQC,KAAM,mBAAoBhD,QAAS,OAChG,CAAExgB,GAAI,EAAG5K,KAAM,iBAAkBkJ,KAAM,OAAQilB,SAAU,OAAQC,KAAM,mBAAoBhD,QAAS,UAEtGwvB,QAAS,CACP,CAAEhwC,GAAI,EAAGqG,MAAO,cAAewsB,QAAS,cAAe/lB,QAAS,qDAChE,CAAE9M,GAAI,EAAGqG,MAAO,aAAcwsB,QAAS,cAAe/lB,QAAS,sDAGnE,EAAK,CACHgjC,QAAS,CACP,CAAE9vC,GAAI,EAAG5K,KAAM,eAAgBkJ,KAAM,OAAQilB,SAAU,QAASC,KAAM,mBAAoBhD,QAAS,UACnG,CAAExgB,GAAI,EAAG5K,KAAM,eAAgBkJ,KAAM,MAAOilB,SAAU,OAAQC,KAAM,mBAAoBhD,QAAS,WACjG,CAAExgB,GAAI,EAAG5K,KAAM,gBAAiBkJ,KAAM,KAAMilB,SAAU,OAAQC,KAAM,mBAAoBhD,QAAS,WAEnGwvB,QAAS,CACP,CAAEhwC,GAAI,EAAGqG,MAAO,WAAYwsB,QAAS,cAAe/lB,QAAS,kDAC7D,CAAE9M,GAAI,EAAGqG,MAAO,WAAYwsB,QAAS,cAAe/lB,QAAS,oDAGjE,EAAK,CACHgjC,QAAS,CACP,CAAE9vC,GAAI,EAAG5K,KAAM,cAAekJ,KAAM,OAAQilB,SAAU,QAASC,KAAM,mBAAoBhD,QAAS,SAClG,CAAExgB,GAAI,EAAG5K,KAAM,gBAAiBkJ,KAAM,KAAMilB,SAAU,OAAQC,KAAM,mBAAoBhD,QAAS,OACjG,CAAExgB,GAAI,EAAG5K,KAAM,eAAgBkJ,KAAM,MAAOilB,SAAU,OAAQC,KAAM,mBAAoBhD,QAAS,YAEnGwvB,QAAS,CACP,CAAEhwC,GAAI,EAAGqG,MAAO,YAAawsB,QAAS,cAAe/lB,QAAS,oDAC9D,CAAE9M,GAAI,EAAGqG,MAAO,cAAewsB,QAAS,cAAe/lB,QAAS,wDAKtE,OAAOmjC,EAAen4C,IAAc,CAClCg4C,QAAS,GACTE,QAAS,GAEb,EAGA,qBAAAH,CAAsBK,GACpB,IAAKA,GAAsC,IAAvBA,EAAY9xC,OAAc,OAG9C,MAAMyqB,EAAa,wBAAwB9uB,KAAKjC,YAC1Cq4C,EAAWl6C,aAAaC,QAAQ2yB,GACtC,IAAKsnB,EAAU,CACb,MAAMC,EAAc,CAClB9nB,cAAe4nB,EACfvhC,YAAa,GAEf1Y,aAAa+G,QAAQ6rB,EAAY9sB,KAAKmB,UAAUkzC,IAChD/5C,QAAQC,IAAI,UAAUyD,KAAKjC,oBAC7B,CACF,EAGA,qBAAAi4C,CAAsBM,GACpB,IAAKA,GAAsC,IAAvBA,EAAYjyC,OAAc,OAG9C,MAAMyqB,EAAa,qBAAqB9uB,KAAKjC,YACvCq4C,EAAWl6C,aAAaC,QAAQ2yB,GACtC,IAAKsnB,EAAU,CACb,MAAMC,EAAc,CAClBnc,KAAMoc,EACN1d,SAAU0d,EAAY,IAAIrwC,IAAM,EAChCkzB,mBAAmB,GAErBj9B,aAAa+G,QAAQ6rB,EAAY9sB,KAAKmB,UAAUkzC,IAChD/5C,QAAQC,IAAI,UAAUyD,KAAKjC,mBAC7B,CACF,ICxsBwI,MCOxI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,GAAe,G,QCDf,KAAI/B,IAAI,MAER,MAAMu6C,GAAS,CACb,CACEhwC,KAAM,IACNiwC,SAAU,SAEZ,CACEjwC,KAAM,SACNlL,KAAM,QACNuL,UAAW6vC,GAEb,CACElwC,KAAM,YACNlL,KAAM,WACNuL,UAAW8vC,GAEb,CACEnwC,KAAM,mBACNlL,KAAM,iBACNuL,UAAW+vC,GAEb,CACEpwC,KAAM,QACNlL,KAAM,OACNuL,UAAWgwC,IAEb,CACErwC,KAAM,kBACNlL,KAAM,gBACNuL,UAAWiwC,IAEb,CACEtwC,KAAM,kBACNlL,KAAM,gBACNuL,UAAWkwC,IAEb,CACEvwC,KAAM,sBACNlL,KAAM,gBACNuL,UAAWmwC,IAEb,CACExwC,KAAM,yBACNlL,KAAM,mBACNuL,UAAWowC,IAEb,CACEzwC,KAAM,kBACNlL,KAAM,gBACNuL,UAAWqwC,GACXC,SAAU,CACR,CAAE3wC,KAAM,OAAQK,UAAW,CAAE9G,OAAQ4sB,GAAKA,EAAE,SAC5C,CAAEnmB,KAAM,UAAWK,UAAWqtC,IAC9B,CAAE1tC,KAAM,UAAWK,UAAWstC,IAC9B,CAAE3tC,KAAM,KAAMK,UAAWutC,MAG7B,CACE5tC,KAAM,gBACNlL,KAAM,cACNuL,UAAWuwC,IAEb,CACE5wC,KAAM,WACNlL,KAAM,UACNuL,UAAWwwC,KAITC,GAAS,IAAI,KAAU,CAC3BC,KAAM,UACNC,KAAM,IACNhB,YAIFc,GAAOG,WAAW,CAACC,EAAI7kC,EAAM8kC,KAC3B,MAAMz7C,EAAQC,aAAaC,QAAQ,gBAC7BqG,EAAWtG,aAAaC,QAAQ,aAChC+R,KAAqBjS,IAASuG,GAWpC,GATAlG,QAAQC,IAAI,UAAW,CACrBk7C,GAAIA,EAAGlxC,KACPqM,KAAMA,EAAKrM,KACX2H,kBACAjS,QAASA,EACTuG,WAAYA,IAIVi1C,EAAGlxC,OAASqM,EAAKrM,KAGnB,OAFAjK,QAAQC,IAAI,mBACZm7C,IAKF,GAAgB,WAAZD,EAAGlxC,KAQL,YAPI2H,GACF5R,QAAQC,IAAI,qBACZm7C,EAAK,CAAEnxC,KAAM,QAASyE,SAAS,MAE/B1O,QAAQC,IAAI,gBACZm7C,MAMJ,GAAgB,cAAZD,EAAGlxC,MAAoC,qBAAZkxC,EAAGlxC,KAGhC,OAFAjK,QAAQC,IAAI,uBACZm7C,IAKF,MAAMC,EAAoB,CAAC,QAAS,kBAAmB,YACvD,GAAIA,EAAkBl2C,SAASg2C,EAAGlxC,MAGhC,OAFAjK,QAAQC,IAAI,qBACZm7C,IAKF,MAAMzpC,EAAoB,CACxB,kBACA,gBACA,kBACA,kBACA,qBACA,YAGI2pC,EAAY3pC,EAAkB2I,KAAKtY,GAAQm5C,EAAGlxC,KAAK/E,WAAWlD,IAEhEs5C,EACG1pC,GAKH5R,QAAQC,IAAI,YACZm7C,MALAp7C,QAAQC,IAAI,mBAEZm7C,EAAK,CAAEnxC,KAAM,SAAUyE,SAAS,MASpC1O,QAAQC,IAAI,aACZm7C,OAGF,UC1KI,GAAS,WAAkB,IAAI33C,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,SAAS,CAACO,MAAMT,EAAI83C,cAAc13C,MAAM,CAAC,SAAWJ,EAAI+3C,UAAY/3C,EAAI8I,QAAQ,KAAO9I,EAAIwE,MAAM7D,GAAG,CAAC,MAAQX,EAAIg4C,cAAc,CAAEh4C,EAAW,QAAEE,EAAG,MAAM,CAACM,YAAY,kCAAkCJ,MAAM,CAAC,MAAQ,6BAA6B,KAAO,OAAO,QAAU,cAAc,CAACF,EAAG,SAAS,CAACM,YAAY,aAAaJ,MAAM,CAAC,GAAK,KAAK,GAAK,KAAK,EAAI,KAAK,OAAS,eAAe,eAAe,OAAOF,EAAG,OAAO,CAACM,YAAY,aAAaJ,MAAM,CAAC,KAAO,eAAe,EAAI,uHAAuHJ,EAAIM,KAAON,EAAI8I,QAAyE9I,EAAIM,KAApEN,EAAIi4C,GAAG,UAAU,WAAW,MAAO,CAACj4C,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI2V,OAAO,GAAa3V,EAAW,QAAEE,EAAG,OAAO,CAACM,YAAY,QAAQ,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIk4C,gBAAgBl4C,EAAIM,MAAM,EAC90B,EACI,GAAkB,GCgCtB,IACEhF,KAAM,SACNiJ,MAAO,CACL4zC,QAAS,CACP3zC,KAAM2B,OACNzB,QAAS,UACT0zC,UAAWxwC,GAAS,CAAC,UAAW,YAAa,UAAW,UAAW,QAAS,SAASlG,SAASkG,IAEhGpJ,KAAM,CACJgG,KAAM2B,OACNzB,QAAS,KACT0zC,UAAWxwC,GAAS,CAAC,KAAM,KAAM,KAAM,MAAMlG,SAASkG,IAExDmwC,SAAU,CACRvzC,KAAMC,QACNC,SAAS,GAEXoE,QAAS,CACPtE,KAAMC,QACNC,SAAS,GAEXwzC,YAAa,CACX1zC,KAAM2B,OACNzB,QAAS,UAEXiR,KAAM,CACJnR,KAAM2B,OACNzB,QAAS,IAEXF,KAAM,CACJA,KAAM2B,OACNzB,QAAS,UAEX2zC,UAAW,CACT7zC,KAAMC,QACNC,SAAS,IAGbsC,SAAU,CACR,aAAA8wC,GACE,MAAMQ,EAAc,CAClB,MACA,OAAOr4C,KAAKk4C,UACZ,OAAOl4C,KAAKzB,OACZyB,KAAKo4C,UAAY,WAAa,GAC9Bp4C,KAAK6I,QAAU,cAAgB,IAC/B0H,OAAO/L,SAET,OAAO6zC,EAAYjlB,KAAK,IAC1B,GAEFztB,QAAS,CACP,WAAAoyC,CAAYhyC,GACL/F,KAAK83C,UAAa93C,KAAK6I,SAC1B7I,KAAK+K,MAAM,QAAShF,EAExB,IC1F8H,MCQ9H,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIF,GAAe,G,QCnBX,GAAS,WAAkB,IAAIhG,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACO,MAAMT,EAAIu4C,YAAY53C,GAAG,CAAC,MAAQX,EAAIg4C,cAAc,CAAEh4C,EAAIw4C,OAAa,OAAEt4C,EAAG,MAAM,CAACM,YAAY,eAAe,CAACR,EAAIi4C,GAAG,WAAW,GAAGj4C,EAAIM,KAAMN,EAAIw4C,OAAY,MAAEt4C,EAAG,MAAM,CAACM,YAAY,cAAc,CAACR,EAAIi4C,GAAG,UAAU,GAAGj4C,EAAIM,KAAKJ,EAAG,MAAM,CAACM,YAAY,aAAa,CAACR,EAAIi4C,GAAG,YAAY,GAAIj4C,EAAIw4C,OAAa,OAAEt4C,EAAG,MAAM,CAACM,YAAY,eAAe,CAACR,EAAIi4C,GAAG,WAAW,GAAGj4C,EAAIM,MAC5b,EACI,GAAkB,GCmBtB,IACEhF,KAAM,OACNiJ,MAAO,CACL4zC,QAAS,CACP3zC,KAAM2B,OACNzB,QAAS,UACT0zC,UAAWxwC,GAAS,CAAC,UAAW,WAAY,WAAY,UAAUlG,SAASkG,IAE7E6wC,MAAO,CACLj0C,KAAMC,QACNC,SAAS,GAEXg0C,UAAW,CACTl0C,KAAMC,QACNC,SAAS,GAEXi0C,QAAS,CACPn0C,KAAM2B,OACNzB,QAAS,KACT0zC,UAAWxwC,GAAS,CAAC,OAAQ,KAAM,KAAM,KAAM,MAAMlG,SAASkG,KAGlEZ,SAAU,CACR,WAAAuxC,GACE,MAAMD,EAAc,CAClB,OACA,QAAQr4C,KAAKk4C,UACb,gBAAgBl4C,KAAK04C,UACrB14C,KAAKw4C,MAAQ,aAAe,GAC5Bx4C,KAAKy4C,UAAY,iBAAmB,IACpCloC,OAAO/L,SAET,OAAO6zC,EAAYjlB,KAAK,IAC1B,GAEFztB,QAAS,CACP,WAAAoyC,CAAYhyC,GACN/F,KAAKy4C,WACPz4C,KAAK+K,MAAM,QAAShF,EAExB,IC7D4H,MCQ5H,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIF,GAAe,G,QCnBX,GAAS,WAAkB,IAAIhG,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,eAAe,CAAER,EAAS,MAAEE,EAAG,QAAQ,CAACM,YAAY,cAAcJ,MAAM,CAAC,IAAMJ,EAAI44C,UAAU,CAAC54C,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI64C,OAAO,KAAM74C,EAAY,SAAEE,EAAG,OAAO,CAACM,YAAY,qBAAqB,CAACR,EAAIe,GAAG,OAAOf,EAAIM,OAAON,EAAIM,KAAKJ,EAAG,MAAM,CAACM,YAAY,gBAAgBC,MAAM,CAAE,cAAeT,EAAI84C,SAAU,iBAAkB94C,EAAI+3C,WAAY,CAAE/3C,EAAIw4C,OAAa,OAAEt4C,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACR,EAAIi4C,GAAG,WAAW,GAAGj4C,EAAIM,KAAKJ,EAAG,QAAQ,CAACM,YAAY,cAAcJ,MAAM,CAAC,GAAKJ,EAAI44C,QAAQ,KAAO54C,EAAIwE,KAAK,YAAcxE,EAAIqwB,YAAY,SAAWrwB,EAAI+3C,SAAS,SAAW/3C,EAAI+4C,SAAS,SAAW/4C,EAAIg5C,SAAS,IAAMh5C,EAAIse,IAAI,IAAMte,EAAIiW,IAAI,KAAOjW,EAAIi5C,KAAK,UAAYj5C,EAAIk5C,UAAU,UAAYl5C,EAAIm5C,UAAU,QAAUn5C,EAAIo5C,QAAQ,aAAep5C,EAAIq5C,cAActxC,SAAS,CAAC,MAAQ/H,EAAIs5C,YAAY34C,GAAG,CAAC,MAAQX,EAAIu5C,YAAY,MAAQv5C,EAAIw5C,YAAY,KAAOx5C,EAAIy5C,WAAW,QAAUz5C,EAAI05C,iBAAkB15C,EAAIw4C,OAAa,OAAEt4C,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACR,EAAIi4C,GAAG,WAAW,GAAGj4C,EAAIM,KAAMN,EAAI25C,WAAa35C,EAAIs5C,aAAet5C,EAAI+3C,SAAU73C,EAAG,MAAM,CAACM,YAAY,cAAcG,GAAG,CAAC,MAAQX,EAAI45C,cAAc,CAAC15C,EAAG,MAAM,CAACM,YAAY,UAAUJ,MAAM,CAAC,KAAO,OAAO,OAAS,eAAe,QAAU,cAAc,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,iBAAiB,QAAQ,kBAAkB,QAAQ,eAAe,IAAI,EAAI,8BAA8BJ,EAAIM,OAAQN,EAAI65C,UAAY75C,EAAI84C,SAAU54C,EAAG,MAAM,CAACM,YAAY,cAAc,CAAER,EAAY,SAAEE,EAAG,OAAO,CAACM,YAAY,gBAAgB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAImL,iBAAkBnL,EAAY,SAAEE,EAAG,OAAO,CAACM,YAAY,iBAAiB,CAACR,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI65C,aAAa75C,EAAIM,OAAON,EAAIM,MAClpD,EACI,GAAkB,GCmDtB,IACEhF,KAAM,QACNiJ,MAAO,CACL+0C,WAAY,CACV90C,KAAM,CAAC2B,OAAQytB,QACflvB,QAAS,IAEXF,KAAM,CACJA,KAAM2B,OACNzB,QAAS,QAEXm0C,MAAO,CACLr0C,KAAM2B,OACNzB,QAAS,IAEX2rB,YAAa,CACX7rB,KAAM2B,OACNzB,QAAS,IAEXm1C,SAAU,CACRr1C,KAAM2B,OACNzB,QAAS,IAEXyG,aAAc,CACZ3G,KAAM2B,OACNzB,QAAS,IAEXqzC,SAAU,CACRvzC,KAAMC,QACNC,SAAS,GAEXq0C,SAAU,CACRv0C,KAAMC,QACNC,SAAS,GAEXs0C,SAAU,CACRx0C,KAAMC,QACNC,SAAS,GAEXi1C,UAAW,CACTn1C,KAAMC,QACNC,SAAS,GAEXlG,KAAM,CACJgG,KAAM2B,OACNzB,QAAS,KACT0zC,UAAWxwC,GAAS,CAAC,KAAM,KAAM,MAAMlG,SAASkG,IAGlD0W,IAAK,CACH9Z,KAAM,CAAC2B,OAAQytB,QACflvB,aAAS9H,GAEXqZ,IAAK,CACHzR,KAAM,CAAC2B,OAAQytB,QACflvB,aAAS9H,GAEXq8C,KAAM,CACJz0C,KAAM,CAAC2B,OAAQytB,QACflvB,aAAS9H,GAEXs8C,UAAW,CACT10C,KAAM,CAAC2B,OAAQytB,QACflvB,aAAS9H,GAEXu8C,UAAW,CACT30C,KAAM,CAAC2B,OAAQytB,QACflvB,aAAS9H,GAEXw8C,QAAS,CACP50C,KAAM2B,OACNzB,aAAS9H,GAEXy8C,aAAc,CACZ70C,KAAM2B,OACNzB,aAAS9H,IAGbk9C,MAAO,CAAC,oBAAqB,QAAS,OAAQ,UAAW,SACzD9yC,SAAU,CACR,OAAA4xC,GACE,MAAO,SAAS34C,KAAK85C,MACvB,EACA,QAAAjB,GACE,QAAS74C,KAAKkL,YAChB,GAEFvF,QAAS,CACP,WAAA2zC,CAAYvzC,GACV/F,KAAK+K,MAAM,oBAAqBhF,EAAMK,OAAOuB,MAC/C,EACA,WAAA4xC,CAAYxzC,GACV/F,KAAK+K,MAAM,QAAShF,EACtB,EACA,UAAAyzC,CAAWzzC,GACT/F,KAAK+K,MAAM,OAAQhF,EACrB,EACA,aAAA0zC,CAAc1zC,GACZ/F,KAAK+K,MAAM,UAAWhF,EACxB,EACA,WAAA4zC,GACE35C,KAAK+K,MAAM,oBAAqB,IAChC/K,KAAK+K,MAAM,QACb,IC5J6H,MCQ7H,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIF,GAAe,G,QCff,MAAMgvC,GAAQ,CACZrvC,KAAM,KACNwD,iBAAiB,EACjBrF,SAAS,GAGLmxC,GAAY,CAChB,QAAAC,CAASF,EAAOrvC,GACdqvC,EAAMrvC,KAAOA,EACbqvC,EAAM7rC,kBAAoBxD,CAC5B,EACA,WAAAwvC,CAAYH,EAAOlxC,GACjBkxC,EAAMlxC,QAAUA,CAClB,EACA,UAAAsxC,CAAWJ,GACTA,EAAMrvC,KAAO,KACbqvC,EAAM7rC,iBAAkB,CAC1B,GAGIksC,GAAU,CAEd,QAAAC,EAAS,OAAEC,IACT,MAAM5vC,EAAOtH,IACTsH,GAAQvJ,KACVm5C,EAAO,WAAY5vC,EAEvB,EAGA,WAAMxB,EAAM,OAAEoxC,GAAUz3C,GACtBy3C,EAAO,eAAe,GACtB,IACE,MAAMp9C,QAAiB6L,EAAQG,MAAMrG,GACrC,OAAsB,MAAlB3F,EAASoM,MAAgBpM,EAAST,MACpCmG,EAAc1F,EAAST,MACvB69C,EAAO,WAAYp9C,EAAST,KAAK+F,UAC1B,CAAE+3C,SAAS,EAAM99C,KAAMS,EAAST,OAEhC,CAAE89C,SAAS,EAAO98C,QAASP,EAAS0G,KAAO,OAEtD,CAAE,MAAO7G,GACP,MAAO,CAAEw9C,SAAS,EAAO98C,QAASV,EAAMU,SAAW,OACrD,CAAE,QACA68C,EAAO,eAAe,EACxB,CACF,EAGA,cAAMrxC,EAAS,OAAEqxC,GAAUnuC,GACzBmuC,EAAO,eAAe,GACtB,IACE,MAAMp9C,QAAiB6L,EAAQE,SAASkD,GACxC,OAAsB,MAAlBjP,EAASoM,KACJ,CAAEixC,SAAS,EAAM98C,QAAS,QAE1B,CAAE88C,SAAS,EAAO98C,QAASP,EAAS0G,KAAO,OAEtD,CAAE,MAAO7G,GACP,MAAO,CAAEw9C,SAAS,EAAO98C,QAASV,EAAMU,SAAW,OACrD,CAAE,QACA68C,EAAO,eAAe,EACxB,CACF,EAGA,YAAMj5C,EAAO,OAAEi5C,IACb,IACE,MAAMr+C,EAAQC,aAAaC,QAAQ,gBAC/BF,SACI8M,EAAQ1H,OAAOpF,EAEzB,CAAE,MAAOc,GACPT,QAAQS,MAAM,QAASA,EACzB,CAAE,QACAuG,IACAg3C,EAAO,aACT,CACF,EAGA,oBAAME,EAAe,OAAEF,IACrB,IACE,MAAMp9C,QAAiB6L,EAAQI,iBAC/B,GAAsB,MAAlBjM,EAASoM,MAAgBpM,EAAST,MAAQS,EAAST,KAAKg+C,MAAO,CAGjE,MAAM13C,EAAe7G,aAAaC,QAAQ,iBAC1C,GAAI4G,EACF,IACE,MAAM23C,QAAwB3xC,EAAQhG,aAAaA,GACnD,GAA6B,MAAzB23C,EAAgBpxC,MAAgBoxC,EAAgBj+C,KASlD,OAPAmG,EAAc,CACZE,YAAa43C,EAAgBj+C,KAAKqG,YAClCC,aAAc23C,EAAgBj+C,KAAKsG,aACnCP,SAAUk4C,EAAgBj+C,KAAKiO,OAEjC4vC,EAAO,WAAYI,EAAgBj+C,KAAKiO,MACxCpO,QAAQC,IAAI,2BACL,CAEX,CAAE,MAAOo+C,GACPr+C,QAAQE,KAAK,0BAA2Bm+C,EAC1C,CAOF,OADAr+C,QAAQE,KAAK,kDACN,CACT,CACA,OAAO,CACT,CAAE,MAAOO,GAEP,OADAT,QAAQS,MAAM,YAAaA,IACpB,CACT,CACF,GAGI69C,GAAU,CACd1sC,gBAAiB6rC,GAASA,EAAM7rC,gBAChC2sC,YAAad,GAASA,EAAMrvC,KAC5B0K,UAAW2kC,GAASA,EAAMlxC,SAG5B,QACEiyC,YAAY,EACZf,SACAC,aACAI,WACAQ,YCrIF,MAAMG,GACJ,WAAA9gC,GACEja,KAAKg7C,aAAe,KACpBh7C,KAAKi7C,iBAAmB,GAC1B,CAMA,UAAAC,GACE5+C,QAAQC,IAAI,wBACZ,MAAMN,EAAQ+D,KAAKqD,iBACfpH,GACF+D,KAAKm7C,sBAET,CAKA,cAAA93C,GACE,OAAOnH,aAAaC,QAAQ,eAC9B,CAKA,eAAAi/C,GACE,OAAOl/C,aAAaC,QAAQ,gBAC9B,CAKA,cAAAk/C,CAAep/C,GACbC,aAAa+G,QAAQ,eAAgBhH,EACvC,CAKA,eAAAq/C,CAAgBr/C,GACdC,aAAa+G,QAAQ,gBAAiBhH,EACxC,CAKA,WAAAs/C,GACEr/C,aAAakB,WAAW,gBACxBlB,aAAakB,WAAW,iBACxBlB,aAAakB,WAAW,qBACxB4C,KAAKw7C,oBACP,CAKA,sBAAAC,CAAuBx/C,GACrB,IACE,MAAMomB,EAAUrgB,KAAKC,MAAMqgB,KAAKrmB,EAAM4gB,MAAM,KAAK,KACjD,OAAOwF,EAAQG,IAAoB,IAAdH,EAAQG,IAAa,IAC5C,CAAE,MAAOzlB,GAEP,OADAT,QAAQS,MAAM,aAAcA,GACrB,IACT,CACF,CAKA,mBAAA2+C,CAAoBz/C,GAClB,MAAM0/C,EAAiB37C,KAAKy7C,uBAAuBx/C,GACnD,IAAK0/C,EAAgB,OAAO,EAE5B,MAAM95B,EAAM1S,KAAK0S,MACX+5B,EAAsBD,EAAiB95B,EAE7C,OAAO+5B,EAAsB57C,KAAKi7C,gBACpC,CAKA,oBAAAE,GACE,MAAMl/C,EAAQ+D,KAAKqD,iBACnB,IAAKpH,EAAO,OAEZ,MAAM0/C,EAAiB37C,KAAKy7C,uBAAuBx/C,GACnD,IAAK0/C,EAAgB,OAErB,MAAM95B,EAAM1S,KAAK0S,MACXg6B,EAAmBF,EAAiB95B,EAAM7hB,KAAKi7C,iBAGjDY,GAAoB,EACtB77C,KAAK87C,sBAKP97C,KAAKw7C,qBAGLx7C,KAAKg7C,aAAer0C,WAAW,KAC7B3G,KAAK87C,sBACJD,GAEHv/C,QAAQC,IAAI,aAAauV,KAAKiqC,MAAMF,EAAmB,aACzD,CAKA,kBAAAL,GACMx7C,KAAKg7C,eACPnuB,aAAa7sB,KAAKg7C,cAClBh7C,KAAKg7C,aAAe,KAExB,CAKA,wBAAMc,GACJ,MAAM/4C,EAAe/C,KAAKo7C,kBAC1B,IAAKr4C,EAEH,OADAzG,QAAQE,KAAK,oBACN,EAGT,IACEF,QAAQC,IAAI,kBACZ,MAAMW,QAAiB6L,EAAQhG,aAAaA,GAE5C,GAAsB,MAAlB7F,EAASoM,MAAgBpM,EAAST,KAAM,CAC1C,MAAM,YAAEqG,EAAaC,aAAci5C,GAAoB9+C,EAAST,KAehE,OAZIqG,IACF9C,KAAKq7C,eAAev4C,GACpBxG,QAAQC,IAAI,cAGVy/C,GACFh8C,KAAKs7C,gBAAgBU,GAIvBh8C,KAAKm7C,wBAEE,CACT,CAGE,OAFA7+C,QAAQS,MAAM,UAAWG,EAAS0G,KAClC5D,KAAKi8C,wBACE,CAEX,CAAE,MAAOl/C,GAGP,OAFAT,QAAQS,MAAM,UAAWA,GACzBiD,KAAKi8C,wBACE,CACT,CACF,CAKA,kBAAMl5C,GACJ,OAAO/C,KAAK87C,oBACd,CAKA,oBAAAG,GACE3/C,QAAQE,KAAK,uBACbwD,KAAKu7C,cAG4B,WAA7Bl+C,OAAOC,SAAS4+C,WAClBjxC,MAAM,eACN5N,OAAOC,SAASC,KAAO,SAE3B,CAKA,0BAAM4+C,GACJ,MAAMlgD,EAAQ+D,KAAKqD,iBACnB,QAAKpH,KAED+D,KAAK07C,oBAAoBz/C,UACd+D,KAAK87C,qBAItB,EAIF,WAAmBf,GClMnB,KAAIrgD,OAAO0hD,eAAgB,EAG3B,KAAIpgD,IAAI,IAaR,KAAI4K,UAAU,oBAAqBE,GACnC,KAAIF,UAAU,SAAUy1C,IACxB,KAAIz1C,UAAU,OAAQ01C,IACtB,KAAI11C,UAAU,QAAS21C,IAGvB,MAAMC,GAAY,IACb,GAAUzC,OAGT0C,GAAc,CAClB1C,MAAOyC,GACP,QAAAE,CAASC,EAAQt6B,GACf,GAAI,GAAU+3B,QAAQuC,GAAS,CAE7B,MAAMC,EAAU,CACd7C,MAAOyC,GACPlC,OAAQ,CAACuC,EAAUpgD,KACb,GAAUu9C,UAAU6C,IACtB,GAAU7C,UAAU6C,GAAUL,GAAW//C,KAI/C,OAAO,GAAU29C,QAAQuC,GAAQC,EAASv6B,EAC5C,CACF,EACAu4B,QAAS,GAAUA,SAGrB,KAAIhxB,UAAUkzB,MAAQL,GAEtB,IAAI,KAAI,CACNpF,OAAM,GACNv3C,OAAQ4sB,GAAKA,EAAEqwB,GACf,aAAMC,GACJ1gD,QAAQC,IAAI,WAGZ0gD,GAAa/B,aAGbl7C,KAAK88C,MAAMJ,SAAS,YAGpB,MAAMxuC,IAAoBhS,aAAaC,QAAQ,mBAAqBD,aAAaC,QAAQ,aACzF,GAAK+R,EAeH5R,QAAQC,IAAI,wBAfQ,CACpBD,QAAQC,IAAI,gCACZ,IACE,MAAM2gD,QAAyBl9C,KAAK88C,MAAMJ,SAAS,kBAC/CQ,GACF5gD,QAAQC,IAAI,kBAEN0gD,GAAanB,sBAEnBx/C,QAAQC,IAAI,kCAEhB,CAAE,MAAOQ,GACPT,QAAQS,MAAM,cAAeA,EAC/B,CACF,CAGF,IACCogD,OAAO,O,GCzFNC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqB3gD,IAAjB4gD,EACH,OAAOA,EAAaC,QAGrB,IAAIC,EAASL,EAAyBE,GAAY,CAGjDE,QAAS,CAAC,GAOX,OAHAE,EAAoBJ,GAAUG,EAAQA,EAAOD,QAASH,GAG/CI,EAAOD,OACf,CAGAH,EAAoB5L,EAAIiM,E,WCzBxB,IAAIC,EAAW,GACfN,EAAoBO,EAAI,SAASz5C,EAAQ05C,EAAUC,EAAIx8B,GACtD,IAAGu8B,EAAH,CAMA,IAAIE,EAAeC,IACnB,IAAS/tC,EAAI,EAAGA,EAAI0tC,EAASt5C,OAAQ4L,IAAK,CACrC4tC,EAAWF,EAAS1tC,GAAG,GACvB6tC,EAAKH,EAAS1tC,GAAG,GACjBqR,EAAWq8B,EAAS1tC,GAAG,GAE3B,IAJA,IAGIguC,GAAY,EACPC,EAAI,EAAGA,EAAIL,EAASx5C,OAAQ65C,MACpB,EAAX58B,GAAsBy8B,GAAgBz8B,IAAa/d,OAAOC,KAAK65C,EAAoBO,GAAGO,MAAM,SAASz6C,GAAO,OAAO25C,EAAoBO,EAAEl6C,GAAKm6C,EAASK,GAAK,GAChKL,EAASn8B,OAAOw8B,IAAK,IAErBD,GAAY,EACT38B,EAAWy8B,IAAcA,EAAez8B,IAG7C,GAAG28B,EAAW,CACbN,EAASj8B,OAAOzR,IAAK,GACrB,IAAImuC,EAAIN,SACEnhD,IAANyhD,IAAiBj6C,EAASi6C,EAC/B,CACD,CACA,OAAOj6C,CArBP,CAJCmd,EAAWA,GAAY,EACvB,IAAI,IAAIrR,EAAI0tC,EAASt5C,OAAQ4L,EAAI,GAAK0tC,EAAS1tC,EAAI,GAAG,GAAKqR,EAAUrR,IAAK0tC,EAAS1tC,GAAK0tC,EAAS1tC,EAAI,GACrG0tC,EAAS1tC,GAAK,CAAC4tC,EAAUC,EAAIx8B,EAwB/B,C,eC5BA+7B,EAAoBhjC,EAAI,SAASojC,GAChC,IAAIY,EAASZ,GAAUA,EAAOa,WAC7B,WAAa,OAAOb,EAAO,UAAY,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAJ,EAAoBzmB,EAAEynB,EAAQ,CAAE1uB,EAAG0uB,IAC5BA,CACR,C,eCNAhB,EAAoBzmB,EAAI,SAAS4mB,EAASe,GACzC,IAAI,IAAI76C,KAAO66C,EACXlB,EAAoBtzB,EAAEw0B,EAAY76C,KAAS25C,EAAoBtzB,EAAEyzB,EAAS95C,IAC5EH,OAAOi7C,eAAehB,EAAS95C,EAAK,CAAE+6C,YAAY,EAAMrgD,IAAKmgD,EAAW76C,IAG3E,C,eCPA25C,EAAoBnoB,EAAI,CAAC,EAGzBmoB,EAAoB/6C,EAAI,SAASo8C,GAChC,OAAO1hD,QAAQ8c,IAAIvW,OAAOC,KAAK65C,EAAoBnoB,GAAGypB,OAAO,SAASC,EAAUl7C,GAE/E,OADA25C,EAAoBnoB,EAAExxB,GAAKg7C,EAASE,GAC7BA,CACR,EAAG,IACJ,C,eCPAvB,EAAoBwB,EAAI,SAASH,GAEhC,MAAO,MAAQA,EAAR,cACR,C,eCHArB,EAAoByB,SAAW,SAASJ,GAGxC,C,eCJArB,EAAoB0B,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOh/C,MAAQ,IAAIi/C,SAAS,cAAb,EAChB,CAAE,MAAO38C,GACR,GAAsB,kBAAXjF,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,eCAxBggD,EAAoBtzB,EAAI,SAASm1B,EAAKC,GAAQ,OAAO57C,OAAOqmB,UAAU+rB,eAAe9rB,KAAKq1B,EAAKC,EAAO,C,eCAtG,IAAIC,EAAa,CAAC,EACdC,EAAoB,gBAExBhC,EAAoBiC,EAAI,SAASxiD,EAAK+gC,EAAMn6B,EAAKg7C,GAChD,GAAGU,EAAWtiD,GAAQsiD,EAAWtiD,GAAK2J,KAAKo3B,OAA3C,CACA,IAAI0hB,EAAQC,EACZ,QAAW7iD,IAAR+G,EAEF,IADA,IAAI+7C,EAAU56C,SAAS66C,qBAAqB,UACpCzvC,EAAI,EAAGA,EAAIwvC,EAAQp7C,OAAQ4L,IAAK,CACvC,IAAI0K,EAAI8kC,EAAQxvC,GAChB,GAAG0K,EAAEglC,aAAa,QAAU7iD,GAAO6d,EAAEglC,aAAa,iBAAmBN,EAAoB37C,EAAK,CAAE67C,EAAS5kC,EAAG,KAAO,CACpH,CAEG4kC,IACHC,GAAa,EACbD,EAAS16C,SAASsN,cAAc,UAEhCotC,EAAOK,QAAU,QACbvC,EAAoBwC,IACvBN,EAAOO,aAAa,QAASzC,EAAoBwC,IAElDN,EAAOO,aAAa,eAAgBT,EAAoB37C,GAExD67C,EAAO3gC,IAAM9hB,GAEdsiD,EAAWtiD,GAAO,CAAC+gC,GACnB,IAAIkiB,EAAmB,SAASC,EAAMj6C,GAErCw5C,EAAOvV,QAAUuV,EAAO/hC,OAAS,KACjCqP,aAAahyB,GACb,IAAIolD,EAAUb,EAAWtiD,GAIzB,UAHOsiD,EAAWtiD,GAClByiD,EAAO7sC,YAAc6sC,EAAO7sC,WAAWmd,YAAY0vB,GACnDU,GAAWA,EAAQx8C,QAAQ,SAASq6C,GAAM,OAAOA,EAAG/3C,EAAQ,GACzDi6C,EAAM,OAAOA,EAAKj6C,EACtB,EACIlL,EAAU8L,WAAWo5C,EAAiBG,KAAK,UAAMvjD,EAAW,CAAE4H,KAAM,UAAW6B,OAAQm5C,IAAW,MACtGA,EAAOvV,QAAU+V,EAAiBG,KAAK,KAAMX,EAAOvV,SACpDuV,EAAO/hC,OAASuiC,EAAiBG,KAAK,KAAMX,EAAO/hC,QACnDgiC,GAAc36C,SAASs7C,KAAK5tC,YAAYgtC,EAnCkB,CAoC3D,C,eCxCAlC,EAAoBvoC,EAAI,G,eCKxB,IAAIsrC,EAAkB,CACrB,IAAK,GAGN/C,EAAoBnoB,EAAEgpB,EAAI,SAASQ,EAASE,GAE1C,IAAIyB,EAAqBhD,EAAoBtzB,EAAEq2B,EAAiB1B,GAAW0B,EAAgB1B,QAAW/hD,EACtG,GAA0B,IAAvB0jD,EAGF,GAAGA,EACFzB,EAASn4C,KAAK45C,EAAmB,QAC3B,CAGL,IAAIC,EAAU,IAAItjD,QAAQ,SAASmlB,EAASllB,GAAUojD,EAAqBD,EAAgB1B,GAAW,CAACv8B,EAASllB,EAAS,GACzH2hD,EAASn4C,KAAK45C,EAAmB,GAAKC,GAGtC,IAAIxjD,EAAMugD,EAAoBvoC,EAAIuoC,EAAoBwB,EAAEH,GAEpD3hD,EAAQ,IAAIS,MACZ+iD,EAAe,SAASx6C,GAC3B,GAAGs3C,EAAoBtzB,EAAEq2B,EAAiB1B,KACzC2B,EAAqBD,EAAgB1B,GACX,IAAvB2B,IAA0BD,EAAgB1B,QAAW/hD,GACrD0jD,GAAoB,CACtB,IAAIG,EAAYz6C,IAAyB,SAAfA,EAAMxB,KAAkB,UAAYwB,EAAMxB,MAChEk8C,EAAU16C,GAASA,EAAMK,QAAUL,EAAMK,OAAOwY,IACpD7hB,EAAMU,QAAU,iBAAmBihD,EAAU,cAAgB8B,EAAY,KAAOC,EAAU,IAC1F1jD,EAAM1B,KAAO,iBACb0B,EAAMwH,KAAOi8C,EACbzjD,EAAMhB,QAAU0kD,EAChBJ,EAAmB,GAAGtjD,EACvB,CAEF,EACAsgD,EAAoBiC,EAAExiD,EAAKyjD,EAAc,SAAW7B,EAASA,EAE/D,CAEH,EAUArB,EAAoBO,EAAEM,EAAI,SAASQ,GAAW,OAAoC,IAA7B0B,EAAgB1B,EAAgB,EAGrF,IAAIgC,EAAuB,SAASC,EAA4BlkD,GAC/D,IAKI6gD,EAAUoB,EALVb,EAAWphD,EAAK,GAChBmkD,EAAcnkD,EAAK,GACnBokD,EAAUpkD,EAAK,GAGIwT,EAAI,EAC3B,GAAG4tC,EAASjnC,KAAK,SAAS3Q,GAAM,OAA+B,IAAxBm6C,EAAgBn6C,EAAW,GAAI,CACrE,IAAIq3C,KAAYsD,EACZvD,EAAoBtzB,EAAE62B,EAAatD,KACrCD,EAAoB5L,EAAE6L,GAAYsD,EAAYtD,IAGhD,GAAGuD,EAAS,IAAI18C,EAAS08C,EAAQxD,EAClC,CAEA,IADGsD,GAA4BA,EAA2BlkD,GACrDwT,EAAI4tC,EAASx5C,OAAQ4L,IACzByuC,EAAUb,EAAS5tC,GAChBotC,EAAoBtzB,EAAEq2B,EAAiB1B,IAAY0B,EAAgB1B,IACrE0B,EAAgB1B,GAAS,KAE1B0B,EAAgB1B,GAAW,EAE5B,OAAOrB,EAAoBO,EAAEz5C,EAC9B,EAEI28C,EAAqBC,KAAK,4BAA8BA,KAAK,6BAA+B,GAChGD,EAAmBr9C,QAAQi9C,EAAqBR,KAAK,KAAM,IAC3DY,EAAmBr6C,KAAOi6C,EAAqBR,KAAK,KAAMY,EAAmBr6C,KAAKy5C,KAAKY,G,ICpFvF,IAAIE,EAAsB3D,EAAoBO,OAAEjhD,EAAW,CAAC,KAAM,WAAa,OAAO0gD,EAAoB,IAAM,GAChH2D,EAAsB3D,EAAoBO,EAAEoD,E","sources":["webpack://zhiyan-front/./src/config/index.js","webpack://zhiyan-front/./src/api/project.js","webpack://zhiyan-front/./src/App.vue?74ec","webpack://zhiyan-front/./src/components/GlobalUserProfile.vue?f7a6","webpack://zhiyan-front/./src/utils/imageUtils.js","webpack://zhiyan-front/./src/utils/auth.js","webpack://zhiyan-front/src/components/GlobalUserProfile.vue","webpack://zhiyan-front/./src/components/GlobalUserProfile.vue?019b","webpack://zhiyan-front/./src/components/GlobalUserProfile.vue","webpack://zhiyan-front/src/App.vue","webpack://zhiyan-front/./src/App.vue?6a4a","webpack://zhiyan-front/./src/App.vue","webpack://zhiyan-front/./src/views/Login.vue?b558","webpack://zhiyan-front/./src/api/auth.js","webpack://zhiyan-front/src/views/Login.vue","webpack://zhiyan-front/./src/views/Login.vue?e4fe","webpack://zhiyan-front/./src/views/Login.vue","webpack://zhiyan-front/./src/views/Register.vue?f8ff","webpack://zhiyan-front/src/views/Register.vue","webpack://zhiyan-front/./src/views/Register.vue?7511","webpack://zhiyan-front/./src/views/Register.vue","webpack://zhiyan-front/./src/views/ForgotPassword.vue?4100","webpack://zhiyan-front/src/views/ForgotPassword.vue","webpack://zhiyan-front/./src/views/ForgotPassword.vue?d580","webpack://zhiyan-front/./src/views/ForgotPassword.vue","webpack://zhiyan-front/./src/views/Home.vue?4a72","webpack://zhiyan-front/./src/components/Sidebar.vue?5903","webpack://zhiyan-front/src/components/Sidebar.vue","webpack://zhiyan-front/./src/components/Sidebar.vue?81be","webpack://zhiyan-front/./src/components/Sidebar.vue","webpack://zhiyan-front/./src/components/RightSidebar.vue?451c","webpack://zhiyan-front/src/components/RightSidebar.vue","webpack://zhiyan-front/./src/components/RightSidebar.vue?1efb","webpack://zhiyan-front/./src/components/RightSidebar.vue","webpack://zhiyan-front/src/views/Home.vue","webpack://zhiyan-front/./src/views/Home.vue?2968","webpack://zhiyan-front/./src/views/Home.vue","webpack://zhiyan-front/./src/views/ProjectSquare.vue?4f70","webpack://zhiyan-front/src/views/ProjectSquare.vue","webpack://zhiyan-front/./src/views/ProjectSquare.vue?79db","webpack://zhiyan-front/./src/views/ProjectSquare.vue","webpack://zhiyan-front/./src/views/ProjectCreate.vue?439f","webpack://zhiyan-front/src/views/ProjectCreate.vue","webpack://zhiyan-front/./src/views/ProjectCreate.vue?913c","webpack://zhiyan-front/./src/views/ProjectCreate.vue","webpack://zhiyan-front/./src/views/KnowledgeBase.vue?acd0","webpack://zhiyan-front/src/views/KnowledgeBase.vue","webpack://zhiyan-front/./src/views/KnowledgeBase.vue?50cb","webpack://zhiyan-front/./src/views/KnowledgeBase.vue","webpack://zhiyan-front/./src/views/KnowledgeBaseCatalog.vue?31f1","webpack://zhiyan-front/./src/utils/eventBus.js","webpack://zhiyan-front/./src/utils/catalogHelpers.js","webpack://zhiyan-front/./src/utils/catalogStorage.js","webpack://zhiyan-front/./src/utils/catalogFileHandler.js","webpack://zhiyan-front/./src/api/knowledge.js","webpack://zhiyan-front/./src/utils/achievementHelper.js","webpack://zhiyan-front/src/views/KnowledgeBaseCatalog.vue","webpack://zhiyan-front/./src/views/KnowledgeBaseCatalog.vue?68c3","webpack://zhiyan-front/./src/views/KnowledgeBaseCatalog.vue","webpack://zhiyan-front/./src/views/KnowledgeBaseCabinet.vue?3a2f","webpack://zhiyan-front/src/views/KnowledgeBaseCabinet.vue","webpack://zhiyan-front/./src/views/KnowledgeBaseCabinet.vue?87a4","webpack://zhiyan-front/./src/views/KnowledgeBaseCabinet.vue","webpack://zhiyan-front/./src/views/KnowledgeBaseAI.vue?0160","webpack://zhiyan-front/./src/api/coze.js","webpack://zhiyan-front/src/views/KnowledgeBaseAI.vue","webpack://zhiyan-front/./src/views/KnowledgeBaseAI.vue?226e","webpack://zhiyan-front/./src/views/KnowledgeBaseAI.vue","webpack://zhiyan-front/./src/views/AIAssistant.vue?a05f","webpack://zhiyan-front/./src/api/dify.js","webpack://zhiyan-front/src/views/AIAssistant.vue","webpack://zhiyan-front/./src/views/AIAssistant.vue?cfb3","webpack://zhiyan-front/./src/views/AIAssistant.vue","webpack://zhiyan-front/./src/views/Profile.vue?01e4","webpack://zhiyan-front/./src/api/avatar.js","webpack://zhiyan-front/src/views/Profile.vue","webpack://zhiyan-front/./src/views/Profile.vue?35e7","webpack://zhiyan-front/./src/views/Profile.vue","webpack://zhiyan-front/./src/views/ProjectDetail.vue?dfba","webpack://zhiyan-front/src/views/ProjectDetail.vue","webpack://zhiyan-front/./src/views/ProjectDetail.vue?9f03","webpack://zhiyan-front/./src/views/ProjectDetail.vue","webpack://zhiyan-front/./src/views/ProjectKnowledge.vue?a6c5","webpack://zhiyan-front/src/views/ProjectKnowledge.vue","webpack://zhiyan-front/./src/views/ProjectKnowledge.vue?6a94","webpack://zhiyan-front/./src/views/ProjectKnowledge.vue","webpack://zhiyan-front/./src/router/index.js","webpack://zhiyan-front/./src/components/Button.vue?55c9","webpack://zhiyan-front/src/components/Button.vue","webpack://zhiyan-front/./src/components/Button.vue?c6b2","webpack://zhiyan-front/./src/components/Button.vue","webpack://zhiyan-front/./src/components/Card.vue?11e9","webpack://zhiyan-front/src/components/Card.vue","webpack://zhiyan-front/./src/components/Card.vue?babf","webpack://zhiyan-front/./src/components/Card.vue","webpack://zhiyan-front/./src/components/Input.vue?7fa2","webpack://zhiyan-front/src/components/Input.vue","webpack://zhiyan-front/./src/components/Input.vue?27db","webpack://zhiyan-front/./src/components/Input.vue","webpack://zhiyan-front/./src/store/auth.js","webpack://zhiyan-front/./src/utils/tokenManager.js","webpack://zhiyan-front/./src/main.js","webpack://zhiyan-front/webpack/bootstrap","webpack://zhiyan-front/webpack/runtime/chunk loaded","webpack://zhiyan-front/webpack/runtime/compat get default export","webpack://zhiyan-front/webpack/runtime/define property getters","webpack://zhiyan-front/webpack/runtime/ensure chunk","webpack://zhiyan-front/webpack/runtime/get javascript chunk filename","webpack://zhiyan-front/webpack/runtime/get mini-css chunk filename","webpack://zhiyan-front/webpack/runtime/global","webpack://zhiyan-front/webpack/runtime/hasOwnProperty shorthand","webpack://zhiyan-front/webpack/runtime/load script","webpack://zhiyan-front/webpack/runtime/publicPath","webpack://zhiyan-front/webpack/runtime/jsonp chunk loading","webpack://zhiyan-front/webpack/startup"],"sourcesContent":["// \n\nconst config = {\n  // API\n  api: {\n    // APIURL\n    baseURL: process.env.NODE_ENV === 'production' \n      ? 'https://your-production-api.com' \n      : 'http://localhost:8091', // 8091\n    timeout: 60000, // 30\n    // \n    endpoints: {\n      //  (8091)\n      auth: process.env.NODE_ENV === 'production' \n        ? 'https://your-production-api.com' \n        : 'http://localhost:8091',\n      //  (8093)\n      knowledge: process.env.NODE_ENV === 'production' \n        ? 'https://your-production-api.com' \n        : 'http://localhost:8093',\n      //  (8095)\n      project: process.env.NODE_ENV === 'production' \n        ? 'https://your-production-api.com' \n        : 'http://localhost:8095'\n    }\n  },\n  \n  // MinIO\n  minio: {\n    // MinIOURL\n    baseURL: process.env.NODE_ENV === 'production'\n      ? 'http://10.7.10.98:9000'  // MinIO\n      : 'http://10.7.10.98:9000',  // MinIO\n    bucket: 'zhiyan'\n  },\n  \n  // \n  app: {\n    name: '',\n    version: '1.0.0'\n  },\n  \n  // \n  storage: {\n    tokenKey: 'access_token',\n    refreshTokenKey: 'refresh_token',\n    rememberMeKey: 'remember_me_token',\n    userInfoKey: 'user_info'\n  }\n}\n\n// \nexport const API_BASE_URL = config.api.baseURL\nexport const MINIO_BASE_URL = config.minio.baseURL\nexport const MINIO_BUCKET = config.minio.bucket\n\n// \nexport const AUTH_API_URL = config.api.endpoints.auth\nexport const KNOWLEDGE_API_URL = config.api.endpoints.knowledge\nexport const PROJECT_API_URL = config.api.endpoints.project\n\nexport default config\n","import axios from 'axios'\r\nimport config from '@/config'\r\n\r\n/**\r\n * API\r\n * \r\n * APIVue8095\r\n *  vue.config.js \r\n * - /zhiyan/api/projects  http://localhost:8095\r\n * \r\n * baseURL\r\n */\r\nconst api = axios.create({\r\n  baseURL: '', // Vue8095\r\n  timeout: config.api.timeout,\r\n  withCredentials: true\r\n  //   Content-Type Axios \r\n  //   FormDataAxios  multipart/form-data\r\n  // headers: {\r\n  //   'Content-Type': 'application/json',\r\n  //   'Accept': 'application/json'\r\n  // }\r\n})\r\n\r\n// \r\napi.interceptors.request.use(\r\n  config => {\r\n    // localStoragetoken\r\n    const token = localStorage.getItem('access_token')\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`\r\n      console.log('[API]  Authorization header')\r\n    } else {\r\n      console.warn('[API]  access_token ')\r\n    }\r\n    \r\n    //   FormData  Content-Type\r\n    //   Content-Type\r\n    if (config.data instanceof FormData) {\r\n      //  headers \r\n      //  undefined  delete\r\n      config.headers['Content-Type'] = undefined\r\n      console.log('[API] FormData  Content-Type')\r\n      console.log('[API] :', config.headers)\r\n    } else if (!config.headers['Content-Type']) {\r\n      //  FormData  Content-Type\r\n      config.headers['Content-Type'] = 'application/json'\r\n    }\r\n    \r\n    console.log('[API] API:', config.method?.toUpperCase(), config.url)\r\n    console.log('[API] :', config.data instanceof FormData ? 'FormData' : typeof config.data)\r\n    console.log('[API] :', config.headers)\r\n    \r\n    return config\r\n  },\r\n  error => {\r\n    console.error('[API] :', error)\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// \r\napi.interceptors.response.use(\r\n  response => {\r\n    console.log('API:', response.status, response.data)\r\n    // response.dataRcodemsgdata\r\n    // response.dataR\r\n    return response.data\r\n  },\r\n  error => {\r\n    console.error('API:', error)\r\n    \r\n    if (error.response) {\r\n      const { status, data } = error.response\r\n      console.error(':', status, data)\r\n      \r\n      if (status === 401) {\r\n        // token\r\n        localStorage.removeItem('access_token')\r\n        localStorage.removeItem('refresh_token')\r\n        localStorage.removeItem('user_info')\r\n        window.location.href = '/login'\r\n      }\r\n      \r\n      //   403 Forbidden -  token \r\n      if (status === 403) {\r\n        console.error('[API]  403 Forbidden - ')\r\n        console.error('[API] ')\r\n        localStorage.removeItem('access_token')\r\n        localStorage.removeItem('refresh_token')\r\n        localStorage.removeItem('user_info')\r\n        window.location.href = '/login'\r\n      }\r\n      \r\n      return Promise.reject(data || error)\r\n    } else if (error.request) {\r\n      console.error(':', error.request)\r\n      return Promise.reject(new Error(''))\r\n    } else {\r\n      console.error(':', error.message)\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n)\r\n\r\n// API\r\nexport const projectAPI = {\r\n  /**\r\n   * \r\n   * @param {Object} projectData - \r\n   */\r\n  createProject(projectData) {\r\n    console.log('[projectAPI.createProject] , :', projectData)\r\n    return api.post('/zhiyan/api/projects', projectData)\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Number} projectId - ID\r\n   * @param {Object} projectData - \r\n   */\r\n  updateProject(projectId, projectData) {\r\n    console.log('[projectAPI.updateProject] , ID:', projectId, ':', projectData)\r\n    return api.put(`/zhiyan/api/projects/${projectId}`, projectData)\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Number} projectId - ID\r\n   */\r\n  deleteProject(projectId) {\r\n    console.log('[projectAPI.deleteProject] , ID:', projectId)\r\n    return api.delete(`/zhiyan/api/projects/${projectId}`)\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Number} projectId - ID\r\n   */\r\n  getProjectById(projectId) {\r\n    console.log('[projectAPI.getProjectById] , ID:', projectId)\r\n    return api.get(`/zhiyan/api/projects/${projectId}`)\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Number} page - \r\n   * @param {Number} size - \r\n   */\r\n  getMyCreatedProjects(page = 0, size = 10) {\r\n    console.log('[projectAPI.getMyCreatedProjects] ')\r\n    return api.get('/zhiyan/api/projects/my-created', {\r\n      params: { page, size },\r\n      timeout: 60000 // 60\r\n    })\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Number} page - \r\n   * @param {Number} size - \r\n   */\r\n  getMyProjects(page = 0, size = 10) {\r\n    console.log('[projectAPI.getMyProjects] ')\r\n    return api.get('/zhiyan/api/projects/my-projects', {\r\n      params: { page, size },\r\n      timeout: 60000 // 60\r\n    })\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Number} page - \r\n   * @param {Number} size - \r\n   */\r\n  getPublicActiveProjects(page = 0, size = 10) {\r\n    console.log('[projectAPI.getPublicActiveProjects] ')\r\n    return api.get('/zhiyan/api/projects/public/active', {\r\n      params: { page, size },\r\n      timeout: 60000 // 60\r\n    })\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} keyword - \r\n   * @param {Number} page - \r\n   * @param {Number} size - \r\n   */\r\n  searchProjects(keyword, page = 0, size = 10) {\r\n    console.log('[projectAPI.searchProjects] , :', keyword)\r\n    return api.get('/zhiyan/api/projects/search', {\r\n      params: { keyword, page, size }\r\n    })\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Number} projectId - ID\r\n   * @param {String} status - \r\n   */\r\n  updateProjectStatus(projectId, status) {\r\n    console.log('[projectAPI.updateProjectStatus] , ID:', projectId, ':', status)\r\n    return api.patch(`/zhiyan/api/projects/${projectId}/status`, { status })\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Number} projectId - ID\r\n   */\r\n  archiveProject(projectId) {\r\n    console.log('[projectAPI.archiveProject] , ID:', projectId)\r\n    return api.post(`/zhiyan/api/projects/${projectId}/archive`)\r\n  },\r\n\r\n  /**\r\n   * \r\n   */\r\n  countMyCreatedProjects() {\r\n    console.log('[projectAPI.countMyCreatedProjects] ')\r\n    return api.get('/zhiyan/api/projects/count/my-created')\r\n  },\r\n\r\n  /**\r\n   * \r\n   */\r\n  countMyParticipatedProjects() {\r\n    console.log('[projectAPI.countMyParticipatedProjects] ')\r\n    return api.get('/zhiyan/api/projects/count/my-participated')\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {File} file - \r\n   * @param {Number} projectId - ID\r\n   */\r\n  uploadProjectImage(file, projectId = null) {\r\n    console.log('[projectAPI.uploadProjectImage] , projectId:', projectId)\r\n    \r\n    const formData = new FormData()\r\n    formData.append('file', file)\r\n    if (projectId) {\r\n      formData.append('projectId', projectId)\r\n    }\r\n    \r\n    //   Content-Type\r\n    //  Axios  FormData  multipart/form-data ( boundary)\r\n    return api.post('/zhiyan/api/projects/upload-image', formData)\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} imageUrl - URL\r\n   */\r\n  deleteProjectImage(imageUrl) {\r\n    console.log('[projectAPI.deleteProjectImage] :', imageUrl)\r\n    return api.delete('/zhiyan/api/projects/delete-image', {\r\n      params: { imageUrl }\r\n    })\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Number} projectId - ID\r\n   * @param {Object} data -  userId  roleMEMBER\r\n   */\r\n  inviteMember(projectId, data) {\r\n    console.log('[projectAPI.inviteMember] , ID:', projectId, ':', data)\r\n    return api.post(`/zhiyan/api/projects/${projectId}/invite`, data)\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Number} projectId - ID\r\n   * @param {Object} data -  userId  roleCode\r\n   */\r\n  assignRole(projectId, data) {\r\n    console.log('[projectAPI.assignRole] , ID:', projectId, ':', data)\r\n    return api.post(`/zhiyan/api/projects/${projectId}/assign`, data)\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Number} projectId - ID\r\n   * @param {Number} userId - ID\r\n   */\r\n  removeMember(projectId, userId) {\r\n    console.log('[projectAPI.removeMember] , ID:', projectId, 'ID:', userId)\r\n    return api.delete(`/zhiyan/api/projects/${projectId}/members/${userId}`)\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {Number} projectId - ID\r\n   * @param {Number} page - \r\n   * @param {Number} size - \r\n   */\r\n  getProjectMembers(projectId, page = 0, size = 20) {\r\n    console.log('[projectAPI.getProjectMembers] , ID:', projectId)\r\n    return api.get(`/zhiyan/api/projects/${projectId}/members`, {\r\n      params: { page, size },\r\n      timeout: 60000 // 60\r\n    })\r\n  },\r\n\r\n  /**\r\n   * \r\n   * \r\n   * @param {String} keyword - \r\n   * @param {Number} page - 0\r\n   * @param {Number} size - \r\n   */\r\n  searchUsers(keyword, page = 0, size = 10) {\r\n    console.log('[projectAPI.searchUsers] , :', keyword, ':', page, ':', size)\r\n    return api.get(`/zhiyan/api/users/search`, {\r\n      params: { keyword, page, size }\r\n    })\r\n  }\r\n}\r\n\r\nexport default api\r\n\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view'),(!_vm.isAuthPage)?_c('GlobalUserProfile',{attrs:{\"floating\":true}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"global-user-profile\",class:{ 'floating': _vm.floating }},[_c('div',{staticClass:\"user-profile\",on:{\"click\":_vm.toggleUserMenu}},[_c('div',{staticClass:\"user-avatar\"},[(_vm.globalUserInfo.avatar)?_c('img',{attrs:{\"src\":_vm.globalUserInfo.avatar,\"alt\":\"\"}}):_c('div',{staticClass:\"avatar-placeholder\"},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"7\",\"r\":\"4\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('span',{staticClass:\"username\"},[_vm._v(_vm._s(_vm.globalUserInfo.nickname || ''))]),_c('svg',{class:{ 'rotate': _vm.userMenuOpen },attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M6 9L12 15L18 9\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),(_vm.userMenuOpen)?_c('div',{staticClass:\"user-menu\"},[_c('div',{staticClass:\"menu-item\",on:{\"click\":_vm.goToProfile}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"7\",\"r\":\"4\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_vm._v(\"  \")]),(!_vm.isLoggedIn)?_c('div',{staticClass:\"menu-item\",on:{\"click\":_vm.goToLogin}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M15 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H15\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('polyline',{attrs:{\"points\":\"10,17 15,12 10,7\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('line',{attrs:{\"x1\":\"15\",\"y1\":\"12\",\"x2\":\"3\",\"y2\":\"12\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_vm._v(\"  \")]):_vm._e(),(_vm.isLoggedIn)?_c('div',{staticClass:\"menu-item\",on:{\"click\":_vm.logout}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('polyline',{attrs:{\"points\":\"16,17 21,12 16,7\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('line',{attrs:{\"x1\":\"21\",\"y1\":\"12\",\"x2\":\"9\",\"y2\":\"12\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_vm._v(\"  \")]):_vm._e()]):_vm._e(),(_vm.showToast)?_c('div',{staticClass:\"success-toast\"},[_vm._v(\" \"+_vm._s(_vm.toastMessage)+\" \")]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// URL\r\nimport { API_BASE_URL, MINIO_BASE_URL } from '@/config'\r\n\r\n/**\r\n * URL\r\n * MinIO URL\r\n * @param {string} url - URL\r\n * @returns {string|null} URLnull\r\n */\r\nexport function normalizeProjectCoverUrl(url) {\r\n  if (!url || typeof url !== 'string') {\r\n    return null\r\n  }\r\n\r\n  // HTTP/HTTPS URL\r\n  if (url.startsWith('http://') || url.startsWith('https://')) {\r\n    // URL\r\n    if (url.includes('localhost')) {\r\n      console.warn('URL:', url, '- null')\r\n      return null\r\n    }\r\n    return url\r\n  }\r\n\r\n  //  / MinIOURL\r\n  if (url.startsWith('/')) {\r\n    // \r\n    url = url.substring(1)\r\n  }\r\n\r\n  // URL zhiyan/ MinIO\r\n  if (url.startsWith('zhiyan/')) {\r\n    // MinIO URL\r\n    const minioBaseUrl = MINIO_BASE_URL || 'http://10.7.10.98:9000'\r\n    return `${minioBaseUrl}/${url}`\r\n  }\r\n\r\n  //  zhiyan/project-covers/ \r\n  if (!url.includes('/')) {\r\n    const minioBaseUrl = MINIO_BASE_URL || 'http://10.7.10.98:9000'\r\n    return `${minioBaseUrl}/zhiyan/project-covers/${url}`\r\n  }\r\n\r\n  // MinIO URL\r\n  const minioBaseUrl = MINIO_BASE_URL || 'http://10.7.10.98:9000'\r\n  return `${minioBaseUrl}/${url}`\r\n}\r\n\r\n/**\r\n * URL\r\n * URL\r\n * @param {string} url - URL\r\n * @param {string} defaultBucket - bucket'zhiyan'\r\n * @returns {string|null} URLnull\r\n */\r\nexport function normalizeImageUrl(url, defaultBucket = 'zhiyan') {\r\n  if (!url || typeof url !== 'string') {\r\n    return null\r\n  }\r\n\r\n  // HTTP/HTTPS URL\r\n  if (url.startsWith('http://') || url.startsWith('https://')) {\r\n    // localhostURLnull\r\n    if (url.includes('localhost')) {\r\n      console.warn('localhostURL:', url)\r\n      return null\r\n    }\r\n    return url\r\n  }\r\n\r\n  //  / \r\n  if (url.startsWith('/')) {\r\n    url = url.substring(1)\r\n  }\r\n\r\n  // URLbucketURL\r\n  if (url.startsWith(`${defaultBucket}/`)) {\r\n    const minioBaseUrl = MINIO_BASE_URL || 'http://10.7.10.98:9000'\r\n    return `${minioBaseUrl}/${url}`\r\n  }\r\n\r\n  // bucket\r\n  const minioBaseUrl = MINIO_BASE_URL || 'http://10.7.10.98:9000'\r\n  return `${minioBaseUrl}/${defaultBucket}/${url}`\r\n}\r\n\r\n/**\r\n * URL\r\n * @param {string|object} avatar - JSON\r\n * @returns {string|null} URL\r\n */\r\nexport function normalizeAvatarUrl(avatar) {\r\n  if (!avatar) {\r\n    return null\r\n  }\r\n\r\n  // \r\n  if (typeof avatar === 'string') {\r\n    // JSON\r\n    if (avatar.startsWith('{')) {\r\n      try {\r\n        const parsed = JSON.parse(avatar)\r\n        return parsed.minio_url || parsed.minioUrl || parsed.cdn_url || parsed.cdnUrl || null\r\n      } catch (e) {\r\n        console.warn('JSON:', avatar)\r\n        // JSONURL\r\n        return normalizeImageUrl(avatar, 'zhiyan')\r\n      }\r\n    }\r\n    \r\n    // URL\r\n    return normalizeImageUrl(avatar, 'zhiyan')\r\n  }\r\n\r\n  // \r\n  if (typeof avatar === 'object') {\r\n    const url = avatar.minio_url || avatar.minioUrl || avatar.cdn_url || avatar.cdnUrl\r\n    return url ? normalizeImageUrl(url, 'zhiyan') : null\r\n  }\r\n\r\n  return null\r\n}\r\n\r\n/**\r\n * URL\r\n * @param {string} url - URL\r\n * @returns {boolean} URL\r\n */\r\nexport function isValidImageUrl(url) {\r\n  if (!url || typeof url !== 'string') {\r\n    return false\r\n  }\r\n\r\n  // localhostURL\r\n  if (url.includes('localhost')) {\r\n    return false\r\n  }\r\n\r\n  // HTTP/HTTPS URL\r\n  try {\r\n    const urlObj = new URL(url)\r\n    return urlObj.protocol === 'http:' || urlObj.protocol === 'https:'\r\n  } catch (e) {\r\n    return false\r\n  }\r\n}\r\n\r\n/**\r\n * MinIO URL\r\n * @param {string} url - MinIO URL\r\n * @returns {string|null} bucket/path/filename\r\n */\r\nexport function extractObjectKeyFromUrl(url) {\r\n  if (!url || typeof url !== 'string') {\r\n    return null\r\n  }\r\n\r\n  try {\r\n    const urlObj = new URL(url)\r\n    // \r\n    return urlObj.pathname.substring(1)\r\n  } catch (e) {\r\n    // URL\r\n    if (url.startsWith('/')) {\r\n      return url.substring(1)\r\n    }\r\n    return url\r\n  }\r\n}\r\n\r\n/**\r\n * URLMinIO\r\n * @param {string} url - URL\r\n * @param {number} width - \r\n * @param {number} height - \r\n * @returns {string} URL\r\n */\r\nexport function getThumbnailUrl(url, width = 200, height = 200) {\r\n  if (!url) {\r\n    return null\r\n  }\r\n\r\n  // URL\r\n  // MinIO\r\n  return normalizeImageUrl(url)\r\n}\r\n\r\n/**\r\n * Promise\r\n * @param {string} url - URL\r\n * @returns {Promise} Promise\r\n */\r\nexport function preloadImage(url) {\r\n  return new Promise((resolve, reject) => {\r\n    const img = new Image()\r\n    img.onload = () => resolve(img)\r\n    img.onerror = reject\r\n    img.src = url\r\n  })\r\n}\r\n\r\n/**\r\n * \r\n * @param {string[]} urls - URL\r\n * @returns {Promise<Array>} Promise\r\n */\r\nexport function preloadImages(urls) {\r\n  return Promise.all(urls.map(url => preloadImage(url)))\r\n}\r\n\r\n","// \nimport { normalizeAvatarUrl } from './imageUtils'\n\n/**\n * \n *  avatarUrl  JSON \n * @param {Object} userInfo - \n * @returns {Object} \n */\nexport function normalizeUserInfo(userInfo) {\n  if (!userInfo) return null\n  \n  const normalized = { ...userInfo }\n  \n  //  avatarUrl/avatar \n  let avatarUrl = userInfo.avatar || userInfo.avatarUrl || ''\n  \n  //  avatarUrl  JSON  URL\n  if (avatarUrl && typeof avatarUrl === 'string' && avatarUrl.startsWith('{')) {\n    try {\n      const parsed = JSON.parse(avatarUrl)\n      //  minio_url cdn_url\n      avatarUrl = parsed.minio_url || parsed.minioUrl || parsed.cdn_url || parsed.cdnUrl || ''\n    } catch (e) {\n      // \n      console.warn('Failed to parse avatar JSON:', avatarUrl)\n    }\n  }\n  \n  //  normalizeAvatarUrl URL\n  avatarUrl = normalizeAvatarUrl(avatarUrl) || ''\n  \n  //  avatar  avatarUrl\n  normalized.avatar = avatarUrl\n  normalized.avatarUrl = avatarUrl\n  normalized.nickname = userInfo.nickname || userInfo.name || ''\n  \n  // \n  console.log(' :', {\n    avatar: userInfo.avatar || userInfo.avatarUrl,\n    : avatarUrl,\n    nickname: normalized.nickname,\n    hasAvatar: !!avatarUrl\n  })\n  \n  return normalized\n}\n\n/**\n * \n * @param {Object} loginData - \n */\nexport function saveLoginData(loginData) {\n  const { accessToken, refreshToken, rememberMeToken, userInfo } = loginData\n  \n  // token\n  if (accessToken) {\n    localStorage.setItem('access_token', accessToken)\n  }\n  if (refreshToken) {\n    localStorage.setItem('refresh_token', refreshToken)\n  }\n  if (rememberMeToken) {\n    localStorage.setItem('remember_me_token', rememberMeToken)\n  }\n  \n  // \n  if (userInfo) {\n    const normalizedUserInfo = normalizeUserInfo(userInfo)\n    localStorage.setItem('user_info', JSON.stringify(normalizedUserInfo))\n  }\n}\n\n/**\n * \n * @returns {Object|null} null\n */\nexport function getCurrentUser() {\n  const userInfo = localStorage.getItem('user_info')\n  return userInfo ? JSON.parse(userInfo) : null\n}\n\n/**\n * \n * @returns {string|null} null\n */\nexport function getAccessToken() {\n  return localStorage.getItem('access_token')\n}\n\n/**\n * \n * @returns {string|null} null\n */\nexport function getRefreshToken() {\n  return localStorage.getItem('refresh_token')\n}\n\n/**\n * \n * @returns {boolean} \n */\nexport function isLoggedIn() {\n  const token = getAccessToken()\n  const userInfo = getCurrentUser()\n  return !!(token && userInfo)\n}\n\n/**\n * \n */\nexport function clearAuthData() {\n  localStorage.removeItem('access_token')\n  localStorage.removeItem('refresh_token')\n  localStorage.removeItem('remember_me_token')\n  localStorage.removeItem('user_info')\n  localStorage.removeItem('userAvatar')\n  localStorage.removeItem('globalUserInfo')\n  \n  // userData_\n  Object.keys(localStorage).forEach(key => {\n    if (key.startsWith('userData_')) {\n      localStorage.removeItem(key)\n    }\n  })\n}\n\n/**\n * API\n * @param {Object} error - \n * @returns {string} \n */\nexport function formatApiError(error) {\n  if (error && error.msg) {\n    return error.msg\n  }\n  if (error && error.message) {\n    return error.message\n  }\n  if (typeof error === 'string') {\n    return error\n  }\n  return ''\n}\n\n/**\n * \n * @param {string} email - \n * @returns {boolean} \n */\nexport function isValidEmail(email) {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n  return emailRegex.test(email)\n}\n\n/**\n * \n * @param {string} password - \n * @returns {Object} \n */\nexport function validatePassword(password) {\n  const result = {\n    isValid: true,\n    message: ''\n  }\n  \n  if (!password) {\n    result.isValid = false\n    result.message = ''\n  } else if (password.length < 6) {\n    result.isValid = false\n    result.message = '6'\n  } else if (password.length > 16) {\n    result.isValid = false\n    result.message = '16'\n  }\n  \n  return result\n}\n\n/**\n * ID\n * @returns {number|null} IDnull\n */\nexport function getCurrentUserId() {\n  const userInfo = getCurrentUser()\n  return userInfo && userInfo.id ? userInfo.id : null\n}\n\n/**\n * \n * @returns {string} ''\n */\nexport function getCurrentUserName() {\n  const userInfo = getCurrentUser()\n  return userInfo && userInfo.name ? userInfo.name : ''\n}\n\n/**\n * URL\n * @returns {string|null} URLnull\n */\nexport function getCurrentUserAvatar() {\n  const userInfo = getCurrentUser()\n  return userInfo && userInfo.avatarUrl ? userInfo.avatarUrl : null\n}","<template>\r\n  <div class=\"global-user-profile\" :class=\"{ 'floating': floating }\">\r\n    <div class=\"user-profile\" @click=\"toggleUserMenu\">\r\n      <div class=\"user-avatar\">\r\n        <img v-if=\"globalUserInfo.avatar\" :src=\"globalUserInfo.avatar\" alt=\"\" />\r\n        <div v-else class=\"avatar-placeholder\">\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            <circle cx=\"12\" cy=\"7\" r=\"4\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n      <span class=\"username\">{{ globalUserInfo.nickname || '' }}</span>\r\n      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" :class=\"{ 'rotate': userMenuOpen }\">\r\n        <path d=\"M6 9L12 15L18 9\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n      </svg>\r\n    </div>\r\n    \r\n    <!--  -->\r\n    <div class=\"user-menu\" v-if=\"userMenuOpen\">\r\n      <div class=\"menu-item\" @click=\"goToProfile\">\r\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          <circle cx=\"12\" cy=\"7\" r=\"4\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n        </svg>\r\n        \r\n      </div>\r\n      <div v-if=\"!isLoggedIn\" class=\"menu-item\" @click=\"goToLogin\">\r\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M15 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H15\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          <polyline points=\"10,17 15,12 10,7\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          <line x1=\"15\" y1=\"12\" x2=\"3\" y2=\"12\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n        </svg>\r\n        \r\n      </div>\r\n      <div v-if=\"isLoggedIn\" class=\"menu-item\" @click=\"logout\">\r\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          <polyline points=\"16,17 21,12 16,7\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          <line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n        </svg>\r\n        \r\n      </div>\r\n    </div>\r\n\r\n    <!-- Toast -->\r\n    <div v-if=\"showToast\" class=\"success-toast\">\r\n      {{ toastMessage }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { clearAuthData } from '@/utils/auth'\r\n\r\nexport default {\r\n  name: 'GlobalUserProfile',\r\n  props: {\r\n    floating: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      userMenuOpen: false,\r\n      isLoggedIn: false,\r\n      globalUserInfo: {\r\n        nickname: '',\r\n        avatar: ''\r\n      },\r\n      showToast: false,\r\n      toastMessage: ''\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadGlobalUserInfo()\r\n    document.addEventListener('click', this.handleClickOutside)\r\n    // localStorage\r\n    window.addEventListener('storage', this.handleStorageChange)\r\n    // \r\n    this.$root.$on('userInfoUpdated', this.loadGlobalUserInfo)\r\n    \r\n    //  \r\n    this.$eventBus.on(this.$EventTypes.USER_AVATAR_UPDATED, this.handleAvatarUpdated)\r\n  },\r\n  beforeDestroy() {\r\n    document.removeEventListener('click', this.handleClickOutside)\r\n    window.removeEventListener('storage', this.handleStorageChange)\r\n    this.$root.$off('userInfoUpdated', this.loadGlobalUserInfo)\r\n    \r\n    // \r\n    this.$eventBus.off(this.$EventTypes.USER_AVATAR_UPDATED, this.handleAvatarUpdated)\r\n  },\r\n  methods: {\r\n    loadGlobalUserInfo() {\r\n      // \r\n      const token = localStorage.getItem('access_token')\r\n      const savedUserInfo = localStorage.getItem('user_info')\r\n      this.isLoggedIn = !!(token && savedUserInfo)\r\n      \r\n      if (this.isLoggedIn && savedUserInfo) {\r\n        try {\r\n          const userData = JSON.parse(savedUserInfo)\r\n          \r\n          //  avatar avatarUrl\r\n          const avatarUrl = userData.avatar || userData.avatarUrl || ''\r\n          \r\n          this.globalUserInfo = {\r\n            nickname: userData.nickname || userData.name || '',\r\n            avatar: avatarUrl  // \r\n          }\r\n          \r\n          console.log('GlobalUserProfile:', {\r\n            nickname: this.globalUserInfo.nickname,\r\n            avatar: this.globalUserInfo.avatar,\r\n            hasAvatar: !!this.globalUserInfo.avatar,\r\n            avatarLength: this.globalUserInfo.avatar.length\r\n          })\r\n        } catch (error) {\r\n          console.error(':', error)\r\n          this.isLoggedIn = false\r\n          this.globalUserInfo = {\r\n            nickname: '',\r\n            avatar: ''\r\n          }\r\n        }\r\n      } else {\r\n        this.isLoggedIn = false\r\n        this.globalUserInfo = {\r\n          nickname: '',\r\n          avatar: ''\r\n        }\r\n      }\r\n    },\r\n    handleStorageChange(event) {\r\n      // localStorageuser_info\r\n      if (event.key === 'user_info') {\r\n        this.loadGlobalUserInfo()\r\n      }\r\n    },\r\n    handleAvatarUpdated({ userId, avatarUrl }) {\r\n      // \r\n      const savedUserInfo = localStorage.getItem('user_info')\r\n      if (savedUserInfo) {\r\n        try {\r\n          const userData = JSON.parse(savedUserInfo)\r\n          const currentUserId = userData.id || userData.userId\r\n          \r\n          if (String(currentUserId) === String(userId)) {\r\n            //  \r\n            this.$set(this.globalUserInfo, 'avatar', avatarUrl)\r\n            console.log(' GlobalUserProfile')\r\n          }\r\n        } catch (error) {\r\n          console.error(':', error)\r\n        }\r\n      }\r\n    },\r\n    handleClickOutside(event) {\r\n      if (!event.target.closest('.user-profile') && !event.target.closest('.user-menu')) {\r\n        this.userMenuOpen = false\r\n      }\r\n    },\r\n    toggleUserMenu() {\r\n      this.userMenuOpen = !this.userMenuOpen\r\n    },\r\n    goToProfile() {\r\n      this.userMenuOpen = false\r\n      // \r\n      if (this.$route.path !== '/profile') {\r\n        this.$router.push('/profile')\r\n      }\r\n    },\r\n    goToLogin() {\r\n      this.userMenuOpen = false\r\n      this.$router.push('/login')\r\n    },\r\n    logout() {\r\n      this.userMenuOpen = false\r\n      \r\n      // \r\n      clearAuthData()\r\n      \r\n      // \r\n      this.showSuccessToast('')\r\n      \r\n      // \r\n      setTimeout(() => {\r\n        this.$router.push('/login')\r\n      }, 1000)\r\n    },\r\n    showSuccessToast(message) {\r\n      this.toastMessage = message\r\n      this.showToast = true\r\n      \r\n      // 1\r\n      setTimeout(() => {\r\n        this.showToast = false\r\n        this.toastMessage = ''\r\n      }, 1000)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.global-user-profile {\r\n  position: relative;\r\n  z-index: 1000;\r\n}\r\n\r\n.global-user-profile.floating {\r\n  position: fixed;\r\n  top: 8px;\r\n  right: 20px;\r\n  z-index: 10003; /*  */\r\n}\r\n\r\n.user-profile {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  cursor: pointer;\r\n  padding: 6px 10px;\r\n  border-radius: 20px;\r\n  transition: all 0.3s ease;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n  backdrop-filter: blur(10px);\r\n}\r\n\r\n.user-profile:hover {\r\n  background: rgba(255, 255, 255, 0.95);\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.global-user-profile .user-avatar {\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  overflow: hidden;\r\n  background-color: #e9ecef !important;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.global-user-profile .user-avatar img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.global-user-profile .user-avatar .avatar-placeholder {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #e9ecef !important;\r\n  background: #e9ecef !important;\r\n  color: #6c757d !important;\r\n}\r\n\r\n.username {\r\n  font-weight: 500;\r\n  color: #333;\r\n  font-size: 14px;\r\n}\r\n\r\n.user-menu {\r\n  position: absolute;\r\n  top: calc(100% + 4px);\r\n  right: 0;\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n  border: 1px solid #e9ecef;\r\n  min-width: 160px;\r\n  z-index: 9999;\r\n  animation: fadeIn 0.2s ease-out;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.menu-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 12px 16px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n  font-size: 14px;\r\n  color: #333;\r\n}\r\n\r\n.menu-item:hover {\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.menu-item:first-child {\r\n  border-radius: 8px 8px 0 0;\r\n}\r\n\r\n.menu-item:last-child {\r\n  border-radius: 0 0 8px 8px;\r\n}\r\n\r\n.menu-item svg {\r\n  color: #666;\r\n}\r\n\r\n.rotate {\r\n  transform: rotate(180deg);\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n/* Toast */\r\n.success-toast {\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background: rgba(0, 0, 0, 0.8);\r\n  color: white;\r\n  padding: 16px 24px;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  z-index: 9999;\r\n  animation: fadeInOut 1s ease-in-out;\r\n  pointer-events: none;\r\n}\r\n\r\n@keyframes fadeInOut {\r\n  0% {\r\n    opacity: 0;\r\n    transform: translate(-50%, -50%) scale(0.8);\r\n  }\r\n  20% {\r\n    opacity: 1;\r\n    transform: translate(-50%, -50%) scale(1);\r\n  }\r\n  80% {\r\n    opacity: 1;\r\n    transform: translate(-50%, -50%) scale(1);\r\n  }\r\n  100% {\r\n    opacity: 0;\r\n    transform: translate(-50%, -50%) scale(0.8);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GlobalUserProfile.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GlobalUserProfile.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./GlobalUserProfile.vue?vue&type=template&id=3dd94630&scoped=true\"\nimport script from \"./GlobalUserProfile.vue?vue&type=script&lang=js\"\nexport * from \"./GlobalUserProfile.vue?vue&type=script&lang=js\"\nimport style0 from \"./GlobalUserProfile.vue?vue&type=style&index=0&id=3dd94630&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3dd94630\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"app\">\r\n    <router-view/>\r\n    <!--  -->\r\n    <GlobalUserProfile \r\n      v-if=\"!isAuthPage\" \r\n      :floating=\"true\" \r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport GlobalUserProfile from '@/components/GlobalUserProfile.vue'\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    GlobalUserProfile\r\n  },\r\n  computed: {\r\n    isAuthPage() {\r\n      // \r\n      const authRoutes = ['/login', '/register', '/forgot-password']\r\n      return authRoutes.includes(this.$route.path)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n@import './assets/styles/variables.css';\r\n\r\n#app {\r\n  min-height: 100vh;\r\n  background-color: var(--bg-secondary);\r\n  color: var(--text-primary);\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=268cdfff\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=268cdfff&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-container\"},[_c('div',{staticClass:\"brand-corner\"},[_vm._v(\"\")]),_c('div',{staticClass:\"login-left\"},[_c('div',{staticClass:\"logo-section\"},[_c('div',{staticClass:\"logo-placeholder\",class:{ animated: _vm.animateLogo }},[_c('img',{staticClass:\"logo-img\",attrs:{\"src\":require(\"@/assets/image/logo.jpg\"),\"alt\":\"Logo\"}})]),_c('h1',{staticClass:\"system-title\",class:{ animated: _vm.animateLogo }},[_vm._v(\"\")]),_c('p',{staticClass:\"system-subtitle\",class:{ animated: _vm.animateLogo }},[_vm._v(\"University Research Team Collaboration and Achievement Management Platform\")])])]),_c('div',{staticClass:\"login-right\"},[_c('div',{staticClass:\"login-box\"},[_vm._m(0),_c('form',{staticClass:\"login-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleLogin.apply(null, arguments)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.loginForm.email),expression:\"loginForm.email\"}],attrs:{\"type\":\"email\",\"id\":\"email\",\"placeholder\":\"\",\"required\":\"\"},domProps:{\"value\":(_vm.loginForm.email)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.loginForm, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.loginForm.password),expression:\"loginForm.password\"}],attrs:{\"type\":\"password\",\"id\":\"password\",\"placeholder\":\"\",\"required\":\"\"},domProps:{\"value\":(_vm.loginForm.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.loginForm, \"password\", $event.target.value)}}})]),_c('div',{staticClass:\"form-options\"},[_c('label',{staticClass:\"checkbox-option\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.loginForm.rememberMe),expression:\"loginForm.rememberMe\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.loginForm.rememberMe)?_vm._i(_vm.loginForm.rememberMe,null)>-1:(_vm.loginForm.rememberMe)},on:{\"change\":function($event){var $$a=_vm.loginForm.rememberMe,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.loginForm, \"rememberMe\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.loginForm, \"rememberMe\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.loginForm, \"rememberMe\", $$c)}}}}),_c('span',[_vm._v(\"\")])]),_c('a',{staticClass:\"forgot-password\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.goToForgotPassword.apply(null, arguments)}}},[_vm._v(\"  \")])]),_c('button',{staticClass:\"login-btn\",attrs:{\"type\":\"submit\",\"disabled\":_vm.loading}},[_vm._v(\" \"+_vm._s(_vm.loading ? '...' : '')+\" \")]),_c('div',{staticClass:\"register-link\"},[_c('span',[_vm._v(\"\")]),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.goToRegister.apply(null, arguments)}}},[_vm._v(\"\")])])])])]),(_vm.showToast)?_c('div',{staticClass:\"success-toast\"},[_vm._v(\" \"+_vm._s(_vm.toastMessage)+\" \")]):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-header\"},[_c('h2',{staticClass:\"login-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"login-subtitle\"},[_vm._v(\"\")])])\n}]\n\nexport { render, staticRenderFns }","import axios from 'axios'\r\nimport config from '@/config'\r\n\r\n// axios\r\nconst api = axios.create({\r\n  baseURL: config.api.baseURL,\r\n  timeout: config.api.timeout,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'Accept': 'application/json'\r\n  },\r\n  withCredentials: true\r\n})\r\n\r\n// \r\napi.interceptors.request.use(\r\n  config => {\r\n    // localStoragetoken\r\n    const token = localStorage.getItem('access_token')\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`\r\n    }\r\n    \r\n    // Content-Type\r\n    if (!config.headers['Content-Type']) {\r\n      config.headers['Content-Type'] = 'application/json'\r\n    }\r\n    \r\n    // \r\n    console.log('API:', config.method?.toUpperCase(), config.url)\r\n    console.log(':', config.headers)\r\n    console.log(':', config.data)\r\n    console.log(':', typeof config.data)\r\n    \r\n    return config\r\n  },\r\n  error => {\r\n    console.error(':', error)\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// \r\napi.interceptors.response.use(\r\n  response => {\r\n    console.log('API:', response.status, response.data)\r\n    return response.data\r\n  },\r\n  error => {\r\n    console.error('API:', error)\r\n    console.error(':', error.name)\r\n    console.error(':', error.message)\r\n    console.error(':', error)\r\n    \r\n    if (error.response) {\r\n      // \r\n      const { status, data } = error.response\r\n      console.error(':', status, data)\r\n      if (status === 401) {\r\n        // token\r\n        localStorage.removeItem('access_token')\r\n        localStorage.removeItem('refresh_token')\r\n        localStorage.removeItem('user_info')\r\n        window.location.href = '/login'\r\n      }\r\n      return Promise.reject(data || error)\r\n    } else if (error.request) {\r\n      // \r\n      console.error(':', error.request)\r\n      console.error(':', error.config)\r\n      return Promise.reject(new Error('8091'))\r\n    } else {\r\n      // \r\n      console.error(':', error.message)\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n)\r\n\r\n// API\r\nexport const authAPI = {\r\n  // \r\n  sendVerificationCode(data) {\r\n    return api.post('/zhiyan/auth/send-verfcode', data)\r\n  },\r\n\r\n  // \r\n  register(data) {\r\n    return api.post('/zhiyan/auth/register', data)\r\n  },\r\n\r\n  // \r\n  login(data) {\r\n    return api.post('/zhiyan/auth/login', data)\r\n  },\r\n\r\n  // \r\n  autoLoginCheck() {\r\n    return api.get('/zhiyan/auth/auto-login-check')\r\n  },\r\n\r\n  // \r\n  clearRememberMe() {\r\n    return api.post('/zhiyan/auth/clear-remember-me')\r\n  },\r\n\r\n  // \r\n  verifyCode(email, code, type) {\r\n    return api.post('/zhiyan/auth/verify-code', null, {\r\n      params: { email, code, type }\r\n    })\r\n  },\r\n\r\n  // \r\n  checkEmail(email) {\r\n    return api.get(`/zhiyan/auth/check-email?email=${encodeURIComponent(email)}`)\r\n  },\r\n\r\n  // \r\n  refreshToken(refreshToken) {\r\n    return api.post('/zhiyan/auth/refresh', { refreshToken })\r\n  },\r\n\r\n  // \r\n  validateToken(token) {\r\n    return api.get('/zhiyan/auth/validate', {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    })\r\n  },\r\n\r\n  // \r\n  forgotPassword(email) {\r\n    return api.post('/zhiyan/auth/forgot-password', { email })\r\n  },\r\n\r\n  // \r\n  resetPassword(data) {\r\n    return api.post('/zhiyan/auth/reset-password', data)\r\n  },\r\n\r\n  // \r\n  sendResetPasswordCode(email) {\r\n    return api.post('/zhiyan/auth/forgot-password', { email })\r\n  },\r\n\r\n  // \r\n  logout(token) {\r\n    return api.post('/zhiyan/auth/logout', null, {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    })\r\n  },\r\n\r\n  // \r\n  searchUserByName(name) {\r\n    return api.get(`/zhiyan/users/name`, {\r\n      params: { name }\r\n    })\r\n  },\r\n\r\n  // ID\r\n  getUserById(userId) {\r\n    return api.get(`/zhiyan/users/${userId}`)\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {String} keyword - \r\n   * @param {Number} page - 0\r\n   * @param {Number} size - \r\n   */\r\n  searchUsers(keyword, page = 0, size = 10) {\r\n    console.log('[authAPI.searchUsers] , :', keyword, ':', page, ':', size)\r\n    return api.get(`/zhiyan/users/search`, {\r\n      params: { keyword, page, size }\r\n    })\r\n  }\r\n}\r\n\r\nexport default api\r\n","<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"brand-corner\"></div>\r\n    <div class=\"login-left\">\r\n      <div class=\"logo-section\">\r\n        <div class=\"logo-placeholder\" :class=\"{ animated: animateLogo }\">\r\n          <img src=\"@/assets/image/logo.jpg\" alt=\"Logo\" class=\"logo-img\" />\r\n        </div>\r\n        <h1 class=\"system-title\" :class=\"{ animated: animateLogo }\"></h1>\r\n        <p class=\"system-subtitle\" :class=\"{ animated: animateLogo }\">University Research Team Collaboration and Achievement Management Platform</p>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"login-right\">\r\n      <div class=\"login-box\">\r\n        <div class=\"login-header\">\r\n          <h2 class=\"login-title\"></h2>\r\n          <p class=\"login-subtitle\"></p>\r\n        </div>\r\n        \r\n        <form @submit.prevent=\"handleLogin\" class=\"login-form\">\r\n          <div class=\"form-group\">\r\n            <label for=\"email\"></label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              v-model=\"loginForm.email\"\r\n              placeholder=\"\"\r\n              required\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-group\">\r\n            <label for=\"password\"></label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              v-model=\"loginForm.password\"\r\n              placeholder=\"\"\r\n              required\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-options\">\r\n            <label class=\"checkbox-option\">\r\n              <input type=\"checkbox\" v-model=\"loginForm.rememberMe\" />\r\n              <span></span>\r\n            </label>\r\n            <a href=\"#\" @click.prevent=\"goToForgotPassword\" class=\"forgot-password\">\r\n              \r\n            </a>\r\n          </div>\r\n          \r\n          <button type=\"submit\" class=\"login-btn\" :disabled=\"loading\">\r\n            {{ loading ? '...' : '' }}\r\n          </button>\r\n          \r\n          <div class=\"register-link\">\r\n            <span></span>\r\n            <a href=\"#\" @click.prevent=\"goToRegister\"></a>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Toast -->\r\n    <div v-if=\"showToast\" class=\"success-toast\">\r\n      {{ toastMessage }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { authAPI } from '@/api/auth'\r\nimport { saveLoginData, formatApiError, isValidEmail } from '@/utils/auth'\r\nimport '@/assets/styles/Login.css'\r\n\r\nexport default {\r\n  name: 'Login',\r\n  components: {\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      submitLocked: false,\r\n      userAvatar: null, // URLlocalStorageAPI\r\n      loginForm: {\r\n        email: '',\r\n        password: '',\r\n        rememberMe: false\r\n      },\r\n      showToast: false,\r\n      toastMessage: '',\r\n      animateLogo: false\r\n    }\r\n  },\r\n  mounted() {\r\n    // \r\n    const hasAnimated = localStorage.getItem('authPagesAnimated')\r\n    if (!hasAnimated) {\r\n      this.animateLogo = true\r\n      localStorage.setItem('authPagesAnimated', 'true')\r\n    }\r\n  },\r\n  watch: {\r\n    'loginForm.email': {\r\n      handler(newEmail) {\r\n        if (newEmail) {\r\n          this.loadUserAvatarByEmail(newEmail)\r\n        } else {\r\n          // \r\n          this.userAvatar = null\r\n        }\r\n      },\r\n      immediate: false\r\n    }\r\n  },\r\n  mounted() {\r\n    // \r\n    this.userAvatar = null\r\n  },\r\n  methods: {\r\n    loadUserAvatar() {\r\n      // localStorageAPI\r\n      const savedAvatar = localStorage.getItem('userAvatar')\r\n      if (savedAvatar) {\r\n        this.userAvatar = savedAvatar\r\n      }\r\n    },\r\n    loadUserAvatarByEmail(email) {\r\n      // \r\n      // \r\n      // API\r\n      this.simulateLoadUserByEmail(email)\r\n    },\r\n    simulateLoadUserByEmail(email) {\r\n      // \r\n      // localStorage\r\n      const userData = localStorage.getItem('userData_' + email)\r\n      if (userData) {\r\n        const user = JSON.parse(userData)\r\n        this.userAvatar = user.avatar || null\r\n      } else {\r\n        // \r\n        this.userAvatar = null\r\n      }\r\n    },\r\n    setUserAvatar(avatarUrl) {\r\n      // \r\n      this.userAvatar = avatarUrl\r\n      localStorage.setItem('userAvatar', avatarUrl)\r\n    },\r\n    async handleLogin() {\r\n      if (this.submitLocked) return\r\n      this.submitLocked = true\r\n      setTimeout(() => { this.submitLocked = false }, 1000)\r\n      \r\n      // \r\n      if (!this.loginForm.email) {\r\n        alert('')\r\n        return\r\n      }\r\n      \r\n      if (!this.loginForm.password) {\r\n        alert('')\r\n        return\r\n      }\r\n      \r\n      if (!isValidEmail(this.loginForm.email)) {\r\n        alert('')\r\n        return\r\n      }\r\n      \r\n      this.loading = true\r\n      try {\r\n        // API\r\n        const response = await authAPI.login({\r\n          email: this.loginForm.email,\r\n          password: this.loginForm.password,\r\n          rememberMe: this.loginForm.rememberMe\r\n        })\r\n        \r\n        if (response.code === 200 && response.data) {\r\n          // \r\n          const loginData = {\r\n            accessToken: response.data.accessToken,\r\n            refreshToken: response.data.refreshToken,\r\n            rememberMeToken: response.data.rememberMeToken,\r\n            userInfo: response.data.user\r\n          }\r\n          \r\n          console.log(':', loginData)\r\n          saveLoginData(loginData)\r\n          \r\n          // \r\n          const savedToken = localStorage.getItem('access_token')\r\n          const savedUserInfo = localStorage.getItem('user_info')\r\n          console.log(':', {\r\n            token: !!savedToken,\r\n            userInfo: !!savedUserInfo,\r\n            tokenValue: savedToken,\r\n            userInfoValue: savedUserInfo\r\n          })\r\n          \r\n          // \r\n          this.showSuccessToast('')\r\n          \r\n          // \r\n          this.$root.$emit('userInfoUpdated')\r\n          \r\n          // Toast\r\n          setTimeout(() => {\r\n            this.$router.replace('/home')\r\n          }, 1000)\r\n        } else {\r\n          alert(response.msg || '')\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        const errorMessage = formatApiError(error)\r\n        alert(errorMessage)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    goToRegister() {\r\n      this.$router.push('/register')\r\n    },\r\n    goToForgotPassword() {\r\n      this.$router.push('/forgot-password')\r\n    },\r\n    showSuccessToast(message) {\r\n      this.toastMessage = message\r\n      this.showToast = true\r\n      \r\n      // 1\r\n      setTimeout(() => {\r\n        this.showToast = false\r\n        this.toastMessage = ''\r\n      }, 1000)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=2eed81dc\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"register-container\"},[_c('div',{staticClass:\"brand-corner\"},[_vm._v(\"\")]),_c('div',{staticClass:\"register-left\"},[_c('div',{staticClass:\"logo-section\"},[_c('div',{staticClass:\"logo-placeholder\",class:{ animated: _vm.animateLogo }},[_c('img',{staticClass:\"logo-img\",attrs:{\"src\":require(\"@/assets/image/logo.jpg\"),\"alt\":\"Logo\"}})]),_c('h1',{staticClass:\"system-title\",class:{ animated: _vm.animateLogo }},[_vm._v(\"\")]),_c('p',{staticClass:\"system-subtitle\",class:{ animated: _vm.animateLogo }},[_vm._v(\"University Research Team Collaboration and Achievement Management Platform\")])])]),_c('div',{staticClass:\"register-right\"},[_c('div',{staticClass:\"register-box\"},[_c('div',{staticClass:\"register-header\"},[_c('button',{staticClass:\"back-btn\",attrs:{\"title\":\"\"},on:{\"click\":_vm.goToLogin}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M19 12H5M12 19L5 12L12 5\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_c('span',[_vm._v(\"\")])]),_c('h2',{staticClass:\"register-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"register-subtitle\"},[_vm._v(\"\")])]),_c('form',{staticClass:\"register-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleRegister.apply(null, arguments)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.registerForm.email),expression:\"registerForm.email\"}],attrs:{\"type\":\"email\",\"id\":\"email\",\"placeholder\":\"\",\"required\":\"\"},domProps:{\"value\":(_vm.registerForm.email)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.registerForm, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"code\"}},[_vm._v(\"\")]),_c('div',{staticClass:\"code-input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.registerForm.code),expression:\"registerForm.code\"}],staticClass:\"code-input\",attrs:{\"type\":\"text\",\"id\":\"code\",\"placeholder\":\"6\",\"maxlength\":\"6\",\"pattern\":\"[0-9]{6}\",\"required\":\"\"},domProps:{\"value\":(_vm.registerForm.code)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(_vm.registerForm, \"code\", $event.target.value)},_vm.formatCodeInput]}}),_c('button',{staticClass:\"send-code-btn\",attrs:{\"type\":\"button\",\"disabled\":_vm.loading || _vm.countdown > 0},on:{\"click\":_vm.sendCode}},[_vm._v(\" \"+_vm._s(_vm.countdown > 0 ? `${_vm.countdown}s` : '')+\" \")])])]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"(6-16)\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.registerForm.password),expression:\"registerForm.password\"}],attrs:{\"type\":\"password\",\"id\":\"password\",\"placeholder\":\"\",\"required\":\"\",\"minlength\":\"6\",\"maxlength\":\"16\"},domProps:{\"value\":(_vm.registerForm.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.registerForm, \"password\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"confirmPassword\"}},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.registerForm.confirmPassword),expression:\"registerForm.confirmPassword\"}],attrs:{\"type\":\"password\",\"id\":\"confirmPassword\",\"placeholder\":\"\",\"required\":\"\"},domProps:{\"value\":(_vm.registerForm.confirmPassword)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.registerForm, \"confirmPassword\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.registerForm.name),expression:\"registerForm.name\"}],attrs:{\"type\":\"text\",\"id\":\"name\",\"placeholder\":\"\",\"required\":\"\"},domProps:{\"value\":(_vm.registerForm.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.registerForm, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"organization\"}},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.registerForm.organization),expression:\"registerForm.organization\"}],attrs:{\"type\":\"text\",\"id\":\"organization\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.registerForm.organization)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.registerForm, \"organization\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group agreement-group\"},[_c('label',{staticClass:\"agreement\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.registerForm.agreement),expression:\"registerForm.agreement\"}],attrs:{\"type\":\"checkbox\",\"required\":\"\"},domProps:{\"checked\":Array.isArray(_vm.registerForm.agreement)?_vm._i(_vm.registerForm.agreement,null)>-1:(_vm.registerForm.agreement)},on:{\"change\":function($event){var $$a=_vm.registerForm.agreement,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.registerForm, \"agreement\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.registerForm, \"agreement\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.registerForm, \"agreement\", $$c)}}}}),_vm._m(0)])]),_c('button',{staticClass:\"register-btn\",attrs:{\"type\":\"submit\",\"disabled\":_vm.loading}},[_vm._v(\" \"+_vm._s(_vm.loading ? '...' : '')+\" \")])])])]),(_vm.showToast)?_c('div',{staticClass:\"success-toast\"},[_vm._v(\" \"+_vm._s(_vm.toastMessage)+\" \")]):_vm._e(),(_vm.showModal)?_c('div',{staticClass:\"modal-overlay\",on:{\"click\":_vm.closeModal}},[_c('div',{staticClass:\"modal-content\",on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._m(1),_c('div',{staticClass:\"modal-body\"},[_c('p',[_vm._v(_vm._s(_vm.modalMessage))])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn-confirm\",on:{\"click\":_vm.closeModal}},[_vm._v(\"\")])])])]):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',[_vm._v(\"\"),_c('a',{staticClass:\"agreement-link\",attrs:{\"href\":\"#\"}},[_vm._v(\"\")]),_vm._v(\"\"),_c('a',{staticClass:\"agreement-link\",attrs:{\"href\":\"#\"}},[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modal-header\"},[_c('h3',[_vm._v(\"\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"register-container\">\r\n    <div class=\"brand-corner\"></div>\r\n    <div class=\"register-left\">\r\n      <div class=\"logo-section\">\r\n        <div class=\"logo-placeholder\" :class=\"{ animated: animateLogo }\">\r\n          <img src=\"@/assets/image/logo.jpg\" alt=\"Logo\" class=\"logo-img\" />\r\n        </div>\r\n        <h1 class=\"system-title\" :class=\"{ animated: animateLogo }\"></h1>\r\n        <p class=\"system-subtitle\" :class=\"{ animated: animateLogo }\">University Research Team Collaboration and Achievement Management Platform</p>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"register-right\">\r\n      <div class=\"register-box\">\r\n        <div class=\"register-header\">\r\n          <button class=\"back-btn\" @click=\"goToLogin\" title=\"\">\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M19 12H5M12 19L5 12L12 5\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n            <span></span>\r\n          </button>\r\n          <h2 class=\"register-title\"></h2>\r\n          <p class=\"register-subtitle\"></p>\r\n        </div>\r\n        \r\n        <form @submit.prevent=\"handleRegister\" class=\"register-form\">\r\n          <div class=\"form-group\">\r\n            <label for=\"email\"></label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              v-model=\"registerForm.email\"\r\n              placeholder=\"\"\r\n              required\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-group\">\r\n            <label for=\"code\"></label>\r\n            <div class=\"code-input-group\">\r\n              <input\r\n                type=\"text\"\r\n                id=\"code\"\r\n                v-model=\"registerForm.code\"\r\n                placeholder=\"6\"\r\n                maxlength=\"6\"\r\n                pattern=\"[0-9]{6}\"\r\n                required\r\n                class=\"code-input\"\r\n                @input=\"formatCodeInput\"\r\n              />\r\n              <button \r\n                type=\"button\" \r\n                @click=\"sendCode\" \r\n                class=\"send-code-btn\" \r\n                :disabled=\"loading || countdown > 0\"\r\n              >\r\n                {{ countdown > 0 ? `${countdown}s` : '' }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"form-group\">\r\n            <label for=\"password\">(6-16)</label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              v-model=\"registerForm.password\"\r\n              placeholder=\"\"\r\n              required\r\n              minlength=\"6\"\r\n              maxlength=\"16\"\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-group\">\r\n            <label for=\"confirmPassword\"></label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"confirmPassword\"\r\n              v-model=\"registerForm.confirmPassword\"\r\n              placeholder=\"\"\r\n              required\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-group\">\r\n            <label for=\"name\"></label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"name\"\r\n              v-model=\"registerForm.name\"\r\n              placeholder=\"\"\r\n              required\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-group\">\r\n            <label for=\"organization\"></label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"organization\"\r\n              v-model=\"registerForm.organization\"\r\n              placeholder=\"\"\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-group agreement-group\">\r\n            <label class=\"agreement\">\r\n              <input type=\"checkbox\" v-model=\"registerForm.agreement\" required />\r\n              <span><a href=\"#\" class=\"agreement-link\"></a><a href=\"#\" class=\"agreement-link\"></a></span>\r\n            </label>\r\n          </div>\r\n          \r\n          <button type=\"submit\" class=\"register-btn\" :disabled=\"loading\">\r\n            {{ loading ? '...' : '' }}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Toast -->\r\n    <div v-if=\"showToast\" class=\"success-toast\">\r\n      {{ toastMessage }}\r\n    </div>\r\n    \r\n    <!--  -->\r\n    <div v-if=\"showModal\" class=\"modal-overlay\" @click=\"closeModal\">\r\n      <div class=\"modal-content\" @click.stop>\r\n        <div class=\"modal-header\">\r\n          <h3></h3>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <p>{{ modalMessage }}</p>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button class=\"btn-confirm\" @click=\"closeModal\"></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { authAPI } from '@/api/auth'\r\nimport { formatApiError, isValidEmail, validatePassword, saveLoginData } from '@/utils/auth'\r\nimport '@/assets/styles/Register.css'\r\n\r\nexport default {\r\n  name: 'Register',\r\n  components: {\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      countdown: 0,\r\n      submitLocked: false,\r\n      registerForm: {\r\n        email: '',\r\n        code: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n        name: '',\r\n        organization: '',\r\n        agreement: false\r\n      },\r\n      showToast: false,\r\n      toastMessage: '',\r\n      showModal: false,\r\n      modalMessage: '',\r\n      animateLogo: false\r\n    }\r\n  },\r\n  mounted() {\r\n    // \r\n    const hasAnimated = localStorage.getItem('authPagesAnimated')\r\n    if (!hasAnimated) {\r\n      this.animateLogo = true\r\n      localStorage.setItem('authPagesAnimated', 'true')\r\n    }\r\n  },\r\n  methods: {\r\n    async sendCode() {\r\n      if (!this.registerForm.email) {\r\n        this.showErrorModal('')\r\n        return\r\n      }\r\n      \r\n      if (!isValidEmail(this.registerForm.email)) {\r\n        this.showErrorModal('')\r\n        return\r\n      }\r\n      \r\n      this.loading = true\r\n      try {\r\n        // \r\n        const response = await authAPI.sendVerificationCode({\r\n          email: this.registerForm.email,\r\n          type: 'REGISTER' // \r\n        })\r\n        \r\n        if (response.code === 200) {\r\n          this.showSuccessToast('')\r\n          this.startCountdown()\r\n        } else {\r\n          // \r\n          if (response.msg && response.msg.includes('')) {\r\n            this.showErrorModal('')\r\n          } else {\r\n            this.showErrorModal(response.msg || '')\r\n          }\r\n        }\r\n      } catch (error) {\r\n          console.error(':', error)\r\n          const errorMessage = formatApiError(error)\r\n          \r\n          // \r\n          if (errorMessage.includes('') || errorMessage.includes('') || \r\n              errorMessage.includes('') || errorMessage.includes('exists') || \r\n              errorMessage.includes('registered')) {\r\n            this.showErrorModal('')\r\n          } else {\r\n            this.showErrorModal(errorMessage)\r\n          }\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    async handleRegister() {\r\n      console.log('===  ===')\r\n      console.log(':', this.registerForm)\r\n      \r\n      if (this.submitLocked) {\r\n        console.log('')\r\n        return\r\n      }\r\n      this.submitLocked = true\r\n      setTimeout(() => { this.submitLocked = false }, 1000)\r\n      \r\n      // \r\n      console.log('...')\r\n      if (!this.registerForm.email) {\r\n        console.log('')\r\n        this.showErrorModal('')\r\n        return\r\n      }\r\n      \r\n      if (!this.registerForm.code) {\r\n        console.log('')\r\n        this.showErrorModal('')\r\n        return\r\n      }\r\n      \r\n      if (!this.registerForm.password) {\r\n        console.log('')\r\n        this.showErrorModal('')\r\n        return\r\n      }\r\n      \r\n      if (!this.registerForm.name) {\r\n        console.log('')\r\n        this.showErrorModal('')\r\n        return\r\n      }\r\n      \r\n      if (!isValidEmail(this.registerForm.email)) {\r\n        this.showErrorModal('')\r\n        return\r\n      }\r\n      \r\n      if (this.registerForm.password !== this.registerForm.confirmPassword) {\r\n        this.showErrorModal('')\r\n        return\r\n      }\r\n      \r\n      const passwordValidation = validatePassword(this.registerForm.password)\r\n      if (!passwordValidation.isValid) {\r\n        this.showErrorModal(passwordValidation.message)\r\n        return\r\n      }\r\n      \r\n      if (!this.registerForm.agreement) {\r\n        this.showErrorModal('')\r\n        return\r\n      }\r\n      \r\n      // \r\n      if (!/^\\d{6}$/.test(this.registerForm.code)) {\r\n        this.showErrorModal('6')\r\n        return\r\n      }\r\n      \r\n      this.loading = true\r\n      try {\r\n        // \r\n        console.log(':', this.registerForm.email)\r\n        const emailCheckResponse = await authAPI.checkEmail(this.registerForm.email)\r\n        console.log(':', emailCheckResponse)\r\n        \r\n        // \r\n        // data=truedata=false\r\n        if (emailCheckResponse.code === 200 && emailCheckResponse.data === false) {\r\n          this.showErrorModal('')\r\n          return\r\n        }\r\n        \r\n        // \r\n        const registerData = {\r\n          email: this.registerForm.email,\r\n          verificationCode: this.registerForm.code,\r\n          password: this.registerForm.password,\r\n          confirmPassword: this.registerForm.confirmPassword,\r\n          name: this.registerForm.name,\r\n          institution: this.registerForm.organization || ''\r\n        }\r\n        \r\n        console.log(':', registerData)\r\n        console.log(':', typeof registerData)\r\n        console.log('JSON:', JSON.stringify(registerData))\r\n        \r\n        // API\r\n        console.log('API...')\r\n        console.log(':', {\r\n          email: registerData.email,\r\n          verificationCode: registerData.verificationCode,\r\n          password: registerData.password ? '******' : '',\r\n          confirmPassword: registerData.confirmPassword ? '******' : '',\r\n          name: registerData.name,\r\n          institution: registerData.institution\r\n        })\r\n        \r\n        let response\r\n        try {\r\n          response = await authAPI.register(registerData)\r\n          console.log('API:', response)\r\n          console.log(':', response.code)\r\n          console.log(':', response.msg)\r\n          console.log(':', response.data)\r\n        } catch (error) {\r\n          console.error('API:', error)\r\n          console.error(':', error.response)\r\n          console.error(':', error.response?.status)\r\n          console.error(':', error.response?.data)\r\n          throw error\r\n        }\r\n        \r\n        if (response.code === 200) {\r\n          // \r\n          if (response.data && response.data.accessToken) {\r\n            const loginData = {\r\n              accessToken: response.data.accessToken,\r\n              refreshToken: response.data.refreshToken,\r\n              rememberMeToken: response.data.rememberMeToken,\r\n              userInfo: {\r\n                id: response.data.userId,\r\n                email: response.data.email,\r\n                name: response.data.name,\r\n                title: response.data.title,\r\n                institution: response.data.institution\r\n              }\r\n            }\r\n            saveLoginData(loginData)\r\n            this.showSuccessToast('')\r\n            // \r\n            this.$root.$emit('userInfoUpdated')\r\n            \r\n            // Toast\r\n            setTimeout(() => {\r\n              this.$router.push('/home')\r\n            }, 1000)\r\n          } else {\r\n            this.showSuccessToast('')\r\n            \r\n            // Toast\r\n            setTimeout(() => {\r\n              this.$router.push('/login')\r\n            }, 1000)\r\n          }\r\n          \r\n          // \r\n          this.registerForm = {\r\n            email: '',\r\n            code: '',\r\n            password: '',\r\n            confirmPassword: '',\r\n            name: '',\r\n            organization: '',\r\n            agreement: false\r\n          }\r\n        } else {\r\n          this.showErrorModal(response.msg || '')\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        const errorMessage = formatApiError(error)\r\n        this.showErrorModal(errorMessage)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    startCountdown() {\r\n      this.countdown = 60\r\n      const timer = setInterval(() => {\r\n        this.countdown--\r\n        if (this.countdown <= 0) {\r\n          clearInterval(timer)\r\n        }\r\n      }, 1000)\r\n    },\r\n    formatCodeInput(event) {\r\n      // \r\n      let value = event.target.value.replace(/[^0-9]/g, '')\r\n      // 6\r\n      if (value.length > 6) {\r\n        value = value.substring(0, 6)\r\n      }\r\n      this.registerForm.code = value\r\n      event.target.value = value\r\n    },\r\n    goToLogin() {\r\n      this.$router.push('/login')\r\n    },\r\n    showSuccessToast(message) {\r\n      this.toastMessage = message\r\n      this.showToast = true\r\n      \r\n      // 1\r\n      setTimeout(() => {\r\n        this.showToast = false\r\n        this.toastMessage = ''\r\n      }, 1000)\r\n    },\r\n    showErrorModal(message) {\r\n      this.modalMessage = message\r\n      this.showModal = true\r\n    },\r\n    closeModal() {\r\n      this.showModal = false\r\n      this.modalMessage = ''\r\n    },\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=7a80ca56\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"forgot-password-container\"},[_c('div',{staticClass:\"brand-corner\"},[_vm._v(\"\")]),_c('div',{staticClass:\"forgot-password-left\"},[_c('div',{staticClass:\"logo-section\"},[_c('div',{staticClass:\"logo-placeholder\",class:{ animated: _vm.animateLogo }},[_c('img',{staticClass:\"logo-img\",attrs:{\"src\":require(\"@/assets/image/logo.jpg\"),\"alt\":\"Logo\"}})]),_c('h1',{staticClass:\"system-title\",class:{ animated: _vm.animateLogo }},[_vm._v(\"\")]),_c('p',{staticClass:\"system-subtitle\",class:{ animated: _vm.animateLogo }},[_vm._v(\"University Research Team Collaboration and Achievement Management Platform\")])])]),_c('div',{staticClass:\"forgot-password-right\"},[_c('div',{staticClass:\"forgot-password-box\"},[_c('div',{staticClass:\"forgot-password-header\"},[_c('button',{staticClass:\"back-btn\",attrs:{\"title\":\"\"},on:{\"click\":_vm.goToLogin}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M19 12H5M12 19L5 12L12 5\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_c('span',[_vm._v(\"\")])]),_c('h2',{staticClass:\"forgot-password-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"forgot-password-subtitle\"},[_vm._v(\"\")])]),_c('form',{staticClass:\"forgot-password-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleResetPassword.apply(null, arguments)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.resetForm.email),expression:\"resetForm.email\"}],attrs:{\"type\":\"email\",\"id\":\"email\",\"placeholder\":\"\",\"required\":\"\"},domProps:{\"value\":(_vm.resetForm.email)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.resetForm, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"code\"}},[_vm._v(\"\")]),_c('div',{staticClass:\"code-input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.resetForm.code),expression:\"resetForm.code\"}],staticClass:\"code-input\",attrs:{\"type\":\"text\",\"id\":\"code\",\"placeholder\":\"6\",\"maxlength\":\"6\",\"pattern\":\"[0-9]{6}\",\"required\":\"\"},domProps:{\"value\":(_vm.resetForm.code)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(_vm.resetForm, \"code\", $event.target.value)},_vm.formatCodeInput]}}),_c('button',{staticClass:\"send-code-btn\",attrs:{\"type\":\"button\",\"disabled\":_vm.loading || _vm.countdown > 0},on:{\"click\":_vm.sendCode}},[_vm._v(\" \"+_vm._s(_vm.countdown > 0 ? `${_vm.countdown}s` : '')+\" \")])])]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"newPassword\"}},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.resetForm.newPassword),expression:\"resetForm.newPassword\"}],attrs:{\"type\":\"password\",\"id\":\"newPassword\",\"placeholder\":\"\",\"required\":\"\",\"minlength\":\"6\"},domProps:{\"value\":(_vm.resetForm.newPassword)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.resetForm, \"newPassword\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"confirmPassword\"}},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.resetForm.confirmPassword),expression:\"resetForm.confirmPassword\"}],attrs:{\"type\":\"password\",\"id\":\"confirmPassword\",\"placeholder\":\"\",\"required\":\"\"},domProps:{\"value\":(_vm.resetForm.confirmPassword)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.resetForm, \"confirmPassword\", $event.target.value)}}})]),_c('button',{staticClass:\"complete-btn\",attrs:{\"type\":\"submit\",\"disabled\":_vm.loading}},[_vm._v(\" \"+_vm._s(_vm.loading ? '...' : '')+\" \")])])])]),(_vm.showToast)?_c('div',{staticClass:\"success-toast\"},[_vm._v(\" \"+_vm._s(_vm.toastMessage)+\" \")]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"forgot-password-container\">\r\n    <div class=\"brand-corner\"></div>\r\n    <div class=\"forgot-password-left\">\r\n      <div class=\"logo-section\">\r\n        <div class=\"logo-placeholder\" :class=\"{ animated: animateLogo }\">\r\n          <img src=\"@/assets/image/logo.jpg\" alt=\"Logo\" class=\"logo-img\" />\r\n        </div>\r\n        <h1 class=\"system-title\" :class=\"{ animated: animateLogo }\"></h1>\r\n        <p class=\"system-subtitle\" :class=\"{ animated: animateLogo }\">University Research Team Collaboration and Achievement Management Platform</p>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"forgot-password-right\">\r\n      <div class=\"forgot-password-box\">\r\n        <div class=\"forgot-password-header\">\r\n          <button class=\"back-btn\" @click=\"goToLogin\" title=\"\">\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M19 12H5M12 19L5 12L12 5\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n            <span></span>\r\n          </button>\r\n          <h2 class=\"forgot-password-title\"></h2>\r\n          <p class=\"forgot-password-subtitle\"></p>\r\n        </div>\r\n        \r\n        <form @submit.prevent=\"handleResetPassword\" class=\"forgot-password-form\">\r\n          <div class=\"form-group\">\r\n            <label for=\"email\"></label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              v-model=\"resetForm.email\"\r\n              placeholder=\"\"\r\n              required\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-group\">\r\n            <label for=\"code\"></label>\r\n            <div class=\"code-input-group\">\r\n              <input\r\n                type=\"text\"\r\n                id=\"code\"\r\n                v-model=\"resetForm.code\"\r\n                placeholder=\"6\"\r\n                maxlength=\"6\"\r\n                pattern=\"[0-9]{6}\"\r\n                required\r\n                class=\"code-input\"\r\n                @input=\"formatCodeInput\"\r\n              />\r\n              <button \r\n                type=\"button\" \r\n                @click=\"sendCode\" \r\n                class=\"send-code-btn\" \r\n                :disabled=\"loading || countdown > 0\"\r\n              >\r\n                {{ countdown > 0 ? `${countdown}s` : '' }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"form-group\">\r\n            <label for=\"newPassword\"></label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"newPassword\"\r\n              v-model=\"resetForm.newPassword\"\r\n              placeholder=\"\"\r\n              required\r\n              minlength=\"6\"\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-group\">\r\n            <label for=\"confirmPassword\"></label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"confirmPassword\"\r\n              v-model=\"resetForm.confirmPassword\"\r\n              placeholder=\"\"\r\n              required\r\n            />\r\n          </div>\r\n          \r\n          <button type=\"submit\" class=\"complete-btn\" :disabled=\"loading\">\r\n            {{ loading ? '...' : '' }}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Toast -->\r\n    <div v-if=\"showToast\" class=\"success-toast\">\r\n      {{ toastMessage }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { authAPI } from '@/api/auth'\r\nimport { formatApiError, isValidEmail, validatePassword } from '@/utils/auth'\r\nimport '@/assets/styles/ForgotPassword.css'\r\n\r\nexport default {\r\n  name: 'ForgotPassword',\r\n  components: {\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      countdown: 0,\r\n      submitLocked: false,\r\n      resetForm: {\r\n        email: '',\r\n        code: '',\r\n        newPassword: '',\r\n        confirmPassword: ''\r\n      },\r\n      showToast: false,\r\n      toastMessage: '',\r\n      animateLogo: false\r\n    }\r\n  },\r\n  mounted() {\r\n    // \r\n    const hasAnimated = localStorage.getItem('authPagesAnimated')\r\n    if (!hasAnimated) {\r\n      this.animateLogo = true\r\n      localStorage.setItem('authPagesAnimated', 'true')\r\n    }\r\n  },\r\n  methods: {\r\n    async sendCode() {\r\n      if (!this.resetForm.email) {\r\n        alert('')\r\n        return\r\n      }\r\n      \r\n      if (!isValidEmail(this.resetForm.email)) {\r\n        alert('')\r\n        return\r\n      }\r\n      \r\n      this.loading = true\r\n      try {\r\n        // API\r\n        const response = await authAPI.sendVerificationCode({\r\n          email: this.resetForm.email,\r\n          type: 'RESET_PASSWORD' // \r\n        })\r\n        \r\n        if (response.code === 200) {\r\n          alert('')\r\n          this.startCountdown()\r\n        } else {\r\n          alert(response.msg || '')\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        const errorMessage = formatApiError(error)\r\n        alert(errorMessage)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    async handleResetPassword() {\r\n      if (this.submitLocked) return\r\n      this.submitLocked = true\r\n      setTimeout(() => { this.submitLocked = false }, 1000)\r\n      \r\n      // \r\n      if (!this.resetForm.email) {\r\n        alert('')\r\n        return\r\n      }\r\n      \r\n      if (!this.resetForm.code) {\r\n        alert('')\r\n        return\r\n      }\r\n      \r\n      // \r\n      if (!/^\\d{6}$/.test(this.resetForm.code)) {\r\n        alert('6')\r\n        return\r\n      }\r\n      \r\n      if (!this.resetForm.newPassword) {\r\n        alert('')\r\n        return\r\n      }\r\n      \r\n      if (!isValidEmail(this.resetForm.email)) {\r\n        alert('')\r\n        return\r\n      }\r\n      \r\n      if (this.resetForm.newPassword !== this.resetForm.confirmPassword) {\r\n        alert('')\r\n        return\r\n      }\r\n      \r\n      const passwordValidation = validatePassword(this.resetForm.newPassword)\r\n      if (!passwordValidation.isValid) {\r\n        alert(passwordValidation.message)\r\n        return\r\n      }\r\n      \r\n      this.loading = true\r\n      try {\r\n        // API\r\n        const response = await authAPI.resetPassword({\r\n          email: this.resetForm.email,\r\n          verificationCode: this.resetForm.code,\r\n          newPassword: this.resetForm.newPassword,\r\n          confirmPassword: this.resetForm.confirmPassword\r\n        })\r\n        \r\n        if (response.code === 200) {\r\n          this.showSuccessToast('')\r\n          \r\n          // \r\n          setTimeout(() => {\r\n            this.$router.push('/login')\r\n          }, 1000)\r\n        } else {\r\n          alert(response.msg || '')\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        const errorMessage = formatApiError(error)\r\n        alert(errorMessage)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    startCountdown() {\r\n      this.countdown = 60\r\n      const timer = setInterval(() => {\r\n        this.countdown--\r\n        if (this.countdown <= 0) {\r\n          clearInterval(timer)\r\n        }\r\n      }, 1000)\r\n    },\r\n    formatCodeInput(event) {\r\n      // \r\n      let value = event.target.value.replace(/[^0-9]/g, '')\r\n      // 6\r\n      if (value.length > 6) {\r\n        value = value.substring(0, 6)\r\n      }\r\n      this.resetForm.code = value\r\n      event.target.value = value\r\n    },\r\n    goToLogin() {\r\n      this.$router.push('/login')\r\n    },\r\n    showSuccessToast(message) {\r\n      this.toastMessage = message\r\n      this.showToast = true\r\n      \r\n      // 1\r\n      setTimeout(() => {\r\n        this.showToast = false\r\n        this.toastMessage = ''\r\n      }, 1000)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ForgotPassword.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ForgotPassword.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ForgotPassword.vue?vue&type=template&id=b9eb792e\"\nimport script from \"./ForgotPassword.vue?vue&type=script&lang=js\"\nexport * from \"./ForgotPassword.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"home-container\",class:{ 'dark-mode': _vm.isDarkMode }},[_c('Sidebar',{attrs:{\"isOpen\":_vm.sidebarOpen},on:{\"close\":_vm.closeSidebar}}),_c('div',{staticClass:\"top-header\"},[_c('div',{staticClass:\"header-left\"},[_c('button',{staticClass:\"menu-btn\",on:{\"click\":_vm.toggleSidebar}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M3 12H21M3 6H21M3 18H21\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('span',{staticClass:\"page-title\"},[_vm._v(\"\")])]),_c('div',{staticClass:\"header-right\"},[_c('button',{staticClass:\"theme-toggle-btn\",attrs:{\"title\":_vm.isDarkMode ? '' : ''},on:{\"click\":_vm.toggleTheme}},[(!_vm.isDarkMode)?_c('svg',{staticClass:\"theme-icon sun-icon\",attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"4\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\"}}),_c('path',{attrs:{\"d\":\"M12 2V4M12 20V22M4.93 4.93L6.34 6.34M17.66 17.66L19.07 19.07M2 12H4M20 12H22M4.93 19.07L6.34 17.66M17.66 6.34L19.07 4.93\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\"}})]):_c('svg',{staticClass:\"theme-icon moon-icon\",attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])])]),_c('div',{staticClass:\"main-content\"},[_c('div',{staticClass:\"quick-actions\"},[_c('div',{staticClass:\"section-card\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\"\")]),_c('div',{staticClass:\"action-cards\"},[_c('div',{staticClass:\"action-card\",on:{\"click\":_vm.handleNewProject}},[_c('div',{staticClass:\"card-icon\"},[_c('svg',{attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M12 5V19M5 12H19\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('span',{staticClass:\"card-label\"},[_vm._v(\"\")])]),_c('div',{staticClass:\"action-card\",on:{\"click\":_vm.handleProjectSquare}},[_c('div',{staticClass:\"card-icon\"},[_c('svg',{attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C14.0783 15.4214 13.0609 15 12 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('circle',{attrs:{\"cx\":\"8.5\",\"cy\":\"7.5\",\"r\":\"2.5\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\"}}),_c('path',{attrs:{\"d\":\"M20 8V6C20 4.93913 19.5786 3.92172 18.8284 3.17157C18.0783 2.42143 17.0609 2 16 2H14\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('span',{staticClass:\"card-label\"},[_vm._v(\"\")])]),_c('div',{staticClass:\"action-card\",on:{\"click\":_vm.handleKnowledgeBase}},[_c('div',{staticClass:\"card-icon\"},[_c('svg',{attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M3 3H21V21H3V3Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M9 9H15V15H9V9Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('span',{staticClass:\"card-label\"},[_vm._v(\"\")])]),_c('div',{staticClass:\"action-card\",on:{\"click\":_vm.handleAIAssistant}},[_c('div',{staticClass:\"card-icon\"},[_c('svg',{attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M14 2V8H20\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M16 13H8\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M16 17H8\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M10 9H8\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('span',{staticClass:\"card-label\"},[_vm._v(\"AI\")])])])])]),_c('div',{staticClass:\"three-column-row\"},[_vm._m(0),_c('div',{staticClass:\"my-projects\"},[_c('div',{staticClass:\"section-card\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\"\")]),(_vm.isLoadingProjects)?_c('div',{staticClass:\"loading-projects\"},[_c('p',[_vm._v(\"...\")])]):_c('div',{staticClass:\"project-list\"},[_vm._l((_vm.myProjects),function(project){return _c('div',{key:project.id,staticClass:\"project-card\",on:{\"click\":function($event){return _vm.goToProjectDetail(project.id)}}},[_c('div',{staticClass:\"project-icon blue-icon\"},[_c('svg',{attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M9 3H5C3.89543 3 3 3.89543 3 5V9C3 10.1046 3.89543 11 5 11H9C10.1046 11 11 10.1046 11 9V5C11 3.89543 10.1046 3 9 3Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M19 3H15C13.8954 3 13 3.89543 13 5V9C13 10.1046 13.8954 11 15 11H19C20.1046 11 21 10.1046 21 9V5C21 3.89543 20.1046 3 19 3Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M9 13H5C3.89543 13 3 13.8954 3 15V19C3 20.1046 3.89543 21 5 21H9C10.1046 21 11 20.1046 11 19V15C11 13.8954 10.1046 13 9 13Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M19 13H15C13.8954 13 13 13.8954 13 15V19C13 20.1046 13.8954 21 15 21H19C20.1046 21 21 20.1046 21 19V15C21 13.8954 20.1046 13 19 13Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('div',{staticClass:\"project-content\"},[_c('h3',{staticClass:\"project-title\"},[_vm._v(_vm._s(project.title))]),_c('p',{staticClass:\"project-description\"},[_vm._v(_vm._s(project.description))]),_c('div',{staticClass:\"project-meta\"},[_c('span',{class:['status-badge', `status-${project.status}`]},[_vm._v(_vm._s(_vm.getStatusText(project.status)))]),_c('span',{staticClass:\"progress-text\"},[_vm._v(_vm._s(project.progress)+\"% \")])])])])}),(_vm.myProjects.length === 0)?_c('div',{staticClass:\"no-projects\"},[_c('p',[_vm._v(\"\")])]):_vm._e()],2)])]),_c('div',{staticClass:\"right-sidebar-column\"},[_c('RightSidebar',{attrs:{\"isDarkMode\":_vm.isDarkMode}})],1)])]),(_vm.showModal)?_c('div',{staticClass:\"modal-overlay\",on:{\"click\":_vm.closeModal}},[_c('div',{staticClass:\"modal-content\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"modal-header\"},[_c('h3',[_vm._v(\"\")]),_c('button',{staticClass:\"modal-close\",on:{\"click\":_vm.closeModal}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"modal-body\"},[_c('p',[_vm._v(_vm._s(_vm.modalMessage))])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"modal-btn modal-btn-cancel\",on:{\"click\":_vm.closeModal}},[_vm._v(\"\")]),_c('button',{staticClass:\"modal-btn modal-btn-confirm\",on:{\"click\":_vm.goToLogin}},[_vm._v(\"\")])])])]):_vm._e()],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"work-items\"},[_c('div',{staticClass:\"section-card\"},[_c('div',{staticClass:\"section-header\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\"\")])]),_c('div',{staticClass:\"work-item-list\"},[_c('div',{staticClass:\"work-item high-priority\"},[_c('div',{staticClass:\"priority-bar\"}),_c('div',{staticClass:\"item-content\"},[_c('h3',{staticClass:\"item-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"item-description\"},[_vm._v(\",\")]),_c('div',{staticClass:\"item-meta\"},[_c('span',{staticClass:\"priority\"},[_vm._v(\"\")]),_c('span',{staticClass:\"deadline\"},[_vm._v(\":2023-06-15\")])])])]),_c('div',{staticClass:\"work-item medium-priority\"},[_c('div',{staticClass:\"priority-bar\"}),_c('div',{staticClass:\"item-content\"},[_c('h3',{staticClass:\"item-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"item-description\"},[_vm._v(\"\")]),_c('div',{staticClass:\"item-meta\"},[_c('span',{staticClass:\"priority\"},[_vm._v(\"\")]),_c('span',{staticClass:\"deadline\"},[_vm._v(\":2023-06-20\")])])])]),_c('div',{staticClass:\"work-item low-priority\"},[_c('div',{staticClass:\"priority-bar\"}),_c('div',{staticClass:\"item-content\"},[_c('h3',{staticClass:\"item-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"item-description\"},[_vm._v(\",\")]),_c('div',{staticClass:\"item-meta\"},[_c('span',{staticClass:\"priority\"},[_vm._v(\"\")]),_c('span',{staticClass:\"deadline\"},[_vm._v(\":2023-06-30\")])])])])])])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.isOpen)?_c('div',{staticClass:\"sidebar-overlay\",on:{\"click\":_vm.closeSidebar}},[_c('div',{staticClass:\"sidebar\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"sidebar-header\"},[_c('h2',{staticClass:\"sidebar-title\"},[_vm._v(\"\")]),_c('button',{staticClass:\"close-btn\",on:{\"click\":_vm.closeSidebar}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('nav',{staticClass:\"sidebar-nav\"},[_c('div',{staticClass:\"nav-item\",class:{ active: _vm.currentRoute === '/home' },on:{\"click\":function($event){return _vm.navigateTo('/home')}}},[_c('div',{staticClass:\"nav-icon\"},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M9 22V12H15V22\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('span',{staticClass:\"nav-text\"},[_vm._v(\"\")])]),_c('div',{staticClass:\"nav-item\",class:{ active: _vm.currentRoute === '/project-square' },on:{\"click\":function($event){return _vm.navigateTo('/project-square')}}},[_c('div',{staticClass:\"nav-icon\"},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('rect',{attrs:{\"x\":\"3\",\"y\":\"3\",\"width\":\"7\",\"height\":\"7\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('rect',{attrs:{\"x\":\"14\",\"y\":\"3\",\"width\":\"7\",\"height\":\"7\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('rect',{attrs:{\"x\":\"14\",\"y\":\"14\",\"width\":\"7\",\"height\":\"7\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('rect',{attrs:{\"x\":\"3\",\"y\":\"14\",\"width\":\"7\",\"height\":\"7\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('span',{staticClass:\"nav-text\"},[_vm._v(\"\")])]),_c('div',{staticClass:\"nav-item\",class:{ active: _vm.currentRoute.startsWith('/knowledge-base') },on:{\"click\":function($event){return _vm.navigateTo('/knowledge-base')}}},[_c('div',{staticClass:\"nav-icon\"},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M9.5 2C8.11929 2 7 3.11929 7 4.5C7 5.88071 8.11929 7 9.5 7H14.5C15.8807 7 17 5.88071 17 4.5C17 3.11929 15.8807 2 14.5 2H9.5Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M9.5 9C8.11929 9 7 10.1193 7 11.5C7 12.8807 8.11929 14 9.5 14H14.5C15.8807 14 17 12.8807 17 11.5C17 10.1193 15.8807 9 14.5 9H9.5Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M9.5 16C8.11929 16 7 17.1193 7 18.5C7 19.8807 8.11929 21 9.5 21H14.5C15.8807 21 17 19.8807 17 18.5C17 17.1193 15.8807 16 14.5 16H9.5Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('span',{staticClass:\"nav-text\"},[_vm._v(\"\")])]),_c('div',{staticClass:\"nav-item\",class:{ active: _vm.currentRoute === '/ai-assistant' },on:{\"click\":function($event){return _vm.navigateTo('/ai-assistant')}}},[_c('div',{staticClass:\"nav-icon\"},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M9.5 2C8.11929 2 7 3.11929 7 4.5C7 5.88071 8.11929 7 9.5 7H14.5C15.8807 7 17 5.88071 17 4.5C17 3.11929 15.8807 2 14.5 2H9.5Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M9.5 9C8.11929 9 7 10.1193 7 11.5C7 12.8807 8.11929 14 9.5 14H14.5C15.8807 14 17 12.8807 17 11.5C17 10.1193 15.8807 9 14.5 9H9.5Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M9.5 16C8.11929 16 7 17.1193 7 18.5C7 19.8807 8.11929 21 9.5 21H14.5C15.8807 21 17 19.8807 17 18.5C17 17.1193 15.8807 16 14.5 16H9.5Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('span',{staticClass:\"nav-text\"},[_vm._v(\"AI \")])])])]),(_vm.showModal)?_c('div',{staticClass:\"modal-overlay\",on:{\"click\":_vm.closeModal}},[_c('div',{staticClass:\"modal-content\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"modal-header\"},[_c('h3',[_vm._v(\"\")]),_c('button',{staticClass:\"modal-close\",on:{\"click\":_vm.closeModal}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"modal-body\"},[_c('p',[_vm._v(_vm._s(_vm.modalMessage))])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"modal-btn modal-btn-cancel\",on:{\"click\":_vm.closeModal}},[_vm._v(\"\")]),_c('button',{staticClass:\"modal-btn modal-btn-confirm\",on:{\"click\":_vm.goToLogin}},[_vm._v(\"\")])])])]):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"sidebar-overlay\" v-if=\"isOpen\" @click=\"closeSidebar\">\r\n    <div class=\"sidebar\" @click.stop>\r\n      <div class=\"sidebar-header\">\r\n        <h2 class=\"sidebar-title\"></h2>\r\n        <button class=\"close-btn\" @click=\"closeSidebar\">\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n      \r\n      <nav class=\"sidebar-nav\">\r\n        <div class=\"nav-item\" :class=\"{ active: currentRoute === '/home' }\" @click=\"navigateTo('/home')\">\r\n          <div class=\"nav-icon\">\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              <path d=\"M9 22V12H15V22\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </div>\r\n          <span class=\"nav-text\"></span>\r\n        </div>\r\n\r\n        <div class=\"nav-item\" :class=\"{ active: currentRoute === '/project-square' }\" @click=\"navigateTo('/project-square')\">\r\n          <div class=\"nav-icon\">\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <rect x=\"3\" y=\"3\" width=\"7\" height=\"7\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              <rect x=\"14\" y=\"3\" width=\"7\" height=\"7\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              <rect x=\"14\" y=\"14\" width=\"7\" height=\"7\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              <rect x=\"3\" y=\"14\" width=\"7\" height=\"7\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </div>\r\n          <span class=\"nav-text\"></span>\r\n        </div>\r\n        \r\n        <div class=\"nav-item\" :class=\"{ active: currentRoute.startsWith('/knowledge-base') }\" @click=\"navigateTo('/knowledge-base')\">\r\n          <div class=\"nav-icon\">\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M9.5 2C8.11929 2 7 3.11929 7 4.5C7 5.88071 8.11929 7 9.5 7H14.5C15.8807 7 17 5.88071 17 4.5C17 3.11929 15.8807 2 14.5 2H9.5Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              <path d=\"M9.5 9C8.11929 9 7 10.1193 7 11.5C7 12.8807 8.11929 14 9.5 14H14.5C15.8807 14 17 12.8807 17 11.5C17 10.1193 15.8807 9 14.5 9H9.5Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              <path d=\"M9.5 16C8.11929 16 7 17.1193 7 18.5C7 19.8807 8.11929 21 9.5 21H14.5C15.8807 21 17 19.8807 17 18.5C17 17.1193 15.8807 16 14.5 16H9.5Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </div>\r\n          <span class=\"nav-text\"></span>\r\n        </div>\r\n        \r\n        <div class=\"nav-item\" :class=\"{ active: currentRoute === '/ai-assistant' }\" @click=\"navigateTo('/ai-assistant')\">\r\n          <div class=\"nav-icon\">\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M9.5 2C8.11929 2 7 3.11929 7 4.5C7 5.88071 8.11929 7 9.5 7H14.5C15.8807 7 17 5.88071 17 4.5C17 3.11929 15.8807 2 14.5 2H9.5Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              <path d=\"M9.5 9C8.11929 9 7 10.1193 7 11.5C7 12.8807 8.11929 14 9.5 14H14.5C15.8807 14 17 12.8807 17 11.5C17 10.1193 15.8807 9 14.5 9H9.5Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              <path d=\"M9.5 16C8.11929 16 7 17.1193 7 18.5C7 19.8807 8.11929 21 9.5 21H14.5C15.8807 21 17 19.8807 17 18.5C17 17.1193 15.8807 16 14.5 16H9.5Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </div>\r\n          <span class=\"nav-text\">AI </span>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"showModal\" class=\"modal-overlay\" @click=\"closeModal\">\r\n      <div class=\"modal-content\" @click.stop>\r\n        <div class=\"modal-header\">\r\n          <h3></h3>\r\n          <button @click=\"closeModal\" class=\"modal-close\">\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <p>{{ modalMessage }}</p>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button @click=\"closeModal\" class=\"modal-btn modal-btn-cancel\"></button>\r\n          <button @click=\"goToLogin\" class=\"modal-btn modal-btn-confirm\"></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Sidebar',\r\n  props: {\r\n    isOpen: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      showModal: false,\r\n      modalMessage: ''\r\n    }\r\n  },\r\n  computed: {\r\n    currentRoute() {\r\n      return this.$route.path\r\n    }\r\n  },\r\n  methods: {\r\n    closeSidebar() {\r\n      this.$emit('close')\r\n    },\r\n    navigateTo(route) {\r\n      // \r\n      if (this.$route.path === route || (route === '/knowledge-base' && this.$route.path.startsWith('/knowledge-base'))) {\r\n        this.closeSidebar()\r\n        return\r\n      }\r\n      \r\n      // \r\n      const authRequiredPages = ['/knowledge-base', '/ai-assistant', '/project-create']\r\n      if (authRequiredPages.includes(route)) {\r\n        const token = localStorage.getItem('access_token')\r\n        const userInfo = localStorage.getItem('user_info')\r\n        const isAuthenticated = !!(token && userInfo)\r\n        \r\n        if (!isAuthenticated) {\r\n          this.showLoginModal(this.getLoginMessage(route))\r\n          this.closeSidebar()\r\n          return\r\n        }\r\n      }\r\n      \r\n      this.$router.push(route)\r\n      this.closeSidebar()\r\n    },\r\n    showLoginModal(message) {\r\n      this.modalMessage = message\r\n      this.showModal = true\r\n    },\r\n    closeModal() {\r\n      this.showModal = false\r\n      this.modalMessage = ''\r\n    },\r\n    goToLogin() {\r\n      this.$router.push('/login')\r\n    },\r\n    getLoginMessage(route) {\r\n      const messages = {\r\n        '/knowledge-base': '',\r\n        '/ai-assistant': 'AI',\r\n        '/project-create': ''\r\n      }\r\n      return messages[route] || ''\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.sidebar-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: var(--bg-overlay);\r\n  z-index: var(--z-modal);\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: flex-start;\r\n  backdrop-filter: blur(4px);\r\n}\r\n\r\n.sidebar {\r\n  width: 280px;\r\n  height: 100vh;\r\n  background: var(--bg-primary);\r\n  box-shadow: var(--shadow-xl);\r\n  display: flex;\r\n  flex-direction: column;\r\n  animation: slideIn var(--transition-normal) ease-out;\r\n  border-right: 1px solid var(--border-primary);\r\n}\r\n\r\n@keyframes slideIn {\r\n  from {\r\n    transform: translateX(-100%);\r\n  }\r\n  to {\r\n    transform: translateX(0);\r\n  }\r\n}\r\n\r\n.sidebar-header {\r\n  padding: var(--space-6) var(--space-5);\r\n  border-bottom: 1px solid var(--border-primary);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background: var(--bg-primary);\r\n}\r\n\r\n.sidebar-title {\r\n  font-size: var(--text-xl);\r\n  font-weight: var(--font-bold);\r\n  color: var(--text-primary);\r\n  margin: 0;\r\n  background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  background-clip: text;\r\n}\r\n\r\n.close-btn {\r\n  background: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  padding: var(--space-2);\r\n  border-radius: var(--radius-md);\r\n  color: var(--text-tertiary);\r\n  transition: all var(--transition-fast);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.close-btn:hover {\r\n  background-color: var(--bg-tertiary);\r\n  color: var(--text-primary);\r\n  transform: scale(1.05);\r\n}\r\n\r\n.sidebar-nav {\r\n  flex: 1;\r\n  padding: var(--space-4) 0;\r\n}\r\n\r\n.nav-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: var(--space-4) var(--space-5);\r\n  cursor: pointer;\r\n  transition: all var(--transition-normal);\r\n  position: relative;\r\n  color: var(--text-secondary);\r\n  margin: 0 var(--space-2);\r\n  border-radius: var(--radius-lg);\r\n}\r\n\r\n.nav-item:hover {\r\n  background-color: var(--bg-tertiary);\r\n  color: var(--text-primary);\r\n  transform: translateX(4px);\r\n}\r\n\r\n.nav-item.active {\r\n  background: linear-gradient(135deg, var(--primary-light), var(--info-light));\r\n  color: var(--primary-color);\r\n  box-shadow: var(--shadow-md);\r\n  transform: translateX(4px);\r\n}\r\n\r\n.nav-item.active::before {\r\n  content: '';\r\n  position: absolute;\r\n  left: 0;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  width: 4px;\r\n  height: 24px;\r\n  background: var(--primary-color);\r\n  border-radius: 0 var(--radius-sm) var(--radius-sm) 0;\r\n}\r\n\r\n.nav-item.active .nav-icon {\r\n  color: var(--primary-color);\r\n}\r\n\r\n.nav-icon {\r\n  width: 20px;\r\n  height: 20px;\r\n  margin-right: var(--space-4);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: var(--text-tertiary);\r\n  transition: all var(--transition-normal);\r\n}\r\n\r\n.nav-text {\r\n  font-size: var(--text-sm);\r\n  font-weight: var(--font-medium);\r\n  flex: 1;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .sidebar {\r\n    width: 100%;\r\n    max-width: 320px;\r\n  }\r\n  \r\n  .sidebar-header {\r\n    padding: var(--space-5) var(--space-4);\r\n  }\r\n  \r\n  .nav-item {\r\n    padding: var(--space-3) var(--space-4);\r\n    margin: 0 var(--space-1);\r\n  }\r\n  \r\n  .nav-text {\r\n    font-size: var(--text-sm);\r\n  }\r\n}\r\n\r\n/*  */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-content {\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\r\n  max-width: 400px;\r\n  width: 90%;\r\n  max-height: 90vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.modal-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 20px 24px 16px;\r\n}\r\n\r\n.modal-header h3 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #111827;\r\n}\r\n\r\n.modal-close {\r\n  background: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  padding: 4px;\r\n  border-radius: 4px;\r\n  color: #6b7280;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.modal-close:hover {\r\n  background: #f3f4f6;\r\n  color: #374151;\r\n}\r\n\r\n.modal-body {\r\n  padding: 20px 24px;\r\n}\r\n\r\n.modal-body p {\r\n  margin: 0;\r\n  font-size: 16px;\r\n  color: #374151;\r\n  line-height: 1.5;\r\n}\r\n\r\n.modal-footer {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 12px;\r\n  padding: 16px 24px 20px;\r\n}\r\n\r\n.modal-btn {\r\n  padding: 8px 16px;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  border: none;\r\n}\r\n\r\n.modal-btn-cancel {\r\n  background: #f3f4f6;\r\n  color: #374151;\r\n}\r\n\r\n.modal-btn-cancel:hover {\r\n  background: #e5e7eb;\r\n}\r\n\r\n.modal-btn-confirm {\r\n  background: #3b82f6;\r\n  color: white;\r\n}\r\n\r\n.modal-btn-confirm:hover {\r\n  background: #2563eb;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=b41096d0&scoped=true\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js\"\nimport style0 from \"./Sidebar.vue?vue&type=style&index=0&id=b41096d0&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b41096d0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"right-sidebar\",class:{ 'dark-mode': _vm.isDarkMode }},[_vm._m(0),_c('div',{staticClass:\"calendar-widget\"},[_c('div',{staticClass:\"calendar\"},[_c('div',{staticClass:\"calendar-header\"},[_c('button',{staticClass:\"nav-btn\",on:{\"click\":_vm.previousMonth}},[_vm._v(\"\")]),_c('span',{staticClass:\"month-year\"},[_vm._v(_vm._s(_vm.currentMonth))]),_c('button',{staticClass:\"nav-btn\",on:{\"click\":_vm.nextMonth}},[_vm._v(\"\")])]),_c('div',{staticClass:\"calendar-grid\"},[_vm._m(1),_c('div',{staticClass:\"calendar-days\"},_vm._l((_vm.calendarDays),function(day,index){return _c('div',{key:index,staticClass:\"day\",class:{\n              'current-month': day.isCurrentMonth,\n              'today': day.isToday,\n              'selected': _vm.selectedDate && day.date && _vm.selectedDate.toDateString() === day.date.toDateString()\n            },on:{\"click\":function($event){return _vm.selectDate(day)}}},[_vm._v(\" \"+_vm._s(day.day)+\" \")])}),0)])])]),_c('div',{staticClass:\"task-alert-widget\",class:{ 'urgent': _vm.urgentTasks.length > 0 }},[_c('h3',{staticClass:\"widget-title\"},[_vm._v(\"\")]),_c('div',{staticClass:\"task-alert-content\"},[(_vm.urgentTasks.length > 0)?_c('div',{staticClass:\"alert-message urgent\"},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M12 9V13M12 17H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_c('div',{staticClass:\"alert-text\"},[_c('p',{staticClass:\"alert-title\"},[_vm._v(\" \"),_c('strong',[_vm._v(_vm._s(_vm.urgentTasks.length))]),_vm._v(\" \")]),_c('p',{staticClass:\"alert-subtitle\"},[_vm._v(\"\")])])]):_c('div',{staticClass:\"alert-message safe\"},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_vm._m(2)])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"calendar-header\"},[_c('h3',{staticClass:\"widget-title\"},[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"weekdays\"},[_c('span',[_vm._v(\"\")]),_c('span',[_vm._v(\"\")]),_c('span',[_vm._v(\"\")]),_c('span',[_vm._v(\"\")]),_c('span',[_vm._v(\"\")]),_c('span',[_vm._v(\"\")]),_c('span',[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"alert-text\"},[_c('p',{staticClass:\"alert-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"alert-subtitle\"},[_vm._v(\"\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"right-sidebar\" :class=\"{ 'dark-mode': isDarkMode }\">\r\n    <!--  -->\r\n    <div class=\"calendar-header\">\r\n      <h3 class=\"widget-title\"></h3>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div class=\"calendar-widget\">\r\n      <div class=\"calendar\">\r\n        <div class=\"calendar-header\">\r\n          <button class=\"nav-btn\" @click=\"previousMonth\"></button>\r\n          <span class=\"month-year\">{{ currentMonth }}</span>\r\n          <button class=\"nav-btn\" @click=\"nextMonth\"></button>\r\n        </div>\r\n        <div class=\"calendar-grid\">\r\n          <div class=\"weekdays\">\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n          </div>\r\n          <div class=\"calendar-days\">\r\n            <div\r\n              class=\"day\"\r\n              v-for=\"(day, index) in calendarDays\"\r\n              :key=\"index\"\r\n              :class=\"{\r\n                'current-month': day.isCurrentMonth,\r\n                'today': day.isToday,\r\n                'selected': selectedDate && day.date && selectedDate.toDateString() === day.date.toDateString()\r\n              }\"\r\n              @click=\"selectDate(day)\"\r\n            >\r\n              {{ day.day }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div class=\"task-alert-widget\" :class=\"{ 'urgent': urgentTasks.length > 0 }\">\r\n      <h3 class=\"widget-title\"></h3>\r\n      <div class=\"task-alert-content\">\r\n        <div v-if=\"urgentTasks.length > 0\" class=\"alert-message urgent\">\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M12 9V13M12 17H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n          <div class=\"alert-text\">\r\n            <p class=\"alert-title\"> <strong>{{ urgentTasks.length }}</strong> </p>\r\n            <p class=\"alert-subtitle\"></p>\r\n          </div>\r\n        </div>\r\n        <div v-else class=\"alert-message safe\">\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n          <div class=\"alert-text\">\r\n            <p class=\"alert-title\"></p>\r\n            <p class=\"alert-subtitle\"></p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'RightSidebar',\r\n  props: {\r\n    isDarkMode: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      currentDate: new Date(),\r\n      selectedDate: null\r\n    }\r\n  },\r\n  computed: {\r\n    currentMonth() {\r\n      const year = this.currentDate.getFullYear()\r\n      const month = this.currentDate.getMonth() + 1\r\n      return `${year}${month}`\r\n    },\r\n    calendarDays() {\r\n      const year = this.currentDate.getFullYear()\r\n      const month = this.currentDate.getMonth()\r\n\r\n      // \r\n      const firstDay = new Date(year, month, 1)\r\n      const lastDay = new Date(year, month + 1, 0)\r\n\r\n      // 0=1=...\r\n      const firstDayOfWeek = firstDay.getDay()\r\n\r\n      // \r\n      const prevMonth = new Date(year, month, 0)\r\n      const prevMonthLastDay = prevMonth.getDate()\r\n\r\n      const days = []\r\n\r\n      // \r\n      for (let i = firstDayOfWeek - 1; i >= 0; i--) {\r\n        days.push({\r\n          day: prevMonthLastDay - i,\r\n          isCurrentMonth: false,\r\n          isToday: false\r\n        })\r\n      }\r\n\r\n      // \r\n      for (let day = 1; day <= lastDay.getDate(); day++) {\r\n        const date = new Date(year, month, day)\r\n        const today = new Date()\r\n        days.push({\r\n          day: day,\r\n          isCurrentMonth: true,\r\n          isToday: date.toDateString() === today.toDateString(),\r\n          date: date\r\n        })\r\n      }\r\n\r\n      // \r\n      const remainingDays = 42 - days.length // 6 x 7 = 42\r\n      for (let day = 1; day <= remainingDays; day++) {\r\n        days.push({\r\n          day: day,\r\n          isCurrentMonth: false,\r\n          isToday: false\r\n        })\r\n      }\r\n\r\n      return days\r\n    },\r\n    urgentTasks() {\r\n      // API\r\n      const today = new Date()\r\n      const threeDaysLater = new Date(today)\r\n      threeDaysLater.setDate(today.getDate() + 3)\r\n\r\n      // \r\n      // \r\n      return [\r\n        {\r\n          title: '',\r\n          deadline: '2023-06-15'\r\n        }\r\n      ].filter(task => {\r\n        const deadline = new Date(task.deadline)\r\n        return deadline <= threeDaysLater && deadline >= today\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    //  urgentTasks \r\n  },\r\n  methods: {\r\n    previousMonth() {\r\n      this.currentDate = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth() - 1, 1)\r\n    },\r\n    nextMonth() {\r\n      this.currentDate = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, 1)\r\n    },\r\n    selectDate(day) {\r\n      if (day.isCurrentMonth) {\r\n        this.selectedDate = day.date\r\n        console.log(':', day.date)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.right-sidebar {\r\n  width: 320px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--space-5);\r\n  background: var(--bg-primary);\r\n  padding: var(--space-4);\r\n  border-radius: var(--radius-xl);\r\n  border: 1px solid var(--border-primary);\r\n  box-shadow: var(--shadow-md);\r\n  flex-shrink: 0; /*  */\r\n}\r\n\r\n.calendar-header {\r\n  margin-bottom: var(--space-4);\r\n}\r\n\r\n.calendar-widget,\r\n.task-alert-widget {\r\n  background: var(--bg-primary);\r\n  border-radius: var(--radius-lg);\r\n  padding: var(--space-5);\r\n  box-shadow: var(--shadow-sm);\r\n  border: 1px solid var(--border-primary);\r\n  transition: all var(--transition-normal);\r\n}\r\n\r\n.calendar-widget:hover,\r\n.task-alert-widget:hover {\r\n  box-shadow: var(--shadow-md);\r\n  transform: translateY(-2px);\r\n}\r\n\r\n/*  */\r\n.task-alert-widget {\r\n  border: 2px solid #dbeafe; /*  */\r\n}\r\n\r\n.task-alert-widget.urgent {\r\n  border: 2px solid var(--error-color); /*  */\r\n  background: linear-gradient(135deg, var(--bg-primary), var(--error-light));\r\n}\r\n\r\n.task-alert-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--space-3);\r\n}\r\n\r\n.alert-message {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: var(--space-3);\r\n  padding: var(--space-3);\r\n  border-radius: var(--radius-md);\r\n  transition: all var(--transition-normal);\r\n}\r\n\r\n.alert-message.urgent {\r\n  background: var(--error-light);\r\n}\r\n\r\n.alert-message.safe {\r\n  background: var(--primary-light);\r\n}\r\n\r\n.alert-text {\r\n  flex: 1;\r\n}\r\n\r\n.alert-title {\r\n  font-size: var(--text-base);\r\n  font-weight: var(--font-semibold);\r\n  color: var(--text-primary);\r\n  margin: 0 0 var(--space-1) 0;\r\n}\r\n\r\n.alert-subtitle {\r\n  font-size: var(--text-sm);\r\n  color: var(--text-secondary);\r\n  margin: 0;\r\n}\r\n\r\n.widget-title {\r\n  font-size: var(--text-base);\r\n  font-weight: var(--font-semibold);\r\n  color: var(--text-primary);\r\n  margin: 0 0 var(--space-4) 0;\r\n}\r\n\r\n.calendar-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: var(--space-4);\r\n}\r\n\r\n.month-year {\r\n  font-weight: var(--font-semibold);\r\n  color: var(--text-primary);\r\n  font-size: var(--text-sm);\r\n}\r\n\r\n.nav-btn {\r\n  background: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  padding: var(--space-1) var(--space-2);\r\n  border-radius: var(--radius-md);\r\n  color: var(--text-tertiary);\r\n  transition: all var(--transition-fast);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.nav-btn:hover {\r\n  background-color: var(--bg-tertiary);\r\n  color: var(--text-primary);\r\n  transform: scale(1.1);\r\n}\r\n\r\n.weekdays {\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n  gap: var(--space-1);\r\n  margin-bottom: var(--space-2);\r\n  text-align: center;\r\n  font-size: var(--text-xs);\r\n  color: var(--text-tertiary);\r\n  font-weight: var(--font-medium);\r\n}\r\n\r\n.calendar-days {\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n  gap: var(--space-1);\r\n}\r\n\r\n.day {\r\n  aspect-ratio: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: var(--text-sm);\r\n  color: var(--text-tertiary);\r\n  cursor: pointer;\r\n  border-radius: var(--radius-md);\r\n  transition: all var(--transition-fast);\r\n  font-weight: var(--font-medium);\r\n}\r\n\r\n.day:hover {\r\n  background-color: var(--bg-tertiary);\r\n  transform: scale(1.1);\r\n}\r\n\r\n.day.current-month {\r\n  color: var(--text-primary);\r\n  font-weight: var(--font-medium);\r\n}\r\n\r\n.day.today {\r\n  background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));\r\n  color: var(--text-inverse);\r\n  font-weight: var(--font-semibold);\r\n  box-shadow: var(--shadow-sm);\r\n}\r\n\r\n.day.selected {\r\n  background: var(--primary-light);\r\n  color: var(--primary-color);\r\n  font-weight: var(--font-semibold);\r\n  border: 2px solid var(--primary-color);\r\n}\r\n\r\n.day:not(.current-month) {\r\n  color: var(--text-disabled);\r\n}\r\n\r\n.day.current-month:hover {\r\n  background-color: var(--bg-tertiary);\r\n}\r\n\r\n.day.today:hover {\r\n  background: linear-gradient(135deg, var(--primary-hover), var(--primary-dark));\r\n  transform: scale(1.1);\r\n}\r\n\r\n.stats-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--space-5);\r\n}\r\n\r\n.stat-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--space-2);\r\n}\r\n\r\n.stat-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.stat-label {\r\n  font-size: var(--text-sm);\r\n  color: var(--text-secondary);\r\n  font-weight: var(--font-medium);\r\n}\r\n\r\n.stat-value {\r\n  font-size: var(--text-sm);\r\n  font-weight: var(--font-semibold);\r\n  color: var(--text-primary);\r\n}\r\n\r\n.progress-bar {\r\n  height: 8px;\r\n  background: var(--bg-tertiary);\r\n  border-radius: var(--radius-full);\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.progress-fill {\r\n  height: 100%;\r\n  border-radius: var(--radius-full);\r\n  transition: width var(--transition-normal);\r\n  position: relative;\r\n}\r\n\r\n.progress-fill.completed {\r\n  background: linear-gradient(135deg, var(--success-color), var(--success-hover));\r\n}\r\n\r\n.progress-fill.work-hours {\r\n  background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));\r\n}\r\n\r\n.progress-fill::after {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\r\n  animation: shimmer 2s infinite;\r\n}\r\n\r\n@keyframes shimmer {\r\n  0% { transform: translateX(-100%); }\r\n  100% { transform: translateX(100%); }\r\n}\r\n\r\n@media (max-width: 1200px) {\r\n  .right-sidebar {\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .calendar-widget,\r\n  .stats-widget {\r\n    padding: var(--space-4);\r\n  }\r\n\r\n  .widget-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: var(--space-3);\r\n  }\r\n\r\n  .edit-btn {\r\n    align-self: flex-end;\r\n  }\r\n}\r\n\r\n/*  */\r\n.right-sidebar.dark-mode {\r\n  background: #1e293b !important;\r\n  border-color: #334155 !important;\r\n  color: #f1f5f9 !important;\r\n}\r\n\r\n.right-sidebar.dark-mode .calendar-widget,\r\n.right-sidebar.dark-mode .task-alert-widget {\r\n  background: #1e293b !important;\r\n  border-color: #334155 !important;\r\n  color: #f1f5f9 !important;\r\n}\r\n\r\n.right-sidebar.dark-mode .widget-title {\r\n  color: #f1f5f9 !important;\r\n}\r\n\r\n.right-sidebar.dark-mode .month-year {\r\n  color: #f1f5f9 !important;\r\n}\r\n\r\n.right-sidebar.dark-mode .nav-btn {\r\n  color: #cbd5e1 !important;\r\n}\r\n\r\n.right-sidebar.dark-mode .nav-btn:hover {\r\n  background-color: #334155 !important;\r\n  color: #f1f5f9 !important;\r\n}\r\n\r\n.right-sidebar.dark-mode .weekdays {\r\n  color: #cbd5e1 !important;\r\n}\r\n\r\n.right-sidebar.dark-mode .day {\r\n  color: #94a3b8 !important;\r\n}\r\n\r\n.right-sidebar.dark-mode .day.current-month {\r\n  color: #f1f5f9 !important;\r\n}\r\n\r\n.right-sidebar.dark-mode .day:hover {\r\n  background-color: #334155 !important;\r\n}\r\n\r\n.right-sidebar.dark-mode .day.current-month:hover {\r\n  background-color: #334155 !important;\r\n}\r\n\r\n.right-sidebar.dark-mode .day.today {\r\n  background: linear-gradient(135deg, #3b82f6, #2563eb) !important;\r\n  color: #ffffff !important;\r\n}\r\n\r\n.right-sidebar.dark-mode .day.today:hover {\r\n  background: linear-gradient(135deg, #2563eb, #1d4ed8) !important;\r\n}\r\n\r\n.right-sidebar.dark-mode .day.selected {\r\n  background: #334155 !important;\r\n  color: #60a5fa !important;\r\n  border-color: #60a5fa !important;\r\n}\r\n\r\n.right-sidebar.dark-mode .day:not(.current-month) {\r\n  color: #475569 !important;\r\n}\r\n\r\n.right-sidebar.dark-mode .task-alert-widget {\r\n  border-color: #475569 !important;\r\n}\r\n\r\n.right-sidebar.dark-mode .task-alert-widget.urgent {\r\n  border-color: #ef4444 !important;\r\n  background: linear-gradient(135deg, #1e293b, #7f1d1d) !important;\r\n}\r\n\r\n.right-sidebar.dark-mode .alert-message.urgent {\r\n  background: #7f1d1d !important;\r\n}\r\n\r\n.right-sidebar.dark-mode .alert-message.safe {\r\n  background: #1e3a5f !important;\r\n}\r\n\r\n.right-sidebar.dark-mode .alert-title {\r\n  color: #f1f5f9 !important;\r\n}\r\n\r\n.right-sidebar.dark-mode .alert-subtitle {\r\n  color: #cbd5e1 !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RightSidebar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RightSidebar.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RightSidebar.vue?vue&type=template&id=adef7e6c&scoped=true\"\nimport script from \"./RightSidebar.vue?vue&type=script&lang=js\"\nexport * from \"./RightSidebar.vue?vue&type=script&lang=js\"\nimport style0 from \"./RightSidebar.vue?vue&type=style&index=0&id=adef7e6c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"adef7e6c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"home-container\" :class=\"{ 'dark-mode': isDarkMode }\">\r\n    <!--  -->\r\n    <Sidebar :isOpen=\"sidebarOpen\" @close=\"closeSidebar\" />\r\n    \r\n     <!--  -->\r\n     <div class=\"top-header\">\r\n       <div class=\"header-left\">\r\n         <button class=\"menu-btn\" @click=\"toggleSidebar\">\r\n           <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n             <path d=\"M3 12H21M3 6H21M3 18H21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n           </svg>\r\n         </button>\r\n         <span class=\"page-title\"></span>\r\n       </div>\r\n       <div class=\"header-right\">\r\n         <!--  -->\r\n         <button class=\"theme-toggle-btn\" @click=\"toggleTheme\" :title=\"isDarkMode ? '' : ''\">\r\n           <svg v-if=\"!isDarkMode\" class=\"theme-icon sun-icon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n             <circle cx=\"12\" cy=\"12\" r=\"4\" stroke=\"currentColor\" stroke-width=\"2\"/>\r\n             <path d=\"M12 2V4M12 20V22M4.93 4.93L6.34 6.34M17.66 17.66L19.07 19.07M2 12H4M20 12H22M4.93 19.07L6.34 17.66M17.66 6.34L19.07 4.93\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\r\n           </svg>\r\n           <svg v-else class=\"theme-icon moon-icon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n             <path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n           </svg>\r\n         </button>\r\n       </div>\r\n     </div>\r\n\r\n    <!--  -->\r\n    <div class=\"main-content\">\r\n      <!--  -  -->\r\n      <div class=\"quick-actions\">\r\n        <div class=\"section-card\">\r\n          <h2 class=\"section-title\"></h2>\r\n          <div class=\"action-cards\">\r\n          <div class=\"action-card\" @click=\"handleNewProject\">\r\n            <div class=\"card-icon\">\r\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M12 5V19M5 12H19\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n            </div>\r\n            <span class=\"card-label\"></span>\r\n          </div>\r\n          <div class=\"action-card\" @click=\"handleProjectSquare\">\r\n            <div class=\"card-icon\">\r\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C14.0783 15.4214 13.0609 15 12 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                <circle cx=\"8.5\" cy=\"7.5\" r=\"2.5\" stroke=\"currentColor\" stroke-width=\"2\"/>\r\n                <path d=\"M20 8V6C20 4.93913 19.5786 3.92172 18.8284 3.17157C18.0783 2.42143 17.0609 2 16 2H14\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n            </div>\r\n            <span class=\"card-label\"></span>\r\n          </div>\r\n          <div class=\"action-card\" @click=\"handleKnowledgeBase\">\r\n            <div class=\"card-icon\">\r\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M3 3H21V21H3V3Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                <path d=\"M9 9H15V15H9V9Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n            </div>\r\n            <span class=\"card-label\"></span>\r\n          </div>\r\n          <div class=\"action-card\" @click=\"handleAIAssistant\">\r\n            <div class=\"card-icon\">\r\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                <path d=\"M14 2V8H20\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                <path d=\"M16 13H8\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                <path d=\"M16 17H8\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                <path d=\"M10 9H8\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n            </div>\r\n            <span class=\"card-label\">AI</span>\r\n          </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!--  -  -->\r\n      <div class=\"three-column-row\">\r\n        <!--  -->\r\n        <div class=\"work-items\">\r\n          <div class=\"section-card\">\r\n            <div class=\"section-header\">\r\n              <h2 class=\"section-title\"></h2>\r\n            </div>\r\n            <div class=\"work-item-list\">\r\n            <div class=\"work-item high-priority\">\r\n              <div class=\"priority-bar\"></div>\r\n              <div class=\"item-content\">\r\n                <h3 class=\"item-title\"></h3>\r\n                <p class=\"item-description\">,</p>\r\n                <div class=\"item-meta\">\r\n                  <span class=\"priority\"></span>\r\n                  <span class=\"deadline\">:2023-06-15</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"work-item medium-priority\">\r\n              <div class=\"priority-bar\"></div>\r\n              <div class=\"item-content\">\r\n                <h3 class=\"item-title\"></h3>\r\n                <p class=\"item-description\"></p>\r\n                <div class=\"item-meta\">\r\n                  <span class=\"priority\"></span>\r\n                  <span class=\"deadline\">:2023-06-20</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"work-item low-priority\">\r\n              <div class=\"priority-bar\"></div>\r\n              <div class=\"item-content\">\r\n                <h3 class=\"item-title\"></h3>\r\n                <p class=\"item-description\">,</p>\r\n                <div class=\"item-meta\">\r\n                  <span class=\"priority\"></span>\r\n                  <span class=\"deadline\">:2023-06-30</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!--  -->\r\n        <div class=\"my-projects\">\r\n          <div class=\"section-card\">\r\n            <h2 class=\"section-title\"></h2>\r\n            <div v-if=\"isLoadingProjects\" class=\"loading-projects\">\r\n              <p>...</p>\r\n            </div>\r\n            <div v-else class=\"project-list\">\r\n              <div \r\n                v-for=\"project in myProjects\" \r\n                :key=\"project.id\" \r\n                class=\"project-card\"\r\n                @click=\"goToProjectDetail(project.id)\"\r\n              >\r\n                <div class=\"project-icon blue-icon\">\r\n                  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M9 3H5C3.89543 3 3 3.89543 3 5V9C3 10.1046 3.89543 11 5 11H9C10.1046 11 11 10.1046 11 9V5C11 3.89543 10.1046 3 9 3Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    <path d=\"M19 3H15C13.8954 3 13 3.89543 13 5V9C13 10.1046 13.8954 11 15 11H19C20.1046 11 21 10.1046 21 9V5C21 3.89543 20.1046 3 19 3Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    <path d=\"M9 13H5C3.89543 13 3 13.8954 3 15V19C3 20.1046 3.89543 21 5 21H9C10.1046 21 11 20.1046 11 19V15C11 13.8954 10.1046 13 9 13Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    <path d=\"M19 13H15C13.8954 13 13 13.8954 13 15V19C13 20.1046 13.8954 21 15 21H19C20.1046 21 21 20.1046 21 19V15C21 13.8954 20.1046 13 19 13Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  </svg>\r\n                </div>\r\n                <div class=\"project-content\">\r\n                  <h3 class=\"project-title\">{{ project.title }}</h3>\r\n                  <p class=\"project-description\">{{ project.description }}</p>\r\n                  <div class=\"project-meta\">\r\n                    <span :class=\"['status-badge', `status-${project.status}`]\">{{ getStatusText(project.status) }}</span>\r\n                    <span class=\"progress-text\">{{ project.progress }}% </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <!--  -->\r\n              <div v-if=\"myProjects.length === 0\" class=\"no-projects\">\r\n                <p></p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!--  -->\r\n        <div class=\"right-sidebar-column\">\r\n          <RightSidebar :isDarkMode=\"isDarkMode\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"showModal\" class=\"modal-overlay\" @click=\"closeModal\">\r\n      <div class=\"modal-content\" @click.stop>\r\n        <div class=\"modal-header\">\r\n          <h3></h3>\r\n          <button @click=\"closeModal\" class=\"modal-close\">\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <p>{{ modalMessage }}</p>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button @click=\"closeModal\" class=\"modal-btn modal-btn-cancel\"></button>\r\n          <button @click=\"goToLogin\" class=\"modal-btn modal-btn-confirm\"></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Sidebar from '@/components/Sidebar.vue'\r\nimport RightSidebar from '@/components/RightSidebar.vue'\r\nimport { authAPI } from '@/api/auth'\r\nimport { projectAPI } from '@/api/project'\r\nimport '@/assets/styles/Home.css'\r\n\r\nexport default {\r\n  name: 'Home',\r\n  components: {\r\n    Sidebar,\r\n    RightSidebar\r\n  },\r\n  data() {\r\n    return {\r\n      sidebarOpen: false,\r\n      userMenuOpen: false,\r\n      userAvatar: null, // URLlocalStorageAPI\r\n      globalUserInfo: {\r\n        nickname: '',\r\n        avatar: ''\r\n      },\r\n      showModal: false,\r\n      modalMessage: '',\r\n      myProjects: [], // \r\n      isLoadingProjects: false, // \r\n      isDarkMode: false, // \r\n      isTransitioning: false // \r\n    }\r\n  },\r\n  mounted() {\r\n    // \r\n    this.loadUserAvatar()\r\n    \r\n    // \r\n    this.loadGlobalUserInfo()\r\n    \r\n    // \r\n    this.loadMyProjects()\r\n    \r\n    // \r\n    this.loadTheme()\r\n    \r\n    // \r\n    document.addEventListener('click', this.handleClickOutside)\r\n  },\r\n  beforeDestroy() {\r\n    // \r\n    document.removeEventListener('click', this.handleClickOutside)\r\n  },\r\n  methods: {\r\n    loadUserAvatar() {\r\n      // localStorageAPI\r\n      const savedAvatar = localStorage.getItem('userAvatar')\r\n      if (savedAvatar) {\r\n        this.userAvatar = savedAvatar\r\n      }\r\n    },\r\n    loadGlobalUserInfo() {\r\n      // localStorage\r\n      const savedUserInfo = localStorage.getItem('globalUserInfo')\r\n      if (savedUserInfo) {\r\n        this.globalUserInfo = JSON.parse(savedUserInfo)\r\n      }\r\n    },\r\n    setUserAvatar(avatarUrl) {\r\n      // \r\n      this.userAvatar = avatarUrl\r\n      localStorage.setItem('userAvatar', avatarUrl)\r\n    },\r\n    handleClickOutside(event) {\r\n      // \r\n      if (!event.target.closest('.user-profile') && !event.target.closest('.user-menu')) {\r\n        this.userMenuOpen = false\r\n      }\r\n    },\r\n    toggleUserMenu() {\r\n      console.log(':', this.userMenuOpen)\r\n      this.userMenuOpen = !this.userMenuOpen\r\n      console.log(':', this.userMenuOpen)\r\n    },\r\n    goToProfile() {\r\n      console.log('')\r\n      this.userMenuOpen = false\r\n      this.$router.push('/profile')\r\n    },\r\n    async logout() {\r\n      console.log('')\r\n      this.userMenuOpen = false\r\n      \r\n      try {\r\n        // token\r\n        const token = localStorage.getItem('access_token')\r\n        if (token) {\r\n          // \r\n          await authAPI.logout(token)\r\n          console.log('')\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        // \r\n      }\r\n      \r\n      // \r\n      this.clearAuthData()\r\n      console.log('')\r\n      \r\n      // \r\n      alert('')\r\n      \r\n      // setTimeout\r\n      setTimeout(() => {\r\n        console.log('')\r\n        window.location.href = '/login'\r\n      }, 100)\r\n    },\r\n    clearAuthData() {\r\n      // \r\n      localStorage.removeItem('access_token')\r\n      localStorage.removeItem('refresh_token')\r\n      localStorage.removeItem('remember_me_token')\r\n      localStorage.removeItem('user_info')\r\n      localStorage.removeItem('userAvatar')\r\n      localStorage.removeItem('globalUserInfo')\r\n      \r\n      // \r\n      this.userAvatar = null\r\n      this.globalUserInfo = {\r\n        nickname: '',\r\n        avatar: ''\r\n      }\r\n    },\r\n    toggleSidebar() {\r\n      this.sidebarOpen = !this.sidebarOpen\r\n    },\r\n    closeSidebar() {\r\n      this.sidebarOpen = false\r\n    },\r\n    loadTheme() {\r\n      // localStorage\r\n      const savedTheme = localStorage.getItem('theme')\r\n      if (savedTheme === 'dark') {\r\n        this.isDarkMode = true\r\n        document.documentElement.classList.add('dark-mode')\r\n      } else {\r\n        this.isDarkMode = false\r\n        document.documentElement.classList.remove('dark-mode')\r\n      }\r\n    },\r\n    toggleTheme(event) {\r\n      // \r\n      if (this.isTransitioning) return\r\n      \r\n      // \r\n      const rect = event.currentTarget.getBoundingClientRect()\r\n      const x = rect.left + rect.width / 2\r\n      const y = rect.top + rect.height / 2\r\n      \r\n      // \r\n      const maxRadius = Math.sqrt(\r\n        Math.pow(window.innerWidth, 2) + Math.pow(window.innerHeight, 2)\r\n      ) * 1.2\r\n      \r\n      // \r\n      const circle = document.createElement('div')\r\n      circle.className = 'theme-transition-circle'\r\n      circle.style.left = x + 'px'\r\n      circle.style.top = y + 'px'\r\n      document.body.appendChild(circle)\r\n      \r\n      // \r\n      this.isTransitioning = true\r\n      \r\n      //  requestAnimationFrame \r\n      requestAnimationFrame(() => {\r\n        const isToDark = !this.isDarkMode\r\n        \r\n        // \r\n        requestAnimationFrame(() => {\r\n          circle.classList.add(isToDark ? 'expand-dark' : 'expand-light')\r\n        })\r\n        \r\n        // 50%\r\n        setTimeout(() => {\r\n          this.isDarkMode = !this.isDarkMode\r\n          localStorage.setItem('theme', this.isDarkMode ? 'dark' : 'light')\r\n          \r\n          if (this.isDarkMode) {\r\n            document.documentElement.classList.add('dark-mode')\r\n          } else {\r\n            document.documentElement.classList.remove('dark-mode')\r\n          }\r\n        }, 425) // 50%\r\n        \r\n        // \r\n        setTimeout(() => {\r\n          if (circle.parentNode) {\r\n            circle.remove()\r\n          }\r\n          this.isTransitioning = false\r\n        }, 900)\r\n      })\r\n    },\r\n    handleNewProject() {\r\n      console.log('')\r\n      // \r\n      const token = localStorage.getItem('access_token')\r\n      const userInfo = localStorage.getItem('user_info')\r\n      const isAuthenticated = !!(token && userInfo)\r\n      \r\n      if (isAuthenticated) {\r\n        this.$router.push({ path: '/project-create', query: { from: 'home' } })\r\n      } else {\r\n        this.showLoginModal('')\r\n      }\r\n    },\r\n    handleProjectSquare() {\r\n      console.log('')\r\n      this.$router.push('/project-square')\r\n    },\r\n    handleKnowledgeBase() {\r\n      console.log('')\r\n      // \r\n      const token = localStorage.getItem('access_token')\r\n      const userInfo = localStorage.getItem('user_info')\r\n      const isAuthenticated = !!(token && userInfo)\r\n      \r\n      if (isAuthenticated) {\r\n        this.$router.push('/knowledge-base')\r\n      } else {\r\n        this.showLoginModal('')\r\n      }\r\n    },\r\n    handleAIAssistant() {\r\n      console.log('AI')\r\n      // \r\n      const token = localStorage.getItem('access_token')\r\n      const userInfo = localStorage.getItem('user_info')\r\n      const isAuthenticated = !!(token && userInfo)\r\n      \r\n      if (isAuthenticated) {\r\n        this.$router.push('/ai-assistant')\r\n      } else {\r\n        this.showLoginModal('AI')\r\n      }\r\n    },\r\n    showLoginModal(message) {\r\n      this.modalMessage = message\r\n      this.showModal = true\r\n    },\r\n    closeModal() {\r\n      this.showModal = false\r\n      this.modalMessage = ''\r\n    },\r\n    goToLogin() {\r\n      this.$router.push('/login')\r\n    },\r\n    async loadMyProjects() {\r\n      // \r\n      const token = localStorage.getItem('access_token')\r\n      const userInfo = localStorage.getItem('user_info')\r\n      const isAuthenticated = !!(token && userInfo)\r\n      \r\n      if (!isAuthenticated) {\r\n        console.log('')\r\n        // \r\n        this.myProjects = this.getDefaultProjects()\r\n        return\r\n      }\r\n      \r\n      this.isLoadingProjects = true\r\n      \r\n      try {\r\n        console.log('...')\r\n        \r\n        // API\r\n        const response = await projectAPI.getMyProjects(0, 5) // 5\r\n        \r\n        console.log('API:', response)\r\n        \r\n        // API\r\n        let projects = []\r\n        if (Array.isArray(response)) {\r\n          // \r\n          projects = response\r\n        } else if (response && response.data) {\r\n          // data\r\n          if (Array.isArray(response.data)) {\r\n            projects = response.data\r\n          } else if (Array.isArray(response.data.content)) {\r\n            // Spring\r\n            projects = response.data.content\r\n          } else if (Array.isArray(response.data.list)) {\r\n            // list\r\n            projects = response.data.list\r\n          } else if (Array.isArray(response.data.records)) {\r\n            // records\r\n            projects = response.data.records\r\n          }\r\n        }\r\n        \r\n        if (projects.length > 0) {\r\n          this.myProjects = projects.map(project => ({\r\n            id: project.id || project.projectId || project.project_id,\r\n            title: project.title || project.name || project.projectName || '',\r\n            description: project.description || project.desc || '',\r\n            status: this.mapStatus(project.status),\r\n            progress: this.calculateProgress(project.status)\r\n          }))\r\n          \r\n          console.log(':', this.myProjects)\r\n        } else {\r\n          console.log('')\r\n          this.myProjects = this.getDefaultProjects()\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        // \r\n        this.myProjects = this.getDefaultProjects()\r\n      } finally {\r\n        this.isLoadingProjects = false\r\n      }\r\n    },\r\n    getDefaultProjects() {\r\n      // \r\n      return [\r\n        {\r\n          id: 1,\r\n          title: '',\r\n          description: '',\r\n          status: 'in-progress',\r\n          progress: 65\r\n        },\r\n        {\r\n          id: 2,\r\n          title: '',\r\n          description: '',\r\n          status: 'in-progress',\r\n          progress: 45\r\n        },\r\n        {\r\n          id: 3,\r\n          title: '',\r\n          description: '',\r\n          status: 'completed',\r\n          progress: 100\r\n        }\r\n      ]\r\n    },\r\n    mapStatus(status) {\r\n      // \r\n      const statusMap = {\r\n        'ACTIVE': 'in-progress',\r\n        'COMPLETED': 'completed',\r\n        'PAUSED': 'in-progress',\r\n        'ARCHIVED': 'completed',\r\n        '': 'in-progress',\r\n        '': 'completed',\r\n        '': 'in-progress'\r\n      }\r\n      return statusMap[status] || 'in-progress'\r\n    },\r\n    calculateProgress(status) {\r\n      // \r\n      if (status === 'completed' || status === 'Completed' || status === '') {\r\n        return 100\r\n      } else if (status === 'ACTIVE' || status === 'Paused' || status === '') {\r\n        return 50 // 50%\r\n      }\r\n      return 0\r\n    },\r\n    getStatusText(status) {\r\n      const statusMap = {\r\n        'in-progress': '',\r\n        'completed': '',\r\n        'pending': '',\r\n        'paused': ''\r\n      }\r\n      return statusMap[status] || ''\r\n    },\r\n    goToProjectDetail(projectId) {\r\n      console.log(':', projectId)\r\n      this.$router.push(`/project-detail/${projectId}`)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=07ec2c7c\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"project-square-container\"},[_c('Sidebar',{attrs:{\"isOpen\":_vm.sidebarOpen},on:{\"close\":_vm.closeSidebar}}),_c('div',{staticClass:\"top-header\"},[_c('div',{staticClass:\"header-left\"},[_c('button',{staticClass:\"menu-btn\",attrs:{\"aria-label\":\"open sidebar\"},on:{\"click\":_vm.toggleSidebar}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M3 12H21M3 6H21M3 18H21\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('button',{staticClass:\"back-btn\",attrs:{\"title\":\"\"},on:{\"click\":_vm.goToHome}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M19 12H5M12 19L5 12L12 5\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('span',{staticClass:\"page-title\"},[_vm._v(\"\")])])]),_c('div',{staticClass:\"main-content\"},[_c('div',{staticClass:\"toolbar\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchText),expression:\"searchText\"}],staticClass:\"search-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.searchText)},on:{\"input\":function($event){if($event.target.composing)return;_vm.searchText=$event.target.value}}}),_c('div',{staticClass:\"toolbar-actions\"},[_c('div',{staticClass:\"dropdown\",on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleStatusDropdown.apply(null, arguments)}}},[_c('button',{staticClass:\"btn secondary\"},[_c('span',[_vm._v(\"\")]),_c('svg',{attrs:{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M6 9L12 15L18 9\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),(_vm.statusOpen)?_c('ul',{staticClass:\"dropdown-menu\"},[_c('li',{staticClass:\"dropdown-item\",class:{ active: _vm.selectedStatus === '' },on:{\"click\":function($event){return _vm.selectStatus('')}}},[_vm._v(\"\")]),_c('li',{staticClass:\"dropdown-item\",class:{ active: _vm.selectedStatus === '' },on:{\"click\":function($event){return _vm.selectStatus('')}}},[_vm._v(\"\")]),_c('li',{staticClass:\"dropdown-item\",class:{ active: _vm.selectedStatus === '' },on:{\"click\":function($event){return _vm.selectStatus('')}}},[_vm._v(\"\")]),_c('li',{staticClass:\"dropdown-item\",class:{ active: _vm.selectedStatus === '' },on:{\"click\":function($event){return _vm.selectStatus('')}}},[_vm._v(\"\")])]):_vm._e()]),_c('button',{staticClass:\"btn\",on:{\"click\":_vm.resetFilters}},[_vm._v(\"\")]),_c('button',{staticClass:\"btn primary\",on:{\"click\":_vm.createNewProject}},[_vm._v(\"\")])])]),_c('div',{staticClass:\"content-wrapper\"},[(_vm.isLoading)?_c('div',{staticClass:\"loading-container\"},[_c('div',{staticClass:\"loading-spinner\"}),_c('p',{staticClass:\"loading-text\"},[_vm._v(\"...\")])]):(_vm.projects.length === 0)?_c('div',{staticClass:\"empty-state\"},[_c('svg',{attrs:{\"width\":\"120\",\"height\":\"120\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M13 2L3 14H12L11 22L21 10H12L13 2Z\",\"stroke\":\"#ccc\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_c('h3',{staticClass:\"empty-title\"},[_vm._v(\"\")]),_c('p',{staticClass:\"empty-description\"},[_vm._v(\"\")]),_c('button',{staticClass:\"btn primary\",on:{\"click\":_vm.createNewProject}},[_vm._v(\"\")])]):_c('div',{staticClass:\"grid\"},_vm._l((_vm.paginatedProjects),function(project,index){return _c('div',{key:project.id,staticClass:\"card\",on:{\"click\":function($event){return _vm.viewProjectDetail(project)}}},[_c('div',{staticClass:\"card-media\",class:`gradient-${(project.id % 6) + 1}`},[(project.image)?_c('img',{staticClass:\"project-image\",attrs:{\"src\":project.image,\"alt\":project.title},on:{\"error\":function($event){return _vm.handleImageError($event, project)}}}):_c('span',{staticClass:\"placeholder-text\"},[_vm._v(_vm._s(project.title))])]),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"card-title-row\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(_vm._s(project.title))]),_c('div',{staticClass:\"badge-group\"},[(project.visibility === 'PUBLIC')?_c('span',{staticClass:\"visibility-badge visibility-public\",attrs:{\"title\":\"\"}},[_c('svg',{attrs:{\"width\":\"12\",\"height\":\"12\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"3\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]):_vm._e(),_c('span',{staticClass:\"status-badge\",class:_vm.statusClass(project.status)},[_vm._v(_vm._s(project.status))])])]),_c('ul',{staticClass:\"meta-list\"},[_c('li',[_c('span',{staticClass:\"meta-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"meta-value\"},[_vm._v(_vm._s(project.creatorName || ''))])]),_c('li',[_c('span',{staticClass:\"meta-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"meta-value\"},[_vm._v(_vm._s(_vm.getTeamSize(project))+\"\")])]),(project.startDate && project.endDate)?_c('li',[_c('span',{staticClass:\"meta-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"meta-value\"},[_vm._v(_vm._s(_vm.formatDateRange(project.startDate, project.endDate)))])]):_vm._e(),(project.tags && project.tags.length > 0)?_c('li',[_c('span',{staticClass:\"meta-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"meta-value\"},_vm._l((project.tags),function(tag,index){return _c('span',{key:index,staticClass:\"tag-item\"},[_vm._v(\" \"+_vm._s(tag)+_vm._s(index < project.tags.length - 1 ? '' : '')+\" \")])}),0)]):_vm._e()])])])}),0),_c('div',{staticClass:\"pagination\"},[_c('button',{staticClass:\"pager\",attrs:{\"disabled\":_vm.currentPage === 1},on:{\"click\":_vm.goPrev}},[_vm._v(\"\")]),_vm._l((_vm.totalPages),function(p){return _c('button',{key:p,staticClass:\"page-num\",class:{ active: p === _vm.currentPage },on:{\"click\":function($event){return _vm.goPage(p)}}},[_vm._v(_vm._s(p))])}),_c('button',{staticClass:\"pager\",attrs:{\"disabled\":_vm.currentPage === _vm.totalPages},on:{\"click\":_vm.goNext}},[_vm._v(\"\")])],2)])]),(_vm.showModal)?_c('div',{staticClass:\"modal-overlay\",on:{\"click\":_vm.closeModal}},[_c('div',{staticClass:\"modal-content\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"modal-header\"},[_c('h3',[_vm._v(\"\")]),_c('button',{staticClass:\"modal-close\",on:{\"click\":_vm.closeModal}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"modal-body\"},[_c('p',[_vm._v(_vm._s(_vm.modalMessage))])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"modal-btn modal-btn-cancel\",on:{\"click\":_vm.closeModal}},[_vm._v(\"\")]),_c('button',{staticClass:\"modal-btn modal-btn-confirm\",on:{\"click\":_vm.goToLogin}},[_vm._v(\"\")])])])]):_vm._e(),(_vm.showToast)?_c('div',{staticClass:\"success-toast\"},[_vm._v(\" \"+_vm._s(_vm.toastMessage)+\" \")]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"project-square-container\">\r\n    <!--  -->\r\n    <Sidebar :isOpen=\"sidebarOpen\" @close=\"closeSidebar\" />\r\n\r\n    <!--  -->\r\n    <div class=\"top-header\">\r\n      <div class=\"header-left\">\r\n        <button class=\"menu-btn\" @click=\"toggleSidebar\" aria-label=\"open sidebar\">\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M3 12H21M3 6H21M3 18H21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </button>\r\n        <button class=\"back-btn\" @click=\"goToHome\" title=\"\">\r\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M19 12H5M12 19L5 12L12 5\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n        </button>\r\n        <span class=\"page-title\"></span>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div class=\"main-content\">\r\n      <div class=\"toolbar\">\r\n        <input v-model=\"searchText\" class=\"search-input\" type=\"text\" placeholder=\"\" />\r\n        <div class=\"toolbar-actions\">\r\n          <div class=\"dropdown\" @click.stop=\"toggleStatusDropdown\">\r\n            <button class=\"btn secondary\">\r\n              <span></span>\r\n              <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M6 9L12 15L18 9\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n            </button>\r\n            <ul class=\"dropdown-menu\" v-if=\"statusOpen\">\r\n              <li class=\"dropdown-item\" :class=\"{ active: selectedStatus === '' }\" @click=\"selectStatus('')\"></li>\r\n              <li class=\"dropdown-item\" :class=\"{ active: selectedStatus === '' }\" @click=\"selectStatus('')\"></li>\r\n              <li class=\"dropdown-item\" :class=\"{ active: selectedStatus === '' }\" @click=\"selectStatus('')\"></li>\r\n              <li class=\"dropdown-item\" :class=\"{ active: selectedStatus === '' }\" @click=\"selectStatus('')\"></li>\r\n            </ul>\r\n          </div>\r\n\r\n          <button class=\"btn\" @click=\"resetFilters\"></button>\r\n          <button class=\"btn primary\" @click=\"createNewProject\"></button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"content-wrapper\">\r\n        <!--  -->\r\n        <div v-if=\"isLoading\" class=\"loading-container\">\r\n          <div class=\"loading-spinner\"></div>\r\n          <p class=\"loading-text\">...</p>\r\n        </div>\r\n        \r\n        <!--  -->\r\n        <div v-else-if=\"projects.length === 0\" class=\"empty-state\">\r\n          <svg width=\"120\" height=\"120\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M13 2L3 14H12L11 22L21 10H12L13 2Z\" stroke=\"#ccc\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n          <h3 class=\"empty-title\"></h3>\r\n          <p class=\"empty-description\"></p>\r\n          <button class=\"btn primary\" @click=\"createNewProject\"></button>\r\n        </div>\r\n        \r\n        <!--  -->\r\n        <div v-else class=\"grid\">\r\n          <div v-for=\"(project, index) in paginatedProjects\" :key=\"project.id\" class=\"card\" @click=\"viewProjectDetail(project)\">\r\n            <div class=\"card-media\" :class=\"`gradient-${(project.id % 6) + 1}`\">\r\n              <img \r\n                v-if=\"project.image\" \r\n                :src=\"project.image\" \r\n                :alt=\"project.title\" \r\n                class=\"project-image\"\r\n                @error=\"handleImageError($event, project)\"\r\n              />\r\n              <span v-else class=\"placeholder-text\">{{ project.title }}</span>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div class=\"card-title-row\">\r\n              <h3 class=\"card-title\">{{ project.title }}</h3>\r\n                <div class=\"badge-group\">\r\n                  <span v-if=\"project.visibility === 'PUBLIC'\" class=\"visibility-badge visibility-public\" title=\"\">\r\n                    <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                      <circle cx=\"12\" cy=\"12\" r=\"3\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    </svg>\r\n                  </span>\r\n              <span class=\"status-badge\" :class=\"statusClass(project.status)\">{{ project.status }}</span>\r\n                </div>\r\n            </div>\r\n            <ul class=\"meta-list\">\r\n              <li>\r\n                  <span class=\"meta-label\"></span>\r\n                  <span class=\"meta-value\">{{ project.creatorName || '' }}</span>\r\n              </li>\r\n              <li>\r\n                  <span class=\"meta-label\"></span>\r\n                  <span class=\"meta-value\">{{ getTeamSize(project) }}</span>\r\n              </li>\r\n                <li v-if=\"project.startDate && project.endDate\">\r\n                  <span class=\"meta-label\"></span>\r\n                  <span class=\"meta-value\">{{ formatDateRange(project.startDate, project.endDate) }}</span>\r\n              </li>\r\n                <li v-if=\"project.tags && project.tags.length > 0\">\r\n                  <span class=\"meta-label\"></span>\r\n                  <span class=\"meta-value\">\r\n                    <span v-for=\"(tag, index) in project.tags\" :key=\"index\" class=\"tag-item\">\r\n                      {{ tag }}{{ index < project.tags.length - 1 ? '' : '' }}\r\n                    </span>\r\n                  </span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"pagination\">\r\n        <button class=\"pager\" :disabled=\"currentPage === 1\" @click=\"goPrev\"></button>\r\n        <button v-for=\"p in totalPages\" :key=\"p\" class=\"page-num\" :class=\"{ active: p === currentPage }\" @click=\"goPage(p)\">{{ p }}</button>\r\n        <button class=\"pager\" :disabled=\"currentPage === totalPages\" @click=\"goNext\"></button>\r\n      </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"showModal\" class=\"modal-overlay\" @click=\"closeModal\">\r\n      <div class=\"modal-content\" @click.stop>\r\n        <div class=\"modal-header\">\r\n          <h3></h3>\r\n          <button @click=\"closeModal\" class=\"modal-close\">\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <p>{{ modalMessage }}</p>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button @click=\"closeModal\" class=\"modal-btn modal-btn-cancel\"></button>\r\n          <button @click=\"goToLogin\" class=\"modal-btn modal-btn-confirm\"></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Toast -->\r\n    <div v-if=\"showToast\" class=\"success-toast\">\r\n      {{ toastMessage }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Sidebar from '@/components/Sidebar.vue'\r\nimport { normalizeProjectCoverUrl, normalizeImageUrl } from '@/utils/imageUtils'\r\nimport '@/assets/styles/ProjectSquare.css'\r\n\r\nexport default {\r\n  name: 'ProjectSquare',\r\n  components: {\r\n    Sidebar\r\n  },\r\n  data() {\r\n    return {\r\n      sidebarOpen: false,\r\n      searchText: '',\r\n      selectedStatus: '',\r\n      statusOpen: false,\r\n      currentPage: 1,\r\n      pageSize: 8, // 824\r\n      projects: [],\r\n      showModal: false,\r\n      modalMessage: '',\r\n      isLoading: true, // \r\n      showToast: false,\r\n      toastMessage: ''\r\n    }\r\n  },\r\n  computed: {\r\n    categories() {\r\n      const set = new Set(this.projects.map(p => p.category))\r\n      return Array.from(set)\r\n    },\r\n    filteredProjects() {\r\n      const text = this.searchText.trim().toLowerCase()\r\n      return this.projects.filter(p => {\r\n        const matchText = text ? p.title.toLowerCase().includes(text) : true\r\n        const matchStatus = this.selectedStatus ? p.status === this.selectedStatus : true\r\n        // \r\n        const isPublic = p.visibility === 'PUBLIC'\r\n        return matchText && matchStatus && isPublic\r\n      })\r\n    },\r\n    totalPages() {\r\n      return Math.max(1, Math.ceil(this.filteredProjects.length / this.pageSize))\r\n    },\r\n    paginatedProjects() {\r\n      const start = (this.currentPage - 1) * this.pageSize\r\n      const result = this.filteredProjects.slice(start, start + this.pageSize)\r\n      console.log(':', this.currentPage, ':', this.pageSize, ':', this.filteredProjects.length, ':', result.length)\r\n      return result\r\n    }\r\n  },\r\n  mounted() {\r\n    //  URL localhost  URL\r\n    this.cleanupOldImageUrls()\r\n    \r\n    // \r\n    const shouldRestore = localStorage.getItem('projectSquare_shouldRestorePage')\r\n    if (shouldRestore === 'true') {\r\n      this.restorePageNumber()\r\n      localStorage.removeItem('projectSquare_shouldRestorePage')\r\n    } else {\r\n      // \r\n      this.currentPage = 1\r\n      localStorage.removeItem('projectSquare_page')\r\n    }\r\n    \r\n    this.loadProjects()\r\n    document.addEventListener('click', this.handleClickOutside)\r\n  },\r\n  activated() {\r\n    // \r\n    // \r\n    console.log('')\r\n    \r\n    // \r\n    const shouldRestore = localStorage.getItem('projectSquare_shouldRestorePage')\r\n    if (shouldRestore === 'true') {\r\n      this.restorePageNumber()\r\n      localStorage.removeItem('projectSquare_shouldRestorePage')\r\n    } else {\r\n      // \r\n      this.currentPage = 1\r\n      localStorage.removeItem('projectSquare_page')\r\n    }\r\n    \r\n    this.loadProjects()\r\n  },\r\n  beforeDestroy() {\r\n    document.removeEventListener('click', this.handleClickOutside)\r\n  },\r\n  methods: {\r\n    /**\r\n     *  localStorage  URL \r\n     *  localhost:9000  URL\r\n     */\r\n    cleanupOldImageUrls() {\r\n      try {\r\n        const savedProjects = localStorage.getItem('projects')\r\n        if (!savedProjects) return\r\n        \r\n        const projects = JSON.parse(savedProjects)\r\n        let needsCleanup = false\r\n        \r\n        //  localhost  URL\r\n        const hasLocalhost = projects.some(p => {\r\n          const url = p.image || p.imageUrl\r\n          return url && (url.includes('localhost:9000') || url.includes('localhost'))\r\n        })\r\n        \r\n        if (hasLocalhost) {\r\n          console.log('  URL...')\r\n          \r\n          //  localhost  URL\r\n          const cleanedProjects = projects.map(project => {\r\n            let imageUrl = project.imageUrl || project.image\r\n            \r\n            if (imageUrl && imageUrl.includes('localhost')) {\r\n              console.log(` ${project.id} (${project.name || project.title})  URL:`, imageUrl)\r\n              imageUrl = null\r\n              needsCleanup = true\r\n            }\r\n            \r\n            return {\r\n              ...project,\r\n              image: imageUrl,\r\n              imageUrl: imageUrl\r\n            }\r\n          })\r\n          \r\n          if (needsCleanup) {\r\n            localStorage.setItem('projects', JSON.stringify(cleanedProjects))\r\n            console.log('  URL ')\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        // \r\n      }\r\n    },\r\n    \r\n    toggleSidebar() {\r\n      this.sidebarOpen = !this.sidebarOpen\r\n    },\r\n    closeSidebar() {\r\n      this.sidebarOpen = false\r\n    },\r\n    goToHome() {\r\n      this.$router.push('/home')\r\n    },\r\n    handleClickOutside(event) {\r\n      if (!event.target.closest('.dropdown')) {\r\n        this.statusOpen = false\r\n      }\r\n    },\r\n    async loadProjects() {\r\n      this.isLoading = true\r\n      \r\n      try {\r\n        console.log('======  ======')\r\n        \r\n        // API\r\n        const { projectAPI } = await import('@/api/project')\r\n        \r\n        console.log('API...')\r\n        const response = await projectAPI.getPublicActiveProjects(0, 100) // 100\r\n        \r\n        console.log('API:', response)\r\n        console.log('code:', response?.code)\r\n        console.log('data:', typeof response?.data)\r\n        \r\n        if (response && response.code === 200) {\r\n          console.log('')\r\n          \r\n          // \r\n          let backendProjects = []\r\n          if (response.data && response.data.content) {\r\n            // Spring Data Page\r\n            backendProjects = response.data.content\r\n            console.log('Page:', backendProjects.length)\r\n          } else if (Array.isArray(response.data)) {\r\n            // \r\n            backendProjects = response.data\r\n            console.log(':', backendProjects.length)\r\n          } else {\r\n            console.warn(':', response.data)\r\n            backendProjects = []\r\n          }\r\n          \r\n          // localStorage\r\n          const savedProjects = localStorage.getItem('projects')\r\n          const localProjects = savedProjects ? JSON.parse(savedProjects) : []\r\n          \r\n          // localStorage\r\n          this.projects = backendProjects\r\n            .map(project => {\r\n              // localStorage\r\n              const localProject = localProjects.find(p => String(p.id) === String(project.id))\r\n              \r\n              // imageUrllocalStoragelocalStorage\r\n              let imageUrl = project.imageUrl || (localProject && localProject.imageUrl) || null\r\n              \r\n              //  URL MinIO URL\r\n              imageUrl = normalizeProjectCoverUrl(imageUrl)\r\n              \r\n              console.log(` ${project.id} URL:`, {\r\n                backend: project.imageUrl,\r\n                local: localProject?.imageUrl,\r\n                normalized: imageUrl\r\n              })\r\n              \r\n              // \r\n              console.log(':', project.id, {\r\n                memberCount: project.memberCount,\r\n                teamMemberCount: project.teamMemberCount,\r\n                membersCount: project.membersCount,\r\n                participantCount: project.participantCount,\r\n                participantsCount: project.participantsCount,\r\n                memberNum: project.memberNum,\r\n                membersNum: project.membersNum,\r\n                memberSize: project.memberSize,\r\n                membersSize: project.membersSize,\r\n                userCount: project.userCount,\r\n                usersCount: project.usersCount,\r\n                teamSize: project.teamSize,\r\n                teamMembersLen: Array.isArray(project.teamMembers) ? project.teamMembers.length : undefined,\r\n                membersLen: Array.isArray(project.members) ? project.members.length : undefined\r\n              })\r\n\r\n              return {\r\n                id: project.id,\r\n                name: project.name,\r\n                title: project.name, // title\r\n                description: project.description || '',\r\n                status: this.getStatusDisplay(project.status),\r\n                visibility: project.visibility,\r\n                // \r\n                teamSize: this.getNumericMemberCount(project) || 1,\r\n                dataAssets: project.description || '',\r\n                direction: project.description || '',\r\n                aiCore: '',\r\n                category: project.category || '',\r\n                tags: project.tags || [],\r\n                image: imageUrl,\r\n                imageUrl: imageUrl,\r\n                startDate: project.startDate,\r\n                endDate: project.endDate,\r\n                start_date: project.startDate,\r\n                end_date: project.endDate,\r\n                created_by: project.creatorId,\r\n                creatorId: project.creatorId,\r\n                creatorName: project.creatorName || '', // \r\n                createdAt: project.createdAt,\r\n                updatedAt: project.updatedAt,\r\n                // localStorage\r\n                tasks: localProject?.tasks || [],\r\n                // /\r\n                teamMembers: (\r\n                  project.teamMembers ||\r\n                  project.members ||\r\n                  project.participants ||\r\n                  project.users ||\r\n                  project.userList ||\r\n                  localProject?.teamMembers ||\r\n                  []\r\n                ),\r\n                inviteSlots: localProject?.inviteSlots || []\r\n              }\r\n            })\r\n            .filter(project => {\r\n              // \r\n              if (project.visibility !== 'PUBLIC') {\r\n                console.warn(':', project.id, project.name, ':', project.visibility)\r\n                return false\r\n              }\r\n              return true\r\n            })\r\n          \r\n          console.log(':', this.projects.length)\r\n          if (this.projects.length > 0) {\r\n            console.log(':', this.projects[0])\r\n            console.log(':', this.projects.map(p => ({ id: p.id, name: p.name, status: p.status, visibility: p.visibility, imageUrl: p.imageUrl })))\r\n          }\r\n          \r\n          // \r\n          console.log('...')\r\n          const memberCountPromises = this.projects.map(async (project) => {\r\n            try {\r\n              const memberResponse = await projectAPI.getProjectMembers(project.id, 0, 1000) // \r\n              let memberCount = 0\r\n              \r\n              if (memberResponse && memberResponse.code === 200) {\r\n                if (memberResponse.data && memberResponse.data.content) {\r\n                  // Spring Data Page\r\n                  memberCount = memberResponse.data.content.length\r\n                  this.$set(project, 'teamMembers', memberResponse.data.content)\r\n                } else if (Array.isArray(memberResponse.data)) {\r\n                  // \r\n                  memberCount = memberResponse.data.length\r\n                  this.$set(project, 'teamMembers', memberResponse.data)\r\n                }\r\n              }\r\n              \r\n              //  Vue.set \r\n              const finalCount = memberCount > 0 ? memberCount : 1\r\n              this.$set(project, 'memberCount', finalCount)\r\n              \r\n              // \r\n              try {\r\n                localStorage.setItem(`project_member_count_${project.id}`, String(finalCount))\r\n                console.log(`  ${project.id} :`, finalCount, '')\r\n              } catch (e) {\r\n                console.warn(` ${project.id} :`, e)\r\n              }\r\n              \r\n              console.log(` ${project.id} (${project.name}) :`, finalCount)\r\n              return { projectId: project.id, memberCount: finalCount }\r\n            } catch (error) {\r\n              console.warn(` ${project.id} :`, error)\r\n              // \r\n              try {\r\n                const cached = localStorage.getItem(`project_member_count_${project.id}`)\r\n                const cachedNum = cached ? parseInt(cached, 10) : NaN\r\n                if (!isNaN(cachedNum) && cachedNum > 0) {\r\n                  this.$set(project, 'memberCount', cachedNum)\r\n                  return { projectId: project.id, memberCount: cachedNum }\r\n                }\r\n              } catch (e) {\r\n                console.warn(':', e)\r\n              }\r\n              // \r\n              this.$set(project, 'memberCount', 1)\r\n              return { projectId: project.id, memberCount: 1 }\r\n            }\r\n          })\r\n          \r\n          // \r\n          const memberCountResults = await Promise.all(memberCountPromises)\r\n          console.log(':', memberCountResults)\r\n          \r\n          // \r\n          this.$forceUpdate()\r\n          console.log(' ')\r\n          \r\n          // localStorage\r\n          // \r\n          localStorage.setItem('projects', JSON.stringify(this.projects))\r\n          \r\n          console.log('====== ', this.projects.length, ' ======')\r\n        } else {\r\n          console.error('code:', response?.code, 'msg:', response?.msg)\r\n          // localStorage\r\n          this.loadProjectsFromLocalStorage()\r\n        }\r\n      } catch (error) {\r\n        console.error('======  ======')\r\n        console.error(':', error.constructor.name)\r\n        console.error(':', error.message)\r\n        console.error(':', error)\r\n        \r\n        // localStorage\r\n        this.loadProjectsFromLocalStorage()\r\n      } finally {\r\n        this.isLoading = false\r\n      }\r\n    },\r\n    \r\n    loadProjectsFromLocalStorage() {\r\n      console.log('localStorage...')\r\n      const savedProjects = localStorage.getItem('projects')\r\n      if (savedProjects) {\r\n        const allProjects = JSON.parse(savedProjects)\r\n        // URL\r\n        this.projects = allProjects.filter(project => {\r\n          if (project.visibility !== 'PUBLIC') {\r\n            console.warn('localStorage:', project.id, project.name || project.title, ':', project.visibility)\r\n            return false\r\n          }\r\n          return true\r\n        }).map(project => {\r\n          //  URL\r\n          const normalizedImageUrl = normalizeProjectCoverUrl(project.image || project.imageUrl)\r\n          \r\n          return {\r\n            ...project,\r\n            status: this.getStatusDisplay(project.status), // \r\n            image: normalizedImageUrl,\r\n            imageUrl: normalizedImageUrl\r\n          }\r\n        })\r\n        console.log('localStorage:', allProjects.length, ':', this.projects.length)\r\n        console.log('localStorage:', allProjects.map(p => ({ id: p.id, title: p.title || p.name, status: p.status, visibility: p.visibility })))\r\n      } else {\r\n        console.log('localStorage')\r\n        this.projects = []\r\n      }\r\n    },\r\n    \r\n    getStatusDisplay(status) {\r\n      // \r\n      const statusMap = {\r\n        'PLANNING': '',\r\n        'ONGOING': '',\r\n        'COMPLETED': '',\r\n        'ARCHIVED': '',\r\n        // \r\n        'IN_PROGRESS': '',\r\n        'PAUSED': '',\r\n        'CANCELLED': '',\r\n        'DONE': '',\r\n        'STEADY': ''\r\n      }\r\n      return statusMap[status] || status || ''\r\n    },\r\n    // \r\n    getNumericMemberCount(project) {\r\n      const candidates = [\r\n        'memberCount', 'teamMemberCount', 'membersCount',\r\n        'participantCount', 'participantsCount',\r\n        'memberNum', 'membersNum',\r\n        'memberSize', 'membersSize',\r\n        'userCount', 'usersCount',\r\n        'teamSize'\r\n      ]\r\n      for (const key of candidates) {\r\n        if (project && project[key] !== undefined && project[key] !== null) {\r\n          const n = typeof project[key] === 'string' ? parseInt(project[key], 10) : project[key]\r\n          if (!isNaN(n) && n > 0) return n\r\n        }\r\n      }\r\n      return undefined\r\n    },\r\n    statusClass(status) {\r\n      if (status === '') return 'ongoing'\r\n      if (status === '') return 'done'\r\n      return 'steady'\r\n    },\r\n    getTeamSize(project) {\r\n      // 0) \r\n      //  loadProjects \r\n      try {\r\n        const cached = localStorage.getItem(`project_member_count_${project.id}`)\r\n        const cachedNum = cached ? parseInt(cached, 10) : NaN\r\n        if (!isNaN(cachedNum) && cachedNum > 0) {\r\n          //  project.memberCount \r\n          if (project.memberCount !== cachedNum) {\r\n            this.$set(project, 'memberCount', cachedNum)\r\n          }\r\n          return cachedNum\r\n        }\r\n      } catch (e) {\r\n        console.warn(':', e)\r\n      }\r\n      \r\n      // 1)  memberCount loadProjects  API \r\n      // \r\n      if (project.memberCount !== undefined && project.memberCount !== null) {\r\n        const num = typeof project.memberCount === 'number' ? project.memberCount : parseInt(project.memberCount, 10)\r\n        if (!isNaN(num) && num > 0) {\r\n          return num\r\n        }\r\n      }\r\n\r\n      // 2) \r\n      const numeric = (\r\n        project.teamMemberCount ||\r\n        project.membersCount ||\r\n        project.participantCount ||\r\n        project.participantsCount ||\r\n        project.memberNum ||\r\n        project.membersNum ||\r\n        project.teamSize\r\n      )\r\n      if (typeof numeric === 'number' && !isNaN(numeric) && numeric > 0) {\r\n        return numeric\r\n      }\r\n      \r\n      // 3) \r\n      if (Array.isArray(project.teamMembers) && project.teamMembers.length > 0) {\r\n        return project.teamMembers.length\r\n      }\r\n      if (Array.isArray(project.members) && project.members.length > 0) {\r\n        return project.members.length\r\n      }\r\n      if (Array.isArray(project.participants) && project.participants.length > 0) {\r\n        return project.participants.length\r\n      }\r\n      if (Array.isArray(project.users) && project.users.length > 0) {\r\n        return project.users.length\r\n      }\r\n      if (Array.isArray(project.userList) && project.userList.length > 0) {\r\n        return project.userList.length\r\n      }\r\n      \r\n      // 4) 0\r\n      try {\r\n        const cached = localStorage.getItem(`project_member_count_${project.id}`)\r\n        const cachedNum = cached ? parseInt(cached, 10) : NaN\r\n        if (!isNaN(cachedNum) && cachedNum > 0) return cachedNum\r\n      } catch (e) {}\r\n      \r\n      // 4) \r\n      return 1\r\n    },\r\n    formatDateRange(startDate, endDate) {\r\n      if (!startDate || !endDate) return ''\r\n      \r\n      const start = new Date(startDate)\r\n      const end = new Date(endDate)\r\n      \r\n      const formatDate = (date) => {\r\n        const year = date.getFullYear()\r\n        const month = String(date.getMonth() + 1).padStart(2, '0')\r\n        const day = String(date.getDate()).padStart(2, '0')\r\n        return `${year}-${month}-${day}`\r\n      }\r\n      \r\n      return `${formatDate(start)}  ${formatDate(end)}`\r\n    },\r\n    toggleStatusDropdown() {\r\n      this.statusOpen = !this.statusOpen\r\n    },\r\n    selectStatus(s) {\r\n      this.selectedStatus = s\r\n      this.statusOpen = false\r\n      this.currentPage = 1\r\n      // \r\n      localStorage.removeItem('projectSquare_page')\r\n    },\r\n    resetFilters() {\r\n      this.searchText = ''\r\n      this.selectedStatus = ''\r\n      this.currentPage = 1\r\n      // \r\n      localStorage.removeItem('projectSquare_page')\r\n    },\r\n    /**\r\n     * \r\n     * \r\n     */\r\n    handleImageError(event, project) {\r\n      console.warn(`: ${project.title}, URL:`, project.image)\r\n      // \r\n      event.target.style.display = 'none'\r\n      // project.imagev-else\r\n      this.$set(project, 'image', null)\r\n    },\r\n    createNewProject() {\r\n      // \r\n      const token = localStorage.getItem('access_token')\r\n      const userInfo = localStorage.getItem('user_info')\r\n      const isAuthenticated = !!(token && userInfo)\r\n      \r\n      if (isAuthenticated) {\r\n        this.$router.push({ path: '/project-create', query: { from: 'project-square' } })\r\n      } else {\r\n        this.showLoginModal('')\r\n      }\r\n    },\r\n    goPrev() {\r\n      if (this.currentPage > 1) {\r\n        this.currentPage--\r\n        this.savePageNumber()\r\n      }\r\n    },\r\n    goNext() {\r\n      if (this.currentPage < this.totalPages) {\r\n        this.currentPage++\r\n        this.savePageNumber()\r\n      }\r\n    },\r\n    goPage(p) {\r\n      this.currentPage = p\r\n      this.savePageNumber()\r\n    },\r\n    viewProjectDetail(project) {\r\n      // \r\n      const token = localStorage.getItem('access_token')\r\n      const userInfo = localStorage.getItem('user_info')\r\n      const isAuthenticated = !!(token && userInfo)\r\n      \r\n      if (isAuthenticated) {\r\n        // \r\n        this.savePageNumber()\r\n        \r\n        // \r\n        localStorage.setItem('projectSquare_shouldRestorePage', 'true')\r\n        \r\n        // \r\n        this.$router.push(`/project-detail/${project.id}`)\r\n      } else {\r\n        // \r\n        this.showLoginModal('')\r\n      }\r\n    },\r\n    savePageNumber() {\r\n      //  localStorage\r\n      try {\r\n        localStorage.setItem('projectSquare_page', String(this.currentPage))\r\n        console.log(':', this.currentPage)\r\n      } catch (error) {\r\n        console.error(':', error)\r\n      }\r\n    },\r\n    restorePageNumber() {\r\n      //  localStorage \r\n      try {\r\n        const savedPage = localStorage.getItem('projectSquare_page')\r\n        if (savedPage) {\r\n          const pageNum = parseInt(savedPage, 10)\r\n          if (!isNaN(pageNum) && pageNum > 0) {\r\n            this.currentPage = pageNum\r\n            console.log(':', this.currentPage)\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n      }\r\n    },\r\n    showLoginModal(message) {\r\n      this.modalMessage = message\r\n      this.showModal = true\r\n    },\r\n    closeModal() {\r\n      this.showModal = false\r\n      this.modalMessage = ''\r\n    },\r\n    goToLogin() {\r\n      this.$router.push('/login')\r\n    },\r\n    showSuccessToast(message) {\r\n      this.toastMessage = message\r\n      this.showToast = true\r\n      \r\n      // 1\r\n      setTimeout(() => {\r\n        this.showToast = false\r\n        this.toastMessage = ''\r\n      }, 1000)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.project-square-container {\r\n  min-height: 100vh;\r\n  background-color: var(--bg-secondary);\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.top-header {\r\n  background: var(--bg-primary);\r\n  border-bottom: 1px solid var(--border-primary);\r\n  height: 64px;\r\n  padding: 0 var(--space-6);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  box-shadow: var(--shadow-sm);\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: var(--z-sticky);\r\n}\r\n\r\n.header-left {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.back-btn {\r\n  background: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  padding: 8px;\r\n  border-radius: 4px;\r\n  color: #666;\r\n  transition: background-color 0.3s ease;\r\n  margin-right: 8px;\r\n}\r\n\r\n.back-btn:hover {\r\n  background-color: #f8f9fa;\r\n  color: #333;\r\n}\r\n\r\n.menu-btn {\r\n  background: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  padding: 8px;\r\n  border-radius: 4px;\r\n  color: #666;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.menu-btn:hover {\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.page-title {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.header-right { display: flex; align-items: center; gap: 24px; position: relative; }\r\n\r\n\r\n.user-profile { display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px 12px; border-radius: 6px; transition: background-color 0.3s ease; }\r\n.user-profile:hover { background-color: #f8f9fa; }\r\n.user-avatar { width: 32px; height: 32px; border-radius: 50%; overflow: hidden; background-color: #f0f0f0; display: flex; align-items: center; justify-content: center; }\r\n.user-avatar img { width: 100%; height: 100%; object-fit: cover; }\r\n.avatar-placeholder { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: #666; }\r\n.rotate { transform: rotate(180deg); transition: transform 0.3s ease; }\r\n.user-menu { position: absolute; top: calc(100% + 4px); right: 0; background: #fff; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 1px solid #e9ecef; min-width: 160px; z-index: 100; }\r\n.menu-item { display: flex; align-items: center; gap: 12px; padding: 12px 16px; cursor: pointer; transition: background-color 0.3s ease; font-size: 14px; color: #333; }\r\n.menu-item:hover { background-color: #f8f9fa; }\r\n\r\n.main-content {\r\n  flex: 1;\r\n  padding: var(--space-5) var(--space-6) 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: calc(100vh - 64px); /*  */\r\n}\r\n\r\n.content-wrapper {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  min-height: 0;\r\n}\r\n\r\n.toolbar {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  gap: var(--space-4);\r\n  background: var(--bg-primary);\r\n  border: 1px solid var(--border-primary);\r\n  padding: var(--space-3);\r\n  border-radius: var(--radius-xl);\r\n  box-shadow: var(--shadow-sm);\r\n}\r\n\r\n.search-input {\r\n  flex: 1;\r\n  height: 40px;\r\n  border: 2px solid var(--border-primary);\r\n  border-radius: var(--radius-lg);\r\n  padding: 0 var(--space-4);\r\n  outline: none;\r\n  font-size: var(--text-sm);\r\n  background: var(--bg-primary);\r\n  color: var(--text-primary);\r\n  transition: all var(--transition-normal);\r\n}\r\n\r\n.search-input:focus {\r\n  border-color: var(--primary-color);\r\n  box-shadow: 0 0 0 3px var(--primary-light);\r\n}\r\n\r\n.toolbar-actions { display: flex; gap: 10px; position: relative; }\r\n\r\n.btn {\r\n  height: 40px;\r\n  padding: 0 var(--space-4);\r\n  border-radius: var(--radius-lg);\r\n  border: 2px solid var(--border-primary);\r\n  background: var(--bg-primary);\r\n  color: var(--text-primary);\r\n  cursor: pointer;\r\n  font-size: var(--text-sm);\r\n  font-weight: var(--font-medium);\r\n  transition: all var(--transition-normal);\r\n}\r\n\r\n.btn:hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: var(--shadow-md);\r\n}\r\n\r\n.btn.secondary { \r\n  background: var(--bg-tertiary);\r\n  border-color: var(--border-secondary);\r\n}\r\n\r\n.btn.primary { \r\n  background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));\r\n  border-color: var(--primary-color);\r\n  color: var(--text-inverse);\r\n  box-shadow: var(--shadow-sm);\r\n}\r\n\r\n.btn.primary:hover {\r\n  background: linear-gradient(135deg, var(--primary-hover), var(--primary-dark));\r\n  box-shadow: var(--shadow-lg);\r\n}\r\n.btn-block { width: 100%; margin-top: 10px; }\r\n\r\n.dropdown { position: relative; }\r\n.dropdown-menu {\r\n  position: absolute;\r\n  top: calc(100% + 6px);\r\n  left: 0;\r\n  min-width: 120px;\r\n  background: #fff;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  box-shadow: 0 8px 20px rgba(0,0,0,0.08);\r\n  z-index: 10;\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n.dropdown-item {\r\n  padding: 10px 12px;\r\n  font-size: 14px;\r\n  color: #333;\r\n  cursor: pointer;\r\n}\r\n.dropdown-item:hover { background: #f8f9fa; }\r\n.dropdown-item.active { color: #5b6bff; background: #eef1ff; }\r\n\r\n.grid {\r\n  margin-top: var(--space-4);\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 1fr); /* 4 */\r\n  gap: var(--space-4); /*  */\r\n  flex: 1;\r\n  min-height: 0;\r\n  overflow-y: auto;\r\n  align-content: start; /*  */\r\n  padding-bottom: var(--space-3); /*  */\r\n}\r\n\r\n.card {\r\n  background: var(--bg-primary);\r\n  border: 1px solid var(--border-primary);\r\n  border-radius: var(--radius-xl);\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  cursor: pointer;\r\n  transition: all var(--transition-normal);\r\n  height: 280px; /*  */\r\n  position: relative;\r\n}\r\n\r\n.card::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 4px;\r\n  background: linear-gradient(90deg, var(--primary-color), var(--info-color), var(--success-color));\r\n  transform: scaleX(0);\r\n  transition: transform var(--transition-normal);\r\n}\r\n\r\n.card:hover {\r\n  transform: translateY(-4px);\r\n  box-shadow: var(--shadow-xl);\r\n  border-color: var(--primary-color);\r\n}\r\n\r\n.card:hover::before {\r\n  transform: scaleX(1);\r\n}\r\n\r\n.card-media {\r\n  height: 180px; /*  */\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #fff;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  position: relative;\r\n  overflow: hidden;\r\n  border-radius: 10px 10px 0 0;\r\n}\r\n\r\n.gradient-1 { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }\r\n.gradient-2 { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }\r\n.gradient-3 { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }\r\n.gradient-4 { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); }\r\n.gradient-5 { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }\r\n.gradient-6 { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); }\r\n\r\n.card-media::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.1);\r\n  z-index: 1;\r\n}\r\n\r\n.project-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  border-radius: 8px 8px 0 0;\r\n}\r\n\r\n.card-media span {\r\n  position: relative;\r\n  z-index: 2;\r\n}\r\n\r\n.placeholder-text {\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  text-align: center;\r\n  padding: 0 20px;\r\n  line-height: 1.4;\r\n}\r\n\r\n.card-body { \r\n  padding: 12px 16px; /*  */\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1;\r\n}\r\n\r\n.card-title-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 8px; /*  */\r\n  gap: 8px;\r\n}\r\n\r\n.card-title {\r\n  font-size: var(--text-base);\r\n  color: var(--text-primary);\r\n  font-weight: var(--font-semibold);\r\n  margin: 0;\r\n  line-height: var(--leading-snug);\r\n  flex: 1;\r\n}\r\n\r\n.badge-group {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.visibility-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 4px 6px;\r\n  border-radius: 4px;\r\n  font-size: 10px;\r\n  font-weight: 600;\r\n  line-height: 1;\r\n  border: 1px solid transparent;\r\n}\r\n\r\n.visibility-badge.visibility-public {\r\n  background: #e7f5ff;\r\n  color: #1971c2;\r\n  border-color: #a5d8ff;\r\n}\r\n\r\n.visibility-badge.visibility-public svg {\r\n  width: 12px;\r\n  height: 12px;\r\n  stroke: currentColor;\r\n}\r\n\r\n.status-badge {\r\n  padding: var(--space-1) var(--space-2);\r\n  border-radius: var(--radius-full);\r\n  font-size: var(--text-xs);\r\n  font-weight: var(--font-semibold);\r\n  line-height: 1;\r\n  border: 1px solid transparent;\r\n  flex-shrink: 0;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n}\r\n.status-badge.ongoing { \r\n  background: var(--warning-light); \r\n  color: var(--warning-color); \r\n  border-color: var(--warning-color);\r\n}\r\n.status-badge.done { \r\n  background: var(--success-light); \r\n  color: var(--success-color); \r\n  border-color: var(--success-color);\r\n}\r\n.status-badge.steady { \r\n  background: var(--info-light); \r\n  color: var(--info-color); \r\n  border-color: var(--info-color);\r\n}\r\n\r\n.meta-list { \r\n  list-style: none; \r\n  padding: 0; \r\n  margin: 0; \r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n}\r\n.meta-list li { \r\n  display: flex; \r\n  align-items: center; \r\n  padding: 2px 0; /*  */\r\n  font-size: var(--text-xs); \r\n  color: var(--text-secondary);\r\n  line-height: 1.2;\r\n}\r\n.meta-label { \r\n  color: var(--text-tertiary);\r\n  font-weight: var(--font-medium);\r\n}\r\n.meta-value { \r\n  color: var(--text-primary);\r\n  font-weight: var(--font-semibold);\r\n}\r\n\r\n.tag-item {\r\n  display: inline;\r\n  color: var(--text-primary);\r\n  font-weight: var(--font-semibold);\r\n}\r\n\r\n.pagination {\r\n  margin-top: auto; /*  */\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: var(--space-2);\r\n  flex-shrink: 0; /*  */\r\n  padding: var(--space-5) 0;\r\n  background: var(--bg-primary);\r\n  border-top: 1px solid var(--border-primary);\r\n  margin-bottom: 0; /*  */\r\n}\r\n.pager, .page-num {\r\n  height: 32px;\r\n  min-width: 32px;\r\n  padding: 0 var(--space-2);\r\n  border: 2px solid var(--border-primary);\r\n  background: var(--bg-primary);\r\n  border-radius: var(--radius-md);\r\n  cursor: pointer;\r\n  font-size: var(--text-sm);\r\n  font-weight: var(--font-medium);\r\n  color: var(--text-primary);\r\n  transition: all var(--transition-fast);\r\n}\r\n\r\n.pager:hover, .page-num:hover {\r\n  background: var(--bg-tertiary);\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.page-num.active { \r\n  background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));\r\n  color: var(--text-inverse);\r\n  border-color: var(--primary-color);\r\n  box-shadow: var(--shadow-sm);\r\n}\r\n\r\n.pager:disabled { \r\n  opacity: 0.5; \r\n  cursor: not-allowed;\r\n  transform: none;\r\n}\r\n\r\n@media (max-width: 1400px) {\r\n  .grid { \r\n    grid-template-columns: repeat(3, 1fr);\r\n  }\r\n}\r\n@media (max-width: 1000px) {\r\n  .grid { \r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n}\r\n@media (max-width: 600px) {\r\n  .grid { \r\n    grid-template-columns: 1fr;\r\n  }\r\n  .toolbar { flex-direction: column; align-items: stretch; }\r\n  .toolbar-actions { justify-content: flex-end; }\r\n  .card { height: 260px; } /*  */\r\n  .card-media { height: 150px; }\r\n  .card-body { padding: 12px; }\r\n}\r\n\r\n/*  */\r\n.loading-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 400px;\r\n  padding: 60px 20px;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 50px;\r\n  height: 50px;\r\n  border: 4px solid #f3f3f3;\r\n  border-top: 4px solid var(--primary-color);\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n.loading-text {\r\n  color: var(--text-secondary);\r\n  font-size: var(--text-base);\r\n  margin: 0;\r\n}\r\n\r\n/*  */\r\n.empty-state {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 400px;\r\n  padding: 60px 20px;\r\n  text-align: center;\r\n}\r\n\r\n.empty-state svg {\r\n  margin-bottom: 24px;\r\n  opacity: 0.3;\r\n}\r\n\r\n.empty-title {\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n  margin: 0 0 12px 0;\r\n}\r\n\r\n.empty-description {\r\n  font-size: 16px;\r\n  color: var(--text-secondary);\r\n  margin: 0 0 32px 0;\r\n  max-width: 400px;\r\n}\r\n\r\n/*  */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-content {\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\r\n  max-width: 400px;\r\n  width: 90%;\r\n  max-height: 90vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.modal-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 20px 24px 16px;\r\n}\r\n\r\n.modal-header h3 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #111827;\r\n}\r\n\r\n.modal-close {\r\n  background: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  padding: 4px;\r\n  border-radius: 4px;\r\n  color: #6b7280;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.modal-close:hover {\r\n  background: #f3f4f6;\r\n  color: #374151;\r\n}\r\n\r\n.modal-body {\r\n  padding: 20px 24px;\r\n}\r\n\r\n.modal-body p {\r\n  margin: 0;\r\n  font-size: 16px;\r\n  color: #374151;\r\n  line-height: 1.5;\r\n}\r\n\r\n.modal-footer {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 12px;\r\n  padding: 16px 24px 20px;\r\n}\r\n\r\n.modal-btn {\r\n  padding: 8px 16px;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  border: none;\r\n}\r\n\r\n.modal-btn-cancel {\r\n  background: #f3f4f6;\r\n  color: #374151;\r\n}\r\n\r\n.modal-btn-cancel:hover {\r\n  background: #e5e7eb;\r\n}\r\n\r\n.modal-btn-confirm {\r\n  background: #3b82f6;\r\n  color: white;\r\n}\r\n\r\n.modal-btn-confirm:hover {\r\n  background: #2563eb;\r\n}\r\n\r\n/* Toast */\r\n.success-toast {\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background: rgba(0, 0, 0, 0.8);\r\n  color: white;\r\n  padding: 16px 24px;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  z-index: 9999;\r\n  animation: fadeInOut 1s ease-in-out;\r\n  pointer-events: none;\r\n}\r\n\r\n@keyframes fadeInOut {\r\n  0% {\r\n    opacity: 0;\r\n    transform: translate(-50%, -50%) scale(0.8);\r\n  }\r\n  20% {\r\n    opacity: 1;\r\n    transform: translate(-50%, -50%) scale(1);\r\n  }\r\n  80% {\r\n    opacity: 1;\r\n    transform: translate(-50%, -50%) scale(1);\r\n  }\r\n  100% {\r\n    opacity: 0;\r\n    transform: translate(-50%, -50%) scale(0.8);\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProjectSquare.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProjectSquare.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProjectSquare.vue?vue&type=template&id=65a4a7ce&scoped=true\"\nimport script from \"./ProjectSquare.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectSquare.vue?vue&type=script&lang=js\"\nimport style0 from \"./ProjectSquare.vue?vue&type=style&index=0&id=65a4a7ce&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65a4a7ce\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"project-create-container\"},[_c('Sidebar',{attrs:{\"isOpen\":_vm.sidebarOpen},on:{\"close\":_vm.closeSidebar}}),_c('div',{staticClass:\"top-header\"},[_c('div',{staticClass:\"header-left\"},[_c('button',{staticClass:\"menu-btn\",attrs:{\"aria-label\":\"open sidebar\"},on:{\"click\":_vm.toggleSidebar}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M3 12H21M3 6H21M3 18H21\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('button',{staticClass:\"back-btn\",attrs:{\"title\":_vm.fromPage === 'home' ? '' : ''},on:{\"click\":_vm.goBack}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M19 12H5M12 19L5 12L12 5\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('span',{staticClass:\"page-title\"},[_vm._v(\"\")])]),_c('div',{staticClass:\"header-right\"},[_c('div',{staticClass:\"user-profile\"},[_c('div',{staticClass:\"user-avatar\"},[(_vm.userAvatar)?_c('img',{attrs:{\"src\":_vm.userAvatar,\"alt\":\"\"}}):_c('div',{staticClass:\"avatar-placeholder\"},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"7\",\"r\":\"4\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])])])])]),_c('div',{staticClass:\"main-content\"},[_c('div',{staticClass:\"form-section\"},[_c('div',{staticClass:\"form-group\"},[_c('h3',{staticClass:\"section-title\"},[_vm._v(\"\")]),_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.projectName),expression:\"formData.projectName\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.formData.projectName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.formData, \"projectName\", $event.target.value)}}})]),_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.projectDescription),expression:\"formData.projectDescription\"}],staticClass:\"form-textarea\",attrs:{\"placeholder\":\"\",\"rows\":\"4\"},domProps:{\"value\":(_vm.formData.projectDescription)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.formData, \"projectDescription\", $event.target.value)}}})]),_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"image-upload-container\"},[_c('div',{staticClass:\"image-upload-area\",class:{ 'has-image': _vm.projectImage },on:{\"click\":_vm.triggerImageUpload}},[(!_vm.projectImage)?_c('div',{staticClass:\"upload-placeholder\"},[_c('svg',{attrs:{\"width\":\"48\",\"height\":\"48\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M17 8L12 3L7 8\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M12 3V15\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_c('p',{staticClass:\"upload-text\"},[_vm._v(\"\")]),_c('p',{staticClass:\"upload-hint\"},[_vm._v(\" JPGPNG \")])]):_c('div',{staticClass:\"image-preview\"},[_c('img',{attrs:{\"src\":_vm.projectImage,\"alt\":\"\"}}),_c('button',{staticClass:\"remove-image\",attrs:{\"title\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.removeImage.apply(null, arguments)}}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])])]),_c('input',{ref:\"imageInput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\"image/*\",\"id\":\"imageInput\"},on:{\"change\":_vm.handleImageUpload}})])]),_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"visibility-options\"},[_c('div',{staticClass:\"visibility-option\",class:{ 'active': _vm.formData.visibility === 'PUBLIC' },on:{\"click\":function($event){_vm.formData.visibility = 'PUBLIC'}}},[_c('div',{staticClass:\"option-icon\"},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"3\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_vm._m(0)]),_c('div',{staticClass:\"visibility-option\",class:{ 'active': _vm.formData.visibility === 'PRIVATE' },on:{\"click\":function($event){_vm.formData.visibility = 'PRIVATE'}}},[_c('div',{staticClass:\"option-icon\"},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('rect',{attrs:{\"x\":\"3\",\"y\":\"11\",\"width\":\"18\",\"height\":\"11\",\"rx\":\"2\",\"ry\":\"2\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M7 11V7a5 5 0 0110 0v4\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_vm._m(1)])])]),_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"date-range\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.startDate),expression:\"formData.startDate\"}],staticClass:\"form-input date-input\",attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.formData.startDate)},on:{\"change\":_vm.validateStartDate,\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.formData, \"startDate\", $event.target.value)}}}),_c('span',{staticClass:\"date-separator\"},[_vm._v(\"-\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.endDate),expression:\"formData.endDate\"}],staticClass:\"form-input date-input\",attrs:{\"type\":\"date\",\"min\":_vm.today},domProps:{\"value\":(_vm.formData.endDate)},on:{\"change\":_vm.validateEndDate,\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.formData, \"endDate\", $event.target.value)}}})]),(_vm.dateError)?_c('div',{staticClass:\"error-message\"},[_vm._v(_vm._s(_vm.dateError))]):_vm._e()]),_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"tag-input-container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newTag),expression:\"newTag\"}],staticClass:\"form-input tag-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.newTag)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.addTag.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.newTag=$event.target.value}}}),_c('button',{staticClass:\"add-tag-btn\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addTag}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M12 5V19M5 12H19\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),(_vm.formData.tags.length > 0)?_c('div',{staticClass:\"tags-display\"},_vm._l((_vm.formData.tags),function(tag,index){return _c('span',{key:index,staticClass:\"tag\"},[_vm._v(\" \"+_vm._s(tag)+\" \"),_c('button',{staticClass:\"tag-remove\",on:{\"click\":function($event){return _vm.removeTag(index)}}},[_vm._v(\"\")])])}),0):_vm._e()])])]),_c('div',{staticClass:\"preview-section\"},[_c('h3',{staticClass:\"preview-title\"},[_vm._v(\"\")]),_c('div',{staticClass:\"preview-content\"},[_c('div',{staticClass:\"preview-item\"},[_c('label',{staticClass:\"preview-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"preview-value\"},[_vm._v(_vm._s(_vm.formData.projectName || ''))])]),_c('div',{staticClass:\"preview-item\"},[_c('label',{staticClass:\"preview-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"preview-value\"},[_vm._v(_vm._s(_vm.formData.projectDescription || ''))])]),_c('div',{staticClass:\"preview-item\"},[_c('label',{staticClass:\"preview-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"preview-value\"},[(_vm.formData.visibility === 'PUBLIC')?_c('span',{staticClass:\"visibility-badge visibility-public\"},[_c('svg',{attrs:{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"3\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_vm._v(\"  \")]):_c('span',{staticClass:\"visibility-badge visibility-private\"},[_c('svg',{attrs:{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('rect',{attrs:{\"x\":\"3\",\"y\":\"11\",\"width\":\"18\",\"height\":\"11\",\"rx\":\"2\",\"ry\":\"2\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M7 11V7a5 5 0 0110 0v4\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_vm._v(\"  \")])])]),_c('div',{staticClass:\"preview-item\"},[_c('label',{staticClass:\"preview-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"preview-tags\"},[(_vm.formData.tags.length === 0)?_c('span',{staticClass:\"preview-placeholder\"},[_vm._v(\"\")]):_vm._l((_vm.formData.tags),function(tag,index){return _c('span',{key:index,staticClass:\"preview-tag\"},[_vm._v(_vm._s(tag))])})],2)]),_c('div',{staticClass:\"preview-item\"},[_c('label',{staticClass:\"preview-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"preview-value\"},[(_vm.getProjectPeriod())?_c('div',[_vm._v(_vm._s(_vm.getProjectPeriod()))]):(_vm.dateError)?_c('div',{staticClass:\"preview-error\"},[_vm._v(_vm._s(_vm.dateError))]):_c('div',{staticClass:\"preview-placeholder\"},[_vm._v(\": \")])])])])])]),_c('div',{staticClass:\"footer-actions\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.saveDraft}},[_vm._v(\"  \")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\",\"disabled\":_vm.isSubmitting},on:{\"click\":_vm.publishProject}},[_vm._v(\" \"+_vm._s(_vm.isSubmitting ? '...' : '')+\" \")])]),(_vm.showToast)?_c('div',{staticClass:\"success-toast\"},[_vm._v(\" \"+_vm._s(_vm.toastMessage)+\" \")]):_vm._e(),(_vm.showModal)?_c('div',{staticClass:\"modal-overlay\",on:{\"click\":_vm.closeModal}},[_c('div',{staticClass:\"modal-content\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"modal-header\"},[_c('h3',[_vm._v(\"\")]),_c('button',{staticClass:\"modal-close\",on:{\"click\":_vm.closeModal}},[_vm._v(\"\")])]),_c('div',{staticClass:\"modal-body\"},[_vm._v(\" \"+_vm._s(_vm.modalMessage)+\" \")]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"modal-btn modal-btn-confirm\",on:{\"click\":_vm.closeModal}},[_vm._v(\"\")])])])]):_vm._e(),(_vm.showCropModal)?_c('div',{staticClass:\"crop-modal-overlay\"},[_c('div',{staticClass:\"crop-modal-content\",on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._m(2),_c('div',{staticClass:\"crop-modal-body\"},[_c('div',{staticClass:\"crop-container\"},[_c('canvas',{ref:\"cropCanvas\",staticClass:\"crop-canvas\"}),_c('div',{ref:\"cropOverlay\",staticClass:\"crop-overlay\"},[_c('div',{ref:\"cropSelection\",staticClass:\"crop-selection\"},[_c('div',{staticClass:\"resize-handle resize-handle-nw\",attrs:{\"data-handle\":\"nw\"}}),_c('div',{staticClass:\"resize-handle resize-handle-ne\",attrs:{\"data-handle\":\"ne\"}}),_c('div',{staticClass:\"resize-handle resize-handle-sw\",attrs:{\"data-handle\":\"sw\"}}),_c('div',{staticClass:\"resize-handle resize-handle-se\",attrs:{\"data-handle\":\"se\"}})])])])]),_c('div',{staticClass:\"crop-modal-footer\"},[_c('button',{staticClass:\"btn-cancel\",on:{\"click\":_vm.closeCropModal}},[_vm._v(\"\")]),_c('button',{staticClass:\"btn-confirm\",on:{\"click\":_vm.applyCrop}},[_vm._v(\"\")])])])]):_vm._e()],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"option-content\"},[_c('div',{staticClass:\"option-title\"},[_vm._v(\"\")]),_c('div',{staticClass:\"option-desc\"},[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"option-content\"},[_c('div',{staticClass:\"option-title\"},[_vm._v(\"\")]),_c('div',{staticClass:\"option-desc\"},[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"crop-modal-header\"},[_c('h3',[_vm._v(\"\")]),_c('p',{staticClass:\"crop-hint\"},[_vm._v(\"\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"project-create-container\">\r\n    <!--  -->\r\n    <Sidebar :isOpen=\"sidebarOpen\" @close=\"closeSidebar\" />\r\n    \r\n    <!--  -->\r\n    <div class=\"top-header\">\r\n      <div class=\"header-left\">\r\n        <button class=\"menu-btn\" @click=\"toggleSidebar\" aria-label=\"open sidebar\">\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M3 12H21M3 6H21M3 18H21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </button>\r\n        <button class=\"back-btn\" @click=\"goBack\" :title=\"fromPage === 'home' ? '' : ''\">\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M19 12H5M12 19L5 12L12 5\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </button>\r\n        <span class=\"page-title\"></span>\r\n      </div>\r\n      <div class=\"header-right\">\r\n        <div class=\"user-profile\">\r\n          <div class=\"user-avatar\">\r\n            <img v-if=\"userAvatar\" :src=\"userAvatar\" alt=\"\" />\r\n            <div v-else class=\"avatar-placeholder\">\r\n              <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                <circle cx=\"12\" cy=\"7\" r=\"4\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -  -->\r\n    <div class=\"main-content\">\r\n      <!--  -->\r\n      <div class=\"form-section\">\r\n        <!--  -->\r\n        <div class=\"form-group\">\r\n          <h3 class=\"section-title\"></h3>\r\n          \r\n          <div class=\"form-field\">\r\n            <label class=\"form-label\"></label>\r\n            <input\r\n              type=\"text\"\r\n              v-model=\"formData.projectName\"\r\n              class=\"form-input\"\r\n              placeholder=\"\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"form-field\">\r\n            <label class=\"form-label\"></label>\r\n            <textarea\r\n              v-model=\"formData.projectDescription\"\r\n              class=\"form-textarea\"\r\n              placeholder=\"\"\r\n              rows=\"4\"\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div class=\"form-field\">\r\n            <label class=\"form-label\"></label>\r\n            <div class=\"image-upload-container\">\r\n              <div class=\"image-upload-area\" @click=\"triggerImageUpload\" :class=\"{ 'has-image': projectImage }\">\r\n                <div v-if=\"!projectImage\" class=\"upload-placeholder\">\r\n                  <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    <path d=\"M17 8L12 3L7 8\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    <path d=\"M12 3V15\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  </svg>\r\n                  <p class=\"upload-text\"></p>\r\n                  <p class=\"upload-hint\"> JPGPNG </p>\r\n                </div>\r\n                <div v-else class=\"image-preview\">\r\n                  <img :src=\"projectImage\" alt=\"\" />\r\n                  <button class=\"remove-image\" @click.stop=\"removeImage\" title=\"\">\r\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <input\r\n                ref=\"imageInput\"\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                @change=\"handleImageUpload\"\r\n                style=\"display: none\"\r\n                id=\"imageInput\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form-field\">\r\n            <label class=\"form-label\"></label>\r\n            <div class=\"visibility-options\">\r\n              <div \r\n                class=\"visibility-option\" \r\n                :class=\"{ 'active': formData.visibility === 'PUBLIC' }\"\r\n                @click=\"formData.visibility = 'PUBLIC'\"\r\n              >\r\n                <div class=\"option-icon\">\r\n                  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    <circle cx=\"12\" cy=\"12\" r=\"3\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  </svg>\r\n                </div>\r\n                <div class=\"option-content\">\r\n                  <div class=\"option-title\"></div>\r\n                  <div class=\"option-desc\"></div>\r\n                </div>\r\n              </div>\r\n              <div \r\n                class=\"visibility-option\" \r\n                :class=\"{ 'active': formData.visibility === 'PRIVATE' }\"\r\n                @click=\"formData.visibility = 'PRIVATE'\"\r\n              >\r\n                <div class=\"option-icon\">\r\n                  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    <path d=\"M7 11V7a5 5 0 0110 0v4\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  </svg>\r\n                </div>\r\n                <div class=\"option-content\">\r\n                  <div class=\"option-title\"></div>\r\n                  <div class=\"option-desc\"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form-field\">\r\n            <label class=\"form-label\"></label>\r\n            <div class=\"date-range\">\r\n              <input\r\n                type=\"date\"\r\n                v-model=\"formData.startDate\"\r\n                class=\"form-input date-input\"\r\n                @change=\"validateStartDate\"\r\n              />\r\n              <span class=\"date-separator\">-</span>\r\n              <input\r\n                type=\"date\"\r\n                v-model=\"formData.endDate\"\r\n                :min=\"today\"\r\n                class=\"form-input date-input\"\r\n                @change=\"validateEndDate\"\r\n              />\r\n            </div>\r\n            <div v-if=\"dateError\" class=\"error-message\">{{ dateError }}</div>\r\n          </div>\r\n\r\n          \r\n          <div class=\"form-field\">\r\n            <label class=\"form-label\"></label>\r\n            <div class=\"tag-input-container\">\r\n              <input\r\n                type=\"text\"\r\n                v-model=\"newTag\"\r\n                @keyup.enter=\"addTag\"\r\n                class=\"form-input tag-input\"\r\n                placeholder=\"\"\r\n              />\r\n              <button type=\"button\" @click=\"addTag\" class=\"add-tag-btn\">\r\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M12 5V19M5 12H19\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            <div class=\"tags-display\" v-if=\"formData.tags.length > 0\">\r\n              <span v-for=\"(tag, index) in formData.tags\" :key=\"index\" class=\"tag\">\r\n                {{ tag }}\r\n                <button @click=\"removeTag(index)\" class=\"tag-remove\"></button>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </div>\r\n\r\n      <!--  -->\r\n      <div class=\"preview-section\">\r\n        <h3 class=\"preview-title\"></h3>\r\n        \r\n        <div class=\"preview-content\">\r\n          <div class=\"preview-item\">\r\n            <label class=\"preview-label\"></label>\r\n            <div class=\"preview-value\">{{ formData.projectName || '' }}</div>\r\n          </div>\r\n\r\n          <div class=\"preview-item\">\r\n            <label class=\"preview-label\"></label>\r\n            <div class=\"preview-value\">{{ formData.projectDescription || '' }}</div>\r\n          </div>\r\n\r\n          <div class=\"preview-item\">\r\n            <label class=\"preview-label\"></label>\r\n            <div class=\"preview-value\">\r\n              <span v-if=\"formData.visibility === 'PUBLIC'\" class=\"visibility-badge visibility-public\">\r\n                <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  <circle cx=\"12\" cy=\"12\" r=\"3\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n                \r\n              </span>\r\n              <span v-else class=\"visibility-badge visibility-private\">\r\n                <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  <path d=\"M7 11V7a5 5 0 0110 0v4\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n                \r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"preview-item\">\r\n            <label class=\"preview-label\"></label>\r\n            <div class=\"preview-tags\">\r\n              <span v-if=\"formData.tags.length === 0\" class=\"preview-placeholder\"></span>\r\n              <span v-else v-for=\"(tag, index) in formData.tags\" :key=\"index\" class=\"preview-tag\">{{ tag }}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"preview-item\">\r\n            <label class=\"preview-label\"></label>\r\n            <div class=\"preview-value\">\r\n              <div v-if=\"getProjectPeriod()\">{{ getProjectPeriod() }}</div>\r\n              <div v-else-if=\"dateError\" class=\"preview-error\">{{ dateError }}</div>\r\n              <div v-else class=\"preview-placeholder\">: </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div class=\"footer-actions\">\r\n      <button type=\"button\" @click=\"saveDraft\" class=\"btn btn-secondary\">\r\n        \r\n      </button>\r\n      <button type=\"button\" @click=\"publishProject\" class=\"btn btn-primary\" :disabled=\"isSubmitting\">\r\n        {{ isSubmitting ? '...' : '' }}\r\n      </button>\r\n    </div>\r\n    \r\n    <!-- Toast -->\r\n    <div v-if=\"showToast\" class=\"success-toast\">\r\n      {{ toastMessage }}\r\n    </div>\r\n    \r\n    <!-- Modal -->\r\n    <div v-if=\"showModal\" class=\"modal-overlay\" @click=\"closeModal\">\r\n      <div class=\"modal-content\" @click.stop>\r\n        <div class=\"modal-header\">\r\n          <h3></h3>\r\n          <button class=\"modal-close\" @click=\"closeModal\">&times;</button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          {{ modalMessage }}\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button class=\"modal-btn modal-btn-confirm\" @click=\"closeModal\"></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Modal -->\r\n    <div v-if=\"showCropModal\" class=\"crop-modal-overlay\">\r\n      <div class=\"crop-modal-content\" @click.stop>\r\n        <div class=\"crop-modal-header\">\r\n          <h3></h3>\r\n          <p class=\"crop-hint\"></p>\r\n        </div>\r\n        <div class=\"crop-modal-body\">\r\n          <div class=\"crop-container\">\r\n            <canvas ref=\"cropCanvas\" class=\"crop-canvas\"></canvas>\r\n            <div class=\"crop-overlay\" ref=\"cropOverlay\">\r\n              <div class=\"crop-selection\" ref=\"cropSelection\">\r\n                <!--  -->\r\n                <div class=\"resize-handle resize-handle-nw\" data-handle=\"nw\"></div>\r\n                <div class=\"resize-handle resize-handle-ne\" data-handle=\"ne\"></div>\r\n                <div class=\"resize-handle resize-handle-sw\" data-handle=\"sw\"></div>\r\n                <div class=\"resize-handle resize-handle-se\" data-handle=\"se\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"crop-modal-footer\">\r\n          <button class=\"btn-cancel\" @click=\"closeCropModal\"></button>\r\n          <button class=\"btn-confirm\" @click=\"applyCrop\"></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Sidebar from '@/components/Sidebar.vue'\r\n\r\nexport default {\r\n  name: 'ProjectCreate',\r\n  components: {\r\n    Sidebar\r\n  },\r\n  data() {\r\n    return {\r\n      sidebarOpen: false,\r\n      isSubmitting: false,\r\n      userAvatar: null,\r\n      newTag: '',\r\n      fromPage: '', // \r\n      projectImage: null, // \r\n      dateError: '', // \r\n      formData: {\r\n        projectName: '',\r\n        projectDescription: '',\r\n        visibility: 'PRIVATE', // \r\n        startDate: '',\r\n        endDate: '',\r\n        tags: [],\r\n      },\r\n      showToast: false,\r\n      toastMessage: '',\r\n      showModal: false,\r\n      modalMessage: '',\r\n      showCropModal: false,\r\n      originalImage: null,\r\n      originalImageData: null,\r\n      cropData: {\r\n        x: 0,\r\n        y: 0,\r\n        width: 0,\r\n        height: 0\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    //  YYYY-MM-DD\r\n    today() {\r\n      const today = new Date()\r\n      return today.toISOString().split('T')[0]\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadUserAvatar()\r\n    this.detectFromPage()\r\n  },\r\n  methods: {\r\n    toggleSidebar() {\r\n      this.sidebarOpen = !this.sidebarOpen\r\n    },\r\n    closeSidebar() {\r\n      this.sidebarOpen = false\r\n    },\r\n    detectFromPage() {\r\n      // \r\n      const referrer = document.referrer\r\n      const currentPath = this.$route.path\r\n      \r\n      // \r\n      if (referrer.includes('/project-square') || this.$route.query.from === 'project-square') {\r\n        this.fromPage = 'project-square'\r\n      } \r\n      // \r\n      else if (referrer.includes('/home') || this.$route.query.from === 'home') {\r\n        this.fromPage = 'home'\r\n      }\r\n      // \r\n      else {\r\n        this.fromPage = 'project-square'\r\n      }\r\n    },\r\n    goBack() {\r\n      if (this.fromPage === 'home') {\r\n        this.$router.push('/home')\r\n      } else {\r\n        this.$router.push('/project-square')\r\n      }\r\n    },\r\n    showSuccessToast(message) {\r\n      this.toastMessage = message\r\n      this.showToast = true\r\n      \r\n      // 1\r\n      setTimeout(() => {\r\n        this.showToast = false\r\n        this.toastMessage = ''\r\n      }, 1000)\r\n    },\r\n    showErrorModal(message) {\r\n      this.modalMessage = message\r\n      this.showModal = true\r\n    },\r\n    closeModal() {\r\n      this.showModal = false\r\n      this.modalMessage = ''\r\n    },\r\n    triggerImageUpload() {\r\n      // \r\n      const input = document.getElementById('imageInput')\r\n      if (input) {\r\n        input.click()\r\n      } else if (this.$refs.imageInput) {\r\n        this.$refs.imageInput.click()\r\n      } else {\r\n        console.error('')\r\n      }\r\n    },\r\n    handleImageUpload(event) {\r\n      const file = event.target.files[0]\r\n      if (file) {\r\n        // \r\n        if (!file.type.startsWith('image/')) {\r\n          this.showErrorModal('')\r\n          return\r\n        }\r\n        \r\n        //  (5MB)\r\n        if (file.size > 5 * 1024 * 1024) {\r\n          this.showErrorModal('5MB')\r\n          return\r\n        }\r\n        \r\n        // URL\r\n        const reader = new FileReader()\r\n        reader.onload = (e) => {\r\n          this.originalImageData = e.target.result\r\n          // \r\n          this.showCropModal = true\r\n          this.$nextTick(() => {\r\n            this.initCropCanvas()\r\n          })\r\n        }\r\n        reader.readAsDataURL(file)\r\n      }\r\n    },\r\n    removeImage() {\r\n      this.projectImage = null\r\n      this.$refs.imageInput.value = ''\r\n    },\r\n    closeCropModal() {\r\n      // \r\n      this.$refs.imageInput.value = ''\r\n      this.showCropModal = false\r\n      this.originalImage = null\r\n      this.originalImageData = null\r\n    },\r\n    initCropCanvas() {\r\n      const canvas = this.$refs.cropCanvas\r\n      const ctx = canvas.getContext('2d')\r\n      const img = new Image()\r\n      \r\n      img.onload = () => {\r\n        // \r\n        const maxWidth = 600\r\n        const maxHeight = 400\r\n        let { width, height } = img\r\n        \r\n        if (width > maxWidth || height > maxHeight) {\r\n          const ratio = Math.min(maxWidth / width, maxHeight / height)\r\n          width *= ratio\r\n          height *= ratio\r\n        }\r\n        \r\n        canvas.width = width\r\n        canvas.height = height\r\n        canvas.style.width = width + 'px'\r\n        canvas.style.height = height + 'px'\r\n        \r\n        // \r\n        ctx.drawImage(img, 0, 0, width, height)\r\n        \r\n        // \r\n        this.originalImage = img\r\n        \r\n        // 16:9\r\n        const cropRatio = 16 / 9\r\n        const cropWidth = Math.min(width * 0.8, height * cropRatio * 0.8)\r\n        const cropHeight = cropWidth / cropRatio\r\n        \r\n        this.cropData = {\r\n          x: (width - cropWidth) / 2,\r\n          y: (height - cropHeight) / 2,\r\n          width: cropWidth,\r\n          height: cropHeight\r\n        }\r\n        \r\n        this.updateCropSelection()\r\n        this.setupCropInteraction()\r\n      }\r\n      \r\n      img.src = this.originalImageData\r\n    },\r\n    updateCropSelection() {\r\n      const selection = this.$refs.cropSelection\r\n      if (selection) {\r\n        selection.style.left = this.cropData.x + 'px'\r\n        selection.style.top = this.cropData.y + 'px'\r\n        selection.style.width = this.cropData.width + 'px'\r\n        selection.style.height = this.cropData.height + 'px'\r\n      }\r\n    },\r\n    setupCropInteraction() {\r\n      const selection = this.$refs.cropSelection\r\n      const overlay = this.$refs.cropOverlay\r\n      const canvas = this.$refs.cropCanvas\r\n      \r\n      if (!selection || !overlay || !canvas) return\r\n      \r\n      let isDragging = false\r\n      let isResizing = false\r\n      let resizeHandle = null\r\n      let startX = 0\r\n      let startY = 0\r\n      let startCropX = 0\r\n      let startCropY = 0\r\n      let startCropWidth = 0\r\n      let startCropHeight = 0\r\n      \r\n      const cropRatio = 16 / 9\r\n      \r\n      const startDrag = (e) => {\r\n        if (e.target.classList.contains('resize-handle')) {\r\n          isResizing = true\r\n          resizeHandle = e.target.dataset.handle\r\n        } else {\r\n          isDragging = true\r\n        }\r\n        \r\n        const rect = canvas.getBoundingClientRect()\r\n        startX = e.clientX - rect.left\r\n        startY = e.clientY - rect.top\r\n        startCropX = this.cropData.x\r\n        startCropY = this.cropData.y\r\n        startCropWidth = this.cropData.width\r\n        startCropHeight = this.cropData.height\r\n      }\r\n      \r\n      const drag = (e) => {\r\n        if (!isDragging && !isResizing) return\r\n        \r\n        const rect = canvas.getBoundingClientRect()\r\n        const currentX = e.clientX - rect.left\r\n        const currentY = e.clientY - rect.top\r\n        \r\n        const deltaX = currentX - startX\r\n        const deltaY = currentY - startY\r\n        \r\n        if (isDragging) {\r\n          // \r\n          const newX = Math.max(0, Math.min(canvas.width - this.cropData.width, startCropX + deltaX))\r\n          const newY = Math.max(0, Math.min(canvas.height - this.cropData.height, startCropY + deltaY))\r\n          \r\n          this.cropData.x = newX\r\n          this.cropData.y = newY\r\n        } else if (isResizing) {\r\n          // \r\n          let newWidth = startCropWidth\r\n          let newHeight = startCropHeight\r\n          let newX = startCropX\r\n          let newY = startCropY\r\n          \r\n          if (resizeHandle === 'se') {\r\n            // \r\n            newWidth = Math.max(50, Math.min(canvas.width - startCropX, startCropWidth + deltaX))\r\n            newHeight = newWidth / cropRatio\r\n            if (startCropY + newHeight > canvas.height) {\r\n              newHeight = canvas.height - startCropY\r\n              newWidth = newHeight * cropRatio\r\n            }\r\n          } else if (resizeHandle === 'sw') {\r\n            // \r\n            newWidth = Math.max(50, Math.min(startCropX + startCropWidth, startCropWidth - deltaX))\r\n            newHeight = newWidth / cropRatio\r\n            newX = startCropX + startCropWidth - newWidth\r\n            if (newX < 0) {\r\n              newX = 0\r\n              newWidth = startCropX + startCropWidth\r\n              newHeight = newWidth / cropRatio\r\n            }\r\n          } else if (resizeHandle === 'ne') {\r\n            // \r\n            newWidth = Math.max(50, Math.min(canvas.width - startCropX, startCropWidth + deltaX))\r\n            newHeight = newWidth / cropRatio\r\n            newY = startCropY + startCropHeight - newHeight\r\n            if (newY < 0) {\r\n              newY = 0\r\n              newHeight = startCropY + startCropHeight\r\n              newWidth = newHeight * cropRatio\r\n            }\r\n          } else if (resizeHandle === 'nw') {\r\n            // \r\n            newWidth = Math.max(50, Math.min(startCropX + startCropWidth, startCropWidth - deltaX))\r\n            newHeight = newWidth / cropRatio\r\n            newX = startCropX + startCropWidth - newWidth\r\n            newY = startCropY + startCropHeight - newHeight\r\n            if (newX < 0) {\r\n              newX = 0\r\n              newWidth = startCropX + startCropWidth\r\n              newHeight = newWidth / cropRatio\r\n              newY = startCropY + startCropHeight - newHeight\r\n            }\r\n            if (newY < 0) {\r\n              newY = 0\r\n              newHeight = startCropY + startCropHeight\r\n              newWidth = newHeight * cropRatio\r\n              newX = startCropX + startCropWidth - newWidth\r\n            }\r\n          }\r\n          \r\n          this.cropData.x = newX\r\n          this.cropData.y = newY\r\n          this.cropData.width = newWidth\r\n          this.cropData.height = newHeight\r\n        }\r\n        \r\n        this.updateCropSelection()\r\n      }\r\n      \r\n      const endDrag = () => {\r\n        isDragging = false\r\n        isResizing = false\r\n        resizeHandle = null\r\n      }\r\n      \r\n      selection.addEventListener('mousedown', startDrag)\r\n      document.addEventListener('mousemove', drag)\r\n      document.addEventListener('mouseup', endDrag)\r\n      \r\n      // \r\n      this.$once('hook:beforeDestroy', () => {\r\n        selection.removeEventListener('mousedown', startDrag)\r\n        document.removeEventListener('mousemove', drag)\r\n        document.removeEventListener('mouseup', endDrag)\r\n      })\r\n    },\r\n    applyCrop() {\r\n      if (!this.originalImage) return\r\n      \r\n      const canvas = document.createElement('canvas')\r\n      const ctx = canvas.getContext('2d')\r\n      \r\n      // \r\n      const targetRatio = 16 / 9\r\n      const targetWidth = 400\r\n      const targetHeight = targetWidth / targetRatio\r\n      \r\n      canvas.width = targetWidth\r\n      canvas.height = targetHeight\r\n      \r\n      // \r\n      const sourceX = (this.cropData.x / this.$refs.cropCanvas.width) * this.originalImage.width\r\n      const sourceY = (this.cropData.y / this.$refs.cropCanvas.height) * this.originalImage.height\r\n      const sourceWidth = (this.cropData.width / this.$refs.cropCanvas.width) * this.originalImage.width\r\n      const sourceHeight = (this.cropData.height / this.$refs.cropCanvas.height) * this.originalImage.height\r\n      \r\n      // \r\n      ctx.drawImage(\r\n        this.originalImage,\r\n        sourceX, sourceY, sourceWidth, sourceHeight,\r\n        0, 0, targetWidth, targetHeight\r\n      )\r\n      \r\n      // DataURL\r\n      this.projectImage = canvas.toDataURL('image/jpeg', 0.9)\r\n      this.closeCropModal()\r\n    },\r\n    loadUserAvatar() {\r\n      const savedAvatar = localStorage.getItem('userAvatar')\r\n      if (savedAvatar) this.userAvatar = savedAvatar\r\n    },\r\n    getCurrentUserId() {\r\n      // localStorageID\r\n      const savedUserInfo = localStorage.getItem('user_info')\r\n      if (savedUserInfo) {\r\n        try {\r\n          const userInfo = JSON.parse(savedUserInfo)\r\n          return userInfo.id || null\r\n        } catch (error) {\r\n          console.error(':', error)\r\n          return null\r\n        }\r\n      }\r\n      return null\r\n    },\r\n    getCurrentUserName() {\r\n      // localStorage\r\n      const savedUserInfo = localStorage.getItem('user_info')\r\n      if (savedUserInfo) {\r\n        try {\r\n          const userInfo = JSON.parse(savedUserInfo)\r\n          return userInfo.name || userInfo.nickname || ''\r\n        } catch (error) {\r\n          console.error(':', error)\r\n          return ''\r\n        }\r\n      }\r\n      return ''\r\n    },\r\n    getStatusDisplay(status) {\r\n      // \r\n      const statusMap = {\r\n        'PLANNING': '',\r\n        'ONGOING': '',\r\n        'COMPLETED': '',\r\n        'ARCHIVED': '',\r\n        // \r\n        'IN_PROGRESS': '',\r\n        'PAUSED': '',\r\n        'CANCELLED': ''\r\n      }\r\n      return statusMap[status] || status || ''\r\n    },\r\n    getPriorityValue(priority) {\r\n      // \r\n      const valueMap = {\r\n        '': 'HIGH',\r\n        '': 'MEDIUM',\r\n        '': 'LOW'\r\n      }\r\n      return valueMap[priority] || 'MEDIUM'\r\n    },\r\n    getPriorityDisplay(priority) {\r\n      // \r\n      const displayMap = {\r\n        'HIGH': '',\r\n        'MEDIUM': '',\r\n        'LOW': ''\r\n      }\r\n      return displayMap[priority] || ''\r\n    },\r\n    addTag() {\r\n      if (this.newTag.trim() && !this.formData.tags.includes(this.newTag.trim())) {\r\n        this.formData.tags.push(this.newTag.trim())\r\n        this.newTag = ''\r\n      }\r\n    },\r\n    removeTag(index) {\r\n      this.formData.tags.splice(index, 1)\r\n    },\r\n    addPosition() {\r\n      this.formData.positions.push({\r\n        id: Date.now(),\r\n        name: '',\r\n        description: '',\r\n        requirements: '', // \r\n        count: 1,\r\n        skills: '', // \r\n        status: 'OPEN', // \r\n        created_at: new Date().toISOString() // \r\n      })\r\n    },\r\n    removePosition(index) {\r\n      this.formData.positions.splice(index, 1)\r\n    },\r\n    getProjectPeriod() {\r\n      if (this.formData.startDate && this.formData.endDate) {\r\n        return `${this.formData.startDate} - ${this.formData.endDate}`\r\n      }\r\n      return null\r\n    },\r\n    // \r\n    validateStartDate() {\r\n      this.dateError = ''\r\n      if (this.formData.startDate && this.formData.endDate) {\r\n        if (new Date(this.formData.startDate) > new Date(this.formData.endDate)) {\r\n          this.dateError = ''\r\n          return false\r\n        }\r\n      }\r\n      // \r\n      return true\r\n    },\r\n    // \r\n    validateEndDate() {\r\n      this.dateError = ''\r\n      if (this.formData.startDate && this.formData.endDate) {\r\n        if (new Date(this.formData.startDate) > new Date(this.formData.endDate)) {\r\n          this.dateError = ''\r\n          return false\r\n        }\r\n      }\r\n      if (this.formData.endDate && new Date(this.formData.endDate) < new Date(this.today)) {\r\n        this.dateError = ''\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    // \r\n    async saveDraft() {\r\n      try {\r\n        // \r\n        await new Promise(resolve => setTimeout(resolve, 1000))\r\n        alert('')\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        alert('')\r\n      }\r\n    },\r\n    async createProjectAPI(projectData) {\r\n      try {\r\n        const token = localStorage.getItem('access_token')\r\n        if (!token) {\r\n          throw new Error('')\r\n        }\r\n        \r\n        console.log('APItoken:', token ? '' : '')\r\n        console.log('Token:', token.substring(0, 50) + '...')\r\n        \r\n        // Token\r\n        if (!token.startsWith('eyJ')) {\r\n          throw new Error('Token')\r\n        }\r\n        \r\n        // Token\r\n        try {\r\n          const payload = JSON.parse(atob(token.split('.')[1]))\r\n          const now = Math.floor(Date.now() / 1000)\r\n          if (payload.exp && payload.exp < now) {\r\n            throw new Error('Token')\r\n          }\r\n          console.log('Token:', payload)\r\n        } catch (e) {\r\n          console.warn('Token:', e.message)\r\n        }\r\n        \r\n        // Token - \r\n        console.log('Token...')\r\n        \r\n        // API\r\n        const { projectAPI } = await import('@/api/project')\r\n        \r\n        console.log('API...')\r\n        const response = await projectAPI.createProject(projectData)\r\n        \r\n        console.log('projectAPI.createProject:', response)\r\n        console.log(':', typeof response)\r\n        console.log('null:', response === null)\r\n        console.log('undefined:', response === undefined)\r\n        \r\n        if (response) {\r\n          console.log('code:', response.code)\r\n          console.log('msg:', response.msg)\r\n          console.log('data:', response.data)\r\n        }\r\n        \r\n        // API\r\n        if (!response) {\r\n          throw new Error('API')\r\n        }\r\n        \r\n        if (response.code !== 200) {\r\n          throw new Error(response.msg || '')\r\n        }\r\n        \r\n        return response\r\n      } catch (error) {\r\n        console.error('API:', error)\r\n        throw error\r\n      }\r\n    },\r\n    async publishProject() {\r\n      if (this.isSubmitting) return\r\n      \r\n      this.isSubmitting = true\r\n      \r\n      try {\r\n        // \r\n        if (!this.formData.projectName || this.formData.projectName.trim() === '') {\r\n          alert('')\r\n          this.isSubmitting = false\r\n          return\r\n        }\r\n        \r\n        if (!this.formData.startDate) {\r\n          alert('')\r\n          this.isSubmitting = false\r\n          return\r\n        }\r\n        \r\n        if (!this.formData.endDate) {\r\n          alert('')\r\n          this.isSubmitting = false\r\n          return\r\n        }\r\n        \r\n        // \r\n        if (new Date(this.formData.startDate) >= new Date(this.formData.endDate)) {\r\n          alert('')\r\n          this.isSubmitting = false\r\n          return\r\n        }\r\n        \r\n        // \r\n        if (new Date(this.formData.endDate) < new Date(this.today)) {\r\n          alert('')\r\n          this.isSubmitting = false\r\n          return\r\n        }\r\n        \r\n        \r\n        \r\n        console.log(':', this.formData)\r\n        \r\n        //  MinIO\r\n        let imageUrl = 'https://via.placeholder.com/400x225?text=Project+Image' // \r\n\r\n        if (this.projectImage && this.projectImage.startsWith('data:image')) {\r\n          console.log('base64MinIO...')\r\n          try {\r\n            // base64Blob\r\n            const blob = await this.dataURLtoBlob(this.projectImage)\r\n            const file = new File([blob], 'project-image.jpg', { type: 'image/jpeg' })\r\n\r\n            // MinIO\r\n            const { projectAPI } = await import('@/api/project')\r\n            const uploadResponse = await projectAPI.uploadProjectImage(file, null)\r\n\r\n            console.log(':', uploadResponse)\r\n\r\n            if (uploadResponse && uploadResponse.code === 200 && uploadResponse.data && uploadResponse.data.imageUrl) {\r\n              imageUrl = uploadResponse.data.imageUrl\r\n              console.log(' URL:', imageUrl)\r\n            } else {\r\n              console.warn(' ')\r\n            }\r\n          } catch (error) {\r\n            console.error(' MinIO:', error)\r\n            // \r\n          }\r\n        }\r\n\r\n        // API\r\n        const createProjectData = {\r\n          name: this.formData.projectName,\r\n          description: this.formData.projectDescription,\r\n          visibility: this.formData.visibility, // \r\n          imageUrl: imageUrl, // MinIO URL\r\n          startDate: this.formData.startDate,\r\n          endDate: this.formData.endDate\r\n        }\r\n        \r\n        console.log(':', createProjectData)\r\n        \r\n        const response = await this.createProjectAPI(createProjectData)\r\n        \r\n        console.log('createProjectAPI:', response)\r\n        console.log(':', typeof response)\r\n        console.log('code:', response?.code)\r\n        console.log('msg:', response?.msg)\r\n        console.log('data:', response?.data)\r\n        \r\n        if (!response) {\r\n          throw new Error('API')\r\n        }\r\n        \r\n        if (response.code !== 200) {\r\n          throw new Error(response.msg || '')\r\n        }\r\n        \r\n        if (!response.data) {\r\n          throw new Error('API')\r\n        }\r\n        \r\n        console.log(':', response.data)\r\n        console.log('ID:', response.data.id, ':', typeof response.data.id)\r\n        \r\n        \r\n        // \r\n        const newProject = {\r\n          ...response.data, // id\r\n          id: response.data.id, // ID\r\n          // \r\n          title: response.data.name, // title\r\n          status: this.getStatusDisplay(response.data.status), // \r\n          teamSize: 1, // 1\r\n          dataAssets: this.formData.projectDescription || '',\r\n          direction: this.formData.projectDescription || '',\r\n          aiCore: '',\r\n          category: '', // \r\n          // \r\n          tags: this.formData.tags,\r\n          image: this.projectImage, // \r\n          // \r\n          tasks: [],\r\n          // \r\n          teamMembers: [\r\n            { \r\n              id: 1, \r\n              user_id: 1, // \r\n              name: this.getCurrentUserName(), \r\n              project_role: 'LEADER', // \r\n              role: '', // \r\n              avatar: null,\r\n              joined_at: new Date().toISOString() // \r\n            }\r\n          ],\r\n          inviteSlots: [],\r\n        }\r\n        \r\n        console.log(':', newProject)\r\n        console.log(':', this.formData.startDate, this.formData.endDate)\r\n        \r\n        // localStorage\r\n        let existingProjects = []\r\n        try {\r\n          const projectsData = localStorage.getItem('projects')\r\n          if (projectsData) {\r\n            existingProjects = JSON.parse(projectsData)\r\n          }\r\n        } catch (parseError) {\r\n          console.error(':', parseError)\r\n          existingProjects = []\r\n        }\r\n        \r\n        // \r\n        existingProjects.unshift(newProject)\r\n        \r\n        // localStorage\r\n        try {\r\n          localStorage.setItem('projects', JSON.stringify(existingProjects))\r\n          console.log('localStorage')\r\n        } catch (storageError) {\r\n          console.error('localStorage:', storageError)\r\n          throw new Error('')\r\n        }\r\n        \r\n        // \r\n        this.showSuccessToast('')\r\n        \r\n        // Toast\r\n        setTimeout(() => {\r\n          this.$router.push('/project-square')\r\n        }, 1000)\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        console.error(':', error)\r\n        console.error(':', error.message)\r\n        console.error(':', error.code)\r\n        console.error(':', error.data)\r\n        console.error(':', this.formData)\r\n        console.error(':', this.projectImage)\r\n        \r\n        // \r\n        let errorMsg = ''\r\n        if (error.message) {\r\n          errorMsg += `\\n: ${error.message}`\r\n        }\r\n        if (error.code) {\r\n          errorMsg += `\\n: ${error.code}`\r\n        }\r\n        \r\n        this.showErrorModal(errorMsg)\r\n      } finally {\r\n        this.isSubmitting = false\r\n      }\r\n    },\r\n    // base64 DataURLBlob\r\n    async dataURLtoBlob(dataURL) {\r\n      return new Promise((resolve, reject) => {\r\n        try {\r\n          const arr = dataURL.split(',')\r\n          const mime = arr[0].match(/:(.*?);/)[1]\r\n          const bstr = atob(arr[1])\r\n          let n = bstr.length\r\n          const u8arr = new Uint8Array(n)\r\n          while (n--) {\r\n            u8arr[n] = bstr.charCodeAt(n)\r\n          }\r\n          resolve(new Blob([u8arr], { type: mime }))\r\n        } catch (error) {\r\n          reject(error)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import '@/assets/styles/ProjectCreate.css';\r\n</style>\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProjectCreate.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProjectCreate.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProjectCreate.vue?vue&type=template&id=3f1d68c4&scoped=true\"\nimport script from \"./ProjectCreate.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectCreate.vue?vue&type=script&lang=js\"\nimport style0 from \"./ProjectCreate.vue?vue&type=style&index=0&id=3f1d68c4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f1d68c4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"knowledge-base-container\"},[_c('Sidebar',{attrs:{\"isOpen\":_vm.sidebarOpen},on:{\"close\":_vm.closeSidebar}}),_c('div',{staticClass:\"top-header\"},[_c('div',{staticClass:\"header-left\"},[_c('button',{staticClass:\"menu-btn\",attrs:{\"aria-label\":\"open sidebar\"},on:{\"click\":_vm.toggleSidebar}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M3 12H21M3 6H21M3 18H21\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('button',{staticClass:\"back-btn\",attrs:{\"title\":\"\"},on:{\"click\":_vm.goToHome}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M19 12H5M12 19L5 12L12 5\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('span',{staticClass:\"page-title\"},[_vm._v(\"\")])])]),_c('div',{staticClass:\"main-content\"},[_c('div',{staticClass:\"page-header\"},[_vm._m(0),_c('div',{staticClass:\"page-subtitle\"},[_c('svg',{staticClass:\"subtitle-icon\",attrs:{\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M13 2L3 14h9l-1 8 10-12h-9l1-8z\",\"fill\":\"currentColor\"}})]),_c('span',[_vm._v(\"\")])])]),_c('div',{staticClass:\"toolbar\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchText),expression:\"searchText\"}],staticClass:\"search-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.searchText)},on:{\"input\":function($event){if($event.target.composing)return;_vm.searchText=$event.target.value}}}),_c('div',{staticClass:\"toolbar-actions\"},[_c('div',{staticClass:\"dropdown\",on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleStatusDropdown.apply(null, arguments)}}},[_c('button',{staticClass:\"btn secondary\"},[_c('span',[_vm._v(\"\")]),_c('svg',{attrs:{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M6 9L12 15L18 9\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),(_vm.statusOpen)?_c('ul',{staticClass:\"dropdown-menu\"},[_c('li',{staticClass:\"dropdown-item\",class:{ active: _vm.selectedStatus === '' },on:{\"click\":function($event){return _vm.selectStatus('')}}},[_vm._v(\"\")]),_c('li',{staticClass:\"dropdown-item\",class:{ active: _vm.selectedStatus === '' },on:{\"click\":function($event){return _vm.selectStatus('')}}},[_vm._v(\"\")]),_c('li',{staticClass:\"dropdown-item\",class:{ active: _vm.selectedStatus === '' },on:{\"click\":function($event){return _vm.selectStatus('')}}},[_vm._v(\"\")]),_c('li',{staticClass:\"dropdown-item\",class:{ active: _vm.selectedStatus === '' },on:{\"click\":function($event){return _vm.selectStatus('')}}},[_vm._v(\"\")])]):_vm._e()]),_c('button',{staticClass:\"btn\",on:{\"click\":_vm.resetFilters}},[_vm._v(\"\")])])]),_c('div',{staticClass:\"content-wrapper\"},[_c('div',{staticClass:\"grid\"},_vm._l((_vm.paginatedProjects),function(project,index){return _c('div',{key:project.id,staticClass:\"card\",on:{\"click\":function($event){return _vm.viewProjectKnowledge(project)}}},[_c('div',{staticClass:\"card-media\",class:`gradient-${(project.id % 6) + 1}`},[(project.image)?_c('img',{staticClass:\"project-image\",attrs:{\"src\":project.image,\"alt\":project.title}}):_c('div',{staticClass:\"no-image-placeholder\"},[_c('svg',{attrs:{\"width\":\"32\",\"height\":\"32\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M17 8L12 3L7 8\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M12 3V15\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"card-title-row\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(_vm._s(project.title))]),_c('span',{staticClass:\"status-badge\",class:_vm.statusClass(project.status)},[_vm._v(_vm._s(project.status))])]),_c('ul',{staticClass:\"meta-list\"},[_c('li',[_c('span',{staticClass:\"meta-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"meta-value\"},[_vm._v(_vm._s(_vm.getTeamSizeDisplay(project))+\"\")])]),(project.startDate && project.endDate)?_c('li',[_c('span',{staticClass:\"meta-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"meta-value\"},[_vm._v(_vm._s(_vm.formatDateRange(project.startDate, project.endDate)))])]):(project.period)?_c('li',[_c('span',{staticClass:\"meta-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"meta-value\"},[_vm._v(_vm._s(project.period))])]):_vm._e(),(project.tags && project.tags.length > 0)?_c('li',[_c('span',{staticClass:\"meta-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"meta-value\"},_vm._l((project.tags),function(tag,index){return _c('span',{key:index,staticClass:\"tag-item\"},[_vm._v(\" \"+_vm._s(tag)+_vm._s(index < project.tags.length - 1 ? '' : '')+\" \")])}),0)]):_vm._e()])])])}),0),_c('div',{staticClass:\"pagination\"},[_c('button',{staticClass:\"pager\",attrs:{\"disabled\":_vm.currentPage === 1},on:{\"click\":_vm.goPrev}},[_vm._v(\"\")]),_vm._l((_vm.totalPages),function(p){return _c('button',{key:p,staticClass:\"page-num\",class:{ active: p === _vm.currentPage },on:{\"click\":function($event){return _vm.goPage(p)}}},[_vm._v(_vm._s(p))])}),_c('button',{staticClass:\"pager\",attrs:{\"disabled\":_vm.currentPage === _vm.totalPages},on:{\"click\":_vm.goNext}},[_vm._v(\"\")])],2)])])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page-title\"},[_c('span',{staticClass:\"title-text\"},[_vm._v(\"\")]),_c('div',{staticClass:\"title-decoration\"})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"knowledge-base-container\">\r\n    <!--  -->\r\n    <Sidebar :isOpen=\"sidebarOpen\" @close=\"closeSidebar\" />\r\n    \r\n    <!--  -->\r\n    <div class=\"top-header\">\r\n      <div class=\"header-left\">\r\n        <button class=\"menu-btn\" @click=\"toggleSidebar\" aria-label=\"open sidebar\">\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M3 12H21M3 6H21M3 18H21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </button>\r\n        <button class=\"back-btn\" @click=\"goToHome\" title=\"\">\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M19 12H5M12 19L5 12L12 5\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </button>\r\n        <span class=\"page-title\"></span>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -  -->\r\n    <div class=\"main-content\">\r\n      <div class=\"page-header\">\r\n        <div class=\"page-title\">\r\n          <span class=\"title-text\"></span>\r\n          <div class=\"title-decoration\"></div>\r\n        </div>\r\n        <div class=\"page-subtitle\">\r\n          <svg class=\"subtitle-icon\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M13 2L3 14h9l-1 8 10-12h-9l1-8z\" fill=\"currentColor\"/>\r\n          </svg>\r\n          <span></span>\r\n        </div>\r\n      </div>\r\n      \r\n      <!--  -->\r\n      <div class=\"toolbar\">\r\n        <input v-model=\"searchText\" class=\"search-input\" type=\"text\" placeholder=\"\" />\r\n        <div class=\"toolbar-actions\">\r\n          <div class=\"dropdown\" @click.stop=\"toggleStatusDropdown\">\r\n            <button class=\"btn secondary\">\r\n              <span></span>\r\n              <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M6 9L12 15L18 9\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n            </button>\r\n            <ul class=\"dropdown-menu\" v-if=\"statusOpen\">\r\n              <li class=\"dropdown-item\" :class=\"{ active: selectedStatus === '' }\" @click=\"selectStatus('')\"></li>\r\n              <li class=\"dropdown-item\" :class=\"{ active: selectedStatus === '' }\" @click=\"selectStatus('')\"></li>\r\n              <li class=\"dropdown-item\" :class=\"{ active: selectedStatus === '' }\" @click=\"selectStatus('')\"></li>\r\n              <li class=\"dropdown-item\" :class=\"{ active: selectedStatus === '' }\" @click=\"selectStatus('')\"></li>\r\n            </ul>\r\n          </div>\r\n          <button class=\"btn\" @click=\"resetFilters\"></button>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"content-wrapper\">\r\n        <div class=\"grid\">\r\n          <div \r\n            v-for=\"(project, index) in paginatedProjects\" \r\n            :key=\"project.id\" \r\n            class=\"card\"\r\n            @click=\"viewProjectKnowledge(project)\"\r\n          >\r\n          <div class=\"card-media\" :class=\"`gradient-${(project.id % 6) + 1}`\">\r\n            <img \r\n              v-if=\"project.image\" \r\n              :src=\"project.image\" \r\n              :alt=\"project.title\"\r\n              class=\"project-image\"\r\n            />\r\n            <div v-else class=\"no-image-placeholder\">\r\n              <svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                <path d=\"M17 8L12 3L7 8\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                <path d=\"M12 3V15\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n            </div>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div class=\"card-title-row\">\r\n              <h3 class=\"card-title\">{{ project.title }}</h3>\r\n              <span class=\"status-badge\" :class=\"statusClass(project.status)\">{{ project.status }}</span>\r\n            </div>\r\n            <ul class=\"meta-list\">\r\n              <li>\r\n                <span class=\"meta-label\"></span>\r\n                <span class=\"meta-value\">{{ getTeamSizeDisplay(project) }}</span>\r\n              </li>\r\n              <li v-if=\"project.startDate && project.endDate\">\r\n                <span class=\"meta-label\"></span>\r\n                <span class=\"meta-value\">{{ formatDateRange(project.startDate, project.endDate) }}</span>\r\n              </li>\r\n              <li v-else-if=\"project.period\">\r\n                <span class=\"meta-label\"></span>\r\n                <span class=\"meta-value\">{{ project.period }}</span>\r\n              </li>\r\n              <li v-if=\"project.tags && project.tags.length > 0\">\r\n                <span class=\"meta-label\"></span>\r\n                <span class=\"meta-value\">\r\n                  <span v-for=\"(tag, index) in project.tags\" :key=\"index\" class=\"tag-item\">\r\n                    {{ tag }}{{ index < project.tags.length - 1 ? '' : '' }}\r\n                  </span>\r\n                </span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <!--  -->\r\n        <div class=\"pagination\">\r\n          <button class=\"pager\" :disabled=\"currentPage === 1\" @click=\"goPrev\"></button>\r\n          <button v-for=\"p in totalPages\" :key=\"p\" class=\"page-num\" :class=\"{ active: p === currentPage }\" @click=\"goPage(p)\">{{ p }}</button>\r\n          <button class=\"pager\" :disabled=\"currentPage === totalPages\" @click=\"goNext\"></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Sidebar from '@/components/Sidebar.vue'\r\nimport { projectAPI } from '@/api/project'\r\nimport '@/assets/styles/KnowledgeBase.css'\r\n\r\nexport default {\r\n  name: 'KnowledgeBase',\r\n  components: {\r\n    Sidebar\r\n  },\r\n  data() {\r\n    return {\r\n      sidebarOpen: false,\r\n      // \r\n      joinedProjects: [],\r\n      // \r\n      searchText: '',\r\n      selectedStatus: '',\r\n      statusOpen: false,\r\n      // \r\n      currentPage: 1,\r\n      pageSize: 8 // 824\r\n    }\r\n  },\r\n  computed: {\r\n    // \r\n    filteredProjects() {\r\n      const text = this.searchText.trim().toLowerCase()\r\n      return this.joinedProjects.filter(project => {\r\n        const matchText = text ? project.title.toLowerCase().includes(text) : true\r\n        const matchStatus = this.selectedStatus ? project.status === this.selectedStatus : true\r\n        return matchText && matchStatus\r\n      })\r\n    },\r\n    // \r\n    totalPages() {\r\n      return Math.max(1, Math.ceil(this.filteredProjects.length / this.pageSize))\r\n    },\r\n    // \r\n    paginatedProjects() {\r\n      const start = (this.currentPage - 1) * this.pageSize\r\n      const result = this.filteredProjects.slice(start, start + this.pageSize)\r\n      console.log(':', this.currentPage, ':', this.pageSize, ':', this.filteredProjects.length, ':', result.length)\r\n      return result\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadUserProjects()\r\n    document.addEventListener('click', this.handleClickOutside)\r\n  },\r\n  beforeDestroy() {\r\n    document.removeEventListener('click', this.handleClickOutside)\r\n  },\r\n  methods: {\r\n    async loadUserProjects() {\r\n      // localStorage\r\n      const createdProjects = JSON.parse(localStorage.getItem('projects') || '[]')\r\n      \r\n      // \r\n      const defaultJoinedProjects = [\r\n        {\r\n          id: 101,\r\n          title: '',\r\n          category: '',\r\n          status: '',\r\n          teamSize: 8,\r\n          startDate: '2025-01-15',\r\n          endDate: '2025-12-31',\r\n          tags: ['', '', ''],\r\n          isJoined: true\r\n        },\r\n        {\r\n          id: 102,\r\n          title: '',\r\n          category: '',\r\n          status: '',\r\n          teamSize: 12,\r\n          startDate: '2025-02-01',\r\n          endDate: '2025-11-30',\r\n          tags: ['', 'LSTM', ''],\r\n          isJoined: true\r\n        },\r\n        {\r\n          id: 103,\r\n          title: '',\r\n          category: '',\r\n          status: '',\r\n          teamSize: 6,\r\n          startDate: '2025-01-01',\r\n          endDate: '2025-10-31',\r\n          tags: ['', '', ''],\r\n          isJoined: true\r\n        }\r\n      ]\r\n      \r\n      // \r\n      const markedCreatedProjects = createdProjects.map(project => ({\r\n        ...project,\r\n        status: project.status || '',\r\n        teamSize: this.getTeamSize(project), // \r\n        startDate: project.startDate || project.createdAt,\r\n        endDate: project.endDate || project.updatedAt,\r\n        tags: project.tags || [],\r\n        isJoined: true\r\n      }))\r\n      \r\n      // \r\n      this.joinedProjects = [...markedCreatedProjects, ...defaultJoinedProjects]\r\n      \r\n      // \r\n      console.log('...')\r\n      const memberCountPromises = this.joinedProjects.map(async (project) => {\r\n        if (!project.id) {\r\n          console.warn('ID:', project)\r\n          return\r\n        }\r\n        try {\r\n          const teamSize = await this.getTeamSize(project.id)\r\n          //  Vue.set \r\n          this.$set(project, 'memberCount', teamSize)\r\n          this.$set(project, 'teamSize', teamSize) //  teamSize \r\n          console.log(`  ${project.id} (${project.title}) :`, teamSize)\r\n        } catch (error) {\r\n          console.warn(` ${project.id} :`, error)\r\n        }\r\n      })\r\n      \r\n      // \r\n      await Promise.all(memberCountPromises)\r\n      console.log('')\r\n      \r\n      // \r\n      this.$forceUpdate()\r\n      \r\n      console.log(':', markedCreatedProjects.length)\r\n      console.log(':', defaultJoinedProjects.length)\r\n      console.log(':', this.joinedProjects.length)\r\n      console.log(':', this.joinedProjects)\r\n    },\r\n    \r\n    // \r\n    getTeamSizeDisplay(project) {\r\n      //  memberCount  teamSize\r\n      if (project.memberCount) return project.memberCount\r\n      if (project.teamSize) return project.teamSize\r\n      \r\n      // \r\n      try {\r\n        const cached = localStorage.getItem(`project_member_count_${project.id}`)\r\n        const cachedNum = cached ? parseInt(cached, 10) : NaN\r\n        if (!isNaN(cachedNum) && cachedNum > 0) {\r\n          return cachedNum\r\n        }\r\n      } catch (e) {}\r\n      \r\n      // \r\n      return 1\r\n    },\r\n    \r\n    /**\r\n     * \r\n     * 1.  2. API  3.  4.  1\r\n     */\r\n    async getTeamSize(projectIdOrProject) {\r\n      //  projectId  project \r\n      const projectId = typeof projectIdOrProject === 'object' ? projectIdOrProject.id : projectIdOrProject\r\n      const project = typeof projectIdOrProject === 'object' ? projectIdOrProject : null\r\n      \r\n      if (!projectId) {\r\n        //  projectId project \r\n        if (project) {\r\n          if (project.teamSize) return project.teamSize\r\n          if (project.memberCount) return project.memberCount\r\n          if (project.team && Array.isArray(project.team)) return project.team.length\r\n        }\r\n        return 1\r\n      }\r\n      \r\n      // 1)  ProjectDetailProjectSquare  ProjectKnowledge \r\n      try {\r\n        const cached = localStorage.getItem(`project_member_count_${projectId}`)\r\n        const cachedNum = cached ? parseInt(cached, 10) : NaN\r\n        if (!isNaN(cachedNum) && cachedNum > 0) {\r\n          console.log(` ${projectId} :`, cachedNum)\r\n          return cachedNum\r\n        }\r\n      } catch (e) {\r\n        console.warn(':', e)\r\n      }\r\n      \r\n      // 2)  API \r\n      try {\r\n        console.log('API', projectId, '')\r\n        const response = await projectAPI.getProjectMembers(projectId, 0, 1000)\r\n        \r\n        if (response && response.code === 200) {\r\n          let memberCount = 0\r\n          if (response.data && response.data.content) {\r\n            // Spring Data Page\r\n            memberCount = response.data.content.length\r\n          } else if (Array.isArray(response.data)) {\r\n            // \r\n            memberCount = response.data.length\r\n          }\r\n          \r\n          // \r\n          if (memberCount > 0) {\r\n            try {\r\n              localStorage.setItem(`project_member_count_${projectId}`, String(memberCount))\r\n              console.log(`  ${projectId} :`, memberCount)\r\n            } catch (e) {\r\n              console.warn(':', e?.message || e)\r\n            }\r\n          }\r\n          \r\n          return memberCount > 0 ? memberCount : 1\r\n        }\r\n      } catch (error) {\r\n        console.warn(` ${projectId} :`, error)\r\n      }\r\n      \r\n      // 3) API  project \r\n      if (project) {\r\n        if (project.memberCount) return project.memberCount\r\n        if (project.teamSize) return project.teamSize\r\n        if (project.team && Array.isArray(project.team)) return project.team.length\r\n      }\r\n      \r\n      // 4)  1\r\n      return 1\r\n    },\r\n    \r\n    // \r\n    formatDateRange(startDate, endDate) {\r\n      if (!startDate || !endDate) return ''\r\n      const start = new Date(startDate).toLocaleDateString('zh-CN')\r\n      const end = new Date(endDate).toLocaleDateString('zh-CN')\r\n      return `${start}  ${end}`\r\n    },\r\n    \r\n    // \r\n    statusClass(status) {\r\n      const statusMap = {\r\n        '': 'status-active',\r\n        '': 'status-stable',\r\n        '': 'status-completed',\r\n        '': 'status-paused',\r\n        '': 'status-planned'\r\n      }\r\n      return statusMap[status] || 'status-default'\r\n    },\r\n    toggleSidebar() {\r\n      this.sidebarOpen = !this.sidebarOpen\r\n    },\r\n    closeSidebar() {\r\n      this.sidebarOpen = false\r\n    },\r\n    goToHome() {\r\n      this.$router.push('/home')\r\n    },\r\n    viewProjectKnowledge(project) {\r\n      // \r\n      this.$router.push(`/project-knowledge/${project.id}`)\r\n    },\r\n    statusClass(status) {\r\n      const statusMap = {\r\n        '': 'stable',\r\n        '': 'progress',\r\n        '': 'completed',\r\n        'ONGOING': 'progress',\r\n        'COMPLETED': 'completed'\r\n      }\r\n      return statusMap[status] || 'stable'\r\n    },\r\n    // \r\n    handleClickOutside(event) {\r\n      if (!event.target.closest('.dropdown')) {\r\n        this.statusOpen = false\r\n      }\r\n    },\r\n    toggleStatusDropdown() {\r\n      this.statusOpen = !this.statusOpen\r\n    },\r\n    selectStatus(status) {\r\n      this.selectedStatus = status\r\n      this.statusOpen = false\r\n      this.currentPage = 1 // \r\n    },\r\n    resetFilters() {\r\n      this.searchText = ''\r\n      this.selectedStatus = ''\r\n      this.currentPage = 1\r\n    },\r\n    // \r\n    goPrev() {\r\n      if (this.currentPage > 1) this.currentPage--\r\n    },\r\n    goNext() {\r\n      if (this.currentPage < this.totalPages) this.currentPage++\r\n    },\r\n    goPage(page) {\r\n      this.currentPage = page\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KnowledgeBase.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KnowledgeBase.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./KnowledgeBase.vue?vue&type=template&id=c024b746\"\nimport script from \"./KnowledgeBase.vue?vue&type=script&lang=js\"\nexport * from \"./KnowledgeBase.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"catalog-view\"},[_c('div',{staticClass:\"page-header\"},[_c('div',{staticClass:\"header-content\"},[_c('div',{staticClass:\"header-title-section\"},[_vm._m(0),_c('p',{staticClass:\"page-subtitle\"},[_c('svg',{staticClass:\"subtitle-icon\",attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"10\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\"}}),_c('path',{attrs:{\"d\":\"M12 16V12M12 8H12.01\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\"}})]),_vm._v(\"  \")])]),_c('button',{staticClass:\"archive-toggle-btn\",on:{\"click\":function($event){_vm.showArchivePanel = !_vm.showArchivePanel}}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M19 2H5C3.9 2 3 2.9 3 4V20C3 21.1 3.9 22 5 22H19C20.1 22 21 21.1 21 20V4C21 2.9 20.1 2 19 2ZM5 4H8V9H5V4ZM10 4H13V9H10V4ZM8 11V20H5V11H8ZM10 11V20H13V11H10ZM19 20H15V11H19V20ZM15 9V4H19V9H15Z\",\"fill\":\"currentColor\"}})]),_c('span',[_vm._v(\"\")])])])]),_c('div',{staticClass:\"section-card add-achievement-section\"},[_c('div',{staticClass:\"section-title small\"},[_vm._v(\"\")]),_c('div',{staticClass:\"add-grid\"},[_c('div',{staticClass:\"add-card\"},[_vm._m(1),_c('div',{staticClass:\"add-desc\"},[_vm._v(\"\")]),_c('button',{staticClass:\"add-btn\",on:{\"click\":function($event){return _vm.uploadFile('')}}},[_vm._v(\"\")])]),_c('div',{staticClass:\"add-card\"},[_vm._m(2),_c('div',{staticClass:\"add-desc\"},[_vm._v(\"\")]),_c('button',{staticClass:\"add-btn\",on:{\"click\":function($event){return _vm.uploadFile('')}}},[_vm._v(\"\")])]),_c('div',{staticClass:\"add-card\"},[_vm._m(3),_c('div',{staticClass:\"add-desc\"},[_vm._v(\"\")]),_c('button',{staticClass:\"add-btn\",on:{\"click\":function($event){return _vm.uploadFile('')}}},[_vm._v(\"\")])]),_c('div',{staticClass:\"add-card\"},[_vm._m(4),_c('div',{staticClass:\"add-desc\"},[_vm._v(\"\")]),_c('button',{staticClass:\"add-btn\",on:{\"click\":function($event){return _vm.uploadFile('')}}},[_vm._v(\"\")])]),_c('div',{staticClass:\"add-card\"},[_vm._m(5),_c('div',{staticClass:\"add-desc\"},[_vm._v(\"\")]),_c('button',{staticClass:\"add-btn\",on:{\"click\":function($event){return _vm.uploadFile('')}}},[_vm._v(\"\")])]),_c('div',{staticClass:\"add-card\"},[_vm._m(6),_c('div',{staticClass:\"add-desc\"},[_vm._v(\"\")]),_c('button',{staticClass:\"add-btn\",on:{\"click\":_vm.createCustomType}},[_vm._v(\"\")])])])]),_c('input',{ref:\"fileInput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"multiple\":\"\",\"accept\":_vm.showViewDialog ? '*' : _vm.fileAccept},on:{\"change\":_vm.handleFileSelect}}),(_vm.showUploadDialog)?_c('div',{staticClass:\"upload-dialog-overlay\",on:{\"click\":_vm.closeUploadDialog}},[_c('div',{staticClass:\"upload-dialog\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"dialog-header\"},[_c('div',{staticClass:\"dialog-title-section\"},[_c('span',{staticClass:\"file-type-badge\",class:_vm.getTypeClass(_vm.currentFileType)},[_vm._v(_vm._s(_vm.currentFileType))]),_c('h3',[_vm._v(_vm._s(_vm.isAddingToExisting ? '' : '' + _vm.currentFileType))])]),_c('button',{staticClass:\"close-btn\",on:{\"click\":_vm.closeUploadDialog}},[_vm._v(\"\")])]),_c('div',{staticClass:\"dialog-content\"},[(!_vm.isAddingToExisting)?_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.name),expression:\"achievementForm.name\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.achievementForm.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"name\", $event.target.value)}}})]):_vm._e(),(_vm.isAddingToExisting)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"existing-achievement-info\"},[_c('span',{staticClass:\"info-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"achievement-name\"},[_vm._v(_vm._s(_vm.getTargetAchievementName()))])])]):_vm._e(),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"\")]),_c('div',{staticClass:\"description-fields\"},[(_vm.currentFileType === '')?[_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.paperAuthors),expression:\"achievementForm.paperAuthors\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.achievementForm.paperAuthors)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"paperAuthors\", $event.target.value)}}})]),_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.paperTitle),expression:\"achievementForm.paperTitle\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.achievementForm.paperTitle)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"paperTitle\", $event.target.value)}}})]),_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.journalName),expression:\"achievementForm.journalName\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.achievementForm.journalName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"journalName\", $event.target.value)}}})]),_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.publishYear),expression:\"achievementForm.publishYear\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.achievementForm.publishYear)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"publishYear\", $event.target.value)}}})]),_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.volume),expression:\"achievementForm.volume\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.achievementForm.volume)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"volume\", $event.target.value)}}})]),_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.issue),expression:\"achievementForm.issue\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.achievementForm.issue)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"issue\", $event.target.value)}}})])]:(_vm.currentFileType === '')?[_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.patentNumber),expression:\"achievementForm.patentNumber\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.achievementForm.patentNumber)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"patentNumber\", $event.target.value)}}})]),_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.patentType),expression:\"achievementForm.patentType\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.achievementForm.patentType)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"patentType\", $event.target.value)}}})]),_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.patentName),expression:\"achievementForm.patentName\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.achievementForm.patentName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"patentName\", $event.target.value)}}})]),_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.inventors),expression:\"achievementForm.inventors\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.achievementForm.inventors)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"inventors\", $event.target.value)}}})]),_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.applicants),expression:\"achievementForm.applicants\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.achievementForm.applicants)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"applicants\", $event.target.value)}}})])]:(_vm.currentFileType === '')?[_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.datasetVersion),expression:\"achievementForm.datasetVersion\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"v1.0\"},domProps:{\"value\":(_vm.achievementForm.datasetVersion)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"datasetVersion\", $event.target.value)}}})]),_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.datasetName),expression:\"achievementForm.datasetName\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.achievementForm.datasetName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"datasetName\", $event.target.value)}}})]),_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.datasetFormat),expression:\"achievementForm.datasetFormat\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"CSV, JSON, XML\"},domProps:{\"value\":(_vm.achievementForm.datasetFormat)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"datasetFormat\", $event.target.value)}}})]),_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.datasetSize),expression:\"achievementForm.datasetSize\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"10\"},domProps:{\"value\":(_vm.achievementForm.datasetSize)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"datasetSize\", $event.target.value)}}})]),_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.datasetSource),expression:\"achievementForm.datasetSource\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.achievementForm.datasetSource)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"datasetSource\", $event.target.value)}}})])]:(_vm.currentFileType === '')?[_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.modelFramework),expression:\"achievementForm.modelFramework\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"TensorFlow, PyTorch, Keras\"},domProps:{\"value\":(_vm.achievementForm.modelFramework)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"modelFramework\", $event.target.value)}}})]),_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.modelName),expression:\"achievementForm.modelName\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.achievementForm.modelName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"modelName\", $event.target.value)}}})]),_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.modelVersion),expression:\"achievementForm.modelVersion\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"v1.0, v2.1\"},domProps:{\"value\":(_vm.achievementForm.modelVersion)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"modelVersion\", $event.target.value)}}})]),_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.modelType),expression:\"achievementForm.modelType\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"CNN, RNN, Transformer\"},domProps:{\"value\":(_vm.achievementForm.modelType)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"modelType\", $event.target.value)}}})]),_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.hyperparameters),expression:\"achievementForm.hyperparameters\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"learning_rate=0.001, batch_size=32\"},domProps:{\"value\":(_vm.achievementForm.hyperparameters)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"hyperparameters\", $event.target.value)}}})])]:(_vm.currentFileType === '')?[_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.reportType),expression:\"achievementForm.reportType\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.achievementForm.reportType)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"reportType\", $event.target.value)}}})]),_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.reportName),expression:\"achievementForm.reportName\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.achievementForm.reportName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"reportName\", $event.target.value)}}})]),_c('div',{staticClass:\"description-row\"},[_c('div',{staticClass:\"description-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.achievementForm.reportDate),expression:\"achievementForm.reportDate\"}],staticClass:\"form-input\",attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.achievementForm.reportDate)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.achievementForm, \"reportDate\", $event.target.value)}}})])]:_vm._e()],2)]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"\")]),_c('div',{staticClass:\"file-upload-area\"},[(_vm.achievementForm.files.length > 0)?_c('div',{staticClass:\"uploaded-files\"},_vm._l((_vm.achievementForm.files),function(file,index){return _c('div',{key:index,staticClass:\"file-item\"},[_c('div',{staticClass:\"file-info\"},[_c('span',{staticClass:\"file-icon\"},[_vm._v(\"\")]),_c('span',{staticClass:\"file-name\"},[_vm._v(_vm._s(file.name))]),_c('span',{staticClass:\"file-size\"},[_vm._v(\"(\"+_vm._s(_vm.formatFileSize(file.size))+\")\")])]),_c('button',{staticClass:\"remove-file-btn\",attrs:{\"title\":\"\"},on:{\"click\":function($event){return _vm.removeFile(index)}}},[_vm._v(\"  \")])])}),0):_vm._e(),_c('div',{staticClass:\"upload-zone\",on:{\"click\":_vm.triggerFileSelect}},[_c('svg',{attrs:{\"width\":\"32\",\"height\":\"32\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M17 8L12 3L7 8\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M12 3V15\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_c('p',[_vm._v(\"\")]),_c('p',{staticClass:\"upload-hint\"},[_vm._v(\"\")])])])]),_c('div',{staticClass:\"dialog-actions\"},[_c('button',{staticClass:\"btn secondary\",on:{\"click\":_vm.closeUploadDialog}},[_vm._v(\"\")]),_c('button',{staticClass:\"btn primary\",attrs:{\"disabled\":(!_vm.isAddingToExisting && !_vm.achievementForm.name.trim()) || _vm.achievementForm.files.length === 0},on:{\"click\":_vm.confirmUpload}},[_vm._v(\"  \")])])])])]):_vm._e(),(_vm.showCustomDialog)?_c('div',{staticClass:\"upload-dialog-overlay\",on:{\"click\":_vm.closeCustomDialog}},[_c('div',{staticClass:\"upload-dialog\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"dialog-header\"},[_c('div',{staticClass:\"dialog-title-section\"},[_c('span',{staticClass:\"file-type-badge doc\"},[_vm._v(_vm._s(_vm.customUploadForm.typeName || ''))]),_c('h3',[_vm._v(\"\")])]),_c('button',{staticClass:\"close-btn\",on:{\"click\":_vm.closeCustomDialog}},[_vm._v(\"\")])]),_c('div',{staticClass:\"dialog-content\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.customUploadForm.typeName),expression:\"customUploadForm.typeName\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.customUploadForm.typeName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.customUploadForm, \"typeName\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.customUploadForm.name),expression:\"customUploadForm.name\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.customUploadForm.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.customUploadForm, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"\")]),_c('div',{staticClass:\"description-fields\"},[_vm._l((_vm.customUploadForm.descriptions),function(desc,index){return _c('div',{key:index,staticClass:\"description-field\"},[_c('div',{staticClass:\"description-row\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(desc.leftField),expression:\"desc.leftField\"}],staticClass:\"form-input form-input-small\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(desc.leftField)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(desc, \"leftField\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(desc.rightField),expression:\"desc.rightField\"}],staticClass:\"form-input form-input-large\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(desc.rightField)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(desc, \"rightField\", $event.target.value)}}}),(_vm.customUploadForm.descriptions.length > 1)?_c('button',{staticClass:\"remove-desc-btn\",attrs:{\"title\":\"\"},on:{\"click\":function($event){return _vm.removeCustomDescription(index)}}},[_vm._v(\"  \")]):_vm._e()])])}),_c('button',{staticClass:\"add-desc-btn\",on:{\"click\":_vm.addCustomDescription}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M12 5V19M5 12H19\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_vm._v(\"  \")])],2)]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"\")]),_c('div',{staticClass:\"file-upload-area\"},[(_vm.customUploadForm.files.length > 0)?_c('div',{staticClass:\"uploaded-files\"},_vm._l((_vm.customUploadForm.files),function(file,index){return _c('div',{key:index,staticClass:\"file-item\"},[_c('div',{staticClass:\"file-info\"},[_c('span',{staticClass:\"file-icon\"},[_vm._v(\"\")]),_c('span',{staticClass:\"file-name\"},[_vm._v(_vm._s(file.name))]),_c('span',{staticClass:\"file-size\"},[_vm._v(\"(\"+_vm._s(_vm.formatFileSize(file.size))+\")\")])]),_c('button',{staticClass:\"remove-file-btn\",attrs:{\"title\":\"\"},on:{\"click\":function($event){return _vm.removeCustomFile(index)}}},[_vm._v(\"  \")])])}),0):_vm._e(),_c('div',{staticClass:\"upload-zone\",on:{\"click\":_vm.triggerCustomFileSelect}},[_c('svg',{attrs:{\"width\":\"32\",\"height\":\"32\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M17 8L12 3L7 8\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M12 3V15\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_c('p',[_vm._v(\"\")]),_c('p',{staticClass:\"upload-hint\"},[_vm._v(\"\")])])])]),_c('div',{staticClass:\"dialog-actions\"},[_c('button',{staticClass:\"btn secondary\",on:{\"click\":_vm.closeCustomDialog}},[_vm._v(\"\")]),_c('button',{staticClass:\"btn primary\",attrs:{\"disabled\":!_vm.customUploadForm.typeName.trim() || !_vm.customUploadForm.name.trim() || _vm.customUploadForm.files.length === 0},on:{\"click\":_vm.confirmCustomType}},[_vm._v(\"  \")])])])])]):_vm._e(),(_vm.showViewDialog)?_c('div',{staticClass:\"file-view-overlay\",on:{\"click\":_vm.closeViewDialog}},[_c('div',{staticClass:\"file-view-dialog\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"file-view-header\"},[_c('div',{staticClass:\"file-info\"},[_c('div',{staticClass:\"achievement-badge\",class:_vm.viewingFile?.typeCls},[_c('span',{staticClass:\"achievement-icon\"},[_vm._v(_vm._s(_vm.getFileIcon(_vm.viewingFile?.name || '')))])]),_c('div',{staticClass:\"achievement-info\"},[_c('h3',[_vm._v(_vm._s(_vm.viewingFile?.name))]),(_vm.viewingFile?.fileCount && _vm.viewingFile.fileCount > 1)?_c('div',{staticClass:\"file-count-info\"},[_c('span',{staticClass:\"count-icon\"},[_vm._v(\"\")]),_vm._v(\"  \"+_vm._s(_vm.viewingFile.fileCount)+\"  \")]):_vm._e()])]),_c('button',{staticClass:\"close-btn\",on:{\"click\":_vm.closeViewDialog}},[_c('svg',{attrs:{\"width\":\"28\",\"height\":\"28\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"file-view-content\"},[(_vm.viewingFile?.files && _vm.viewingFile.files.length > 1)?_c('div',{staticClass:\"multi-file-content\"},[_c('div',{staticClass:\"file-list\"},_vm._l((_vm.viewingFile.files),function(file,index){return _c('div',{key:file.id || index,staticClass:\"file-item\",class:{ active: _vm.selectedFileIndex === index },on:{\"click\":function($event){return _vm.selectFile(index)}}},[_c('div',{staticClass:\"file-item-info\"},[_c('div',{staticClass:\"file-icon-wrapper\"},[_c('span',{staticClass:\"file-icon\"},[_vm._v(_vm._s(_vm.getFileIcon(file.name)))])]),_c('div',{staticClass:\"file-details\"},[_c('div',{staticClass:\"file-name\",attrs:{\"title\":file.name}},[_vm._v(_vm._s(file.name || file.originalFileName || ''))]),_c('div',{staticClass:\"file-meta\"},[_c('span',{staticClass:\"file-size\"},[_vm._v(_vm._s(_vm.formatFileSize(file.size)))]),_c('span',{staticClass:\"file-separator\"},[_vm._v(\"\")]),_c('span',{staticClass:\"file-type\"},[_vm._v(_vm._s(_vm.getFileTypeDisplay(file.type)))])])])]),_c('div',{staticClass:\"file-actions\"},[_c('button',{staticClass:\"action-btn download-btn\",attrs:{\"title\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.downloadSingleFile(file)}}},[_c('svg',{attrs:{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\"}}),_c('path',{attrs:{\"d\":\"M17 8L12 3L7 8\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\"}}),_c('path',{attrs:{\"d\":\"M12 3V15\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\"}})])]),_c('button',{staticClass:\"action-btn delete-btn\",attrs:{\"title\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteSingleFile(file, index)}}},[_c('svg',{attrs:{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M3 6H5H21M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\"}})])])])])}),0),(_vm.viewingFile)?_c('div',{staticClass:\"achievement-description\"},[_c('div',{staticClass:\"description-header\"},[_c('div',{staticClass:\"detail-label\"},[_vm._v(\"\")]),(!_vm.isEditingDescription)?_c('button',{staticClass:\"edit-btn\",on:{\"click\":_vm.toggleEditMode}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M18.5 2.5C18.8978 2.10218 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10218 21.5 2.5C21.8978 2.89782 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10218 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_vm._v(\"  \")]):_c('div',{staticClass:\"edit-actions\"},[_c('button',{staticClass:\"save-btn\",on:{\"click\":_vm.saveDescriptionChanges}},[_vm._v(\"\")]),_c('button',{staticClass:\"cancel-btn\",on:{\"click\":_vm.cancelEditMode}},[_vm._v(\"\")])])]),(!_vm.isEditingDescription)?_c('div',{staticClass:\"description-content\"},[(_vm.viewingFile.type === '')?_c('div',{staticClass:\"description-fields\"},[_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.paperAuthors || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.paperTitle || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.journalName || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.publishYear || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.volume || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.issue || ''))])])]):(_vm.viewingFile.type === '')?_c('div',{staticClass:\"description-fields\"},[_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.patentNumber || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.patentType || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.patentName || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.inventors || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.applicants || ''))])])]):(_vm.viewingFile.type === '')?_c('div',{staticClass:\"description-fields\"},[_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.datasetVersion || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.datasetName || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.datasetFormat || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.datasetSize || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.datasetSource || ''))])])]):(_vm.viewingFile.type === '')?_c('div',{staticClass:\"description-fields\"},[_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.modelFramework || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.modelName || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.modelVersion || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.modelType || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.hyperparameters || ''))])])]):(_vm.viewingFile.type === '')?_c('div',{staticClass:\"description-fields\"},[_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.reportType || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.reportName || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.reportDate || ''))])])]):_vm._e()]):_c('div',{staticClass:\"description-edit-form\"},[_c('div',{staticClass:\"edit-fields\"},[(_vm.viewingFile.type === '')?[_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.paperAuthors),expression:\"editForm.paperAuthors\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.paperAuthors)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"paperAuthors\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.paperTitle),expression:\"editForm.paperTitle\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.paperTitle)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"paperTitle\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.journalName),expression:\"editForm.journalName\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.journalName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"journalName\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.publishYear),expression:\"editForm.publishYear\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.publishYear)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"publishYear\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.volume),expression:\"editForm.volume\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.volume)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"volume\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.issue),expression:\"editForm.issue\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.issue)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"issue\", $event.target.value)}}})])]:(_vm.viewingFile.type === '')?[_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.patentNumber),expression:\"editForm.patentNumber\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.patentNumber)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"patentNumber\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.patentType),expression:\"editForm.patentType\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.patentType)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"patentType\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.patentName),expression:\"editForm.patentName\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.patentName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"patentName\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.inventors),expression:\"editForm.inventors\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.inventors)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"inventors\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.applicants),expression:\"editForm.applicants\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.applicants)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"applicants\", $event.target.value)}}})])]:(_vm.viewingFile.type === '')?[_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.datasetVersion),expression:\"editForm.datasetVersion\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.datasetVersion)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"datasetVersion\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.datasetName),expression:\"editForm.datasetName\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.datasetName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"datasetName\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.datasetFormat),expression:\"editForm.datasetFormat\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.datasetFormat)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"datasetFormat\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.datasetSize),expression:\"editForm.datasetSize\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.datasetSize)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"datasetSize\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.datasetSource),expression:\"editForm.datasetSource\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.datasetSource)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"datasetSource\", $event.target.value)}}})])]:(_vm.viewingFile.type === '')?[_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.modelFramework),expression:\"editForm.modelFramework\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.modelFramework)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"modelFramework\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.modelName),expression:\"editForm.modelName\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.modelName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"modelName\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.modelVersion),expression:\"editForm.modelVersion\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.modelVersion)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"modelVersion\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.modelType),expression:\"editForm.modelType\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.modelType)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"modelType\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.hyperparameters),expression:\"editForm.hyperparameters\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.hyperparameters)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"hyperparameters\", $event.target.value)}}})])]:(_vm.viewingFile.type === '')?[_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.reportType),expression:\"editForm.reportType\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.reportType)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"reportType\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.reportName),expression:\"editForm.reportName\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.reportName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"reportName\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.reportDate),expression:\"editForm.reportDate\"}],attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.editForm.reportDate)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"reportDate\", $event.target.value)}}})])]:_vm._e()],2)])]):_vm._e()]):_c('div',[(_vm.fileContentType === 'text')?_c('div',{staticClass:\"text-content\"},[_c('div',{staticClass:\"content-header\"},[_c('h4',[_vm._v(\"\")]),_c('div',{staticClass:\"content-actions\"},[(!_vm.isEditingContent)?_c('button',{staticClass:\"edit-content-btn\",on:{\"click\":_vm.toggleContentEdit}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M18.5 2.5C18.8978 2.10218 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10218 21.5 2.5C21.8978 2.89782 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10218 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_vm._v(\"  \")]):_c('div',{staticClass:\"content-edit-actions\"},[_c('button',{staticClass:\"save-content-btn\",attrs:{\"disabled\":!_vm.hasContentChanges},on:{\"click\":_vm.saveContentChanges}},[_vm._v(\"\")]),_c('button',{staticClass:\"cancel-content-btn\",on:{\"click\":_vm.cancelContentEdit}},[_vm._v(\"\")])])])]),_c('div',{staticClass:\"content-body\"},[(!_vm.isEditingContent)?_c('pre',{staticClass:\"content-display\"},[_vm._v(_vm._s(_vm.fileContent))]):_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editableContent),expression:\"editableContent\"}],staticClass:\"content-editor\",attrs:{\"placeholder\":\"...\"},domProps:{\"value\":(_vm.editableContent)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.editableContent=$event.target.value},_vm.markContentChanged]}})])]):(_vm.fileContentType === 'image')?_c('div',{staticClass:\"image-content\"},[_c('img',{attrs:{\"src\":_vm.fileContent,\"alt\":_vm.viewingFile?.name}})]):(_vm.fileContentType === 'pdf')?_c('div',{staticClass:\"pdf-content\"},[_c('iframe',{attrs:{\"src\":_vm.fileContent,\"width\":\"100%\",\"height\":\"500px\"}})]):(_vm.fileContentType === 'info')?_c('div',{staticClass:\"info-content\"},[_c('div',{staticClass:\"file-details\"},[_c('div',{staticClass:\"detail-item\"},[_c('span',{staticClass:\"detail-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"detail-value\"},[_vm._v(_vm._s(_vm.fileContent.name))])]),_c('div',{staticClass:\"detail-item\"},[_c('span',{staticClass:\"detail-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"detail-value\"},[_vm._v(_vm._s(_vm.fileContent.type))])]),_c('div',{staticClass:\"detail-item\"},[_c('span',{staticClass:\"detail-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"detail-value\"},[_vm._v(_vm._s(_vm.fileContent.uploader))])]),_c('div',{staticClass:\"detail-item\"},[_c('span',{staticClass:\"detail-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"detail-value\"},[_vm._v(_vm._s(_vm.fileContent.time))])]),_c('div',{staticClass:\"detail-item\"},[_c('span',{staticClass:\"detail-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"detail-value\"},[_vm._v(_vm._s(_vm.fileContent.size))])]),(_vm.viewingFile)?_c('div',{staticClass:\"achievement-description\"},[_c('div',{staticClass:\"description-header\"},[_c('div',{staticClass:\"detail-label\"},[_vm._v(\"\")]),(!_vm.isEditingDescription)?_c('button',{staticClass:\"edit-btn\",on:{\"click\":_vm.toggleEditMode}},[_vm._v(\"\")]):_c('div',{staticClass:\"edit-actions\"},[_c('button',{staticClass:\"save-btn\",on:{\"click\":_vm.saveDescriptionChanges}},[_vm._v(\"\")]),_c('button',{staticClass:\"cancel-btn\",on:{\"click\":_vm.cancelEditMode}},[_vm._v(\"\")])])]),(!_vm.isEditingDescription)?_c('div',{staticClass:\"description-content\"},[(_vm.viewingFile.type === '')?_c('div',{staticClass:\"description-fields\"},[_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.paperAuthors || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.paperTitle || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.journalName || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.publishYear || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.volume || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.issue || ''))])])]):(_vm.viewingFile.type === '')?_c('div',{staticClass:\"description-fields\"},[_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.patentNumber || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.patentType || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.patentName || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.inventors || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.applicants || ''))])])]):(_vm.viewingFile.type === '')?_c('div',{staticClass:\"description-fields\"},[_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.datasetVersion || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.datasetName || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.datasetFormat || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.datasetSize || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.datasetSource || ''))])])]):(_vm.viewingFile.type === '')?_c('div',{staticClass:\"description-fields\"},[_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.modelFramework || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.modelName || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.modelVersion || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.modelType || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.hyperparameters || ''))])])]):(_vm.viewingFile.type === '')?_c('div',{staticClass:\"description-fields\"},[_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.reportType || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.reportName || ''))])]),_c('div',{staticClass:\"description-item\"},[_c('span',{staticClass:\"desc-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"desc-value\"},[_vm._v(_vm._s(_vm.viewingFile.reportDate || ''))])])]):_vm._e()]):_c('div',{staticClass:\"description-edit-form\"},[_c('div',{staticClass:\"edit-fields\"},[(_vm.viewingFile.type === '')?[_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.paperAuthors),expression:\"editForm.paperAuthors\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.paperAuthors)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"paperAuthors\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.paperTitle),expression:\"editForm.paperTitle\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.paperTitle)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"paperTitle\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.journalName),expression:\"editForm.journalName\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.journalName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"journalName\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.publishYear),expression:\"editForm.publishYear\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.publishYear)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"publishYear\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.volume),expression:\"editForm.volume\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.volume)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"volume\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.issue),expression:\"editForm.issue\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.issue)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"issue\", $event.target.value)}}})])]:(_vm.viewingFile.type === '')?[_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.patentNumber),expression:\"editForm.patentNumber\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.patentNumber)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"patentNumber\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.patentType),expression:\"editForm.patentType\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.patentType)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"patentType\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.patentName),expression:\"editForm.patentName\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.patentName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"patentName\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.inventors),expression:\"editForm.inventors\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.inventors)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"inventors\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.applicants),expression:\"editForm.applicants\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.applicants)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"applicants\", $event.target.value)}}})])]:(_vm.viewingFile.type === '')?[_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.datasetVersion),expression:\"editForm.datasetVersion\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.datasetVersion)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"datasetVersion\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.datasetName),expression:\"editForm.datasetName\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.datasetName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"datasetName\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.datasetFormat),expression:\"editForm.datasetFormat\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.datasetFormat)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"datasetFormat\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.datasetSize),expression:\"editForm.datasetSize\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.datasetSize)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"datasetSize\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.datasetSource),expression:\"editForm.datasetSource\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.datasetSource)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"datasetSource\", $event.target.value)}}})])]:(_vm.viewingFile.type === '')?[_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.modelFramework),expression:\"editForm.modelFramework\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.modelFramework)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"modelFramework\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.modelName),expression:\"editForm.modelName\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.modelName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"modelName\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.modelVersion),expression:\"editForm.modelVersion\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.modelVersion)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"modelVersion\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.modelType),expression:\"editForm.modelType\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.modelType)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"modelType\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.hyperparameters),expression:\"editForm.hyperparameters\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.hyperparameters)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"hyperparameters\", $event.target.value)}}})])]:(_vm.viewingFile.type === '')?[_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.reportType),expression:\"editForm.reportType\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.reportType)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"reportType\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.reportName),expression:\"editForm.reportName\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editForm.reportName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"reportName\", $event.target.value)}}})]),_c('div',{staticClass:\"edit-field\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editForm.reportDate),expression:\"editForm.reportDate\"}],attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.editForm.reportDate)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editForm, \"reportDate\", $event.target.value)}}})])]:_vm._e()],2)])]):_vm._e()]),_vm._m(7)]):_vm._e()])]),_c('div',{staticClass:\"file-view-footer\"},[_c('div',{staticClass:\"footer-left\"},[_c('button',{staticClass:\"add-file-btn\",on:{\"click\":_vm.showAddFileDialog}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M12 5V19M5 12H19\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_vm._v(\"  \")]),_c('div',{staticClass:\"status-selector\"},[_c('label',[_vm._v(\"\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.viewingFile.status),expression:\"viewingFile.status\"}],staticClass:\"status-select\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.viewingFile, \"status\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.handleStatusChange]}},[_c('option',{attrs:{\"value\":\"draft\"}},[_vm._v(\"\")]),_c('option',{attrs:{\"value\":\"under_review\"}},[_vm._v(\"\")]),_c('option',{attrs:{\"value\":\"published\"}},[_vm._v(\"\")]),_c('option',{attrs:{\"value\":\"obsolete\"}},[_vm._v(\"\")])])])]),_c('div',{staticClass:\"footer-right\"},[_c('button',{staticClass:\"btn secondary\",on:{\"click\":_vm.closeViewDialog}},[_vm._v(\"\")]),(_vm.viewingFile?.files && _vm.viewingFile.files.length > 1)?_c('button',{staticClass:\"btn primary\",on:{\"click\":function($event){return _vm.downloadAllFiles(_vm.viewingFile)}}},[_vm._v(\"\")]):_c('button',{staticClass:\"btn primary\",on:{\"click\":function($event){return _vm.downloadFile(_vm.viewingFile)}}},[_vm._v(\"\")])])])])]):_vm._e(),(_vm.showArchivePanel)?_c('div',{staticClass:\"archive-overlay\",on:{\"click\":function($event){_vm.showArchivePanel = false}}}):_vm._e(),_c('div',{staticClass:\"archive-slide-panel notranslate\",class:{ 'open': _vm.showArchivePanel },attrs:{\"translate\":\"no\"}},[_c('div',{staticClass:\"panel-header\"},[_c('div',{staticClass:\"panel-title\"},[_vm._v(\"\")]),_c('button',{staticClass:\"panel-close-btn\",on:{\"click\":function($event){_vm.showArchivePanel = false}}},[_c('svg',{attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"panel-content\"},[_c('div',{staticClass:\"search-section\"},[_c('div',{staticClass:\"search-container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchText),expression:\"searchText\"}],staticClass:\"search-input\",attrs:{\"type\":\"text\",\"placeholder\":\"...\"},domProps:{\"value\":(_vm.searchText)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.searchText=$event.target.value},_vm.onSearchInput]}}),_c('div',{staticClass:\"search-icon\"},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M21 21L16.514 16.506L21 21ZM19 10.5C19 15.194 15.194 19 10.5 19C5.806 19 2 15.194 2 10.5C2 5.806 5.806 2 10.5 2C15.194 2 19 5.806 19 10.5Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),(_vm.searchText)?_c('button',{staticClass:\"clear-search-btn\",attrs:{\"title\":\"\"},on:{\"click\":_vm.clearSearch}},[_c('svg',{attrs:{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]):_vm._e()]),(_vm.searchText)?_c('div',{staticClass:\"search-results-info\"},[_vm._v(\"  \"+_vm._s(_vm.filteredFiles.length)+\"  \")]):_vm._e()]),_c('div',{staticClass:\"table-wrap\"},[_c('table',{staticClass:\"doc-table\"},[_vm._m(8),_c('tbody',_vm._l((_vm.paginatedFiles),function(row){return _c('tr',{key:row.id},[_c('td',{staticClass:\"filename\"},[_c('span',{staticClass:\"file-dot\",class:row.typeCls}),_c('div',{staticClass:\"file-info\"},[_c('div',{staticClass:\"file-name\"},[_vm._v(_vm._s(row.name))]),(row.fileCount && row.fileCount > 1)?_c('div',{staticClass:\"file-count\"},[_vm._v(\" \"+_vm._s(row.fileCount)+\" \")]):_vm._e()])]),_c('td',[_vm._v(_vm._s(row.type))]),_c('td',[_vm._v(_vm._s(row.uploader))]),_c('td',[_vm._v(_vm._s(row.time))]),_c('td',{staticClass:\"ops\"},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.viewFile(row)}}},[_vm._v(\"\")]),(row.files && row.files.length > 1)?_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.downloadAllFiles(row)}}},[_vm._v(\"\")]):_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.downloadFile(row)}}},[_vm._v(\"\")]),_c('a',{staticClass:\"delete-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.deleteFile(row)}}},[_vm._v(\"\")])])])}),0)])]),_c('div',{staticClass:\"pagination line\"},[_c('span',{staticClass:\"pager-text\"},[_vm._v(_vm._s(_vm.paginationInfo))]),_c('div',{staticClass:\"pager-group\"},[_c('button',{staticClass:\"pager small\",attrs:{\"disabled\":_vm.currentPage === 1},on:{\"click\":function($event){return _vm.goToPage(_vm.currentPage - 1)}}},[_vm._v(\"\")]),_vm._l((_vm.visiblePages),function(page){return _c('button',{key:page,staticClass:\"page-num small\",class:{ active: page === _vm.currentPage },on:{\"click\":function($event){return _vm.goToPage(page)}}},[_vm._v(_vm._s(page))])}),_c('button',{staticClass:\"pager small\",attrs:{\"disabled\":_vm.currentPage === _vm.totalPages},on:{\"click\":function($event){return _vm.goToPage(_vm.currentPage + 1)}}},[_vm._v(\"\")])],2)])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('h1',{staticClass:\"page-title\"},[_c('span',{staticClass:\"title-text\"},[_vm._v(\"\")]),_c('div',{staticClass:\"title-decoration\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"add-head\"},[_c('span',{staticClass:\"dot dot-blue\"}),_c('span',{staticClass:\"add-name\"},[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"add-head\"},[_c('span',{staticClass:\"dot dot-orange\"}),_c('span',{staticClass:\"add-name\"},[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"add-head\"},[_c('span',{staticClass:\"dot dot-green\"}),_c('span',{staticClass:\"add-name\"},[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"add-head\"},[_c('span',{staticClass:\"dot dot-purple\"}),_c('span',{staticClass:\"add-name\"},[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"add-head\"},[_c('span',{staticClass:\"dot dot-yellow\"}),_c('span',{staticClass:\"add-name\"},[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"add-head\"},[_c('span',{staticClass:\"dot dot-pink\"}),_c('span',{staticClass:\"add-name\"},[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"file-preview-notice\"},[_c('p',[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"\")]),_c('th',[_vm._v(\"\")]),_c('th',[_vm._v(\"\")]),_c('th',[_vm._v(\"\")]),_c('th',[_vm._v(\"\")])])])\n}]\n\nexport { render, staticRenderFns }","/**\r\n * \r\n * \r\n */\r\n\r\n// \r\nexport const EventTypes = {\r\n  // \r\n  USER_AVATAR_UPDATED: 'user:avatar:updated',\r\n  USER_PROFILE_UPDATED: 'user:profile:updated',\r\n  USER_NICKNAME_UPDATED: 'user:nickname:updated',\r\n  \r\n  // \r\n  PROJECT_CREATED: 'project:created',\r\n  PROJECT_UPDATED: 'project:updated',\r\n  PROJECT_DELETED: 'project:deleted',\r\n  PROJECT_MEMBER_ADDED: 'project:member:added',\r\n  PROJECT_MEMBER_REMOVED: 'project:member:removed',\r\n  \r\n  // \r\n  TASK_CREATED: 'task:created',\r\n  TASK_UPDATED: 'task:updated',\r\n  TASK_DELETED: 'task:deleted',\r\n  \r\n  // \r\n  KNOWLEDGE_CREATED: 'knowledge:created',\r\n  KNOWLEDGE_UPDATED: 'knowledge:updated',\r\n  KNOWLEDGE_DELETED: 'knowledge:deleted',\r\n  ARCHIVE_PANEL_TOGGLE: 'archive:panel:toggle',\r\n  \r\n  // Wiki\r\n  WIKI_PAGE_CREATED: 'wiki:page:created',\r\n  WIKI_PAGE_UPDATED: 'wiki:page:updated',\r\n  WIKI_PAGE_DELETED: 'wiki:page:deleted'\r\n}\r\n\r\n/**\r\n * \r\n * \r\n */\r\nclass EventBus {\r\n  constructor() {\r\n    this.listeners = new Map()\r\n    this.debounceTimers = new Map()\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {string} eventType - \r\n   * @param {Function} handler - \r\n   * @param {Object} options - \r\n   * @param {number} options.debounce - \r\n   */\r\n  on(eventType, handler, options = {}) {\r\n    if (!this.listeners.has(eventType)) {\r\n      this.listeners.set(eventType, [])\r\n    }\r\n    \r\n    this.listeners.get(eventType).push({\r\n      handler,\r\n      debounce: options.debounce || 0\r\n    })\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  off(eventType, handler) {\r\n    if (!this.listeners.has(eventType)) return\r\n    \r\n    const handlers = this.listeners.get(eventType)\r\n    const index = handlers.findIndex(h => h.handler === handler)\r\n    if (index > -1) {\r\n      handlers.splice(index, 1)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {string} eventType - \r\n   * @param {any} data - \r\n   */\r\n  emit(eventType, data) {\r\n    if (!this.listeners.has(eventType)) return\r\n    \r\n    const handlers = this.listeners.get(eventType)\r\n    \r\n    handlers.forEach(({ handler, debounce }) => {\r\n      if (debounce > 0) {\r\n        // \r\n        const timerId = `${eventType}_${handler.name || 'anonymous'}`\r\n        \r\n        if (this.debounceTimers.has(timerId)) {\r\n          clearTimeout(this.debounceTimers.get(timerId))\r\n        }\r\n        \r\n        const timer = setTimeout(() => {\r\n          handler(data)\r\n          this.debounceTimers.delete(timerId)\r\n        }, debounce)\r\n        \r\n        this.debounceTimers.set(timerId, timer)\r\n      } else {\r\n        // \r\n        handler(data)\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  clear() {\r\n    this.listeners.clear()\r\n    this.debounceTimers.forEach(timer => clearTimeout(timer))\r\n    this.debounceTimers.clear()\r\n  }\r\n}\r\n\r\n// \r\nexport const eventBus = new EventBus()\r\n\r\n// Vue\r\nexport default {\r\n  install(Vue) {\r\n    // Vue\r\n    Vue.prototype.$eventBus = eventBus\r\n    Vue.prototype.$EventTypes = EventTypes\r\n  }\r\n}\r\n","/**\r\n * \r\n */\r\n\r\n/**\r\n * \r\n */\r\nexport function formatFileSize(bytes) {\r\n  if (bytes === 0) return '0 Bytes'\r\n  const k = 1024\r\n  const sizes = ['Bytes', 'KB', 'MB', 'GB']\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\r\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\r\n}\r\n\r\n/**\r\n * \r\n */\r\nexport function getFileIcon(fileName) {\r\n  const name = fileName || 'unknown'\r\n  const extension = getFileExtension(name).toLowerCase()\r\n  const iconMap = {\r\n    'pdf': '',\r\n    'doc': '',\r\n    'docx': '',\r\n    'xls': '',\r\n    'xlsx': '',\r\n    'ppt': '',\r\n    'pptx': '',\r\n    'txt': '',\r\n    'md': '',\r\n    'jpg': '',\r\n    'jpeg': '',\r\n    'png': '',\r\n    'gif': '',\r\n    'svg': '',\r\n    'mp4': '',\r\n    'avi': '',\r\n    'mov': '',\r\n    'mp3': '',\r\n    'wav': '',\r\n    'zip': '',\r\n    'rar': '',\r\n    '7z': '',\r\n    'pkl': '',\r\n    'h5': '',\r\n    'pt': '',\r\n    'pth': '',\r\n    'onnx': '',\r\n    'csv': '',\r\n    'json': '',\r\n    'xml': '',\r\n    'py': '',\r\n    'js': '',\r\n    'html': '',\r\n    'css': ''\r\n  }\r\n  return iconMap[extension] || ''\r\n}\r\n\r\n/**\r\n * \r\n */\r\nexport function getFileExtension(filename) {\r\n  return filename.split('.').pop() || ''\r\n}\r\n\r\n/**\r\n * MIME\r\n */\r\nexport function getMimeType(extension) {\r\n  const mimeMap = {\r\n    'pdf': 'application/pdf',\r\n    'doc': 'application/msword',\r\n    'docx': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n    'xls': 'application/vnd.ms-excel',\r\n    'xlsx': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n    'ppt': 'application/vnd.ms-powerpoint',\r\n    'pptx': 'application/vnd.openxmlformats-officedocument.presentationml.presentation',\r\n    'txt': 'text/plain',\r\n    'md': 'text/markdown',\r\n    'jpg': 'image/jpeg',\r\n    'jpeg': 'image/jpeg',\r\n    'png': 'image/png',\r\n    'gif': 'image/gif',\r\n    'svg': 'image/svg+xml',\r\n    'mp4': 'video/mp4',\r\n    'avi': 'video/avi',\r\n    'mov': 'video/quicktime',\r\n    'mp3': 'audio/mpeg',\r\n    'wav': 'audio/wav',\r\n    'zip': 'application/zip',\r\n    'rar': 'application/x-rar-compressed',\r\n    '7z': 'application/x-7z-compressed',\r\n    'csv': 'text/csv',\r\n    'json': 'application/json',\r\n    'xml': 'text/xml',\r\n    'html': 'text/html',\r\n    'css': 'text/css',\r\n    'py': 'text/x-python',\r\n    'js': 'application/javascript'\r\n  }\r\n  return mimeMap[extension.toLowerCase()] || 'application/octet-stream'\r\n}\r\n\r\n/**\r\n * \r\n */\r\nexport function getFileTypeDisplay(mimeType) {\r\n  const typeMap = {\r\n    'application/pdf': 'PDF',\r\n    'application/msword': 'Word',\r\n    'application/vnd.openxmlformats-officedocument.wordprocessingml.document': 'Word',\r\n    'application/vnd.ms-excel': 'Excel',\r\n    'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': 'Excel',\r\n    'application/vnd.ms-powerpoint': 'PowerPoint',\r\n    'application/vnd.openxmlformats-officedocument.presentationml.presentation': 'PowerPoint',\r\n    'text/plain': '',\r\n    'text/markdown': 'Markdown',\r\n    'image/jpeg': 'JPEG',\r\n    'image/png': 'PNG',\r\n    'image/gif': 'GIF',\r\n    'image/svg+xml': 'SVG',\r\n    'video/mp4': 'MP4',\r\n    'video/avi': 'AVI',\r\n    'video/quicktime': 'MOV',\r\n    'audio/mpeg': 'MP3',\r\n    'audio/wav': 'WAV',\r\n    'application/zip': 'ZIP',\r\n    'application/x-rar-compressed': 'RAR',\r\n    'application/x-7z-compressed': '7Z',\r\n    'text/csv': 'CSV',\r\n    'application/json': 'JSON',\r\n    'text/xml': 'XML',\r\n    'text/html': 'HTML',\r\n    'text/css': 'CSS',\r\n    'application/x-python-code': 'Python'\r\n  }\r\n  return typeMap[mimeType] || ''\r\n}\r\n\r\n/**\r\n * CSS\r\n */\r\nexport function getTypeClass(type) {\r\n  const typeMap = {\r\n    '': 'doc',\r\n    '': 'patent',\r\n    '': 'dataset',\r\n    '': 'model',\r\n    '': 'report'\r\n  }\r\n  return typeMap[type] || 'doc'\r\n}\r\n\r\n/**\r\n * \r\n */\r\nexport function getFileAccept(type) {\r\n  const acceptMap = {\r\n    '': '.pdf,.doc,.docx',\r\n    '': '.doc,.docx,.pdf',\r\n    '': '.csv,.xlsx,.json,.txt',\r\n    '': '.pkl,.h5,.pt,.pth,.onnx',\r\n    '': '.pdf,.doc,.docx'\r\n  }\r\n  return acceptMap[type] || '*'\r\n}\r\n\r\n/**\r\n * \r\n */\r\nexport function isTextFile(mimeType, extension) {\r\n  const textTypes = ['text/', 'application/json', 'application/xml']\r\n  const textExtensions = ['txt', 'md', 'json', 'xml', 'html', 'css', 'js', 'py', 'csv']\r\n  return textTypes.some(type => mimeType.startsWith(type)) || textExtensions.includes(extension)\r\n}\r\n\r\n/**\r\n * \r\n */\r\nexport function isImageFile(mimeType, extension) {\r\n  const imageTypes = ['image/']\r\n  const imageExtensions = ['jpg', 'jpeg', 'png', 'gif', 'svg', 'bmp', 'webp']\r\n  return imageTypes.some(type => mimeType.startsWith(type)) || imageExtensions.includes(extension)\r\n}\r\n\r\n/**\r\n * PDF\r\n */\r\nexport function isPdfFile(mimeType, extension) {\r\n  return mimeType === 'application/pdf' || extension === 'pdf'\r\n}\r\n\r\n/**\r\n * \r\n */\r\nexport function createPlaceholderContent(fileName, mimeType) {\r\n  const timestamp = new Date().toLocaleString('zh-CN')\r\n  const content = `\r\n================\r\n: ${fileName}\r\n: ${mimeType || ''}\r\n: ${timestamp}\r\n\r\n: \r\n\r\n\r\n`\r\n  \r\n  return content\r\n}\r\n\r\n/**\r\n * HTML\r\n */\r\nexport function escapeHtml(text) {\r\n  const div = document.createElement('div')\r\n  div.textContent = text\r\n  return div.innerHTML\r\n}\r\n\r\n","/**\r\n * \r\n */\r\n\r\n/**\r\n * \r\n */\r\nexport function saveToLocalStorage(uploadedFiles, currentPage, projectId) {\r\n  try {\r\n    //  ArrayBuffer \r\n    const serializedFiles = uploadedFiles.map(achievement => {\r\n      if (achievement.files && Array.isArray(achievement.files)) {\r\n        const serializedFiles = achievement.files.map(file => {\r\n          const serializedFile = { ...file }\r\n          if (file.fileBuffer && file.fileBuffer instanceof ArrayBuffer) {\r\n            //  ArrayBuffer  Uint8Array\r\n            serializedFile.fileBuffer = Array.from(new Uint8Array(file.fileBuffer))\r\n          }\r\n          //  File \r\n          delete serializedFile.file\r\n          return serializedFile\r\n        })\r\n        return { ...achievement, files: serializedFiles }\r\n      }\r\n      return achievement\r\n    })\r\n    \r\n    const dataToSave = {\r\n      uploadedFiles: serializedFiles,\r\n      currentPage: currentPage\r\n    }\r\n    const storageKey = projectId ? `knowledgeBaseCatalog_${projectId}` : 'knowledgeBaseCatalog'\r\n    localStorage.setItem(storageKey, JSON.stringify(dataToSave))\r\n    console.log(` (ID: ${projectId})`)\r\n  } catch (error) {\r\n    console.error(':', error)\r\n  }\r\n}\r\n\r\n/**\r\n * \r\n */\r\nexport function loadFromLocalStorage(projectId) {\r\n  try {\r\n    const storageKey = projectId ? `knowledgeBaseCatalog_${projectId}` : 'knowledgeBaseCatalog'\r\n    const saved = localStorage.getItem(storageKey)\r\n    if (saved) {\r\n      const data = JSON.parse(saved)\r\n      if (data.uploadedFiles && Array.isArray(data.uploadedFiles)) {\r\n        //  fileBuffer  ArrayBuffer\r\n        const deserializedFiles = data.uploadedFiles.map(achievement => {\r\n          if (achievement.files && Array.isArray(achievement.files)) {\r\n            const deserializedFiles = achievement.files.map(file => {\r\n              const deserializedFile = { ...file }\r\n              if (file.fileBuffer && Array.isArray(file.fileBuffer)) {\r\n                //  ArrayBuffer\r\n                const uint8Array = new Uint8Array(file.fileBuffer)\r\n                deserializedFile.fileBuffer = uint8Array.buffer\r\n              }\r\n              return deserializedFile\r\n            })\r\n            return { ...achievement, files: deserializedFiles }\r\n          }\r\n          return achievement\r\n        })\r\n        console.log(` (ID: ${projectId})`)\r\n        return {\r\n          uploadedFiles: deserializedFiles,\r\n          currentPage: data.currentPage || 1\r\n        }\r\n      }\r\n    }\r\n    return null\r\n  } catch (error) {\r\n    console.error(':', error)\r\n    return null\r\n  }\r\n}\r\n\r\n/**\r\n * \r\n */\r\nexport function updateFileContentInStorage(fileId, fileContent, projectId) {\r\n  try {\r\n    const storageKey = projectId ? `knowledgeBaseCatalog_${projectId}` : 'knowledgeBaseCatalog'\r\n    const savedFiles = localStorage.getItem(storageKey)\r\n    if (savedFiles) {\r\n      const data = JSON.parse(savedFiles)\r\n      const files = data.uploadedFiles || []\r\n      const fileIndex = files.findIndex(f => f.id === fileId)\r\n      if (fileIndex !== -1) {\r\n        // \r\n        files[fileIndex].content = fileContent\r\n        files[fileIndex].lastModified = new Date().toLocaleString('zh-CN')\r\n        data.uploadedFiles = files\r\n        localStorage.setItem(storageKey, JSON.stringify(data))\r\n        console.log('')\r\n        return true\r\n      }\r\n    }\r\n    return false\r\n  } catch (error) {\r\n    console.error(':', error)\r\n    return false\r\n  }\r\n}\r\n\r\n","/**\r\n * \r\n */\r\n\r\nimport { formatFileSize, getFileExtension, getMimeType, createPlaceholderContent } from './catalogHelpers'\r\n\r\n/**\r\n * \r\n */\r\nexport function downloadSingleFile(file) {\r\n  try {\r\n    //  ArrayBuffer File \r\n    let fileData = null\r\n    \r\n    if (file.fileBuffer) {\r\n      //  ArrayBuffer\r\n      fileData = file.fileBuffer\r\n      console.log(' ArrayBuffer :', file.name, 'ArrayBuffer :', file.fileBuffer.byteLength)\r\n    } else if (file.file && file.file instanceof File) {\r\n      //  File \r\n      fileData = file.file\r\n      console.log(' File :', file.name)\r\n    } else {\r\n      console.warn(':', file)\r\n      \r\n      // \r\n      const fileName = file.name || file.originalFileName || ''\r\n      const fileExtension = getFileExtension(fileName)\r\n      const placeholderContent = createPlaceholderContent(fileName, file.type)\r\n      \r\n      const blob = new Blob([placeholderContent], { \r\n        type: file.type || getMimeType(fileExtension) || 'text/plain' \r\n      })\r\n      const url = URL.createObjectURL(blob)\r\n      \r\n      const a = document.createElement('a')\r\n      a.href = url\r\n      a.download = fileName\r\n      a.style.display = 'none'\r\n      document.body.appendChild(a)\r\n      a.click()\r\n      document.body.removeChild(a)\r\n      URL.revokeObjectURL(url)\r\n      \r\n      alert(`\"${fileName}\"`)\r\n      return\r\n    }\r\n    \r\n    //  fileData \r\n    if (!fileData) {\r\n      console.error(':', file)\r\n      alert('')\r\n      return\r\n    }\r\n    \r\n    //  Blob \r\n    const blob = new Blob([fileData], { type: file.type || 'application/octet-stream' })\r\n    const url = URL.createObjectURL(blob)\r\n    \r\n    const a = document.createElement('a')\r\n    a.href = url\r\n    a.download = file.name || file.originalFileName || ''\r\n    a.style.display = 'none'\r\n    document.body.appendChild(a)\r\n    a.click()\r\n    document.body.removeChild(a)\r\n    URL.revokeObjectURL(url)\r\n    \r\n    console.log(':', file.name)\r\n  } catch (error) {\r\n    console.error(':', error)\r\n    alert('')\r\n  }\r\n}\r\n\r\n/**\r\n * \r\n */\r\nexport function downloadAllFiles(achievement) {\r\n  try {\r\n    // \r\n    if (!achievement.files || achievement.files.length === 0) {\r\n      alert('')\r\n      return\r\n    }\r\n    \r\n    console.log('', achievement.files.length, '')\r\n    \r\n    // \r\n    achievement.files.forEach((file, index) => {\r\n      setTimeout(() => {\r\n        try {\r\n          downloadSingleFile(file)\r\n        } catch (error) {\r\n          console.error(` ${file.name} :`, error)\r\n        }\r\n      }, index * 800) // \r\n    })\r\n    \r\n    // \r\n    alert(` ${achievement.files.length} ...`)\r\n    \r\n  } catch (error) {\r\n    console.error(':', error)\r\n    alert('')\r\n  }\r\n}\r\n\r\n/**\r\n * \r\n */\r\nexport function downloadFile(file) {\r\n  try {\r\n    // \r\n    if (file.files && file.files.length > 1) {\r\n      // \r\n      downloadAllFiles(file)\r\n      return\r\n    }\r\n    \r\n    // \r\n    const fileToDownload = file.files && file.files.length === 1 ? file.files[0] : file\r\n    downloadSingleFile(fileToDownload)\r\n  } catch (error) {\r\n    console.error(':', error)\r\n    alert('')\r\n  }\r\n}\r\n\r\n/**\r\n * \r\n */\r\nexport function loadTextFile(file, callback) {\r\n  if (file.file) {\r\n    const reader = new FileReader()\r\n    reader.onload = (e) => {\r\n      callback(e.target.result)\r\n    }\r\n    reader.readAsText(file.file, 'UTF-8')\r\n  } else {\r\n    // \r\n    const content = `${file.name}\\n${file.type}\\n${file.uploader}\\n${file.time}\\n\\n\\n`\r\n    callback(content)\r\n  }\r\n}\r\n\r\n/**\r\n * \r\n */\r\nexport function loadImageFile(file, callback) {\r\n  if (file.file) {\r\n    const reader = new FileReader()\r\n    reader.onload = (e) => {\r\n      callback(e.target.result)\r\n    }\r\n    reader.readAsDataURL(file.file)\r\n  } else {\r\n    // \r\n    const placeholder = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjNmNGY2Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxOCIgZmlsbD0iIzY2NjY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPuWbvueJh+WKoOi9veWksei0pTwvdGV4dD48L3N2Zz4='\r\n    callback(placeholder)\r\n  }\r\n}\r\n\r\n/**\r\n * PDF\r\n */\r\nexport function loadPdfFile(file, callback) {\r\n  const url = file.file ? URL.createObjectURL(file.file) : '#'\r\n  callback(url)\r\n}\r\n\r\n/**\r\n * \r\n */\r\nexport function getFileInfo(file) {\r\n  return {\r\n    name: file.name,\r\n    type: file.type,\r\n    uploader: file.uploader,\r\n    time: file.time,\r\n    size: file.file ? formatFileSize(file.file.size) : ''\r\n  }\r\n}\r\n\r\n/**\r\n *  ArrayBuffer \r\n */\r\nexport function testArrayBufferConversion(file) {\r\n  if (file.fileBuffer) {\r\n    console.log(' ArrayBuffer:', file.fileBuffer)\r\n    console.log('ArrayBuffer :', typeof file.fileBuffer)\r\n    console.log('ArrayBuffer :', file.fileBuffer.constructor.name)\r\n    console.log('ArrayBuffer :', file.fileBuffer.byteLength)\r\n    \r\n    // \r\n    const uint8Array = new Uint8Array(file.fileBuffer)\r\n    console.log('10:', Array.from(uint8Array.slice(0, 10)))\r\n  }\r\n}\r\n\r\n","import axios from 'axios'\nimport config from '@/config'\n\n// axios - Vue\nconst api = axios.create({\n  baseURL: '', // Vue\n  timeout: config.api.timeout,\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json'\n  },\n  withCredentials: true\n})\n\n// \napi.interceptors.request.use(\n  config => {\n    // localStoragetoken\n    const token = localStorage.getItem('access_token')\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`\n    }\n    \n    // FormDataContent-Type\n    if (config.data instanceof FormData) {\n      delete config.headers['Content-Type']\n      console.log('API (FormData):', config.method?.toUpperCase(), config.url)\n      console.log('FormData ', config.data.getAll('files')?.length || 0, '')\n    } else {\n      console.log('API:', config.method?.toUpperCase(), config.url)\n      console.log(':', config.data)\n    }\n    \n    return config\n  },\n  error => {\n    console.error(':', error)\n    return Promise.reject(error)\n  }\n)\n\n// \napi.interceptors.response.use(\n  response => {\n    console.log('API:', response.status, response.data)\n    return response.data\n  },\n  error => {\n    console.error('API:', error)\n    \n    if (error.response) {\n      const { status, data } = error.response\n      console.error(':', status, data)\n      \n      if (status === 401) {\n        // token\n        localStorage.removeItem('access_token')\n        localStorage.removeItem('refresh_token')\n        localStorage.removeItem('user_info')\n        window.location.href = '/login'\n      }\n      \n      return Promise.reject(data || error)\n    } else if (error.request) {\n      console.error(':', error.request)\n      return Promise.reject(new Error(''))\n    } else {\n      console.error(':', error.message)\n      return Promise.reject(error)\n    }\n  }\n)\n\n// \nexport const TYPE_MAPPING = {\n  '': 'paper',\n  '': 'patent',\n  '': 'dataset',\n  '': 'model',\n  '': 'model',\n  '': 'report',\n  '': 'report'\n}\n\n// \nexport const TYPE_DISPLAY = {\n  'paper': '',\n  'patent': '',\n  'dataset': '',\n  'model': '',\n  'report': '',\n  'custom': ''\n}\n\n// \nexport const ACHIEVEMENT_STATUS = {\n  DRAFT: 'draft',           // \n  UNDER_REVIEW: 'under_review',  // \n  PUBLISHED: 'published',   // \n  OBSOLETE: 'obsolete'      // /\n}\n\n// \nexport const STATUS_DISPLAY = {\n  'draft': '',\n  'under_review': '',\n  'published': '',\n  'obsolete': ''\n}\n\n// \nexport const STATUS_CLASS = {\n  'draft': 'status-draft',\n  'under_review': 'status-review',\n  'published': 'status-published',\n  'obsolete': 'status-obsolete'\n}\n\n//  API\nexport const knowledgeAPI = {\n  /**\n   * \n   * @param {Object} achievementData - \n   * @param {Number} achievementData.projectId - ID ()\n   * @param {String} achievementData.title -  ()\n   * @param {String} achievementData.type -  ()\n   * @param {String} achievementData.description - \n   * @param {String} achievementData.content - \n   * @param {Array} achievementData.tags - \n   */\n  createAchievement(achievementData) {\n    console.log('[knowledgeAPI.createAchievement] , :', achievementData)\n    // \n    if (TYPE_MAPPING[achievementData.type]) {\n      achievementData.type = TYPE_MAPPING[achievementData.type]\n    }\n    return api.post('/zhiyan/achievement/create', achievementData)\n  },\n  \n  /**\n   * ID\n   * @param {Number} projectId - ID\n   * @param {Number} page - 0\n   * @param {Number} size - \n   */\n  getProjectAchievements(projectId, page = 0, size = 20) {\n    console.log('[knowledgeAPI.getProjectAchievements] , ID:', projectId)\n    return api.get(`/zhiyan/achievement/search/project/${projectId}`, {\n      params: { page, size, sortBy: 'createdAt', sortOrder: 'DESC' }\n    })\n  },\n\n  /**\n   * \n   * @param {Number} achievementId - ID\n   * @param {String} status -  (draft/under_review/published/obsolete)\n   */\n  updateAchievementStatus(achievementId, status) {\n    console.log('[knowledgeAPI.updateAchievementStatus] , ID:', achievementId, ':', status)\n    return api.patch(`/zhiyan/achievement/${achievementId}/status`, null, {\n      params: { status }\n    })\n  },\n\n  /**\n   * \n   * @param {Number} achievementId - ID\n   */\n  getAchievementDetail(achievementId) {\n    console.log('[knowledgeAPI.getAchievementDetail] , ID:', achievementId)\n    return api.get(`/zhiyan/achievement/${achievementId}`)\n  },\n\n  /**\n   * \n   * @param {Number} achievementId - ID\n   */\n  deleteAchievement(achievementId) {\n    console.log('[knowledgeAPI.deleteAchievement] , ID:', achievementId)\n    return api.delete(`/zhiyan/achievement/${achievementId}`)\n  },\n\n  /**\n   * \n   * @param {String} keyword - \n   * @param {Number} page - \n   * @param {Number} size - \n   */\n  searchAchievements(keyword, page = 0, size = 20) {\n    console.log('[knowledgeAPI.searchAchievements] , :', keyword)\n    return api.get(`/zhiyan/achievement/search/search`, {\n      params: { keyword, page, size }\n    })\n  },\n\n  /**\n   * \n   * @param {Object} queryData - \n   */\n  queryAchievements(queryData) {\n    console.log('[knowledgeAPI.queryAchievements] , :', queryData)\n    return api.post(`/zhiyan/achievement/search/query`, queryData)\n  },\n\n  /**\n   * \n   * @param {File} file - \n   * @param {Number} achievementId - ID\n   */\n  uploadFile(file, achievementId) {\n    console.log('[knowledgeAPI.uploadFile] , achievementId:', achievementId, 'fileName:', file?.name)\n    const formData = new FormData()\n    formData.append('file', file)\n    formData.append('achievementId', achievementId)\n    return api.post('/zhiyan/achievement/file/upload', formData)\n  },\n\n  /**\n   * \n   * @param {File[]} files - \n   * @param {Number} achievementId - ID\n   */\n  uploadFilesBatch(files, achievementId) {\n    console.log('[knowledgeAPI.uploadFilesBatch] , achievementId:', achievementId, 'fileCount:', files?.length)\n    const formData = new FormData()\n    files.forEach(file => {\n      formData.append('files', file)\n    })\n    formData.append('achievementId', achievementId)\n    return api.post('/zhiyan/achievement/file/upload/batch', formData)\n  },\n\n  /**\n   * \n   * @param {Number} achievementId - ID\n   */\n  getAchievementFiles(achievementId) {\n    console.log('[knowledgeAPI.getAchievementFiles] , achievementId:', achievementId)\n    return api.get(`/zhiyan/achievement/file/${achievementId}/files`)\n  },\n\n  /**\n   * \n   * @param {Number} fileId - ID\n   */\n  deleteFile(fileId) {\n    console.log('[knowledgeAPI.deleteFile] , fileId:', fileId)\n    return api.delete(`/zhiyan/achievement/file/${fileId}`)\n  },\n\n  /**\n   * URL\n   * @param {Number} fileId - ID\n   * @param {Number} expirySeconds - \n   */\n  getFileDownloadUrl(fileId, expirySeconds = 3600) {\n    console.log('[knowledgeAPI.getFileDownloadUrl] URL, fileId:', fileId)\n    return api.get(`/zhiyan/achievement/file/${fileId}/download-url`, {\n      params: { expirySeconds }\n    })\n  },\n\n  /**\n   * \n   * @param {Number} achievementId - ID\n   * @param {Object} fieldUpdates - \n   */\n  updateDetailFields(achievementId, fieldUpdates) {\n    console.log('[knowledgeAPI.updateDetailFields] , achievementId:', achievementId, 'fields:', fieldUpdates)\n    return api.patch(`/zhiyan/achievement/detail/${achievementId}/fields`, fieldUpdates)\n  }\n}\n\nexport default api\n\n","/**\r\n * \r\n * DTO\r\n */\r\n\r\nimport { TYPE_MAPPING, TYPE_DISPLAY } from '@/api/knowledge'\r\nimport { getTypeClass } from '@/utils/catalogHelpers'\r\nimport { authAPI } from '@/api/auth'\r\n\r\n/**\r\n * DTO\r\n * @param {Object} formData - \r\n * @param {Number} projectId - ID\r\n * @param {String} fileType - \r\n * @returns {Object} DTO\r\n */\r\nexport function convertToCreateDTO(formData, projectId, fileType) {\r\n  // DTO\r\n  const dto = {\r\n    projectId: projectId,\r\n    title: formData.name,\r\n    type: TYPE_MAPPING[fileType] || 'custom',\r\n    status: 'draft' // \r\n  }\r\n\r\n  // detailData\r\n  const detailData = {}\r\n  \r\n  // \r\n  if (fileType === '') {\r\n    if (formData.paperAuthors) detailData.authors = formData.paperAuthors.split(',').map(s => s.trim())\r\n    if (formData.paperTitle) detailData.title = formData.paperTitle\r\n    if (formData.journalName) detailData.journal = formData.journalName\r\n    if (formData.publishYear) detailData.publishYear = parseInt(formData.publishYear) || null\r\n    if (formData.volume) detailData.volume = formData.volume\r\n    if (formData.issue) detailData.issue = formData.issue\r\n  } else if (fileType === '') {\r\n    if (formData.patentNumber) detailData.patentNo = formData.patentNumber\r\n    if (formData.patentType) detailData.patentType = formData.patentType\r\n    if (formData.patentName) detailData.patentName = formData.patentName\r\n    if (formData.inventors) detailData.inventors = formData.inventors.split(',').map(s => s.trim())\r\n    if (formData.applicants) detailData.applicants = formData.applicants\r\n  } else if (fileType === '') {\r\n    if (formData.datasetVersion) detailData.version = formData.datasetVersion\r\n    if (formData.datasetName) detailData.datasetName = formData.datasetName\r\n    if (formData.datasetFormat) detailData.format = formData.datasetFormat\r\n    if (formData.datasetSize) detailData.size = formData.datasetSize\r\n    if (formData.datasetSource) detailData.source = formData.datasetSource\r\n  } else if (fileType === '') {\r\n    if (formData.modelFramework) detailData.framework = formData.modelFramework\r\n    if (formData.modelName) detailData.modelName = formData.modelName\r\n    if (formData.modelVersion) detailData.version = formData.modelVersion\r\n    if (formData.modelType) detailData.modelType = formData.modelType\r\n    if (formData.hyperparameters) detailData.hyperparameters = formData.hyperparameters\r\n  } else if (fileType === '') {\r\n    if (formData.reportType) detailData.reportType = formData.reportType\r\n    if (formData.reportName) detailData.reportName = formData.reportName\r\n    if (formData.reportDate) detailData.reportDate = formData.reportDate\r\n  }\r\n\r\n  // DTO\r\n  if (Object.keys(detailData).length > 0) {\r\n    dto.detailData = detailData\r\n  }\r\n\r\n  return dto\r\n}\r\n\r\n/**\r\n * DTO\r\n * @param {Object} dto - DTO\r\n * @returns {Object} \r\n */\r\nexport function convertFromDTO(dto) {\r\n  // \r\n  // creatorNamenullundefined\r\n  let uploader = null\r\n  \r\n  // creatorNamenull\r\n  if (dto.creatorName && typeof dto.creatorName === 'string' && dto.creatorName.trim() !== '') {\r\n    uploader = dto.creatorName\r\n  } else {\r\n    // \r\n    uploader = dto.creator || \r\n               dto.uploader ||\r\n               dto.username ||\r\n               dto.userName\r\n  }\r\n  \r\n  // \r\n  if (!uploader || uploader === '' || (typeof uploader === 'string' && uploader.trim && uploader.trim() === '')) {\r\n    // \r\n    if (dto.creatorUser && typeof dto.creatorUser === 'object') {\r\n      uploader = dto.creatorUser.name || dto.creatorUser.username || dto.creatorUser.nickname\r\n    } else if (dto.createdByUser && typeof dto.createdByUser === 'object') {\r\n      uploader = dto.createdByUser.name || dto.createdByUser.username || dto.createdByUser.nickname\r\n    } else if (dto.creatorInfo && typeof dto.creatorInfo === 'object') {\r\n      uploader = dto.creatorInfo.name || dto.creatorInfo.username || dto.creatorInfo.nickname\r\n    }\r\n  }\r\n  \r\n  // creatorId''\r\n  // creatorIduploader''\r\n  if (!uploader || uploader === '' || (typeof uploader === 'string' && uploader.trim() === '')) {\r\n    // creatorId''\r\n    uploader = ''\r\n  }\r\n  \r\n  // uploaderundefinednull\r\n  if (!uploader) {\r\n    uploader = ''\r\n  }\r\n  \r\n  const frontendData = {\r\n    id: dto.id,\r\n    name: dto.title,\r\n    type: TYPE_DISPLAY[dto.type] || dto.type,\r\n    typeCls: getTypeClass(TYPE_DISPLAY[dto.type] || dto.type),\r\n    uploader: uploader,\r\n    creatorId: dto.creatorId, // creatorId\r\n    time: formatDateTime(dto.createdAt),\r\n    fileCount: dto.fileCount || 0,\r\n    files: [] // DTO\r\n  }\r\n\r\n  // \r\n  if (dto.detailData) {\r\n    const detail = dto.detailData\r\n    \r\n    if (dto.type === 'paper') {\r\n      frontendData.paperAuthors = Array.isArray(detail.authors) ? detail.authors.join(', ') : detail.authors\r\n      frontendData.paperTitle = detail.title\r\n      frontendData.journalName = detail.journal\r\n      frontendData.publishYear = detail.publishYear\r\n      frontendData.volume = detail.volume\r\n      frontendData.issue = detail.issue\r\n    } else if (dto.type === 'patent') {\r\n      frontendData.patentNumber = detail.patentNo\r\n      frontendData.patentType = detail.patentType\r\n      frontendData.patentName = detail.patentName\r\n      frontendData.inventors = Array.isArray(detail.inventors) ? detail.inventors.join(', ') : detail.inventors\r\n      frontendData.applicants = detail.applicants\r\n    } else if (dto.type === 'dataset') {\r\n      frontendData.datasetVersion = detail.version\r\n      frontendData.datasetName = detail.datasetName\r\n      frontendData.datasetFormat = detail.format\r\n      frontendData.datasetSize = detail.size\r\n      frontendData.datasetSource = detail.source\r\n    } else if (dto.type === 'model') {\r\n      frontendData.modelFramework = detail.framework\r\n      frontendData.modelName = detail.modelName\r\n      frontendData.modelVersion = detail.version\r\n      frontendData.modelType = detail.modelType\r\n      frontendData.hyperparameters = detail.hyperparameters\r\n    } else if (dto.type === 'report') {\r\n      frontendData.reportType = detail.reportType\r\n      frontendData.reportName = detail.reportName\r\n      frontendData.reportDate = detail.reportDate\r\n    }\r\n  }\r\n\r\n  return frontendData\r\n}\r\n\r\n/**\r\n * \r\n */\r\nfunction formatDateTime(dateString) {\r\n  if (!dateString) return ''\r\n  \r\n  try {\r\n    const date = new Date(dateString)\r\n    return date.toLocaleString('zh-CN', {\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    })\r\n  } catch (e) {\r\n    return dateString\r\n  }\r\n}\r\n\r\n/**\r\n * \r\n * @param {Object} editForm - \r\n * @param {String} achievementType - \r\n * @returns {Object} \r\n */\r\nexport function convertEditFormToFieldUpdates(editForm, achievementType) {\r\n  const fieldUpdates = {}\r\n  \r\n  if (achievementType === '') {\r\n    if (editForm.paperAuthors) fieldUpdates.authors = editForm.paperAuthors.split(',').map(s => s.trim())\r\n    if (editForm.paperTitle) fieldUpdates.title = editForm.paperTitle\r\n    if (editForm.journalName) fieldUpdates.journal = editForm.journalName\r\n    if (editForm.publishYear) fieldUpdates.publishYear = parseInt(editForm.publishYear) || null\r\n    if (editForm.volume) fieldUpdates.volume = editForm.volume\r\n    if (editForm.issue) fieldUpdates.issue = editForm.issue\r\n  } else if (achievementType === '') {\r\n    if (editForm.patentNumber) fieldUpdates.patentNo = editForm.patentNumber\r\n    if (editForm.patentType) fieldUpdates.patentType = editForm.patentType\r\n    if (editForm.patentName) fieldUpdates.patentName = editForm.patentName\r\n    if (editForm.inventors) fieldUpdates.inventors = editForm.inventors.split(',').map(s => s.trim())\r\n    if (editForm.applicants) fieldUpdates.applicants = editForm.applicants\r\n  } else if (achievementType === '') {\r\n    if (editForm.datasetVersion) fieldUpdates.version = editForm.datasetVersion\r\n    if (editForm.datasetName) fieldUpdates.datasetName = editForm.datasetName\r\n    if (editForm.datasetFormat) fieldUpdates.format = editForm.datasetFormat\r\n    if (editForm.datasetSize) fieldUpdates.size = editForm.datasetSize\r\n    if (editForm.datasetSource) fieldUpdates.source = editForm.datasetSource\r\n  } else if (achievementType === '') {\r\n    if (editForm.modelFramework) fieldUpdates.framework = editForm.modelFramework\r\n    if (editForm.modelName) fieldUpdates.modelName = editForm.modelName\r\n    if (editForm.modelVersion) fieldUpdates.version = editForm.modelVersion\r\n    if (editForm.modelType) fieldUpdates.modelType = editForm.modelType\r\n    if (editForm.hyperparameters) fieldUpdates.hyperparameters = editForm.hyperparameters\r\n  } else if (achievementType === '') {\r\n    if (editForm.reportType) fieldUpdates.reportType = editForm.reportType\r\n    if (editForm.reportName) fieldUpdates.reportName = editForm.reportName\r\n    if (editForm.reportDate) fieldUpdates.reportDate = editForm.reportDate\r\n  }\r\n  \r\n  return fieldUpdates\r\n}\r\n\r\n","<template>\r\n  <div class=\"catalog-view\">\r\n    <div class=\"page-header\">\r\n      <div class=\"header-content\">\r\n        <div class=\"header-title-section\">\r\n          <h1 class=\"page-title\">\r\n            <span class=\"title-text\"></span>\r\n            <div class=\"title-decoration\"></div>\r\n          </h1>\r\n          <p class=\"page-subtitle\">\r\n            <svg class=\"subtitle-icon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"2\"/>\r\n              <path d=\"M12 16V12M12 8H12.01\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\r\n            </svg>\r\n            \r\n          </p>\r\n        </div>\r\n        <button class=\"archive-toggle-btn\" @click=\"showArchivePanel = !showArchivePanel\">\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M19 2H5C3.9 2 3 2.9 3 4V20C3 21.1 3.9 22 5 22H19C20.1 22 21 21.1 21 20V4C21 2.9 20.1 2 19 2ZM5 4H8V9H5V4ZM10 4H13V9H10V4ZM8 11V20H5V11H8ZM10 11V20H13V11H10ZM19 20H15V11H19V20ZM15 9V4H19V9H15Z\" fill=\"currentColor\"/>\r\n          </svg>\r\n          <span></span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"section-card add-achievement-section\">\r\n      <div class=\"section-title small\"></div>\r\n      <div class=\"add-grid\">\r\n        <div class=\"add-card\">\r\n          <div class=\"add-head\">\r\n            <span class=\"dot dot-blue\"></span>\r\n            <span class=\"add-name\"></span>\r\n          </div>\r\n          <div class=\"add-desc\"></div>\r\n          <button class=\"add-btn\" @click=\"uploadFile('')\"></button>\r\n        </div>\r\n        <div class=\"add-card\">\r\n          <div class=\"add-head\">\r\n            <span class=\"dot dot-orange\"></span>\r\n            <span class=\"add-name\"></span>\r\n          </div>\r\n          <div class=\"add-desc\"></div>\r\n          <button class=\"add-btn\" @click=\"uploadFile('')\"></button>\r\n        </div>\r\n        <div class=\"add-card\">\r\n          <div class=\"add-head\">\r\n            <span class=\"dot dot-green\"></span>\r\n            <span class=\"add-name\"></span>\r\n          </div>\r\n          <div class=\"add-desc\"></div>\r\n          <button class=\"add-btn\" @click=\"uploadFile('')\"></button>\r\n        </div>\r\n        <div class=\"add-card\">\r\n          <div class=\"add-head\">\r\n            <span class=\"dot dot-purple\"></span>\r\n            <span class=\"add-name\"></span>\r\n          </div>\r\n          <div class=\"add-desc\"></div>\r\n          <button class=\"add-btn\" @click=\"uploadFile('')\"></button>\r\n        </div>\r\n        <div class=\"add-card\">\r\n          <div class=\"add-head\">\r\n            <span class=\"dot dot-yellow\"></span>\r\n            <span class=\"add-name\"></span>\r\n          </div>\r\n          <div class=\"add-desc\"></div>\r\n          <button class=\"add-btn\" @click=\"uploadFile('')\"></button>\r\n        </div>\r\n        <div class=\"add-card\">\r\n          <div class=\"add-head\">\r\n            <span class=\"dot dot-pink\"></span>\r\n            <span class=\"add-name\"></span>\r\n          </div>\r\n          <div class=\"add-desc\"></div>\r\n          <button class=\"add-btn\" @click=\"createCustomType\"></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <input \r\n      ref=\"fileInput\" \r\n      type=\"file\" \r\n      multiple\r\n      style=\"display: none\" \r\n      @change=\"handleFileSelect\"\r\n      :accept=\"showViewDialog ? '*' : fileAccept\"\r\n    />\r\n\r\n    <!--  -->\r\n    <div v-if=\"showUploadDialog\" class=\"upload-dialog-overlay\" @click=\"closeUploadDialog\">\r\n      <div class=\"upload-dialog\" @click.stop>\r\n        <div class=\"dialog-header\">\r\n          <div class=\"dialog-title-section\">\r\n            <span class=\"file-type-badge\" :class=\"getTypeClass(currentFileType)\">{{ currentFileType }}</span>\r\n            <h3>{{ isAddingToExisting ? '' : '' + currentFileType }}</h3>\r\n          </div>\r\n          <button class=\"close-btn\" @click=\"closeUploadDialog\"></button>\r\n        </div>\r\n        <div class=\"dialog-content\">\r\n          <!--  -->\r\n          <div v-if=\"!isAddingToExisting\" class=\"form-group\">\r\n            <label></label>\r\n            <input \r\n              v-model=\"achievementForm.name\" \r\n              type=\"text\" \r\n              placeholder=\"\"\r\n              class=\"form-input\"\r\n            />\r\n          </div>\r\n          \r\n          <!--  -->\r\n          <div v-if=\"isAddingToExisting\" class=\"form-group\">\r\n            <div class=\"existing-achievement-info\">\r\n              <span class=\"info-label\"></span>\r\n              <span class=\"achievement-name\">{{ getTargetAchievementName() }}</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <!--  -  -->\r\n          <div class=\"form-group\">\r\n            <label></label>\r\n            <div class=\"description-fields\">\r\n              <!--  -->\r\n              <template v-if=\"currentFileType === ''\">\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.paperAuthors\" \r\n                    type=\"text\" \r\n                    placeholder=\"\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.paperTitle\" \r\n                    type=\"text\" \r\n                    placeholder=\"\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.journalName\" \r\n                    type=\"text\" \r\n                    placeholder=\"\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.publishYear\" \r\n                    type=\"text\" \r\n                    placeholder=\"\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.volume\" \r\n                    type=\"text\" \r\n                    placeholder=\"\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.issue\" \r\n                    type=\"text\" \r\n                    placeholder=\"\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n              </template>\r\n              \r\n              <!--  -->\r\n              <template v-else-if=\"currentFileType === ''\">\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.patentNumber\" \r\n                    type=\"text\" \r\n                    placeholder=\"\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.patentType\" \r\n                    type=\"text\" \r\n                    placeholder=\"\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.patentName\" \r\n                    type=\"text\" \r\n                    placeholder=\"\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.inventors\" \r\n                    type=\"text\" \r\n                    placeholder=\"\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.applicants\" \r\n                    type=\"text\" \r\n                    placeholder=\"\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n              </template>\r\n              \r\n              <!--  -->\r\n              <template v-else-if=\"currentFileType === ''\">\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.datasetVersion\" \r\n                    type=\"text\" \r\n                    placeholder=\"v1.0\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.datasetName\" \r\n                    type=\"text\" \r\n                    placeholder=\"\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.datasetFormat\" \r\n                    type=\"text\" \r\n                    placeholder=\"CSV, JSON, XML\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.datasetSize\" \r\n                    type=\"text\" \r\n                    placeholder=\"10\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.datasetSource\" \r\n                    type=\"text\" \r\n                    placeholder=\"\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n              </template>\r\n              \r\n              <!--  -->\r\n              <template v-else-if=\"currentFileType === ''\">\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.modelFramework\" \r\n                    type=\"text\" \r\n                    placeholder=\"TensorFlow, PyTorch, Keras\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.modelName\" \r\n                    type=\"text\" \r\n                    placeholder=\"\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.modelVersion\" \r\n                    type=\"text\" \r\n                    placeholder=\"v1.0, v2.1\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.modelType\" \r\n                    type=\"text\" \r\n                    placeholder=\"CNN, RNN, Transformer\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.hyperparameters\" \r\n                    type=\"text\" \r\n                    placeholder=\"learning_rate=0.001, batch_size=32\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n              </template>\r\n              \r\n              <!--  -->\r\n              <template v-else-if=\"currentFileType === ''\">\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.reportType\" \r\n                    type=\"text\" \r\n                    placeholder=\"\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.reportName\" \r\n                    type=\"text\" \r\n                    placeholder=\"\"\r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n                <div class=\"description-row\">\r\n                  <div class=\"description-label\"></div>\r\n                  <input \r\n                    v-model=\"achievementForm.reportDate\" \r\n                    type=\"date\" \r\n                    class=\"form-input\"\r\n                  />\r\n                </div>\r\n              </template>\r\n            </div>\r\n          </div>\r\n          \r\n          <!--  -->\r\n          <div class=\"form-group\">\r\n            <label></label>\r\n            <div class=\"file-upload-area\">\r\n              <div class=\"uploaded-files\" v-if=\"achievementForm.files.length > 0\">\r\n                <div \r\n                  v-for=\"(file, index) in achievementForm.files\" \r\n                  :key=\"index\" \r\n                  class=\"file-item\"\r\n                >\r\n                  <div class=\"file-info\">\r\n                    <span class=\"file-icon\"></span>\r\n                    <span class=\"file-name\">{{ file.name }}</span>\r\n                    <span class=\"file-size\">({{ formatFileSize(file.size) }})</span>\r\n                  </div>\r\n                  <button class=\"remove-file-btn\" @click=\"removeFile(index)\" title=\"\">\r\n                    \r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div class=\"upload-zone\" @click=\"triggerFileSelect\">\r\n                <svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  <path d=\"M17 8L12 3L7 8\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  <path d=\"M12 3V15\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n                <p></p>\r\n                <p class=\"upload-hint\"></p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"dialog-actions\">\r\n            <button class=\"btn secondary\" @click=\"closeUploadDialog\"></button>\r\n            <button \r\n              class=\"btn primary\" \r\n              @click=\"confirmUpload\" \r\n              :disabled=\"(!isAddingToExisting && !achievementForm.name.trim()) || achievementForm.files.length === 0\"\r\n            >\r\n              \r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"showCustomDialog\" class=\"upload-dialog-overlay\" @click=\"closeCustomDialog\">\r\n      <div class=\"upload-dialog\" @click.stop>\r\n        <div class=\"dialog-header\">\r\n          <div class=\"dialog-title-section\">\r\n            <span class=\"file-type-badge doc\">{{ customUploadForm.typeName || '' }}</span>\r\n            <h3></h3>\r\n          </div>\r\n          <button class=\"close-btn\" @click=\"closeCustomDialog\"></button>\r\n        </div>\r\n        <div class=\"dialog-content\">\r\n          <!--  -->\r\n          <div class=\"form-group\">\r\n            <label></label>\r\n            <input \r\n              v-model=\"customUploadForm.typeName\" \r\n              type=\"text\" \r\n              placeholder=\"\"\r\n              class=\"form-input\"\r\n            />\r\n          </div>\r\n\r\n          <!--  -->\r\n          <div class=\"form-group\">\r\n            <label></label>\r\n            <input \r\n              v-model=\"customUploadForm.name\" \r\n              type=\"text\" \r\n              placeholder=\"\"\r\n              class=\"form-input\"\r\n            />\r\n          </div>\r\n\r\n          <!--  -  -->\r\n          <div class=\"form-group\">\r\n            <label></label>\r\n            <div class=\"description-fields\">\r\n              <div \r\n                v-for=\"(desc, index) in customUploadForm.descriptions\" \r\n                :key=\"index\" \r\n                class=\"description-field\"\r\n              >\r\n                <div class=\"description-row\">\r\n                  <input \r\n                    v-model=\"desc.leftField\"\r\n                    type=\"text\" \r\n                    placeholder=\"\"\r\n                    class=\"form-input form-input-small\"\r\n                  />\r\n                  <input \r\n                    v-model=\"desc.rightField\"\r\n                    type=\"text\" \r\n                    placeholder=\"\"\r\n                    class=\"form-input form-input-large\"\r\n                  />\r\n                  <button \r\n                    v-if=\"customUploadForm.descriptions.length > 1\"\r\n                    class=\"remove-desc-btn\" \r\n                    @click=\"removeCustomDescription(index)\"\r\n                    title=\"\"\r\n                  >\r\n                    \r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <button class=\"add-desc-btn\" @click=\"addCustomDescription\">\r\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M12 5V19M5 12H19\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n                \r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <!--  -->\r\n          <div class=\"form-group\">\r\n            <label></label>\r\n            <div class=\"file-upload-area\">\r\n              <div class=\"uploaded-files\" v-if=\"customUploadForm.files.length > 0\">\r\n                <div \r\n                  v-for=\"(file, index) in customUploadForm.files\" \r\n                  :key=\"index\" \r\n                  class=\"file-item\"\r\n                >\r\n                  <div class=\"file-info\">\r\n                    <span class=\"file-icon\"></span>\r\n                    <span class=\"file-name\">{{ file.name }}</span>\r\n                    <span class=\"file-size\">({{ formatFileSize(file.size) }})</span>\r\n                  </div>\r\n                  <button class=\"remove-file-btn\" @click=\"removeCustomFile(index)\" title=\"\">\r\n                    \r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div class=\"upload-zone\" @click=\"triggerCustomFileSelect\">\r\n                <svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  <path d=\"M17 8L12 3L7 8\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  <path d=\"M12 3V15\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n                <p></p>\r\n                <p class=\"upload-hint\"></p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"dialog-actions\">\r\n            <button class=\"btn secondary\" @click=\"closeCustomDialog\"></button>\r\n            <button \r\n              class=\"btn primary\" \r\n              @click=\"confirmCustomType\" \r\n              :disabled=\"!customUploadForm.typeName.trim() || !customUploadForm.name.trim() || customUploadForm.files.length === 0\"\r\n            >\r\n              \r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"showViewDialog\" class=\"file-view-overlay\" @click=\"closeViewDialog\">\r\n      <div class=\"file-view-dialog\" @click.stop>\r\n        <div class=\"file-view-header\">\r\n          <div class=\"file-info\">\r\n            <div class=\"achievement-badge\" :class=\"viewingFile?.typeCls\">\r\n              <span class=\"achievement-icon\">{{ getFileIcon(viewingFile?.name || '') }}</span>\r\n            </div>\r\n            <div class=\"achievement-info\">\r\n              <h3>{{ viewingFile?.name }}</h3>\r\n              <div v-if=\"viewingFile?.fileCount && viewingFile.fileCount > 1\" class=\"file-count-info\">\r\n                <span class=\"count-icon\"></span>\r\n                 {{ viewingFile.fileCount }} \r\n              </div>\r\n            </div>\r\n          </div>\r\n          <button class=\"close-btn\" @click=\"closeViewDialog\">\r\n            <svg width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        <div class=\"file-view-content\">\r\n          <!--  -->\r\n          <div v-if=\"viewingFile?.files && viewingFile.files.length > 1\" class=\"multi-file-content\">\r\n            <div class=\"file-list\">\r\n              <div \r\n                v-for=\"(file, index) in viewingFile.files\" \r\n                :key=\"file.id || index\"\r\n                class=\"file-item\"\r\n                :class=\"{ active: selectedFileIndex === index }\"\r\n                @click=\"selectFile(index)\"\r\n              >\r\n                <div class=\"file-item-info\">\r\n                  <div class=\"file-icon-wrapper\">\r\n                    <span class=\"file-icon\">{{ getFileIcon(file.name) }}</span>\r\n                  </div>\r\n                  <div class=\"file-details\">\r\n                    <div class=\"file-name\" :title=\"file.name\">{{ file.name || file.originalFileName || '' }}</div>\r\n                    <div class=\"file-meta\">\r\n                      <span class=\"file-size\">{{ formatFileSize(file.size) }}</span>\r\n                      <span class=\"file-separator\"></span>\r\n                      <span class=\"file-type\">{{ getFileTypeDisplay(file.type) }}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"file-actions\">\r\n                  <button class=\"action-btn download-btn\" @click.stop=\"downloadSingleFile(file)\" title=\"\">\r\n                    <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\" stroke=\"currentColor\" stroke-width=\"2\"/>\r\n                      <path d=\"M17 8L12 3L7 8\" stroke=\"currentColor\" stroke-width=\"2\"/>\r\n                      <path d=\"M12 3V15\" stroke=\"currentColor\" stroke-width=\"2\"/>\r\n                    </svg>\r\n                  </button>\r\n                  <button class=\"action-btn delete-btn\" @click.stop=\"deleteSingleFile(file, index)\" title=\"\">\r\n                    <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M3 6H5H21M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z\" stroke=\"currentColor\" stroke-width=\"2\"/>\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <!--  -->\r\n            <div v-if=\"viewingFile\" class=\"achievement-description\">\r\n                <div class=\"description-header\">\r\n                <div class=\"detail-label\"></div>\r\n                  <button class=\"edit-btn\" @click=\"toggleEditMode\" v-if=\"!isEditingDescription\">\r\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                      <path d=\"M18.5 2.5C18.8978 2.10218 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10218 21.5 2.5C21.8978 2.89782 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10218 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    </svg>\r\n                    \r\n                  </button>\r\n                  <div v-else class=\"edit-actions\">\r\n                    <button class=\"save-btn\" @click=\"saveDescriptionChanges\"></button>\r\n                    <button class=\"cancel-btn\" @click=\"cancelEditMode\"></button>\r\n                  </div>\r\n                  </div>\r\n                \r\n                <!--  -->\r\n                <div v-if=\"!isEditingDescription\" class=\"description-content\">\r\n                  <!--  -->\r\n                  <div v-if=\"viewingFile.type === ''\" class=\"description-fields\">\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.paperAuthors || '' }}</span>\r\n                  </div>\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.paperTitle || '' }}</span>\r\n                  </div>\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.journalName || '' }}</span>\r\n                  </div>\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.publishYear || '' }}</span>\r\n                    </div>\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.volume || '' }}</span>\r\n                  </div>\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.issue || '' }}</span>\r\n                </div>\r\n              </div>\r\n                  \r\n                  <!--  -->\r\n                  <div v-else-if=\"viewingFile.type === ''\" class=\"description-fields\">\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.patentNumber || '' }}</span>\r\n                    </div>\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.patentType || '' }}</span>\r\n                    </div>\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.patentName || '' }}</span>\r\n                    </div>\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.inventors || '' }}</span>\r\n                    </div>\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.applicants || '' }}</span>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <!--  -->\r\n                  <div v-else-if=\"viewingFile.type === ''\" class=\"description-fields\">\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.datasetVersion || '' }}</span>\r\n                    </div>\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.datasetName || '' }}</span>\r\n                    </div>\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.datasetFormat || '' }}</span>\r\n                    </div>\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.datasetSize || '' }}</span>\r\n                    </div>\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.datasetSource || '' }}</span>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <!--  -->\r\n                  <div v-else-if=\"viewingFile.type === ''\" class=\"description-fields\">\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.modelFramework || '' }}</span>\r\n                    </div>\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.modelName || '' }}</span>\r\n                    </div>\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.modelVersion || '' }}</span>\r\n                    </div>\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.modelType || '' }}</span>\r\n                    </div>\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.hyperparameters || '' }}</span>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <!--  -->\r\n                  <div v-else-if=\"viewingFile.type === ''\" class=\"description-fields\">\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.reportType || '' }}</span>\r\n                    </div>\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.reportName || '' }}</span>\r\n                    </div>\r\n                    <div class=\"description-item\">\r\n                      <span class=\"desc-label\"></span>\r\n                      <span class=\"desc-value\">{{ viewingFile.reportDate || '' }}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <!--  -->\r\n                <div v-else class=\"description-edit-form\">\r\n                  <div class=\"edit-fields\">\r\n                    <!--  -->\r\n                    <template v-if=\"viewingFile.type === ''\">\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.paperAuthors\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.paperTitle\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.journalName\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.publishYear\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.volume\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.issue\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                    </template>\r\n                    \r\n                    <!--  -->\r\n                    <template v-else-if=\"viewingFile.type === ''\">\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.patentNumber\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.patentType\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.patentName\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.inventors\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.applicants\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                    </template>\r\n                    \r\n                    <!--  -->\r\n                    <template v-else-if=\"viewingFile.type === ''\">\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.datasetVersion\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.datasetName\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.datasetFormat\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.datasetSize\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.datasetSource\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                    </template>\r\n                    \r\n                    <!--  -->\r\n                    <template v-else-if=\"viewingFile.type === ''\">\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.modelFramework\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.modelName\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.modelVersion\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.modelType\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.hyperparameters\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                    </template>\r\n                    \r\n                    <!--  -->\r\n                    <template v-else-if=\"viewingFile.type === ''\">\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.reportType\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.reportName\" type=\"text\" placeholder=\"\" />\r\n                      </div>\r\n                      <div class=\"edit-field\">\r\n                        <label></label>\r\n                        <input v-model=\"editForm.reportDate\" type=\"date\" />\r\n                      </div>\r\n                    </template>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <!--  -->\r\n            </div>\r\n          \r\n          <!--  -->\r\n          <div v-else>\r\n            <!--  -->\r\n            <div v-if=\"fileContentType === 'text'\" class=\"text-content\">\r\n              <div class=\"content-header\">\r\n                <h4></h4>\r\n                <div class=\"content-actions\">\r\n                  <button v-if=\"!isEditingContent\" class=\"edit-content-btn\" @click=\"toggleContentEdit\">\r\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                      <path d=\"M18.5 2.5C18.8978 2.10218 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10218 21.5 2.5C21.8978 2.89782 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10218 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    </svg>\r\n                    \r\n                  </button>\r\n                  <div v-else class=\"content-edit-actions\">\r\n                    <button class=\"save-content-btn\" @click=\"saveContentChanges\" :disabled=\"!hasContentChanges\"></button>\r\n                    <button class=\"cancel-content-btn\" @click=\"cancelContentEdit\"></button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"content-body\">\r\n                <pre v-if=\"!isEditingContent\" class=\"content-display\">{{ fileContent }}</pre>\r\n                <textarea \r\n                  v-else \r\n                  v-model=\"editableContent\" \r\n                  class=\"content-editor\"\r\n                  @input=\"markContentChanged\"\r\n                  placeholder=\"...\"\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n            \r\n            <!--  -->\r\n            <div v-else-if=\"fileContentType === 'image'\" class=\"image-content\">\r\n              <img :src=\"fileContent\" :alt=\"viewingFile?.name\" />\r\n            </div>\r\n            \r\n            <!-- PDF -->\r\n            <div v-else-if=\"fileContentType === 'pdf'\" class=\"pdf-content\">\r\n              <iframe :src=\"fileContent\" width=\"100%\" height=\"500px\"></iframe>\r\n            </div>\r\n            \r\n            <!--  -->\r\n            <div v-else-if=\"fileContentType === 'info'\" class=\"info-content\">\r\n              <div class=\"file-details\">\r\n                <div class=\"detail-item\">\r\n                  <span class=\"detail-label\"></span>\r\n                  <span class=\"detail-value\">{{ fileContent.name }}</span>\r\n                </div>\r\n                <div class=\"detail-item\">\r\n                  <span class=\"detail-label\"></span>\r\n                  <span class=\"detail-value\">{{ fileContent.type }}</span>\r\n                </div>\r\n                <div class=\"detail-item\">\r\n                  <span class=\"detail-label\"></span>\r\n                  <span class=\"detail-value\">{{ fileContent.uploader }}</span>\r\n                </div>\r\n                <div class=\"detail-item\">\r\n                  <span class=\"detail-label\"></span>\r\n                  <span class=\"detail-value\">{{ fileContent.time }}</span>\r\n                </div>\r\n                <div class=\"detail-item\">\r\n                  <span class=\"detail-label\"></span>\r\n                  <span class=\"detail-value\">{{ fileContent.size }}</span>\r\n                </div>\r\n                \r\n                <!--  -->\r\n                <div v-if=\"viewingFile\" class=\"achievement-description\">\r\n                  <div class=\"description-header\">\r\n                  <div class=\"detail-label\"></div>\r\n                    <button class=\"edit-btn\" @click=\"toggleEditMode\" v-if=\"!isEditingDescription\"></button>\r\n                    <div v-else class=\"edit-actions\">\r\n                      <button class=\"save-btn\" @click=\"saveDescriptionChanges\"></button>\r\n                      <button class=\"cancel-btn\" @click=\"cancelEditMode\"></button>\r\n                    </div>\r\n                    </div>\r\n\r\n                  <!-- \"\" -->\r\n                  <div v-if=\"!isEditingDescription\" class=\"description-content\">\r\n                    <div v-if=\"viewingFile.type === ''\" class=\"description-fields\">\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.paperAuthors || '' }}</span></div>\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.paperTitle || '' }}</span></div>\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.journalName || '' }}</span></div>\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.publishYear || '' }}</span></div>\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.volume || '' }}</span></div>\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.issue || '' }}</span></div>\r\n                    </div>\r\n\r\n                    <div v-else-if=\"viewingFile.type === ''\" class=\"description-fields\">\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.patentNumber || '' }}</span></div>\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.patentType || '' }}</span></div>\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.patentName || '' }}</span></div>\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.inventors || '' }}</span></div>\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.applicants || '' }}</span></div>\r\n                    </div>\r\n\r\n                    <div v-else-if=\"viewingFile.type === ''\" class=\"description-fields\">\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.datasetVersion || '' }}</span></div>\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.datasetName || '' }}</span></div>\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.datasetFormat || '' }}</span></div>\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.datasetSize || '' }}</span></div>\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.datasetSource || '' }}</span></div>\r\n                    </div>\r\n\r\n                    <div v-else-if=\"viewingFile.type === ''\" class=\"description-fields\">\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.modelFramework || '' }}</span></div>\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.modelName || '' }}</span></div>\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.modelVersion || '' }}</span></div>\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.modelType || '' }}</span></div>\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.hyperparameters || '' }}</span></div>\r\n                      </div>\r\n\r\n                    <div v-else-if=\"viewingFile.type === ''\" class=\"description-fields\">\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.reportType || '' }}</span></div>\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.reportName || '' }}</span></div>\r\n                      <div class=\"description-item\"><span class=\"desc-label\"></span><span class=\"desc-value\">{{ viewingFile.reportDate || '' }}</span></div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <!--  -->\r\n                  <div v-else class=\"description-edit-form\">\r\n                    <div class=\"edit-fields\">\r\n                      <template v-if=\"viewingFile.type === ''\">\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.paperAuthors\" type=\"text\" placeholder=\"\" /></div>\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.paperTitle\" type=\"text\" placeholder=\"\" /></div>\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.journalName\" type=\"text\" placeholder=\"\" /></div>\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.publishYear\" type=\"text\" placeholder=\"\" /></div>\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.volume\" type=\"text\" placeholder=\"\" /></div>\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.issue\" type=\"text\" placeholder=\"\" /></div>\r\n                      </template>\r\n\r\n                      <template v-else-if=\"viewingFile.type === ''\">\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.patentNumber\" type=\"text\" placeholder=\"\" /></div>\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.patentType\" type=\"text\" placeholder=\"\" /></div>\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.patentName\" type=\"text\" placeholder=\"\" /></div>\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.inventors\" type=\"text\" placeholder=\"\" /></div>\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.applicants\" type=\"text\" placeholder=\"\" /></div>\r\n                      </template>\r\n\r\n                      <template v-else-if=\"viewingFile.type === ''\">\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.datasetVersion\" type=\"text\" placeholder=\"\" /></div>\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.datasetName\" type=\"text\" placeholder=\"\" /></div>\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.datasetFormat\" type=\"text\" placeholder=\"\" /></div>\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.datasetSize\" type=\"text\" placeholder=\"\" /></div>\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.datasetSource\" type=\"text\" placeholder=\"\" /></div>\r\n                      </template>\r\n\r\n                      <template v-else-if=\"viewingFile.type === ''\">\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.modelFramework\" type=\"text\" placeholder=\"\" /></div>\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.modelName\" type=\"text\" placeholder=\"\" /></div>\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.modelVersion\" type=\"text\" placeholder=\"\" /></div>\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.modelType\" type=\"text\" placeholder=\"\" /></div>\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.hyperparameters\" type=\"text\" placeholder=\"\" /></div>\r\n                      </template>\r\n\r\n                      <template v-else-if=\"viewingFile.type === ''\">\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.reportType\" type=\"text\" placeholder=\"\" /></div>\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.reportName\" type=\"text\" placeholder=\"\" /></div>\r\n                        <div class=\"edit-field\"><label></label><input v-model=\"editForm.reportDate\" type=\"date\" /></div>\r\n                      </template>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"file-preview-notice\">\r\n                <p></p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"file-view-footer\">\r\n          <div class=\"footer-left\">\r\n            <button class=\"add-file-btn\" @click=\"showAddFileDialog\">\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M12 5V19M5 12H19\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n              \r\n            </button>\r\n            <div class=\"status-selector\">\r\n              <label></label>\r\n              <select \r\n                v-model=\"viewingFile.status\" \r\n                @change=\"handleStatusChange\"\r\n                class=\"status-select\"\r\n              >\r\n                <option value=\"draft\"></option>\r\n                <option value=\"under_review\"></option>\r\n                <option value=\"published\"></option>\r\n                <option value=\"obsolete\"></option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div class=\"footer-right\">\r\n          <button class=\"btn secondary\" @click=\"closeViewDialog\"></button>\r\n          <button v-if=\"viewingFile?.files && viewingFile.files.length > 1\" class=\"btn primary\" @click=\"downloadAllFiles(viewingFile)\"></button>\r\n          <button v-else class=\"btn primary\" @click=\"downloadFile(viewingFile)\"></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"showArchivePanel\" class=\"archive-overlay\" @click=\"showArchivePanel = false\"></div>\r\n    \r\n    <!--  -->\r\n    <div class=\"archive-slide-panel notranslate\" :class=\"{ 'open': showArchivePanel }\" translate=\"no\">\r\n      <div class=\"panel-header\">\r\n        <div class=\"panel-title\"></div>\r\n        <button class=\"panel-close-btn\" @click=\"showArchivePanel = false\">\r\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n      \r\n      <div class=\"panel-content\">\r\n        <!--  -->\r\n        <div class=\"search-section\">\r\n          <div class=\"search-container\">\r\n            <input \r\n              v-model=\"searchText\" \r\n              type=\"text\" \r\n              placeholder=\"...\" \r\n              class=\"search-input\"\r\n              @input=\"onSearchInput\"\r\n            />\r\n            <div class=\"search-icon\">\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M21 21L16.514 16.506L21 21ZM19 10.5C19 15.194 15.194 19 10.5 19C5.806 19 2 15.194 2 10.5C2 5.806 5.806 2 10.5 2C15.194 2 19 5.806 19 10.5Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n            </div>\r\n            <button \r\n              v-if=\"searchText\" \r\n              @click=\"clearSearch\" \r\n              class=\"clear-search-btn\"\r\n              title=\"\"\r\n            >\r\n              <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n          <div v-if=\"searchText\" class=\"search-results-info\">\r\n             {{ filteredFiles.length }} \r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"table-wrap\">\r\n          <table class=\"doc-table\">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th></th>\r\n                <th></th>\r\n                <th></th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"row in paginatedFiles\" :key=\"row.id\">\r\n                <td class=\"filename\">\r\n                  <span class=\"file-dot\" :class=\"row.typeCls\"></span>\r\n                  <div class=\"file-info\">\r\n                    <div class=\"file-name\">{{ row.name }}</div>\r\n                    <div v-if=\"row.fileCount && row.fileCount > 1\" class=\"file-count\"> {{ row.fileCount }} </div>\r\n                  </div>\r\n                </td>\r\n                <td>{{ row.type }}</td>\r\n                <td>{{ row.uploader }}</td>\r\n                <td>{{ row.time }}</td>\r\n                <td class=\"ops\">\r\n                  <a href=\"#\" @click.prevent=\"viewFile(row)\"></a>\r\n                  <a href=\"#\" @click.prevent=\"downloadAllFiles(row)\" v-if=\"row.files && row.files.length > 1\"></a>\r\n                  <a href=\"#\" @click.prevent=\"downloadFile(row)\" v-else></a>\r\n                  <a href=\"#\" @click.prevent=\"deleteFile(row)\" class=\"delete-link\"></a>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <div class=\"pagination line\">\r\n          <span class=\"pager-text\">{{ paginationInfo }}</span>\r\n          <div class=\"pager-group\">\r\n            <button \r\n              class=\"pager small\" \r\n              :disabled=\"currentPage === 1\"\r\n              @click=\"goToPage(currentPage - 1)\"\r\n            ></button>\r\n            <button \r\n              v-for=\"page in visiblePages\" \r\n              :key=\"page\"\r\n              class=\"page-num small\" \r\n              :class=\"{ active: page === currentPage }\"\r\n              @click=\"goToPage(page)\"\r\n            >{{ page }}</button>\r\n            <button \r\n              class=\"pager small\" \r\n              :disabled=\"currentPage === totalPages\"\r\n              @click=\"goToPage(currentPage + 1)\"\r\n            ></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { eventBus, EventTypes } from '@/utils/eventBus'\r\nimport { \r\n  formatFileSize, \r\n  getFileIcon, \r\n  getFileExtension, \r\n  getMimeType, \r\n  getFileTypeDisplay,\r\n  getTypeClass,\r\n  getFileAccept,\r\n  isTextFile,\r\n  isImageFile,\r\n  isPdfFile,\r\n  createPlaceholderContent,\r\n  escapeHtml\r\n} from '@/utils/catalogHelpers'\r\nimport { saveToLocalStorage, loadFromLocalStorage, updateFileContentInStorage } from '@/utils/catalogStorage'\r\nimport { downloadFile, downloadSingleFile, downloadAllFiles, loadTextFile, loadImageFile, loadPdfFile, getFileInfo, testArrayBufferConversion } from '@/utils/catalogFileHandler'\r\nimport { knowledgeAPI, STATUS_DISPLAY, STATUS_CLASS } from '@/api/knowledge'\r\nimport { convertToCreateDTO, convertFromDTO, convertEditFormToFieldUpdates } from '@/utils/achievementHelper'\r\nimport { projectAPI } from '@/api/project'\r\n\r\nexport default {\r\n  name: 'KnowledgeBaseCatalog',\r\n  props: {\r\n    archiveRows: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    projectId: {\r\n      type: [String, Number],\r\n      default: null\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      showUploadDialog: false,\r\n      showCustomDialog: false,\r\n      currentFileType: '',\r\n      selectedFile: null,\r\n      fileAccept: '',\r\n      customTypeName: '',\r\n      customTypeDesc: '',\r\n      uploadedFiles: [],\r\n      showArchivePanel: false, // \r\n      currentPage: 1,\r\n      pageSize: 5,\r\n      totalItems: 0,\r\n      // \r\n      searchText: '',\r\n      searchResults: [], // \r\n      isSearching: false, // \r\n      searchDebounceTimer: null, // \r\n      // \r\n      isAddingToExisting: false,\r\n      targetAchievementId: null,\r\n      showViewDialog: false,\r\n      viewingFile: null,\r\n      fileContent: '',\r\n      fileContentType: 'text',\r\n      selectedFileIndex: null,\r\n      \r\n      // \r\n      isEditingDescription: false,\r\n      isEditingContent: false,\r\n      editableContent: '',\r\n      hasContentChanges: false,\r\n      editForm: {\r\n        // \r\n        paperAuthors: '',\r\n        paperTitle: '',\r\n        journalName: '',\r\n        publishYear: '',\r\n        volume: '',\r\n        issue: '',\r\n        // \r\n        patentNumber: '',\r\n        patentType: '',\r\n        patentName: '',\r\n        inventors: '',\r\n        applicants: '',\r\n        // \r\n        datasetVersion: '',\r\n        datasetName: '',\r\n        datasetFormat: '',\r\n        datasetSize: '',\r\n        datasetSource: '',\r\n        // \r\n        modelFramework: '',\r\n        modelName: '',\r\n        modelVersion: '',\r\n        modelType: '',\r\n        hyperparameters: '',\r\n        // \r\n        reportType: '',\r\n        reportName: '',\r\n        reportDate: ''\r\n      },\r\n      // \r\n      achievementForm: {\r\n        name: '',\r\n        descriptions: [\r\n          { content: '' }\r\n        ],\r\n        files: []\r\n      },\r\n      // \r\n      customUploadForm: {\r\n        typeName: '',\r\n        name: '',\r\n        descriptions: [\r\n          { content: '' }\r\n        ],\r\n        files: []\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    // \r\n    allFiles() {\r\n      // \r\n      // archiveRowsprojectId\r\n      return this.uploadedFiles.length > 0 ? this.uploadedFiles : this.archiveRows\r\n    },\r\n    \r\n    // \r\n    filteredFiles() {\r\n      // \r\n      if (this.isSearching && this.searchText.trim()) {\r\n        return this.searchResults\r\n      }\r\n      // \r\n      return this.allFiles\r\n    },\r\n    \r\n    // \r\n    paginatedFiles() {\r\n      const start = (this.currentPage - 1) * this.pageSize\r\n      const end = start + this.pageSize\r\n      return this.filteredFiles.slice(start, end)\r\n    },\r\n    \r\n    // \r\n    totalPages() {\r\n      return Math.ceil(this.filteredFiles.length / this.pageSize)\r\n    },\r\n    \r\n    // \r\n    paginationInfo() {\r\n      const start = (this.currentPage - 1) * this.pageSize + 1\r\n      const end = Math.min(this.currentPage * this.pageSize, this.filteredFiles.length)\r\n      return ` ${start}  ${end}  ${this.filteredFiles.length} `\r\n    },\r\n    \r\n    // \r\n    visiblePages() {\r\n      const pages = []\r\n      const maxVisible = 3\r\n      let start = Math.max(1, this.currentPage - Math.floor(maxVisible / 2))\r\n      let end = Math.min(this.totalPages, start + maxVisible - 1)\r\n      \r\n      if (end - start + 1 < maxVisible) {\r\n        start = Math.max(1, end - maxVisible + 1)\r\n      }\r\n      \r\n      for (let i = start; i <= end; i++) {\r\n        pages.push(i)\r\n      }\r\n      return pages\r\n    }\r\n  },\r\n  async mounted() {\r\n    // \r\n    await this.loadAchievements()\r\n    \r\n    // localStorage\r\n    const loaded = loadFromLocalStorage(this.projectId)\r\n    if (loaded && loaded.currentPage) {\r\n      this.currentPage = loaded.currentPage\r\n    }\r\n  },\r\n  watch: {\r\n    showArchivePanel(newVal) {\r\n      // \r\n      eventBus.emit(EventTypes.ARCHIVE_PANEL_TOGGLE, newVal)\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    // \r\n    saveToLocalStorage(this.uploadedFiles, this.currentPage, this.projectId)\r\n    \r\n    // \r\n    if (this.searchDebounceTimer) {\r\n      clearTimeout(this.searchDebounceTimer)\r\n      this.searchDebounceTimer = null\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * \r\n     */\r\n    async loadAchievements() {\r\n      if (!this.projectId) {\r\n        console.warn('projectId')\r\n        return\r\n      }\r\n      \r\n      try {\r\n        console.log(', projectId:', this.projectId)\r\n        \r\n        // API\r\n        const response = await knowledgeAPI.getProjectAchievements(this.projectId, 0, 50)\r\n        console.log(':', response)\r\n        \r\n        // responseR { code, msg, data }\r\n        if (response && response.code === 200 && response.data) {\r\n          // dataPagecontent\r\n          const achievements = response.data.content || []\r\n          \r\n          // DTO\r\n          if (achievements.length > 0) {\r\n            console.log(' DTO:', achievements[0])\r\n            console.log(' DTO:', Object.keys(achievements[0]))\r\n            console.log(' :', {\r\n              creatorName: achievements[0].creatorName,\r\n              creator: achievements[0].creator,\r\n              createdBy: achievements[0].createdBy,\r\n              uploader: achievements[0].uploader,\r\n              username: achievements[0].username,\r\n              userName: achievements[0].userName,\r\n              creatorInfo: achievements[0].creatorInfo,\r\n              creatorUser: achievements[0].creatorUser,\r\n              createdByUser: achievements[0].createdByUser\r\n            })\r\n          }\r\n          \r\n          this.uploadedFiles = achievements.map(dto => convertFromDTO(dto))\r\n          \r\n          // uploadernull\r\n          await this.fetchMissingCreatorNames()\r\n          \r\n          console.log(':', this.uploadedFiles)\r\n        } else {\r\n          console.warn(':', response)\r\n          // \r\n          this.uploadedFiles = []\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        // \r\n        this.uploadedFiles = []\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * \r\n     * \r\n     */\r\n    async fetchMissingCreatorNames() {\r\n      // uploadernull/undefined/''creatorId\r\n      const achievementsNeedingFetch = this.uploadedFiles.filter(\r\n        file => (!file.uploader || file.uploader === '') && file.creatorId\r\n      )\r\n      \r\n      if (achievementsNeedingFetch.length === 0) {\r\n        console.log(' ')\r\n        return\r\n      }\r\n      \r\n      if (!this.projectId) {\r\n        console.warn(' projectId')\r\n        return\r\n      }\r\n      \r\n      console.log(`  ${achievementsNeedingFetch.length} `)\r\n      console.log(' :', achievementsNeedingFetch.map(f => ({ id: f.id, name: f.name, creatorId: f.creatorId, uploader: f.uploader })))\r\n      \r\n      // creatorId\r\n      const uniqueCreatorIds = [...new Set(achievementsNeedingFetch.map(f => String(f.creatorId)))]\r\n      console.log(' creatorId:', uniqueCreatorIds)\r\n      \r\n      // IDkey\r\n      const userIdToNameMap = new Map()\r\n      \r\n      try {\r\n        // \r\n        console.log(` : projectId=${this.projectId}`)\r\n        const response = await projectAPI.getProjectMembers(this.projectId, 0, 1000)\r\n        \r\n        console.log(' API:', response)\r\n        \r\n        if (response && response.code === 200) {\r\n          let members = []\r\n          if (response.data && response.data.content) {\r\n            members = response.data.content\r\n          } else if (Array.isArray(response.data)) {\r\n            members = response.data\r\n          }\r\n          \r\n          console.log(`  ${members.length} `)\r\n          \r\n          // ID\r\n          members.forEach(member => {\r\n            const memberId = String(member.userId || member.id)\r\n            const memberName = member.username || member.name || member.nickname\r\n            if (memberName && memberName.trim() !== '') {\r\n              userIdToNameMap.set(memberId, memberName)\r\n              console.log(` : ID=${memberId}, =\"${memberName}\"`)\r\n            }\r\n          })\r\n          \r\n          console.log(' :', Array.from(userIdToNameMap.entries()))\r\n        } else {\r\n          console.warn(' :', response)\r\n        }\r\n      } catch (error) {\r\n        console.error(' :', error)\r\n      }\r\n      \r\n      // \r\n      if (userIdToNameMap.size === 0) {\r\n        console.warn(' ')\r\n        return\r\n      }\r\n      \r\n      // \r\n      let updateCount = 0\r\n      // \r\n      for (let index = 0; index < this.uploadedFiles.length; index++) {\r\n        const achievement = this.uploadedFiles[index]\r\n        const creatorIdStr = String(achievement.creatorId)\r\n        \r\n        // \r\n        if ((!achievement.uploader || achievement.uploader === '') && userIdToNameMap.has(creatorIdStr)) {\r\n          const userName = userIdToNameMap.get(creatorIdStr)\r\n          \r\n          // \r\n          const updatedAchievement = {\r\n            ...achievement,\r\n            uploader: userName\r\n          }\r\n          \r\n          // Vue.set\r\n          this.$set(this.uploadedFiles, index, updatedAchievement)\r\n          \r\n          updateCount++\r\n          console.log(` [${index + 1}] : \"${achievement.name}\" (ID: ${achievement.id}) -> \"${userName}\" (creatorId: ${creatorIdStr})`)\r\n        } else if ((!achievement.uploader || achievement.uploader === '') && achievement.creatorId) {\r\n          console.warn(` creatorId: ${creatorIdStr}, : ${achievement.name}`)\r\n        }\r\n      }\r\n      \r\n      console.log(`  ${updateCount} `)\r\n      console.log(' uploadedFiles:', this.uploadedFiles.map(f => ({ id: f.id, name: f.name, uploader: f.uploader, creatorId: f.creatorId })))\r\n      \r\n      // tick\r\n      await this.$nextTick()\r\n      this.$forceUpdate()\r\n    },\r\n    \r\n    uploadFile(type) {\r\n      this.currentFileType = type\r\n      this.fileAccept = getFileAccept(type)\r\n      // \r\n      this.resetAchievementForm()\r\n      this.showUploadDialog = true\r\n    },\r\n    \r\n    async handleFileSelect(event) {\r\n      const files = Array.from(event.target.files)\r\n      if (files.length > 0) {\r\n        console.log(':', {\r\n          filesCount: files.length,\r\n          isAddingToExisting: this.isAddingToExisting,\r\n          showViewDialog: this.showViewDialog,\r\n          viewingFile: this.viewingFile ? this.viewingFile.id : null\r\n        })\r\n        \r\n        // \r\n        if (this.isAddingToExisting && this.targetAchievementId) {\r\n          console.log('')\r\n          await this.addFilesToExistingAchievement(files)\r\n        } else if (this.showCustomDialog) {\r\n          // \r\n          files.forEach(file => {\r\n            this.customUploadForm.files.push({\r\n              name: file.name,\r\n              size: file.size,\r\n              type: file.type,\r\n              file: file\r\n            })\r\n          })\r\n        } else if (this.showUploadDialog) {\r\n          // \r\n          files.forEach(file => {\r\n            this.achievementForm.files.push({\r\n              name: file.name,\r\n              size: file.size,\r\n              type: file.type,\r\n              file: file\r\n            })\r\n          })\r\n        }\r\n        // \r\n        this.$refs.fileInput.value = ''\r\n      }\r\n    },\r\n    \r\n    triggerFileSelect() {\r\n      this.$refs.fileInput.click()\r\n    },\r\n    \r\n    removeFile(index) {\r\n      this.achievementForm.files.splice(index, 1)\r\n    },\r\n    \r\n    \r\n    resetAchievementForm() {\r\n      this.achievementForm = {\r\n        name: '',\r\n        // \r\n        paperAuthors: '',\r\n        paperTitle: '',\r\n        journalName: '',\r\n        publishYear: '',\r\n        volume: '',\r\n        issue: '',\r\n        // \r\n        patentNumber: '',\r\n        patentType: '',\r\n        patentName: '',\r\n        inventors: '',\r\n        applicants: '',\r\n        // \r\n        datasetVersion: '',\r\n        datasetName: '',\r\n        datasetFormat: '',\r\n        datasetSize: '',\r\n        datasetSource: '',\r\n        // \r\n        modelFramework: '',\r\n        modelName: '',\r\n        modelVersion: '',\r\n        modelType: '',\r\n        hyperparameters: '',\r\n        // \r\n        reportType: '',\r\n        reportName: '',\r\n        reportDate: '',\r\n        files: []\r\n      }\r\n    },\r\n    \r\n    async confirmUpload() {\r\n      if ((this.isAddingToExisting || this.achievementForm.name.trim()) && this.achievementForm.files.length > 0) {\r\n        try {\r\n          // \r\n          if (this.isAddingToExisting && this.targetAchievementId) {\r\n            // \r\n            console.log(', achievementId:', this.targetAchievementId)\r\n            \r\n            // File\r\n            const files = this.achievementForm.files.map(f => f.file)\r\n            \r\n            // API\r\n            const response = await knowledgeAPI.uploadFilesBatch(files, this.targetAchievementId)\r\n            console.log(':', response)\r\n            \r\n            // \r\n            await this.loadAchievements()\r\n            \r\n            // \r\n            this.resetAchievementForm()\r\n            this.isAddingToExisting = false\r\n            this.targetAchievementId = null\r\n            this.showUploadDialog = false\r\n            \r\n            alert(`${files.length}`)\r\n            return\r\n          }\r\n          \r\n          // \r\n          console.log(', projectId:', this.projectId)\r\n          \r\n          // 1. \r\n          const createDTO = convertToCreateDTO(this.achievementForm, this.projectId, this.currentFileType)\r\n          console.log('DTO:', createDTO)\r\n          \r\n          // 2. API\r\n          const createResponse = await knowledgeAPI.createAchievement(createDTO)\r\n          console.log(':', createResponse)\r\n          \r\n          // responseRcode\r\n          if (createResponse.code !== 200 || !createResponse.data) {\r\n            throw new Error(createResponse.msg || '')\r\n          }\r\n          \r\n          const achievement = createResponse.data\r\n          const achievementId = achievement.id\r\n          \r\n          // 3. \r\n          const files = this.achievementForm.files.map(f => f.file)\r\n          console.log(', :', files.length)\r\n          \r\n          const uploadResponse = await knowledgeAPI.uploadFilesBatch(files, achievementId)\r\n          console.log(':', uploadResponse)\r\n          \r\n          // 4. \r\n          await this.loadAchievements()\r\n          \r\n          // 5. \r\n          this.resetAchievementForm()\r\n          this.isAddingToExisting = false\r\n          this.targetAchievementId = null\r\n          this.showUploadDialog = false\r\n          \r\n          // 6. \r\n          this.goToLastPage()\r\n          \r\n          alert(`\"${this.achievementForm.name}\"${files.length}`)\r\n          \r\n        } catch (error) {\r\n          console.error(':', error)\r\n          alert(': ' + (error.message || ''))\r\n        }\r\n      }\r\n    },\r\n    \r\n    // \r\n    goToPage(page) {\r\n      if (page >= 1 && page <= this.totalPages) {\r\n        this.currentPage = page\r\n      }\r\n    },\r\n    \r\n    goToLastPage() {\r\n      this.currentPage = this.totalPages\r\n    },\r\n    \r\n    // \r\n    onSearchInput() {\r\n      // \r\n      if (this.searchDebounceTimer) {\r\n        clearTimeout(this.searchDebounceTimer)\r\n      }\r\n      \r\n      // \r\n      if (!this.searchText.trim()) {\r\n        this.clearSearch()\r\n        return\r\n      }\r\n      \r\n      // 500ms\r\n      this.searchDebounceTimer = setTimeout(() => {\r\n        this.performSearch()\r\n      }, 500)\r\n    },\r\n    \r\n    /**\r\n     * \r\n     */\r\n    async performSearch() {\r\n      if (!this.searchText.trim() || !this.projectId) {\r\n        return\r\n      }\r\n      \r\n      try {\r\n        console.log(', :', this.searchText)\r\n        this.isSearching = true\r\n        \r\n        // API\r\n        const response = await knowledgeAPI.searchAchievements(this.searchText, 0, 50)\r\n        console.log(':', response)\r\n        \r\n        if (response && response.code === 200 && response.data) {\r\n          // \r\n          const achievements = response.data.content || []\r\n          this.searchResults = achievements.map(dto => convertFromDTO(dto))\r\n          \r\n          console.log(':', this.searchResults)\r\n          \r\n          // \r\n          this.currentPage = 1\r\n        } else {\r\n          console.warn(':', response)\r\n          this.searchResults = []\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        this.searchResults = []\r\n        alert(': ' + (error.message || ''))\r\n      }\r\n    },\r\n    \r\n    clearSearch() {\r\n      this.searchText = ''\r\n      this.searchResults = []\r\n      this.isSearching = false\r\n      this.currentPage = 1\r\n      \r\n      // \r\n      if (this.searchDebounceTimer) {\r\n        clearTimeout(this.searchDebounceTimer)\r\n        this.searchDebounceTimer = null\r\n      }\r\n    },\r\n    \r\n    // \r\n    getTargetAchievementName() {\r\n      if (this.targetAchievementId) {\r\n        const targetAchievement = this.uploadedFiles.find(item => item.id === this.targetAchievementId)\r\n        return targetAchievement ? targetAchievement.name : ''\r\n      }\r\n      return ''\r\n    },\r\n    \r\n    closeUploadDialog() {\r\n      this.showUploadDialog = false\r\n      this.resetAchievementForm()\r\n      this.isAddingToExisting = false\r\n      this.targetAchievementId = null\r\n      this.$refs.fileInput.value = ''\r\n    },\r\n    \r\n    createCustomType() {\r\n      // \r\n      this.resetCustomForm()\r\n      this.showCustomDialog = true\r\n    },\r\n    \r\n    triggerCustomFileSelect() {\r\n      // \r\n      this.$refs.fileInput.click()\r\n    },\r\n    \r\n    removeCustomFile(index) {\r\n      this.customUploadForm.files.splice(index, 1)\r\n    },\r\n    \r\n    addCustomDescription() {\r\n      this.customUploadForm.descriptions.push({ leftField: '', rightField: '' })\r\n    },\r\n    \r\n    removeCustomDescription(index) {\r\n      if (this.customUploadForm.descriptions.length > 1) {\r\n        this.customUploadForm.descriptions.splice(index, 1)\r\n      }\r\n    },\r\n    \r\n    resetCustomForm() {\r\n      this.customUploadForm = {\r\n        typeName: '',\r\n        name: '',\r\n        descriptions: [\r\n          { leftField: '', rightField: '' }\r\n        ],\r\n        files: []\r\n      }\r\n    },\r\n    \r\n    async confirmCustomType() {\r\n      if (this.customUploadForm.typeName.trim() && this.customUploadForm.name.trim() && this.customUploadForm.files.length > 0) {\r\n        try {\r\n          const typeDisplay = this.customUploadForm.typeName.trim()\r\n          \r\n          //  ArrayBuffer  localStorage\r\n          const filesWithBuffer = await Promise.all(\r\n            this.customUploadForm.files.map(async (fileData, index) => {\r\n              const arrayBuffer = await fileData.file.arrayBuffer()\r\n              const originalFileName = fileData.name\r\n              const fileExtension = getFileExtension(originalFileName)\r\n              \r\n              return {\r\n                id: Date.now() + index,\r\n                name: this.customUploadForm.name + (this.customUploadForm.files.length > 1 ? `_${index + 1}` : '') + fileExtension,\r\n                type: fileData.type, //  MIME \r\n                uploader: '',\r\n                time: new Date().toLocaleString('zh-CN'),\r\n                typeCls: this.getTypeClass(typeDisplay),\r\n                fileBuffer: arrayBuffer, //  ArrayBuffer\r\n                file: fileData.file, //  File \r\n                descriptions: this.customUploadForm.descriptions.filter(d => d.leftField.trim() || d.rightField.trim()).map(d => `${d.leftField || ''} | ${d.rightField || ''}`),\r\n                originalFileName: originalFileName,\r\n                size: fileData.size\r\n              }\r\n            })\r\n          )\r\n          \r\n          // \r\n          const newAchievement = {\r\n            id: Date.now(),\r\n            name: this.customUploadForm.name,\r\n            type: typeDisplay,\r\n            uploader: '',\r\n            time: new Date().toLocaleString('zh-CN'),\r\n            typeCls: 'doc',\r\n            files: filesWithBuffer,\r\n            fileCount: this.customUploadForm.files.length,\r\n            descriptions: this.customUploadForm.descriptions.filter(d => d.leftField.trim() || d.rightField.trim()).map(d => `${d.leftField || ''} | ${d.rightField || ''}`)\r\n          }\r\n          \r\n          this.uploadedFiles.push(newAchievement)\r\n          this.$emit('file-uploaded', newAchievement)\r\n          \r\n          // \r\n          this.resetCustomForm()\r\n          this.showCustomDialog = false\r\n          \r\n          // \r\n          this.goToLastPage()\r\n          \r\n          // \r\n          saveToLocalStorage(this.uploadedFiles, this.currentPage, this.projectId)\r\n          \r\n          alert(`\"${typeDisplay}\"${this.customUploadForm.files.length}`)\r\n        } catch (error) {\r\n          console.error(':', error)\r\n          alert('')\r\n        }\r\n      }\r\n    },\r\n    \r\n    closeCustomDialog() {\r\n      this.showCustomDialog = false\r\n      this.resetCustomForm()\r\n      this.$refs.fileInput.value = ''\r\n    },\r\n    \r\n    viewFile(file) {\r\n      this.viewingFile = file\r\n      this.loadFileContent(file)\r\n      this.showViewDialog = true\r\n    },\r\n    \r\n    loadFileContent(file) {\r\n      // \r\n      const fileExtension = getFileExtension(file.name).toLowerCase()\r\n      \r\n      if (['txt', 'md', 'json', 'csv', 'log'].includes(fileExtension)) {\r\n        // \r\n        this.fileContentType = 'text'\r\n        loadTextFile(file, (content) => { this.fileContent = content })\r\n      } else if (['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp'].includes(fileExtension)) {\r\n        // \r\n        this.fileContentType = 'image'\r\n        loadImageFile(file, (content) => { this.fileContent = content })\r\n      } else if (fileExtension === 'pdf') {\r\n        // PDF\r\n        this.fileContentType = 'pdf'\r\n        loadPdfFile(file, (content) => { this.fileContent = content })\r\n      } else {\r\n        // \r\n        this.fileContentType = 'info'\r\n        this.fileContent = getFileInfo(file)\r\n      }\r\n    },\r\n    \r\n    \r\n    closeViewDialog() {\r\n      this.showViewDialog = false\r\n      this.viewingFile = null\r\n      this.fileContent = ''\r\n      this.fileContentType = 'text'\r\n      this.selectedFileIndex = null\r\n      this.isEditingDescription = false\r\n      this.isEditingContent = false\r\n      this.editableContent = ''\r\n      this.hasContentChanges = false\r\n      this.resetEditForm()\r\n    },\r\n    \r\n    // \r\n    toggleEditMode() {\r\n      this.isEditingDescription = true\r\n      this.initEditForm()\r\n    },\r\n    \r\n    // \r\n    toggleContentEdit() {\r\n      this.isEditingContent = true\r\n      this.editableContent = this.fileContent\r\n      this.hasContentChanges = false\r\n    },\r\n    \r\n    // \r\n    markContentChanged() {\r\n      this.hasContentChanges = this.editableContent !== this.fileContent\r\n    },\r\n    \r\n    // \r\n    saveContentChanges() {\r\n      if (this.hasContentChanges) {\r\n        this.fileContent = this.editableContent\r\n        this.hasContentChanges = false\r\n        this.isEditingContent = false\r\n        \r\n        // \r\n        this.updateFileContentInStorage()\r\n        \r\n        alert('')\r\n      }\r\n    },\r\n    \r\n    // \r\n    cancelContentEdit() {\r\n      if (this.hasContentChanges) {\r\n        if (confirm('')) {\r\n          this.isEditingContent = false\r\n          this.editableContent = ''\r\n          this.hasContentChanges = false\r\n        }\r\n      } else {\r\n        this.isEditingContent = false\r\n        this.editableContent = ''\r\n        this.hasContentChanges = false\r\n      }\r\n    },\r\n    \r\n    \r\n    // \r\n    initEditForm() {\r\n      if (!this.viewingFile) return\r\n      \r\n      // \r\n      if (this.viewingFile.type === '') {\r\n        this.editForm.paperAuthors = this.viewingFile.paperAuthors || ''\r\n        this.editForm.paperTitle = this.viewingFile.paperTitle || ''\r\n        this.editForm.journalName = this.viewingFile.journalName || ''\r\n        this.editForm.publishYear = this.viewingFile.publishYear || ''\r\n        this.editForm.volume = this.viewingFile.volume || ''\r\n        this.editForm.issue = this.viewingFile.issue || ''\r\n      } else if (this.viewingFile.type === '') {\r\n        this.editForm.patentNumber = this.viewingFile.patentNumber || ''\r\n        this.editForm.patentType = this.viewingFile.patentType || ''\r\n        this.editForm.patentName = this.viewingFile.patentName || ''\r\n        this.editForm.inventors = this.viewingFile.inventors || ''\r\n        this.editForm.applicants = this.viewingFile.applicants || ''\r\n      } else if (this.viewingFile.type === '') {\r\n        this.editForm.datasetVersion = this.viewingFile.datasetVersion || ''\r\n        this.editForm.datasetName = this.viewingFile.datasetName || ''\r\n        this.editForm.datasetFormat = this.viewingFile.datasetFormat || ''\r\n        this.editForm.datasetSize = this.viewingFile.datasetSize || ''\r\n        this.editForm.datasetSource = this.viewingFile.datasetSource || ''\r\n      } else if (this.viewingFile.type === '') {\r\n        this.editForm.modelFramework = this.viewingFile.modelFramework || ''\r\n        this.editForm.modelName = this.viewingFile.modelName || ''\r\n        this.editForm.modelVersion = this.viewingFile.modelVersion || ''\r\n        this.editForm.modelType = this.viewingFile.modelType || ''\r\n        this.editForm.hyperparameters = this.viewingFile.hyperparameters || ''\r\n      } else if (this.viewingFile.type === '') {\r\n        this.editForm.reportType = this.viewingFile.reportType || ''\r\n        this.editForm.reportName = this.viewingFile.reportName || ''\r\n        this.editForm.reportDate = this.viewingFile.reportDate || ''\r\n      }\r\n    },\r\n    \r\n    // \r\n    resetEditForm() {\r\n      this.editForm = {\r\n        paperAuthors: '',\r\n        paperTitle: '',\r\n        journalName: '',\r\n        publishYear: '',\r\n        volume: '',\r\n        issue: '',\r\n        patentNumber: '',\r\n        patentType: '',\r\n        patentName: '',\r\n        inventors: '',\r\n        applicants: '',\r\n        datasetVersion: '',\r\n        datasetName: '',\r\n        datasetFormat: '',\r\n        datasetSize: '',\r\n        datasetSource: '',\r\n        modelFramework: '',\r\n        modelName: '',\r\n        modelVersion: '',\r\n        modelType: '',\r\n        hyperparameters: '',\r\n        reportType: '',\r\n        reportName: '',\r\n        reportDate: ''\r\n      }\r\n    },\r\n    \r\n    // \r\n    async saveDescriptionChanges() {\r\n      if (!this.viewingFile) return\r\n      \r\n      try {\r\n        console.log(', ID:', this.viewingFile.id, ':', this.viewingFile.type)\r\n        \r\n        // \r\n        const fieldUpdates = convertEditFormToFieldUpdates(this.editForm, this.viewingFile.type)\r\n        console.log(':', fieldUpdates)\r\n        \r\n        // API\r\n        const response = await knowledgeAPI.updateDetailFields(this.viewingFile.id, fieldUpdates)\r\n        console.log(':', response)\r\n        \r\n        if (response && response.code === 200) {\r\n          // viewingFile\r\n          if (this.viewingFile.type === '') {\r\n            this.viewingFile.paperAuthors = this.editForm.paperAuthors\r\n            this.viewingFile.paperTitle = this.editForm.paperTitle\r\n            this.viewingFile.journalName = this.editForm.journalName\r\n            this.viewingFile.publishYear = this.editForm.publishYear\r\n            this.viewingFile.volume = this.editForm.volume\r\n            this.viewingFile.issue = this.editForm.issue\r\n          } else if (this.viewingFile.type === '') {\r\n            this.viewingFile.patentNumber = this.editForm.patentNumber\r\n            this.viewingFile.patentType = this.editForm.patentType\r\n            this.viewingFile.patentName = this.editForm.patentName\r\n            this.viewingFile.inventors = this.editForm.inventors\r\n            this.viewingFile.applicants = this.editForm.applicants\r\n          } else if (this.viewingFile.type === '') {\r\n            this.viewingFile.datasetVersion = this.editForm.datasetVersion\r\n            this.viewingFile.datasetName = this.editForm.datasetName\r\n            this.viewingFile.datasetFormat = this.editForm.datasetFormat\r\n            this.viewingFile.datasetSize = this.editForm.datasetSize\r\n            this.viewingFile.datasetSource = this.editForm.datasetSource\r\n          } else if (this.viewingFile.type === '') {\r\n            this.viewingFile.modelFramework = this.editForm.modelFramework\r\n            this.viewingFile.modelName = this.editForm.modelName\r\n            this.viewingFile.modelVersion = this.editForm.modelVersion\r\n            this.viewingFile.modelType = this.editForm.modelType\r\n            this.viewingFile.hyperparameters = this.editForm.hyperparameters\r\n          } else if (this.viewingFile.type === '') {\r\n            this.viewingFile.reportType = this.editForm.reportType\r\n            this.viewingFile.reportName = this.editForm.reportName\r\n            this.viewingFile.reportDate = this.editForm.reportDate\r\n          }\r\n          \r\n          // \r\n          const uploadedIndex = this.uploadedFiles.findIndex(item => item.id === this.viewingFile.id)\r\n          if (uploadedIndex !== -1) {\r\n            this.$set(this.uploadedFiles, uploadedIndex, { ...this.viewingFile })\r\n          }\r\n          \r\n          // \r\n          this.$emit('file-edited', this.viewingFile)\r\n          \r\n          // \r\n          this.isEditingDescription = false\r\n          \r\n          alert('')\r\n        } else {\r\n          throw new Error(response.msg || '')\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        alert(': ' + (error.message || ''))\r\n      }\r\n    },\r\n    \r\n    // \r\n    cancelEditMode() {\r\n      this.isEditingDescription = false\r\n      this.resetEditForm()\r\n    },\r\n    \r\n    // \r\n    showAddFileDialog() {\r\n      // \r\n      this.isAddingToExisting = true\r\n      this.targetAchievementId = this.viewingFile.id\r\n      console.log(':', {\r\n        achievementId: this.viewingFile.id,\r\n        achievementName: this.viewingFile.name,\r\n        isAddingToExisting: this.isAddingToExisting\r\n      })\r\n      \r\n      // \r\n      this.$refs.fileInput.click()\r\n    },\r\n    \r\n    // \r\n    async addFilesToExistingAchievement(files) {\r\n      try {\r\n        console.log(':', {\r\n          achievementId: this.viewingFile.id,\r\n          achievementName: this.viewingFile.name,\r\n          filesCount: files.length\r\n        })\r\n        \r\n        //  ArrayBuffer  localStorage\r\n        const filesWithBuffer = await Promise.all(\r\n          files.map(async (file, index) => {\r\n            const arrayBuffer = await file.arrayBuffer()\r\n            return {\r\n              id: Date.now() + index,\r\n              name: file.name,\r\n              originalFileName: file.name,\r\n              size: file.size,\r\n              type: file.type,\r\n              fileBuffer: arrayBuffer,\r\n              file: file\r\n            }\r\n          })\r\n        )\r\n        \r\n        //  uploadedFiles \r\n        const targetIndex = this.uploadedFiles.findIndex(item => item.id === this.viewingFile.id)\r\n        console.log(':', { targetIndex, targetId: this.viewingFile.id })\r\n        \r\n        if (targetIndex !== -1) {\r\n          // \r\n          this.uploadedFiles[targetIndex].files.push(...filesWithBuffer)\r\n          this.uploadedFiles[targetIndex].fileCount = this.uploadedFiles[targetIndex].files.length\r\n          \r\n          // \r\n          this.uploadedFiles[targetIndex].time = new Date().toLocaleString('zh-CN')\r\n          \r\n          // \r\n          this.viewingFile = this.uploadedFiles[targetIndex]\r\n          \r\n          // \r\n          this.$emit('file-edited', this.uploadedFiles[targetIndex])\r\n          \r\n          // \r\n          saveToLocalStorage(this.uploadedFiles, this.currentPage, this.projectId)\r\n          \r\n          // \r\n          this.isAddingToExisting = false\r\n          this.targetAchievementId = null\r\n          \r\n          alert(`${files.length}\"${this.uploadedFiles[targetIndex].name}\"`)\r\n        } else {\r\n          console.error(':', this.viewingFile.id)\r\n          alert('')\r\n          \r\n          // \r\n          this.isAddingToExisting = false\r\n          this.targetAchievementId = null\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        alert('')\r\n        \r\n        // \r\n        this.isAddingToExisting = false\r\n        this.targetAchievementId = null\r\n      }\r\n    },\r\n    \r\n    \r\n    async deleteFile(file) {\r\n      if (confirm(`\"${file.name}\"`)) {\r\n        try {\r\n          console.log(', ID:', file.id)\r\n          \r\n          // API\r\n          const response = await knowledgeAPI.deleteAchievement(file.id)\r\n          console.log(':', response)\r\n          \r\n          if (response && response.code === 200) {\r\n            // \r\n            const uploadedIndex = this.uploadedFiles.findIndex(f => f.id === file.id)\r\n            if (uploadedIndex !== -1) {\r\n              this.uploadedFiles.splice(uploadedIndex, 1)\r\n            }\r\n            \r\n            // \r\n            if (this.isSearching) {\r\n              const searchIndex = this.searchResults.findIndex(f => f.id === file.id)\r\n              if (searchIndex !== -1) {\r\n                this.searchResults.splice(searchIndex, 1)\r\n              }\r\n            }\r\n            \r\n            // \r\n            this.$emit('file-deleted', file)\r\n            \r\n            // \r\n            if (this.paginatedFiles.length === 0 && this.currentPage > 1) {\r\n              this.currentPage = this.currentPage - 1\r\n            }\r\n            \r\n            alert('')\r\n          } else {\r\n            throw new Error(response.msg || '')\r\n          }\r\n        } catch (error) {\r\n          console.error(':', error)\r\n          alert(': ' + (error.message || ''))\r\n        }\r\n      }\r\n    },\r\n    \r\n    // \r\n    selectFile(index) {\r\n      this.selectedFileIndex = index\r\n    },\r\n    \r\n    viewSingleFile(file) {\r\n      try {\r\n        console.log(':', file)\r\n        \r\n        // \r\n        console.log('')\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        alert('')\r\n      }\r\n    },\r\n    \r\n    // \r\n    \r\n    // \r\n    getAchievementDescription(file) {\r\n      if (!file) return false\r\n      \r\n      //  - \r\n      return file.paperAuthors || file.paperTitle || file.journalName || file.publishYear || file.volume || file.issue ||\r\n             file.patentNumber || file.patentType || file.patentName || file.inventors || file.applicants ||\r\n             file.datasetVersion || file.datasetName || file.datasetFormat || file.datasetSize || file.datasetSource ||\r\n             file.modelFramework || file.modelName || file.modelVersion || file.modelType || file.hyperparameters ||\r\n             file.reportType || file.reportName || file.reportDate ||\r\n             // \r\n             file.paperName || file.paperId ||\r\n             file.patentName || file.patentId ||\r\n             file.datasetName || file.datasetId ||\r\n             file.modelName || file.modelId ||\r\n             file.reportName || file.reportId ||\r\n             (file.descriptions && file.descriptions.length > 0)\r\n    },\r\n    \r\n    deleteSingleFile(file, index) {\r\n      const fileName = file.name || file.originalFileName || ''\r\n      if (confirm(`\"${fileName}\"`)) {\r\n        // \r\n        this.viewingFile.files.splice(index, 1)\r\n        this.viewingFile.fileCount = this.viewingFile.files.length\r\n        \r\n        // \r\n        if (this.viewingFile.files.length === 0) {\r\n          this.deleteFile(this.viewingFile)\r\n          this.closeViewDialog()\r\n        } else {\r\n          // \r\n          if (this.selectedFileIndex === index) {\r\n            this.selectedFileIndex = Math.max(0, index - 1)\r\n          } else if (this.selectedFileIndex > index) {\r\n            this.selectedFileIndex = this.selectedFileIndex - 1\r\n          }\r\n          \r\n          // \r\n          saveToLocalStorage(this.uploadedFiles, this.currentPage, this.projectId)\r\n          alert('')\r\n        }\r\n      }\r\n    },\r\n    \r\n    // \r\n    downloadFile(file) {\r\n      downloadFile(file)\r\n    },\r\n    \r\n    // \r\n    getTypeClass(type) {\r\n      return getTypeClass(type)\r\n    },\r\n    \r\n    // \r\n    getFileIcon(fileName) {\r\n      return getFileIcon(fileName)\r\n    },\r\n    \r\n    // \r\n    getFileTypeDisplay(mimeType) {\r\n      return getFileTypeDisplay(mimeType)\r\n    },\r\n    \r\n    // \r\n    formatFileSize(bytes) {\r\n      return formatFileSize(bytes)\r\n    },\r\n    \r\n    // \r\n    async handleStatusChange() {\r\n      if (!this.viewingFile || !this.viewingFile.id) {\r\n        return\r\n      }\r\n      \r\n      try {\r\n        console.log(':', {\r\n          achievementId: this.viewingFile.id,\r\n          newStatus: this.viewingFile.status\r\n        })\r\n        \r\n        // API\r\n        const response = await knowledgeAPI.updateAchievementStatus(\r\n          this.viewingFile.id,\r\n          this.viewingFile.status\r\n        )\r\n        \r\n        console.log(':', response)\r\n        \r\n        if (response && response.code === 200) {\r\n          // \r\n          const uploadedIndex = this.uploadedFiles.findIndex(item => item.id === this.viewingFile.id)\r\n          if (uploadedIndex !== -1) {\r\n            this.uploadedFiles[uploadedIndex].status = this.viewingFile.status\r\n          }\r\n          \r\n          // \r\n          if (this.isSearching) {\r\n            const searchIndex = this.searchResults.findIndex(item => item.id === this.viewingFile.id)\r\n            if (searchIndex !== -1) {\r\n              this.searchResults[searchIndex].status = this.viewingFile.status\r\n            }\r\n          }\r\n          \r\n          alert('' + STATUS_DISPLAY[this.viewingFile.status])\r\n        } else {\r\n          throw new Error(response.msg || '')\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        alert(': ' + (error.message || ''))\r\n        \r\n        // \r\n        const original = this.uploadedFiles.find(item => item.id === this.viewingFile.id)\r\n        if (original) {\r\n          this.viewingFile.status = original.status\r\n        }\r\n      }\r\n    },\r\n    \r\n    // \r\n    async fetchAchievementDetail(achievementId) {\r\n      try {\r\n        console.log(':', achievementId)\r\n        \r\n        const response = await knowledgeAPI.getAchievementDetail(achievementId)\r\n        console.log(':', response)\r\n        \r\n        if (response && response.code === 200 && response.data) {\r\n          return convertFromDTO(response.data)\r\n        } else {\r\n          throw new Error(response.msg || '')\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        alert(': ' + (error.message || ''))\r\n        return null\r\n      }\r\n    },\r\n    \r\n    // \r\n    getStatusDisplay(status) {\r\n      return STATUS_DISPLAY[status] || status\r\n    },\r\n    \r\n    // \r\n    getStatusClass(status) {\r\n      return STATUS_CLASS[status] || ''\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import '@/assets/styles/catalog/main.css';\r\n@import '@/assets/styles/catalog/dialog.css';\r\n@import '@/assets/styles/catalog/panel.css';\r\n@import '@/assets/styles/catalog/file-view.css';\r\n\r\n/*  */\r\n.file-info {\r\n  margin-bottom: 20px;\r\n  padding: 16px;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n}\r\n\r\n.file-info p {\r\n  margin: 8px 0;\r\n  font-size: 14px;\r\n  color: #333;\r\n}\r\n\r\n.file-info h3 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #111827;\r\n  word-break: break-all;\r\n}\r\n\r\n/*  */\r\n.status-selector {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  margin-left: 16px;\r\n}\r\n\r\n.status-selector label {\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  color: #374151;\r\n  white-space: nowrap;\r\n}\r\n\r\n.status-select {\r\n  height: 36px;\r\n  padding: 0 12px;\r\n  border: 2px solid #e5e7eb;\r\n  border-radius: 8px;\r\n  background: #fff;\r\n  color: #374151;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  outline: none;\r\n}\r\n\r\n.status-select:hover {\r\n  border-color: #9ca3af;\r\n}\r\n\r\n.status-select:focus {\r\n  border-color: #4f46e5;\r\n  box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);\r\n}\r\n\r\n/*  */\r\n.status-badge {\r\n  display: inline-block;\r\n  padding: 4px 10px;\r\n  border-radius: 12px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n}\r\n\r\n.status-badge.status-draft {\r\n  background: #fef3c7;\r\n  color: #92400e;\r\n  border: 1px solid #fbbf24;\r\n}\r\n\r\n.status-badge.status-review {\r\n  background: #dbeafe;\r\n  color: #1e3a8a;\r\n  border: 1px solid #3b82f6;\r\n}\r\n\r\n.status-badge.status-published {\r\n  background: #d1fae5;\r\n  color: #065f46;\r\n  border: 1px solid #10b981;\r\n}\r\n\r\n.status-badge.status-obsolete {\r\n  background: #f3f4f6;\r\n  color: #4b5563;\r\n  border: 1px solid #9ca3af;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KnowledgeBaseCatalog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KnowledgeBaseCatalog.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./KnowledgeBaseCatalog.vue?vue&type=template&id=604895a6&scoped=true\"\nimport script from \"./KnowledgeBaseCatalog.vue?vue&type=script&lang=js\"\nexport * from \"./KnowledgeBaseCatalog.vue?vue&type=script&lang=js\"\nimport style0 from \"./KnowledgeBaseCatalog.vue?vue&type=style&index=0&id=604895a6&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"604895a6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"cabinet-view\"},[_c('div',{staticClass:\"cabinet-layout\",class:{ 'sidebar-collapsed': _vm.sidebarCollapsed }},[_c('div',{staticClass:\"list-pane\",class:{ 'collapsed': _vm.sidebarCollapsed }},[_c('div',{staticClass:\"toolbar\"},[(!_vm.sidebarCollapsed)?_c('div',{staticClass:\"toolbar-buttons\"},[_c('button',{staticClass:\"btn primary small\",on:{\"click\":_vm.createNewDocument}},[_vm._v(\"+ \")]),_c('button',{staticClass:\"btn secondary small\",on:{\"click\":_vm.createNewFolder}},[_vm._v(\"+ \")])]):_vm._e(),(!_vm.sidebarCollapsed)?_c('input',{staticClass:\"search\",attrs:{\"type\":\"text\",\"placeholder\":\"\"}}):_vm._e()]),_vm._l((_vm.folders),function(folder){return (!_vm.sidebarCollapsed)?_c('div',{key:folder.id,staticClass:\"folder-section\"},[_c('div',{staticClass:\"group-title\",on:{\"click\":function($event){return _vm.toggleFolder(folder.id)}}},[_c('span',[_vm._v(_vm._s(folder.name))]),_c('svg',{class:{ 'folder-icon': true, 'expanded': folder.expanded },attrs:{\"width\":\"12\",\"height\":\"12\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M6 9L12 15L18 9\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),(folder.expanded)?_c('ul',{staticClass:\"doc-list\"},_vm._l((_vm.getDocsInFolder(folder.id)),function(doc){return _c('li',{key:doc.id,class:{ active: doc.id===_vm.activeId },on:{\"click\":function($event){_vm.activeId=doc.id}}},[_vm._v(_vm._s(doc.title))])}),0):_vm._e()]):_vm._e()}),_c('button',{staticClass:\"collapse-btn\",attrs:{\"title\":_vm.sidebarCollapsed ? '' : ''},on:{\"click\":_vm.toggleSidebar}},[_c('svg',{class:{ 'rotated': _vm.sidebarCollapsed },attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M15 18L9 12L15 6\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])],2),_c('div',{staticClass:\"editor-pane\",class:{ 'expanded': _vm.sidebarCollapsed }},[_c('div',{staticClass:\"doc-meta\"},[_c('div',{staticClass:\"doc-title\"},[_vm._v(_vm._s(_vm.activeDoc.title))]),_c('div',{staticClass:\"doc-updated\"},[_vm._v(\"\"+_vm._s(_vm.activeDoc.updated))])]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.activeDocContent),expression:\"activeDocContent\"}],staticClass:\"editor\",class:{ 'readonly': !_vm.isEditing },attrs:{\"readonly\":!_vm.isEditing},domProps:{\"value\":(_vm.activeDocContent)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.activeDocContent=$event.target.value},_vm.updateContent]}}),_c('div',{staticClass:\"editor-footer\"},[_c('button',{staticClass:\"btn\"},[_vm._v(\"\")]),_c('button',{staticClass:\"btn\"},[_vm._v(\"\")]),_c('div',{staticClass:\"flex-spacer\"}),(!_vm.isEditing)?_c('button',{staticClass:\"btn secondary\",on:{\"click\":_vm.toggleEditMode}},[_vm._v(\"  \")]):_vm._e(),(_vm.isEditing)?_c('button',{staticClass:\"btn secondary\",on:{\"click\":_vm.cancelEdit}},[_vm._v(\"  \")]):_vm._e(),_c('button',{staticClass:\"btn primary\",attrs:{\"disabled\":!_vm.isEditing || !_vm.hasUnsavedChanges},on:{\"click\":_vm.saveDocument}},[_vm._v(\" \"+_vm._s(_vm.isEditing && _vm.hasUnsavedChanges ? '*' : '')+\" \")])])])]),(_vm.showNewDocDialog)?_c('div',{staticClass:\"upload-dialog-overlay\",on:{\"click\":_vm.closeNewDocDialog}},[_c('div',{staticClass:\"upload-dialog\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"dialog-header\"},[_c('h3',[_vm._v(\"\")]),_c('button',{staticClass:\"close-btn\",on:{\"click\":_vm.closeNewDocDialog}},[_vm._v(\"\")])]),_c('div',{staticClass:\"dialog-content\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newDocTitle),expression:\"newDocTitle\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.newDocTitle)},on:{\"input\":function($event){if($event.target.composing)return;_vm.newDocTitle=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newDocCategory),expression:\"newDocCategory\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.newDocCategory=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.folders),function(folder){return _c('option',{key:folder.id,domProps:{\"value\":folder.name}},[_vm._v(_vm._s(folder.name))])}),0)]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newDocContent),expression:\"newDocContent\"}],attrs:{\"placeholder\":\"\",\"rows\":\"10\"},domProps:{\"value\":(_vm.newDocContent)},on:{\"input\":function($event){if($event.target.composing)return;_vm.newDocContent=$event.target.value}}})]),_c('div',{staticClass:\"dialog-actions\"},[_c('button',{staticClass:\"btn secondary\",on:{\"click\":_vm.closeNewDocDialog}},[_vm._v(\"\")]),_c('button',{staticClass:\"btn primary\",attrs:{\"disabled\":!_vm.newDocTitle},on:{\"click\":_vm.confirmNewDoc}},[_vm._v(\"\")])])])])]):_vm._e(),(_vm.showNewFolderDialog)?_c('div',{staticClass:\"upload-dialog-overlay\",on:{\"click\":_vm.closeNewFolderDialog}},[_c('div',{staticClass:\"upload-dialog\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"dialog-header\"},[_c('h3',[_vm._v(\"\")]),_c('button',{staticClass:\"close-btn\",on:{\"click\":_vm.closeNewFolderDialog}},[_vm._v(\"\")])]),_c('div',{staticClass:\"dialog-content\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newFolderName),expression:\"newFolderName\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.newFolderName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.newFolderName=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newFolderDescription),expression:\"newFolderDescription\"}],attrs:{\"placeholder\":\"\",\"rows\":\"3\"},domProps:{\"value\":(_vm.newFolderDescription)},on:{\"input\":function($event){if($event.target.composing)return;_vm.newFolderDescription=$event.target.value}}})]),_c('div',{staticClass:\"dialog-actions\"},[_c('button',{staticClass:\"btn secondary\",on:{\"click\":_vm.closeNewFolderDialog}},[_vm._v(\"\")]),_c('button',{staticClass:\"btn primary\",attrs:{\"disabled\":!_vm.newFolderName},on:{\"click\":_vm.confirmNewFolder}},[_vm._v(\"\")])])])])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"cabinet-view\">\r\n    <div class=\"cabinet-layout\" :class=\"{ 'sidebar-collapsed': sidebarCollapsed }\">\r\n      <!--  -->\r\n      <div class=\"list-pane\" :class=\"{ 'collapsed': sidebarCollapsed }\">\r\n        <div class=\"toolbar\">\r\n          <div class=\"toolbar-buttons\" v-if=\"!sidebarCollapsed\">\r\n            <button class=\"btn primary small\" @click=\"createNewDocument\">+ </button>\r\n            <button class=\"btn secondary small\" @click=\"createNewFolder\">+ </button>\r\n          </div>\r\n          <input class=\"search\" type=\"text\" placeholder=\"\" v-if=\"!sidebarCollapsed\" />\r\n        </div>\r\n        <div v-for=\"folder in folders\" :key=\"folder.id\" class=\"folder-section\" v-if=\"!sidebarCollapsed\">\r\n          <div class=\"group-title\" @click=\"toggleFolder(folder.id)\">\r\n            <span>{{ folder.name }}</span>\r\n            <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" \r\n                 :class=\"{ 'folder-icon': true, 'expanded': folder.expanded }\">\r\n              <path d=\"M6 9L12 15L18 9\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </div>\r\n          <ul v-if=\"folder.expanded\" class=\"doc-list\">\r\n            <li v-for=\"doc in getDocsInFolder(folder.id)\" :key=\"doc.id\" \r\n                :class=\"{ active: doc.id===activeId }\" \r\n                @click=\"activeId=doc.id\">{{ doc.title }}</li>\r\n          </ul>\r\n        </div>\r\n        <!--  -->\r\n        <button class=\"collapse-btn\" @click=\"toggleSidebar\" :title=\"sidebarCollapsed ? '' : ''\">\r\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" \r\n               :class=\"{ 'rotated': sidebarCollapsed }\">\r\n            <path d=\"M15 18L9 12L15 6\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      <!--  -->\r\n      <div class=\"editor-pane\" :class=\"{ 'expanded': sidebarCollapsed }\">\r\n        <div class=\"doc-meta\">\r\n          <div class=\"doc-title\">{{ activeDoc.title }}</div>\r\n          <div class=\"doc-updated\">{{ activeDoc.updated }}</div>\r\n        </div>\r\n        <textarea \r\n          class=\"editor\" \r\n          :class=\"{ 'readonly': !isEditing }\"\r\n          v-model=\"activeDocContent\" \r\n          @input=\"updateContent\"\r\n          :readonly=\"!isEditing\"\r\n        ></textarea>\r\n        <div class=\"editor-footer\">\r\n          <button class=\"btn\"></button>\r\n          <button class=\"btn\"></button>\r\n          <div class=\"flex-spacer\" />\r\n          <button class=\"btn secondary\" @click=\"toggleEditMode\" v-if=\"!isEditing\">\r\n            \r\n          </button>\r\n          <button class=\"btn secondary\" @click=\"cancelEdit\" v-if=\"isEditing\">\r\n            \r\n          </button>\r\n          <button class=\"btn primary\" @click=\"saveDocument\" :disabled=\"!isEditing || !hasUnsavedChanges\">\r\n            {{ isEditing && hasUnsavedChanges ? '*' : '' }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"showNewDocDialog\" class=\"upload-dialog-overlay\" @click=\"closeNewDocDialog\">\r\n      <div class=\"upload-dialog\" @click.stop>\r\n        <div class=\"dialog-header\">\r\n          <h3></h3>\r\n          <button class=\"close-btn\" @click=\"closeNewDocDialog\"></button>\r\n        </div>\r\n        <div class=\"dialog-content\">\r\n          <div class=\"form-group\">\r\n            <label></label>\r\n            <input v-model=\"newDocTitle\" type=\"text\" placeholder=\"\" />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label></label>\r\n            <select v-model=\"newDocCategory\">\r\n              <option v-for=\"folder in folders\" :key=\"folder.id\" :value=\"folder.name\">{{ folder.name }}</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label></label>\r\n            <textarea v-model=\"newDocContent\" placeholder=\"\" rows=\"10\"></textarea>\r\n          </div>\r\n          <div class=\"dialog-actions\">\r\n            <button class=\"btn secondary\" @click=\"closeNewDocDialog\"></button>\r\n            <button class=\"btn primary\" @click=\"confirmNewDoc\" :disabled=\"!newDocTitle\"></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"showNewFolderDialog\" class=\"upload-dialog-overlay\" @click=\"closeNewFolderDialog\">\r\n      <div class=\"upload-dialog\" @click.stop>\r\n        <div class=\"dialog-header\">\r\n          <h3></h3>\r\n          <button class=\"close-btn\" @click=\"closeNewFolderDialog\"></button>\r\n        </div>\r\n        <div class=\"dialog-content\">\r\n          <div class=\"form-group\">\r\n            <label></label>\r\n            <input v-model=\"newFolderName\" type=\"text\" placeholder=\"\" />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label></label>\r\n            <textarea v-model=\"newFolderDescription\" placeholder=\"\" rows=\"3\"></textarea>\r\n          </div>\r\n          <div class=\"dialog-actions\">\r\n            <button class=\"btn secondary\" @click=\"closeNewFolderDialog\"></button>\r\n            <button class=\"btn primary\" @click=\"confirmNewFolder\" :disabled=\"!newFolderName\"></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport '@/assets/styles/KnowledgeBaseCabinet.css'\r\n\r\nexport default {\r\n  name: 'KnowledgeBaseCabinet',\r\n  props: {\r\n    projectId: {\r\n      type: [String, Number],\r\n      default: null\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      activeId: 1,\r\n      showNewDocDialog: false,\r\n      showNewFolderDialog: false,\r\n      newDocTitle: '',\r\n      newDocCategory: '',\r\n      newDocContent: '',\r\n      newFolderName: '',\r\n      newFolderDescription: '',\r\n      hasUnsavedChanges: false,\r\n      autoSaveTimer: null,\r\n      isEditing: false,\r\n      sidebarCollapsed: false, // \r\n      folders: [\r\n        { id: 1, name: '', description: '', expanded: true },\r\n        { id: 2, name: '', description: '', expanded: true },\r\n        { id: 3, name: '', description: '', expanded: true }\r\n      ],\r\n      docs: [\r\n        { \r\n          id: 1, \r\n          title: ' v2.1', \r\n          updated: '20231115',\r\n          content: ` v2.1\\n20231115\\n1. ...\\n()`\r\n        },\r\n        { \r\n          id: 2, \r\n          title: ' v2.0', \r\n          updated: '20231015',\r\n          content: ` v2.0\\n20231015\\n1. ...\\n()`\r\n        },\r\n        { \r\n          id: 3, \r\n          title: ' v1.9', \r\n          updated: '20230915',\r\n          content: ` v1.9\\n20230915\\n1. ...\\n()`\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    activeDoc() {\r\n      return this.docs.find(d => d.id === this.activeId) || this.docs[0]\r\n    },\r\n    activeDocContent: {\r\n      get() {\r\n        return this.activeDoc ? this.activeDoc.content : ''\r\n      },\r\n      set(value) {\r\n        if (this.activeDoc) {\r\n          this.activeDoc.content = value\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    // \r\n    this.loadFromLocalStorage()\r\n    \r\n    // \r\n    window.addEventListener('beforeunload', this.handleBeforeUnload)\r\n  },\r\n  beforeDestroy() {\r\n    // \r\n    if (this.hasUnsavedChanges) {\r\n      this.saveDocument()\r\n    }\r\n    // \r\n    if (this.autoSaveTimer) {\r\n      clearTimeout(this.autoSaveTimer)\r\n    }\r\n    // \r\n    window.removeEventListener('beforeunload', this.handleBeforeUnload)\r\n  },\r\n  methods: {\r\n    createNewDocument() {\r\n      this.showNewDocDialog = true\r\n      this.newDocCategory = this.folders[0]?.name || ''\r\n    },\r\n    \r\n    closeNewDocDialog() {\r\n      this.showNewDocDialog = false\r\n      this.newDocTitle = ''\r\n      this.newDocCategory = ''\r\n      this.newDocContent = ''\r\n    },\r\n\r\n    createNewFolder() {\r\n      this.showNewFolderDialog = true\r\n      this.newFolderName = ''\r\n      this.newFolderDescription = ''\r\n    },\r\n    \r\n    closeNewFolderDialog() {\r\n      this.showNewFolderDialog = false\r\n      this.newFolderName = ''\r\n      this.newFolderDescription = ''\r\n    },\r\n\r\n    confirmNewFolder() {\r\n      if (!this.newFolderName.trim()) return      \r\n      const newFolder = {\r\n        id: Date.now(),\r\n        name: this.newFolderName.trim(),\r\n        description: this.newFolderDescription.trim(),\r\n        expanded: true\r\n      }\r\n      \r\n      this.folders.push(newFolder)\r\n      this.saveToLocalStorage()\r\n      this.closeNewFolderDialog()\r\n    },\r\n\r\n    toggleFolder(folderId) {\r\n      const folder = this.folders.find(f => f.id === folderId)\r\n      if (folder) {\r\n        folder.expanded = !folder.expanded\r\n        this.saveToLocalStorage()\r\n      }\r\n    },\r\n\r\n    toggleSidebar() {\r\n      this.sidebarCollapsed = !this.sidebarCollapsed\r\n    },\r\n\r\n    getDocsInFolder(folderId) {\r\n      return this.docs.filter(doc => doc.folderId === folderId)\r\n    },\r\n\r\n    toggleEditMode() {\r\n      this.isEditing = true\r\n      // \r\n      if (this.activeDocContent !== this.activeDoc.content) {\r\n        this.hasUnsavedChanges = true\r\n      }\r\n    },\r\n\r\n    cancelEdit() {\r\n      // \r\n      if (this.hasUnsavedChanges) {\r\n        if (confirm('')) {\r\n          this.isEditing = false\r\n          this.hasUnsavedChanges = false\r\n          // \r\n          this.loadCurrentDocContent()\r\n        }\r\n      } else {\r\n        this.isEditing = false\r\n        this.hasUnsavedChanges = false\r\n      }\r\n    },\r\n\r\n    loadCurrentDocContent() {\r\n      // \r\n      const currentDoc = this.docs.find(doc => doc.id === this.activeId)\r\n      if (currentDoc) {\r\n        this.activeDocContent = currentDoc.content\r\n      }\r\n    },\r\n    \r\n    confirmNewDoc() {\r\n      if (this.newDocTitle) {\r\n        // ID\r\n        const selectedFolder = this.folders.find(f => f.name === this.newDocCategory)\r\n        \r\n        const newDoc = {\r\n          id: Date.now(),\r\n          title: this.newDocTitle,\r\n          updated: new Date().toLocaleString('zh-CN'),\r\n          content: this.newDocContent || '...',\r\n          folderId: selectedFolder?.id || null\r\n        }\r\n        \r\n        this.docs.unshift(newDoc)\r\n        this.activeId = newDoc.id\r\n        this.closeNewDocDialog()\r\n        \r\n        // \r\n        this.saveToLocalStorage()\r\n        \r\n        // \r\n        this.$emit('document-created', newDoc)\r\n        \r\n        alert('')\r\n      }\r\n    },\r\n    \r\n    updateContent() {\r\n      // \r\n      if (this.isEditing) {\r\n        this.hasUnsavedChanges = true\r\n        \r\n        // \r\n        if (this.autoSaveTimer) {\r\n          clearTimeout(this.autoSaveTimer)\r\n        }\r\n        \r\n        // 3\r\n        this.autoSaveTimer = setTimeout(() => {\r\n          this.autoSave()\r\n        }, 3000)\r\n      }\r\n    },\r\n    \r\n    saveDocument() {\r\n      if (this.activeDoc) {\r\n        // \r\n        this.activeDoc.content = this.activeDocContent\r\n        // \r\n        this.activeDoc.updated = new Date().toLocaleString('zh-CN')\r\n        \r\n        // \r\n        this.saveToLocalStorage()\r\n        \r\n        // \r\n        this.hasUnsavedChanges = false\r\n        this.isEditing = false\r\n        \r\n        // \r\n        this.$emit('document-saved', this.activeDoc)\r\n        \r\n        alert('')\r\n      }\r\n    },\r\n    \r\n    autoSave() {\r\n      if (this.activeDoc && this.hasUnsavedChanges) {\r\n        // \r\n        this.activeDoc.updated = new Date().toLocaleString('zh-CN')\r\n        this.saveToLocalStorage()\r\n        this.hasUnsavedChanges = false\r\n        \r\n        // \r\n        this.$emit('document-auto-saved', this.activeDoc)\r\n        \r\n        console.log('')\r\n      }\r\n    },\r\n    \r\n    saveToLocalStorage() {\r\n      // \r\n      try {\r\n        const dataToSave = {\r\n          docs: this.docs,\r\n          folders: this.folders,\r\n          activeId: this.activeId,\r\n          hasUnsavedChanges: this.hasUnsavedChanges\r\n        }\r\n        const storageKey = this.projectId ? `knowledgeBaseDocs_${this.projectId}` : 'knowledgeBaseDocs'\r\n        localStorage.setItem(storageKey, JSON.stringify(dataToSave))\r\n        console.log(` (ID: ${this.projectId})`)\r\n      } catch (error) {\r\n        console.error(':', error)\r\n      }\r\n    },\r\n    \r\n    loadFromLocalStorage() {\r\n      // \r\n      try {\r\n        const storageKey = this.projectId ? `knowledgeBaseDocs_${this.projectId}` : 'knowledgeBaseDocs'\r\n        const saved = localStorage.getItem(storageKey)\r\n        if (saved) {\r\n          const data = JSON.parse(saved)\r\n          if (data.docs && Array.isArray(data.docs) && data.docs.length > 0) {\r\n            this.docs = data.docs\r\n            console.log(` (ID: ${this.projectId})`)\r\n          }\r\n          if (data.folders && Array.isArray(data.folders) && data.folders.length > 0) {\r\n            this.folders = data.folders\r\n            console.log(` (ID: ${this.projectId})`)\r\n          }\r\n          if (data.activeId) {\r\n            this.activeId = data.activeId\r\n          }\r\n          if (data.hasUnsavedChanges !== undefined) {\r\n            this.hasUnsavedChanges = data.hasUnsavedChanges\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n      }\r\n    },\r\n    \r\n    handleBeforeUnload(event) {\r\n      // \r\n      if (this.hasUnsavedChanges) {\r\n        event.preventDefault()\r\n        event.returnValue = ''\r\n        return ''\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.cabinet-view {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%; /*  */\r\n  animation: fadeInUp 0.6s ease-out;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n@keyframes fadeInUp {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.cabinet-layout { \r\n  display: grid; \r\n  grid-template-columns: 260px 1fr; \r\n  gap: 12px; \r\n  flex: 1; /*  */\r\n  min-height: 0; /* grid */\r\n  height: 100%; /*  */\r\n  transition: grid-template-columns 0.3s ease;\r\n  position: relative;\r\n}\r\n\r\n.cabinet-layout.sidebar-collapsed {\r\n  grid-template-columns: 60px 1fr;\r\n}\r\n\r\n.list-pane { \r\n  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);\r\n  border: 1px solid #e5e7eb;\r\n  border-radius: 16px;\r\n  padding: 16px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 0;\r\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.list-pane.collapsed {\r\n  padding: 16px 8px;\r\n  align-items: center;\r\n}\r\n\r\n.collapse-btn {\r\n  position: absolute;\r\n  bottom: 16px;\r\n  right: 8px;\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  border: 1px solid #e5e7eb;\r\n  background: white;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  color: #64748b;\r\n  z-index: 10;\r\n}\r\n\r\n.collapse-btn:hover {\r\n  background: #f1f5f9;\r\n  border-color: #5EB6E4;\r\n  color: #5EB6E4;\r\n  transform: scale(1.1);\r\n}\r\n\r\n.collapse-btn svg.rotated {\r\n  transform: rotate(180deg);\r\n}\r\n\r\n.list-pane:hover {\r\n  box-shadow: 0 8px 15px -5px rgba(0, 0, 0, 0.15);\r\n}\r\n.toolbar { \r\n  display: flex; \r\n  flex-direction: column;\r\n  gap: 10px; \r\n  margin-bottom: 16px; \r\n  flex-shrink: 0;\r\n}\r\n.toolbar-buttons {\r\n  display: flex;\r\n  gap: 10px;\r\n  align-items: center;\r\n}\r\n.search { \r\n  width: 100%;\r\n  height: 36px; \r\n  border: 2px solid #e5e7eb; \r\n  border-radius: 10px; \r\n  padding: 0 12px; \r\n  font-size: 13px; \r\n  transition: all 0.3s ease;\r\n  background: white;\r\n}\r\n.search:focus {\r\n  outline: none;\r\n  border-color: #5EB6E4;\r\n  box-shadow: 0 0 0 3px rgba(94, 182, 228, 0.1);\r\n}\r\n.group-title { \r\n  color: #6b7280; \r\n  font-size: 12px; \r\n  margin: 10px 0 6px; \r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  cursor: pointer;\r\n  transition: color 0.2s ease;\r\n  padding: 0 10px;\r\n}\r\n\r\n.group-title:hover {\r\n  color: #374151;\r\n}\r\n\r\n.folder-icon {\r\n  transition: transform 0.2s ease;\r\n  transform: rotate(180deg); /*  */\r\n}\r\n\r\n.folder-icon.expanded {\r\n  transform: rotate(0deg); /*  */\r\n}\r\n\r\n.folder-section {\r\n  margin-bottom: 8px;\r\n}\r\n.doc-list { list-style: none; padding: 0; margin: 0; flex: 1; overflow-y: auto; }\r\n.doc-list li { padding: 8px 10px; border-radius: 8px; cursor: pointer; color: #374151; font-size: 13px; }\r\n.doc-list li:hover { background: #f6f7fb; }\r\n.doc-list li.active { background: #e0ebff; color: #0044CC; }\r\n\r\n.editor-pane { \r\n  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);\r\n  border: 1px solid #e5e7eb;\r\n  border-radius: 16px;\r\n  padding: 8px;\r\n  display: flex; \r\n  flex-direction: column; \r\n  min-height: 0;\r\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\r\n  transition: all 0.3s ease;\r\n}\r\n.editor-pane:hover {\r\n  box-shadow: 0 8px 15px -5px rgba(0, 0, 0, 0.15);\r\n}\r\n.doc-meta { \r\n  padding: 2px 0 6px; \r\n  flex-shrink: 0;\r\n  border-bottom: 1px solid #e5e7eb;\r\n  margin-bottom: 6px;\r\n}\r\n.doc-title { \r\n  font-size: 16px; \r\n  font-weight: 700; \r\n  color: #1e293b;\r\n  background: linear-gradient(135deg, #1e293b 0%, #5EB6E4 100%);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  background-clip: text;\r\n}\r\n.doc-updated { \r\n  color: #64748b; \r\n  font-size: 12px; \r\n  margin-top: 4px;\r\n  font-weight: 500;\r\n}\r\n.editor { \r\n  flex: 1; \r\n  border: 1px solid #e5e7eb; \r\n  border-radius: 8px; \r\n  padding: 8px; \r\n  font-size: 13px; \r\n  resize: none; /* resizeflex */\r\n  min-height: 0; /* flex */\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.editor.readonly {\r\n  background-color: #f9fafb;\r\n  color: #6b7280;\r\n  cursor: default;\r\n}\r\n\r\n.editor:not(.readonly) {\r\n  background-color: #fff;\r\n  color: #111827;\r\n}\r\n.editor-footer { display: flex; align-items: center; gap: 8px; margin-top: 6px; flex-shrink: 0; padding-top: 6px; }\r\n.flex-spacer { flex: 1; }\r\n\r\n.btn { \r\n  height: 36px; \r\n  padding: 0 18px; \r\n  border: 2px solid #e5e7eb; \r\n  background: white; \r\n  border-radius: 10px; \r\n  cursor: pointer; \r\n  font-size: 13px; \r\n  font-weight: 600;\r\n  white-space: nowrap;\r\n  transition: all 0.3s ease;\r\n}\r\n.btn:hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n.btn.primary { \r\n  background: linear-gradient(135deg, #5EB6E4 0%, #0044CC 100%);\r\n  color: white; \r\n  border-color: transparent;\r\n  box-shadow: 0 4px 12px rgba(0, 68, 204, 0.3);\r\n}\r\n.btn.primary:hover {\r\n  background: linear-gradient(135deg, #0044CC 0%, #003399 100%);\r\n  box-shadow: 0 8px 20px rgba(0, 68, 204, 0.4);\r\n}\r\n.btn.secondary {\r\n  background: linear-gradient(135deg, #f8f9fa 0%, #f1f5f9 100%);\r\n  color: #1e293b;\r\n  border-color: #e5e7eb;\r\n}\r\n.btn.secondary:hover {\r\n  background: linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 100%);\r\n}\r\n.btn.small { \r\n  height: 32px; \r\n  padding: 0 16px;\r\n  font-size: 12px;\r\n}\r\n\r\n/*  */\r\n.upload-dialog-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.upload-dialog {\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n  max-width: 500px;\r\n  width: 90%;\r\n  max-height: 80vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n.dialog-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 20px 24px;\r\n  border-bottom: 1px solid #e9ecef;\r\n}\r\n\r\n.dialog-header h3 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.close-btn {\r\n  background: none;\r\n  border: none;\r\n  font-size: 32px;\r\n  color: #999;\r\n  cursor: pointer;\r\n  padding: 0;\r\n  width: 42px;\r\n  height: 42px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.close-btn:hover {\r\n  color: #666;\r\n}\r\n\r\n.dialog-content {\r\n  padding: 24px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 8px;\r\n  font-weight: 500;\r\n  color: #333;\r\n}\r\n\r\n.form-group input,\r\n.form-group textarea,\r\n.form-group select {\r\n  width: 100%;\r\n  padding: 10px 12px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n}\r\n\r\n.form-group textarea {\r\n  height: 120px;\r\n  resize: vertical;\r\n}\r\n\r\n.dialog-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 12px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.btn:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n  transform: none;\r\n}\r\n\r\n@media (max-width: 900px) {\r\n  .cabinet-layout { grid-template-columns: 1fr; }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KnowledgeBaseCabinet.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KnowledgeBaseCabinet.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./KnowledgeBaseCabinet.vue?vue&type=template&id=5ba98c20&scoped=true\"\nimport script from \"./KnowledgeBaseCabinet.vue?vue&type=script&lang=js\"\nexport * from \"./KnowledgeBaseCabinet.vue?vue&type=script&lang=js\"\nimport style0 from \"./KnowledgeBaseCabinet.vue?vue&type=style&index=0&id=5ba98c20&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ba98c20\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ai-view\"},[_c('div',{staticClass:\"page-header\"},[_vm._m(0),_c('p',{staticClass:\"page-subtitle\"},[_c('svg',{staticClass:\"subtitle-icon\",attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M12 2L2 7L12 12L22 7L12 2Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M2 17L12 22L22 17M2 12L12 17L22 12\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_vm._v(\"  \")])]),_c('div',{staticClass:\"chat-card\"},[_c('div',{ref:\"chatWindow\",staticClass:\"chat-window\"},[_c('div',{staticClass:\"bubble left\"},[_vm._v(\" AI \")]),_vm._l((_vm.messages),function(message){return _c('div',{key:message.id,staticClass:\"bubble\",class:message.type},[_vm._v(\" \"+_vm._s(message.content)+\" \")])})],2),_c('div',{staticClass:\"composer\"},[_c('div',{staticClass:\"file-menu-wrapper\"},[_c('button',{staticClass:\"file-select-btn\",attrs:{\"disabled\":_vm.isSending,\"title\":\"\",\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.toggleFileMenu.apply(null, arguments)}}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M13 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V9L13 2Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M13 2V9H20\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M8 13H16M8 17H12\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),(_vm.showFileMenu)?_c('div',{staticClass:\"file-dropdown-menu\"},[_c('div',{staticClass:\"dropdown-item\",on:{\"click\":_vm.openFileDialogFromArchive}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M9 22V12H15V22\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_c('span',[_vm._v(\"\")])]),_c('div',{staticClass:\"dropdown-item\",on:{\"click\":_vm.openFileUpload}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M7 10L12 15L17 10M12 15V3\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_c('span',[_vm._v(\"\")])])]):_vm._e()]),_c('input',{ref:\"fileInput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"multiple\":\"\"},on:{\"change\":_vm.handleFileUpload}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputMessage),expression:\"inputMessage\"}],staticClass:\"composer-input\",attrs:{\"type\":\"text\",\"placeholder\":\"...\",\"disabled\":_vm.isSending},domProps:{\"value\":(_vm.inputMessage)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.sendMessage.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.inputMessage=$event.target.value}}}),_c('button',{staticClass:\"send-btn\",attrs:{\"disabled\":!_vm.inputMessage.trim() || _vm.isSending},on:{\"click\":_vm.sendMessage}},[(!_vm.isSending)?_c('svg',{attrs:{\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M22 2L11 13\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M22 2L15 22L11 13L2 9L22 2Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]):_c('div',{staticClass:\"loading-spinner\"})])]),(_vm.showFileDialog)?_c('div',{staticClass:\"file-dialog-overlay\",on:{\"click\":_vm.closeFileDialog}},[_c('div',{staticClass:\"file-dialog\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"file-dialog-header\"},[_c('div',{staticClass:\"header-content\"},[_c('h3',[_vm._v(\"\")]),(_vm.selectedFiles.length > 0)?_c('p',{staticClass:\"header-subtitle\"},[_vm._v(\" \"+_vm._s(_vm.selectedFiles.length)+\" \")]):_vm._e()]),_c('button',{staticClass:\"close-btn\",on:{\"click\":_vm.closeFileDialog}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"file-dialog-body\"},[(_vm.loadingFiles)?_c('div',{staticClass:\"loading-container\"},[_c('div',{staticClass:\"loading-spinner-large\"}),_c('p',{staticClass:\"loading-text\"},[_vm._v(\"...\")])]):(_vm.files.length === 0)?_c('div',{staticClass:\"empty-state\"},[_c('div',{staticClass:\"empty-icon\"},[_c('svg',{attrs:{\"width\":\"64\",\"height\":\"64\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M13 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V9L13 2Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M13 2V9H20\",\"stroke\":\"currentColor\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('p',{staticClass:\"empty-text\"},[_vm._v(\"\")])]):_c('div',{staticClass:\"file-list-container\"},[_c('div',{staticClass:\"file-list\"},_vm._l((_vm.files),function(file){return _c('div',{key:file.id,staticClass:\"file-card\",class:{ 'selected': _vm.selectedFiles.includes(file.id) },on:{\"click\":function($event){return _vm.toggleFileSelection(file.id)}}},[_c('div',{staticClass:\"file-card-content\"},[_c('div',{staticClass:\"file-card-main\"},[_c('div',{staticClass:\"file-name-wrapper\"},[_c('div',{staticClass:\"file-name\"},[_vm._v(_vm._s(file.name || file.title || ''))]),_c('div',{staticClass:\"file-badge-group\"},[_c('span',{staticClass:\"file-type-badge\"},[_vm._v(_vm._s(file.type || ''))]),(file.fileCount)?_c('span',{staticClass:\"file-count-badge\"},[_vm._v(_vm._s(file.fileCount)+\"\")]):_vm._e()])])]),_c('div',{staticClass:\"file-select-indicator\",class:{ 'active': _vm.selectedFiles.includes(file.id) }},[_c('div',{staticClass:\"checkmark-circle\"},[(_vm.selectedFiles.includes(file.id))?_c('svg',{attrs:{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M20 6L9 17L4 12\",\"stroke\":\"currentColor\",\"stroke-width\":\"2.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]):_vm._e()])])])])}),0)])]),_c('div',{staticClass:\"file-dialog-footer\"},[_c('button',{staticClass:\"btn-cancel\",on:{\"click\":_vm.closeFileDialog}},[_vm._v(\"\")]),_c('button',{staticClass:\"btn-confirm\",class:{ 'disabled': _vm.selectedFiles.length === 0 },attrs:{\"disabled\":_vm.selectedFiles.length === 0},on:{\"click\":_vm.confirmFileSelection}},[_c('span',[_vm._v(\"\")]),(_vm.selectedFiles.length > 0)?_c('span',{staticClass:\"selected-count\"},[_vm._v(_vm._s(_vm.selectedFiles.length))]):_vm._e()])])])]):_vm._e()])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('h1',{staticClass:\"page-title\"},[_c('span',{staticClass:\"title-text\"},[_vm._v(\"AI\")]),_c('div',{staticClass:\"title-decoration\"})])\n}]\n\nexport { render, staticRenderFns }","import axios from 'axios'\nimport config from '@/config'\n\n// axios - Vue\nconst api = axios.create({\n  baseURL: '', // Vue\n  timeout: 300000, // SSE\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'text/event-stream, application/json'\n  },\n  withCredentials: true\n})\n\n/**\n * JSON \n *  JSON  JSON\n */\nfunction parseJSONWithBuffer(dataBuffer, line) {\n  // \n  if (!dataBuffer.accumulated) {\n    dataBuffer.accumulated = ''\n  }\n  \n  //  'data:'  'data: ' \n  let jsonData = line\n  if (line.startsWith('data: ')) {\n    jsonData = line.substring(6)  // 'data: ' (6 )\n  } else if (line.startsWith('data:')) {\n    jsonData = line.substring(5)  // 'data:' (5 )\n  }\n  \n  // \n  if (!jsonData.trim()) {\n    return null\n  }\n  \n  //  JSON\n  // \n  if (dataBuffer.accumulated) {\n    const trimmed = jsonData.trim()\n    const accumulatedTrimmed = dataBuffer.accumulated.trim()\n    \n    //  JSON {  [ {\n    if (!accumulatedTrimmed.startsWith('{') && !accumulatedTrimmed.startsWith('[') && trimmed.includes(':')) {\n      //  JSON  {\n      dataBuffer.accumulated = '{' + (dataBuffer.accumulated ? '\\n' : '') + dataBuffer.accumulated\n    }\n    \n    //  }  ]\n    if (!trimmed.startsWith('}') && !trimmed.startsWith(']') && \n        !accumulatedTrimmed.endsWith(',') && \n        !dataBuffer.accumulated.endsWith('\\n') && !dataBuffer.accumulated.endsWith(' ') &&\n        !dataBuffer.accumulated.endsWith('{') && !dataBuffer.accumulated.endsWith('[')) {\n      dataBuffer.accumulated += '\\n'\n    }\n  } else {\n    //  {  {\n    const trimmed = jsonData.trim()\n    if (trimmed.includes(':') && !trimmed.startsWith('{') && !trimmed.startsWith('[') && !trimmed.startsWith('}') && !trimmed.startsWith(']')) {\n      dataBuffer.accumulated = '{\\n'\n    }\n  }\n  \n  //  JSON  JSON\n  //  {  [  JSON \n  const trimmedJsonData = jsonData.trim()\n  if (trimmedJsonData.startsWith('{') || trimmedJsonData.startsWith('[')) {\n    //  JSON \n    if (dataBuffer.accumulated.trim()) {\n      const oldAccumulated = dataBuffer.accumulated.trim()\n      // \n      try {\n        const parsed = JSON.parse(oldAccumulated)\n        dataBuffer.accumulated = jsonData  //  JSON \n        return parsed  // \n      } catch (e) {\n        // \n        console.warn('[cozeAPI] :', oldAccumulated.substring(0, 100))\n        dataBuffer.accumulated = jsonData\n      }\n    } else {\n      dataBuffer.accumulated = jsonData\n    }\n  } else {\n    // \n    dataBuffer.accumulated += jsonData\n  }\n  \n  //  JSON\n  try {\n    let jsonToParse = dataBuffer.accumulated.trim()\n    \n    //  JSON  {  }  }\n    if (jsonToParse.startsWith('{') && !jsonToParse.endsWith('}')) {\n      // \n      const openBraces = (jsonToParse.match(/\\{/g) || []).length\n      const closeBraces = (jsonToParse.match(/\\}/g) || []).length\n      if (openBraces > closeBraces) {\n        //  }\n        return null\n      }\n    }\n    \n    //  JSON  [  ]  ]\n    if (jsonToParse.startsWith('[') && !jsonToParse.endsWith(']')) {\n      const openBrackets = (jsonToParse.match(/\\[/g) || []).length\n      const closeBrackets = (jsonToParse.match(/\\]/g) || []).length\n      if (openBrackets > closeBrackets) {\n        //  ]\n        return null\n      }\n    }\n    \n    const parsed = JSON.parse(jsonToParse)\n    // \n    dataBuffer.accumulated = ''\n    return parsed\n  } catch (e) {\n    // JSON \n    const trimmed = dataBuffer.accumulated.trim()\n    \n    //  JSON  {  [ \n    if (!trimmed.startsWith('{') && !trimmed.startsWith('[')) {\n      //  JSON \n      //  JSON \n      if (trimmed.includes(':') || trimmed === '}' || trimmed === ']') {\n        //  JSON\n        // \n        if (dataBuffer.accumulated.length > 100000) {\n          console.error('[cozeAPI] JSON >100KB')\n          const failedData = dataBuffer.accumulated\n          dataBuffer.accumulated = ''\n          return { error: true, rawData: failedData.substring(0, 200) }\n        }\n        return null\n      } else {\n        //  JSON \n        console.warn('[cozeAPI]  JSON :', trimmed.substring(0, 100))\n        dataBuffer.accumulated = ''\n        return { error: true, rawData: trimmed.substring(0, 200) }\n      }\n    }\n    \n    //  JSON \n    // \n    if (dataBuffer.accumulated.length > 100000) {\n      console.error('[cozeAPI] JSON >100KB')\n      const failedData = dataBuffer.accumulated\n      dataBuffer.accumulated = ''\n      return { error: true, rawData: failedData.substring(0, 200) }\n    }\n    \n    return null\n  }\n}\n\n// \napi.interceptors.request.use(\n  config => {\n    // localStoragetoken\n    const token = localStorage.getItem('access_token')\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`\n    }\n    \n    // FormDataContent-Type\n    if (config.data instanceof FormData) {\n      delete config.headers['Content-Type']\n      console.log('Coze API (FormData):', config.method?.toUpperCase(), config.url)\n    } else {\n      console.log('Coze API:', config.method?.toUpperCase(), config.url)\n    }\n    \n    return config\n  },\n  error => {\n    console.error(':', error)\n    return Promise.reject(error)\n  }\n)\n\n// SSE\napi.interceptors.response.use(\n  response => {\n    console.log('Coze API:', response.status, response.data)\n    return response.data\n  },\n  error => {\n    console.error('Coze API:', error)\n    \n    if (error.response) {\n      const { status, data } = error.response\n      console.error(':', status, data)\n      \n      if (status === 401) {\n        // token\n        localStorage.removeItem('access_token')\n        localStorage.removeItem('refresh_token')\n        localStorage.removeItem('user_info')\n        window.location.href = '/login'\n      }\n      \n      return Promise.reject(data || error)\n    } else if (error.request) {\n      console.error(':', error.request)\n      return Promise.reject(new Error(''))\n    } else {\n      console.error(':', error.message)\n      return Promise.reject(error)\n    }\n  }\n)\n\n/**\n * Coze AI API\n */\nexport const cozeAPI = {\n  /**\n   * \n   * @param {String} query - \n   * @param {String} conversationId - ID\n   * @param {Object} customVariables - \n   * @param {Function} onMessage -  (message) => void\n   * @param {Function} onError -  (error) => void\n   * @param {Function} onComplete -  () => void\n   * @returns {EventSource} EventSource\n   */\n  chatStream(query, conversationId = null, customVariables = null, onMessage, onError, onComplete) {\n    console.log('[cozeAPI.chatStream] , query:', query, 'conversationId:', conversationId)\n    \n    // token\n    const token = localStorage.getItem('access_token')\n    if (!token) {\n      const error = new Error('')\n      console.error('[cozeAPI.chatStream] :', error.message)\n      if (onError) onError(error)\n      return Promise.reject(error)\n    }\n    \n    // URLVue\n    let url = '/zhiyan/api/coze/chat/stream'\n    const params = new URLSearchParams()\n    params.append('query', query)\n    if (conversationId) {\n      params.append('conversationId', conversationId)\n    }\n    url += '?' + params.toString()\n    \n    // \n    let body = null\n    if (customVariables && Object.keys(customVariables).length > 0) {\n      body = JSON.stringify(customVariables)\n    } else {\n      //  POST \n      body = '{}'\n    }\n    \n    console.log('[cozeAPI.chatStream] URL:', url)\n    console.log('[cozeAPI.chatStream] Token:', !!token)\n    \n    // fetch APISSEPOST\n    return fetch(url, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n        'Accept': 'text/event-stream',\n        'Cache-Control': 'no-cache'\n      },\n      body: body,\n      credentials: 'include' // cookies\n    })\n      .then(response => {\n        console.log('[cozeAPI.chatStream] :', response.status, response.statusText)\n        \n        // \n        if (response.status === 401 || response.status === 403) {\n          const error = new Error('')\n          console.error('[cozeAPI.chatStream] :', response.status)\n          if (onError) onError(error)\n          throw error\n        }\n        \n        // \n        const contentType = response.headers.get('content-type')\n        console.log('[cozeAPI.chatStream] Content-Type:', contentType)\n        console.log('[cozeAPI.chatStream] URL:', response.url)\n        \n        if (!contentType || !contentType.includes('text/event-stream')) {\n          console.warn('[cozeAPI.chatStream] SSE:', contentType)\n          // \n          return response.text().then(text => {\n            console.error('[cozeAPI.chatStream] SSE500:', text.substring(0, 500))\n            // HTML\n            if (contentType && contentType.includes('text/html')) {\n              const error = new Error(`HTML: ${text.substring(0, 200)}`)\n              console.error('[cozeAPI.chatStream] HTML')\n              if (onError) onError(error)\n              throw error\n            }\n            const error = new Error(`: ${response.status} - ${text.substring(0, 200)}`)\n            if (onError) onError(error)\n            throw error\n          })\n        }\n        \n        if (!response.ok) {\n          const error = new Error(`HTTP error! status: ${response.status}`)\n          console.error('[cozeAPI.chatStream] HTTP:', response.status)\n          if (onError) onError(error)\n          throw error\n        }\n        \n        const reader = response.body.getReader()\n        const decoder = new TextDecoder()\n        let buffer = '' // SSE \n        const jsonBuffer = { accumulated: '' } // JSON  JSON\n        \n        const readChunk = () => {\n          reader.read().then(({ done, value }) => {\n            if (done) {\n              // \n              if (buffer.trim()) {\n                console.log('[cozeAPI.chatStream] :', buffer)\n                const lines = buffer.split('\\n')\n                for (const line of lines) {\n                  //  data: \n                  if (line.startsWith('data:') || line.trim().startsWith('data:')) {\n                    const message = parseJSONWithBuffer(jsonBuffer, line)\n                    if (message && !message.error) {\n                      if (onMessage) onMessage(message)\n                    }\n                  } else if (line.startsWith('event: ') || line.trim().startsWith('event:')) {\n                    const eventType = line.includes(':') ? line.substring(line.indexOf(':') + 1).trim() : line.trim()\n                    console.log('[cozeAPI.chatStream] :', eventType)\n                  }\n                }\n              }\n              \n              //  JSON\n              if (jsonBuffer.accumulated.trim()) {\n                console.warn('[cozeAPI.chatStream]  JSON :', jsonBuffer.accumulated)\n                try {\n                  const message = JSON.parse(jsonBuffer.accumulated)\n                  if (onMessage) onMessage(message)\n                } catch (e) {\n                  console.error('[cozeAPI.chatStream]  JSON :', e, ':', jsonBuffer.accumulated)\n                }\n                jsonBuffer.accumulated = ''\n              }\n              \n              if (onComplete) onComplete()\n              return\n            }\n            \n            buffer += decoder.decode(value, { stream: true })\n            const lines = buffer.split('\\n')\n            buffer = lines.pop() || '' // \n            \n            for (const line of lines) {\n              // \n              if (line.trim()) {\n                console.log('[cozeAPI.chatStream] SSE:', line.substring(0, 100))\n              }\n              \n              //  data: SSE \n              if (line.startsWith('data:') || line.trim().startsWith('data:')) {\n                //  data: \n                let jsonStr = line.substring(line.indexOf('data:') + 5).trim()\n                \n                //  data:\n                if (!jsonStr) {\n                  console.log('[cozeAPI.chatStream]  data: ')\n                  continue\n                }\n                \n                console.log('[cozeAPI.chatStream]  JSON:', jsonStr.substring(0, 100))\n                \n                try {\n                  //  JSON JSON \n                  const message = JSON.parse(jsonStr)\n                  console.log('[cozeAPI.chatStream]  JSON , event:', message.event, ', content:', message.content?.substring(0, 20))\n                  if (onMessage) {\n                    console.log('[cozeAPI.chatStream]  onMessage ')\n                    onMessage(message)\n                  } else {\n                    console.warn('[cozeAPI.chatStream]  onMessage ')\n                  }\n                } catch (e) {\n                  // JSON  JSON\n                  console.warn('[cozeAPI.chatStream]  JSON :', e.message, ', :', jsonStr.substring(0, 50))\n                  const messageFromBuffer = parseJSONWithBuffer(jsonBuffer, line)\n                  if (messageFromBuffer) {\n                    if (messageFromBuffer.error) {\n                      console.error('[cozeAPI.chatStream] JSON :', messageFromBuffer.rawData)\n                      if (onError) onError(new Error('JSON : ' + messageFromBuffer.rawData.substring(0, 100)))\n                    } else {\n                      console.log('[cozeAPI.chatStream]  , event:', messageFromBuffer.event)\n                      if (onMessage) onMessage(messageFromBuffer)\n                    }\n                  }\n                }\n              } else if (line.startsWith('event: ') || line.trim().startsWith('event:')) {\n                // event\n                const eventType = line.includes(':') ? line.substring(line.indexOf(':') + 1).trim() : line.trim()\n                console.log('[cozeAPI.chatStream] SSE:', eventType)\n              } else if (line.trim() && !line.startsWith(':')) {\n                //  : \n                //  JSON  data:  JSON \n                console.warn('[cozeAPI.chatStream] SSE:', line.substring(0, 100))\n              }\n            }\n            \n            readChunk()\n          }).catch(error => {\n            console.error('[cozeAPI.chatStream] SSE:', error)\n            if (onError) onError(error)\n          })\n        }\n        \n        readChunk()\n        \n        // \n        return {\n          close: () => {\n            reader.cancel()\n          }\n        }\n      })\n      .catch(error => {\n        console.error('SSE:', error)\n        if (onError) onError(error)\n        throw error\n      })\n  },\n\n  /**\n   *  + \n   * @param {String} query - \n   * @param {String} conversationId - ID\n   * @param {File[]} localFiles - \n   * @param {Number[]} knowledgeFileIds - ID\n   * @param {Object} customVariables - \n   * @param {Function} onMessage -  (message) => void\n   * @param {Function} onError -  (error) => void\n   * @param {Function} onComplete -  () => void\n   * @returns {Promise} close\n   */\n  chatStreamWithFiles(query, conversationId = null, localFiles = null, knowledgeFileIds = null, customVariables = null, onMessage, onError, onComplete) {\n    console.log('[cozeAPI.chatStreamWithFiles] ', {\n      query,\n      conversationId,\n      localFilesCount: localFiles ? localFiles.length : 0,\n      knowledgeFileIdsCount: knowledgeFileIds ? knowledgeFileIds.length : 0\n    })\n    \n    // token\n    const token = localStorage.getItem('access_token')\n    if (!token) {\n      const error = new Error('')\n      console.error('[cozeAPI.chatStreamWithFiles] :', error.message)\n      if (onError) onError(error)\n      return Promise.reject(error)\n    }\n    \n    // FormData\n    const formData = new FormData()\n    formData.append('query', query)\n    if (conversationId) {\n      formData.append('conversationId', conversationId)\n    }\n    \n    // \n    if (localFiles && localFiles.length > 0) {\n      localFiles.forEach(file => {\n        formData.append('localFiles', file)\n      })\n    }\n    \n    // ID\n    if (knowledgeFileIds && knowledgeFileIds.length > 0) {\n      knowledgeFileIds.forEach(fileId => {\n        formData.append('knowledgeFileIds', fileId.toString())\n      })\n    }\n    \n    // \n    if (customVariables && Object.keys(customVariables).length > 0) {\n      formData.append('customVariables', JSON.stringify(customVariables))\n    }\n    \n    // URLVue\n    const url = '/zhiyan/api/coze/chat/stream-with-files'\n    \n    console.log('[cozeAPI.chatStreamWithFiles] URL:', url)\n    console.log('[cozeAPI.chatStreamWithFiles] Token:', !!token)\n    \n    // fetch APISSE\n    return fetch(url, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Accept': 'text/event-stream',\n        'Cache-Control': 'no-cache'\n        // Content-Typemultipart/form-databoundary\n      },\n      body: formData,\n      credentials: 'include' // cookies\n    })\n      .then(response => {\n        console.log('[cozeAPI.chatStreamWithFiles] :', response.status, response.statusText)\n        \n        // \n        if (response.status === 401 || response.status === 403) {\n          const error = new Error('')\n          console.error('[cozeAPI.chatStreamWithFiles] :', response.status)\n          if (onError) onError(error)\n          throw error\n        }\n        \n        // \n        const contentType = response.headers.get('content-type')\n        if (!contentType || !contentType.includes('text/event-stream')) {\n          console.warn('[cozeAPI.chatStreamWithFiles] SSE:', contentType)\n          if (response.status !== 200) {\n            return response.text().then(text => {\n              console.error('[cozeAPI.chatStreamWithFiles] :', text)\n              const error = new Error(`: ${response.status} - ${text}`)\n              if (onError) onError(error)\n              throw error\n            })\n          }\n        }\n        \n        if (!response.ok) {\n          const error = new Error(`HTTP error! status: ${response.status}`)\n          console.error('[cozeAPI.chatStreamWithFiles] HTTP:', response.status)\n          if (onError) onError(error)\n          throw error\n        }\n        \n        const reader = response.body.getReader()\n        const decoder = new TextDecoder()\n        let buffer = '' // SSE \n        const jsonBuffer = { accumulated: '' } // JSON  JSON\n        \n        const readChunk = () => {\n          reader.read().then(({ done, value }) => {\n            if (done) {\n              // \n              if (buffer.trim()) {\n                console.log('[cozeAPI.chatStreamWithFiles] :', buffer)\n                const lines = buffer.split('\\n')\n                for (const line of lines) {\n                  //  data: \n                  if (line.startsWith('data:') || line.trim().startsWith('data:')) {\n                    const message = parseJSONWithBuffer(jsonBuffer, line)\n                    if (message && !message.error) {\n                      if (onMessage) onMessage(message)\n                    }\n                  } else if (line.startsWith('event: ') || line.trim().startsWith('event:')) {\n                    const eventType = line.includes(':') ? line.substring(line.indexOf(':') + 1).trim() : line.trim()\n                    console.log('[cozeAPI.chatStreamWithFiles] :', eventType)\n                  }\n                }\n              }\n              \n              //  JSON\n              if (jsonBuffer.accumulated.trim()) {\n                console.warn('[cozeAPI.chatStreamWithFiles]  JSON :', jsonBuffer.accumulated)\n                try {\n                  const message = JSON.parse(jsonBuffer.accumulated)\n                  if (onMessage) onMessage(message)\n                } catch (e) {\n                  console.error('[cozeAPI.chatStreamWithFiles]  JSON :', e, ':', jsonBuffer.accumulated)\n                }\n                jsonBuffer.accumulated = ''\n              }\n              \n              if (onComplete) onComplete()\n              return\n            }\n            \n            buffer += decoder.decode(value, { stream: true })\n            const lines = buffer.split('\\n')\n            buffer = lines.pop() || '' // \n            \n            for (const line of lines) {\n              //  data: SSE \n              if (line.startsWith('data:') || line.trim().startsWith('data:')) {\n                //  data: \n                let jsonStr = line.substring(line.indexOf('data:') + 5).trim()\n                \n                //  data:\n                if (!jsonStr) continue\n                \n                try {\n                  //  JSON JSON \n                  const message = JSON.parse(jsonStr)\n                  if (onMessage) onMessage(message)\n                } catch (e) {\n                  // JSON  JSON\n                  console.warn('[cozeAPI.chatStreamWithFiles] JSON :', jsonStr.substring(0, 50))\n                  const messageFromBuffer = parseJSONWithBuffer(jsonBuffer, line)\n                  if (messageFromBuffer) {\n                    if (messageFromBuffer.error) {\n                      console.error('[cozeAPI.chatStreamWithFiles] JSON :', messageFromBuffer.rawData)\n                      if (onError) onError(new Error('JSON : ' + messageFromBuffer.rawData.substring(0, 100)))\n                    } else {\n                      if (onMessage) onMessage(messageFromBuffer)\n                    }\n                  }\n                }\n              } else if (line.startsWith('event: ') || line.trim().startsWith('event:')) {\n                // event\n                const eventType = line.includes(':') ? line.substring(line.indexOf(':') + 1).trim() : line.trim()\n                console.log('[cozeAPI.chatStreamWithFiles] SSE:', eventType)\n              } else if (line.trim() && !line.startsWith(':')) {\n                //  : \n                //  JSON  data:  JSON \n                console.warn('[cozeAPI.chatStreamWithFiles] SSE:', line.substring(0, 100))\n              }\n            }\n            \n            readChunk()\n          }).catch(error => {\n            console.error('[cozeAPI.chatStreamWithFiles] SSE:', error)\n            if (onError) onError(error)\n          })\n        }\n        \n        readChunk()\n        \n        // \n        return {\n          close: () => {\n            reader.cancel()\n          }\n        }\n      })\n      .catch(error => {\n        console.error('[cozeAPI.chatStreamWithFiles] SSE:', error)\n        if (onError) onError(error)\n        throw error\n      })\n  },\n\n  /**\n   * Coze\n   * @param {File} file - \n   * @returns {Promise} \n   */\n  uploadFile(file) {\n    console.log('[cozeAPI.uploadFile] , fileName:', file?.name)\n    const formData = new FormData()\n    formData.append('file', file)\n    return api.post('/zhiyan/api/coze/files/upload', formData)\n  },\n\n  /**\n   * Coze\n   * @param {File[]} files - \n   * @returns {Promise} \n   */\n  uploadFiles(files) {\n    console.log('[cozeAPI.uploadFiles] , fileCount:', files?.length)\n    const formData = new FormData()\n    files.forEach(file => {\n      formData.append('files', file)\n    })\n    return api.post('/zhiyan/api/coze/files/upload/batch', formData)\n  },\n\n  /**\n   * \n   * @param {String} fileId - CozeID\n   * @returns {Promise} \n   */\n  getFileDetail(fileId) {\n    console.log('[cozeAPI.getFileDetail] , fileId:', fileId)\n    return api.get(`/zhiyan/api/coze/files/${fileId}`)\n  },\n\n  /**\n   * \n   * @param {String} conversationId - ID\n   * @param {String} chatId - ID\n   * @returns {Promise} \n   */\n  getChatDetail(conversationId, chatId) {\n    console.log('[cozeAPI.getChatDetail] ', { conversationId, chatId })\n    return api.get('/zhiyan/api/coze/chat/detail', {\n      params: { conversationId, chatId }\n    })\n  }\n}\n\nexport default cozeAPI\n\n","<template>\r\n  <div class=\"ai-view\">\r\n    <div class=\"page-header\">\r\n      <h1 class=\"page-title\">\r\n        <span class=\"title-text\">AI</span>\r\n        <div class=\"title-decoration\"></div>\r\n      </h1>\r\n      <p class=\"page-subtitle\">\r\n        <svg class=\"subtitle-icon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M12 2L2 7L12 12L22 7L12 2Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          <path d=\"M2 17L12 22L22 17M2 12L12 17L22 12\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n        </svg>\r\n        \r\n      </p>\r\n    </div>\r\n\r\n    <div class=\"chat-card\">\r\n      <div class=\"chat-window\" ref=\"chatWindow\">\r\n        <div class=\"bubble left\">\r\n          AI\r\n        </div>\r\n        <div \r\n          v-for=\"message in messages\" \r\n          :key=\"message.id\" \r\n          class=\"bubble\" \r\n          :class=\"message.type\"\r\n        >\r\n          {{ message.content }}\r\n        </div>\r\n      </div>\r\n      <div class=\"composer\">\r\n        <div class=\"file-menu-wrapper\">\r\n          <button \r\n            class=\"file-select-btn\" \r\n            @click.stop.prevent=\"toggleFileMenu\"\r\n            :disabled=\"isSending\"\r\n            title=\"\"\r\n            type=\"button\"\r\n          >\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M13 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V9L13 2Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              <path d=\"M13 2V9H20\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              <path d=\"M8 13H16M8 17H12\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </button>\r\n          <!--  -->\r\n          <div v-if=\"showFileMenu\" class=\"file-dropdown-menu\">\r\n            <div class=\"dropdown-item\" @click=\"openFileDialogFromArchive\">\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                <path d=\"M9 22V12H15V22\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n              <span></span>\r\n            </div>\r\n            <div class=\"dropdown-item\" @click=\"openFileUpload\">\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                <path d=\"M7 10L12 15L17 10M12 15V3\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n              <span></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!--  -->\r\n        <input \r\n          ref=\"fileInput\" \r\n          type=\"file\" \r\n          multiple\r\n          style=\"display: none\" \r\n          @change=\"handleFileUpload\"\r\n        />\r\n        <input \r\n          class=\"composer-input\" \r\n          type=\"text\" \r\n          placeholder=\"...\"\r\n          v-model=\"inputMessage\"\r\n          @keyup.enter=\"sendMessage\"\r\n          :disabled=\"isSending\"\r\n        />\r\n        <button \r\n          class=\"send-btn\" \r\n          @click=\"sendMessage\"\r\n          :disabled=\"!inputMessage.trim() || isSending\"\r\n        >\r\n          <svg v-if=\"!isSending\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M22 2L11 13\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            <path d=\"M22 2L15 22L11 13L2 9L22 2Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n          <div v-else class=\"loading-spinner\"></div>\r\n        </button>\r\n      </div>\r\n\r\n      <!--  -->\r\n      <div v-if=\"showFileDialog\" class=\"file-dialog-overlay\" @click=\"closeFileDialog\">\r\n        <div class=\"file-dialog\" @click.stop>\r\n          <!--  -->\r\n          <div class=\"file-dialog-header\">\r\n            <div class=\"header-content\">\r\n              <h3></h3>\r\n              <p class=\"header-subtitle\" v-if=\"selectedFiles.length > 0\"> {{ selectedFiles.length }} </p>\r\n            </div>\r\n            <button class=\"close-btn\" @click=\"closeFileDialog\">\r\n              <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n\r\n          <!--  -->\r\n          <div class=\"file-dialog-body\">\r\n            <div v-if=\"loadingFiles\" class=\"loading-container\">\r\n              <div class=\"loading-spinner-large\"></div>\r\n              <p class=\"loading-text\">...</p>\r\n            </div>\r\n            <div v-else-if=\"files.length === 0\" class=\"empty-state\">\r\n              <div class=\"empty-icon\">\r\n                <svg width=\"64\" height=\"64\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M13 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V9L13 2Z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  <path d=\"M13 2V9H20\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n              </div>\r\n              <p class=\"empty-text\"></p>\r\n            </div>\r\n            <div v-else class=\"file-list-container\">\r\n              <div class=\"file-list\">\r\n                <div \r\n                  v-for=\"file in files\" \r\n                  :key=\"file.id\" \r\n                  class=\"file-card\"\r\n                  :class=\"{ 'selected': selectedFiles.includes(file.id) }\"\r\n                  @click=\"toggleFileSelection(file.id)\"\r\n                >\r\n                  <div class=\"file-card-content\">\r\n                    <div class=\"file-card-main\">\r\n                      <div class=\"file-name-wrapper\">\r\n                        <div class=\"file-name\">{{ file.name || file.title || '' }}</div>\r\n                        <div class=\"file-badge-group\">\r\n                          <span class=\"file-type-badge\">{{ file.type || '' }}</span>\r\n                          <span v-if=\"file.fileCount\" class=\"file-count-badge\">{{ file.fileCount }}</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"file-select-indicator\" :class=\"{ 'active': selectedFiles.includes(file.id) }\">\r\n                      <div class=\"checkmark-circle\">\r\n                        <svg v-if=\"selectedFiles.includes(file.id)\" width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                          <path d=\"M20 6L9 17L4 12\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                        </svg>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!--  -->\r\n          <div class=\"file-dialog-footer\">\r\n            <button class=\"btn-cancel\" @click=\"closeFileDialog\"></button>\r\n            <button \r\n              class=\"btn-confirm\" \r\n              @click=\"confirmFileSelection\" \r\n              :disabled=\"selectedFiles.length === 0\"\r\n              :class=\"{ 'disabled': selectedFiles.length === 0 }\"\r\n            >\r\n              <span></span>\r\n              <span v-if=\"selectedFiles.length > 0\" class=\"selected-count\">{{ selectedFiles.length }}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport '@/assets/styles/KnowledgeBaseAI.css'\r\nimport { knowledgeAPI } from '@/api/knowledge'\r\nimport { cozeAPI } from '@/api/coze'\r\n\r\nexport default {\r\n  name: 'KnowledgeBaseAI',\r\n  props: {\r\n    projectId: {\r\n      type: [String, Number],\r\n      default: null\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      inputMessage: '',\r\n      isSending: false,\r\n      messages: [],\r\n      showFileDialog: false,\r\n      showFileMenu: false,\r\n      files: [],\r\n      loadingFiles: false,\r\n      selectedFiles: [],\r\n      selectedLocalFiles: [], // \r\n      selectedKnowledgeFileIds: [], // ID\r\n      conversationId: null, // ID\r\n      currentStreamController: null // \r\n    }\r\n  },\r\n  mounted() {\r\n    // ID\r\n    this.loadMessagesFromStorage()\r\n    this.loadConversationId()\r\n    // \r\n    document.addEventListener('click', this.handleClickOutside)\r\n  },\r\n  beforeDestroy() {\r\n    // \r\n    if (this.currentStreamController) {\r\n      this.currentStreamController.close()\r\n      this.currentStreamController = null\r\n    }\r\n    // ID\r\n    this.saveMessagesToStorage()\r\n    this.saveConversationId()\r\n    // \r\n    document.removeEventListener('click', this.handleClickOutside)\r\n  },\r\n  methods: {\r\n    async sendMessage() {\r\n      if (!this.inputMessage.trim() || this.isSending) return\r\n      \r\n      const userMessage = {\r\n        id: Date.now(),\r\n        type: 'right',\r\n        content: this.inputMessage.trim()\r\n      }\r\n      \r\n      // \r\n      if (this.selectedLocalFiles.length > 0 || this.selectedKnowledgeFileIds.length > 0) {\r\n        const fileInfo = []\r\n        if (this.selectedLocalFiles.length > 0) {\r\n          fileInfo.push(`: ${this.selectedLocalFiles.map(f => f.name).join(', ')}`)\r\n        }\r\n        if (this.selectedKnowledgeFileIds.length > 0) {\r\n          const selectedFileNames = this.files\r\n            .filter(file => this.selectedKnowledgeFileIds.includes(file.id))\r\n            .map(file => file.name || file.title || '')\r\n          fileInfo.push(`: ${selectedFileNames.join(', ')}`)\r\n        }\r\n        userMessage.content += '\\n\\n[' + fileInfo.join(' | ') + ']'\r\n      }\r\n      \r\n      this.messages.push(userMessage)\r\n      const query = this.inputMessage.trim()\r\n      this.inputMessage = ''\r\n      this.isSending = true\r\n      \r\n      // AI\r\n      const aiMessageId = Date.now() + 1\r\n      const aiMessage = {\r\n        id: aiMessageId,\r\n        type: 'left',\r\n        content: ''\r\n      }\r\n      this.messages.push(aiMessage)\r\n      \r\n      // \r\n      this.saveMessagesToStorage()\r\n      \r\n      // \r\n      this.$nextTick(() => {\r\n        this.scrollToBottom()\r\n      })\r\n      \r\n      try {\r\n        // ID\r\n        const localFiles = this.selectedLocalFiles.length > 0 ? this.selectedLocalFiles : null\r\n        const knowledgeFileIds = this.selectedKnowledgeFileIds.length > 0 ? this.selectedKnowledgeFileIds.map(id => {\r\n          // ID\r\n          const numId = typeof id === 'string' ? parseInt(id, 10) : id\r\n          return isNaN(numId) ? null : numId\r\n        }).filter(id => id !== null) : null\r\n        \r\n        // \r\n        this.selectedLocalFiles = []\r\n        this.selectedKnowledgeFileIds = []\r\n        \r\n        // \r\n        if (localFiles || knowledgeFileIds) {\r\n          // \r\n          this.currentStreamController = await cozeAPI.chatStreamWithFiles(\r\n            query,\r\n            this.conversationId,\r\n            localFiles,\r\n            knowledgeFileIds,\r\n            null, // customVariables\r\n            (message) => {\r\n              // \r\n              this.handleStreamMessage(message, aiMessage)\r\n            },\r\n            (error) => {\r\n              // \r\n              this.handleStreamError(error, aiMessage)\r\n            },\r\n            () => {\r\n              // \r\n              this.handleStreamComplete(aiMessage)\r\n            }\r\n          )\r\n        } else {\r\n          // \r\n          this.currentStreamController = await cozeAPI.chatStream(\r\n            query,\r\n            this.conversationId,\r\n            null, // customVariables\r\n            (message) => {\r\n              // \r\n              this.handleStreamMessage(message, aiMessage)\r\n            },\r\n            (error) => {\r\n              // \r\n              this.handleStreamError(error, aiMessage)\r\n            },\r\n            () => {\r\n              // \r\n              this.handleStreamComplete(aiMessage)\r\n            }\r\n          )\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        aiMessage.content = '' + (error.message || '')\r\n        this.isSending = false\r\n        this.saveMessagesToStorage()\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * \r\n     */\r\n    handleStreamMessage(message, aiMessage) {\r\n      console.log(':', message)\r\n      \r\n      // \r\n      const event = message.event\r\n      \r\n      // ID\r\n      if (message.conversationId || message.conversation_id) {\r\n        this.conversationId = message.conversationId || message.conversation_id\r\n        this.saveConversationId()\r\n      }\r\n      \r\n      // \r\n      if (event === 'conversation.chat.created') {\r\n        // \r\n        console.log(', conversationId:', this.conversationId)\r\n      } else if (event === 'conversation.message.delta') {\r\n        // \r\n        const content = message.content\r\n        if (content && message.role === 'assistant') {\r\n          // \r\n          aiMessage.content += content\r\n          \r\n          // \r\n          this.$nextTick(() => {\r\n            this.scrollToBottom()\r\n          })\r\n        }\r\n      } else if (event === 'conversation.message.completed') {\r\n        // \r\n        console.log('')\r\n        // \r\n        if (message.content && message.role === 'assistant') {\r\n          // content\r\n          if (message.content && !aiMessage.content) {\r\n            aiMessage.content = message.content\r\n          }\r\n        }\r\n        this.saveMessagesToStorage()\r\n      } else if (event === 'conversation.chat.completed') {\r\n        // \r\n        console.log('')\r\n      } else if (event === 'conversation.chat.failed') {\r\n        // \r\n        console.error(':', message.errorMessage || message.error_message)\r\n        aiMessage.content = aiMessage.content || 'AI' + (message.errorMessage || message.error_message || '')\r\n        this.isSending = false\r\n        this.currentStreamController = null\r\n        this.saveMessagesToStorage()\r\n      } else if (event === 'done') {\r\n        // \r\n        console.log('')\r\n      } else if (event === 'error') {\r\n        // \r\n        console.error(':', message.errorMessage || message.error_message)\r\n        aiMessage.content = aiMessage.content || 'AI' + (message.errorMessage || message.error_message || '')\r\n        this.isSending = false\r\n        this.currentStreamController = null\r\n        this.saveMessagesToStorage()\r\n      }\r\n      \r\n      // \r\n      if (event === 'conversation.message.delta') {\r\n        this.saveMessagesToStorage()\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * \r\n     */\r\n    handleStreamError(error, aiMessage) {\r\n      console.error(':', error)\r\n      aiMessage.content = aiMessage.content || 'AI' + (error.message || '')\r\n      this.isSending = false\r\n      this.currentStreamController = null\r\n      this.saveMessagesToStorage()\r\n    },\r\n    \r\n    /**\r\n     * \r\n     */\r\n    handleStreamComplete(aiMessage) {\r\n      console.log('')\r\n        this.isSending = false\r\n      this.currentStreamController = null\r\n      \r\n      // AI\r\n      if (!aiMessage.content || aiMessage.content.trim() === '') {\r\n        aiMessage.content = 'AI'\r\n      }\r\n      \r\n      this.saveMessagesToStorage()\r\n      this.$nextTick(() => {\r\n        this.scrollToBottom()\r\n      })\r\n    },\r\n    \r\n    scrollToBottom() {\r\n      if (this.$refs.chatWindow) {\r\n        this.$refs.chatWindow.scrollTop = this.$refs.chatWindow.scrollHeight\r\n      }\r\n    },\r\n    \r\n    saveMessagesToStorage() {\r\n      try {\r\n        const storageKey = this.projectId ? `aiChatMessages_${this.projectId}` : 'aiChatMessages'\r\n        localStorage.setItem(storageKey, JSON.stringify(this.messages))\r\n        console.log(`AI (ID: ${this.projectId})`)\r\n      } catch (error) {\r\n        console.error(':', error)\r\n      }\r\n    },\r\n    \r\n    saveConversationId() {\r\n      try {\r\n        const storageKey = this.projectId ? `aiConversationId_${this.projectId}` : 'aiConversationId'\r\n        if (this.conversationId) {\r\n          localStorage.setItem(storageKey, this.conversationId)\r\n          console.log(`ID: ${this.conversationId}`)\r\n        }\r\n      } catch (error) {\r\n        console.error('ID:', error)\r\n      }\r\n    },\r\n    \r\n    loadConversationId() {\r\n      try {\r\n        const storageKey = this.projectId ? `aiConversationId_${this.projectId}` : 'aiConversationId'\r\n        const saved = localStorage.getItem(storageKey)\r\n        if (saved) {\r\n          this.conversationId = saved\r\n          console.log(`ID: ${this.conversationId}`)\r\n        }\r\n      } catch (error) {\r\n        console.error('ID:', error)\r\n      }\r\n    },\r\n    \r\n    loadMessagesFromStorage() {\r\n      try {\r\n        const storageKey = this.projectId ? `aiChatMessages_${this.projectId}` : 'aiChatMessages'\r\n        const saved = localStorage.getItem(storageKey)\r\n        if (saved) {\r\n          this.messages = JSON.parse(saved)\r\n          console.log(`AI (ID: ${this.projectId})`)\r\n        } else {\r\n          // \r\n          this.initializeProjectMessages()\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n      }\r\n    },\r\n    \r\n    // \r\n    initializeProjectMessages() {\r\n      if (!this.projectId) return\r\n      \r\n      const projectMessages = this.getProjectSpecificMessages(this.projectId)\r\n      if (projectMessages.length > 0) {\r\n        this.messages = projectMessages\r\n        this.saveMessagesToStorage()\r\n        console.log(` ${this.projectId} AI`)\r\n      }\r\n    },\r\n    \r\n    // \r\n    getProjectSpecificMessages(projectId) {\r\n      const projectMessagesMap = {\r\n        '1': [ // \r\n          {\r\n            id: Date.now() - 1000,\r\n            type: 'left',\r\n            content: 'AICTMRI'\r\n          },\r\n          {\r\n            id: Date.now() - 500,\r\n            type: 'right',\r\n            content: 'CT'\r\n          },\r\n          {\r\n            id: Date.now() - 200,\r\n            type: 'left',\r\n            content: 'CT\\n\\n1. 2.3cm\\n2. \\n3. PET-CT\\n\\n'\r\n          }\r\n        ],\r\n        '2': [ // \r\n          {\r\n            id: Date.now() - 1000,\r\n            type: 'left',\r\n            content: 'AI'\r\n          },\r\n          {\r\n            id: Date.now() - 500,\r\n            type: 'right',\r\n            content: ''\r\n          },\r\n          {\r\n            id: Date.now() - 200,\r\n            type: 'left',\r\n            content: '\\n\\n1. 1.2C\\n2. 28-32C\\n3. 35%\\n4. \\n\\n'\r\n          }\r\n        ],\r\n        '3': [ // \r\n          {\r\n            id: Date.now() - 1000,\r\n            type: 'left',\r\n            content: 'AI'\r\n          },\r\n          {\r\n            id: Date.now() - 500,\r\n            type: 'right',\r\n            content: ''\r\n          },\r\n          {\r\n            id: Date.now() - 200,\r\n            type: 'left',\r\n            content: '\\n\\n1. 3SNP\\n2. 1\\n3. 0.15\\n4. \\n\\n'\r\n          }\r\n        ]\r\n      }\r\n      \r\n      return projectMessagesMap[projectId] || []\r\n    },\r\n    \r\n    // \r\n    toggleFileMenu() {\r\n      this.showFileMenu = !this.showFileMenu\r\n    },\r\n    \r\n    // \r\n    async openFileDialogFromArchive() {\r\n      this.showFileMenu = false\r\n      this.showFileDialog = true\r\n      this.selectedFiles = []\r\n      if (this.files.length === 0 && this.projectId) {\r\n        await this.loadFiles()\r\n      }\r\n    },\r\n    \r\n    // \r\n    openFileUpload() {\r\n      this.showFileMenu = false\r\n      this.$refs.fileInput.click()\r\n    },\r\n    \r\n    // \r\n    handleFileUpload(event) {\r\n      const files = Array.from(event.target.files)\r\n      if (files.length > 0) {\r\n        console.log(':', files)\r\n        // \r\n        this.selectedLocalFiles = files\r\n        \r\n        // \r\n        const fileNames = files.map(file => file.name).join('')\r\n        const fileInfo = `[: ${fileNames}]`\r\n        this.inputMessage = this.inputMessage.trim() \r\n          ? `${this.inputMessage}\\n\\n${fileInfo}`\r\n          : fileInfo\r\n      }\r\n      // \r\n      this.$refs.fileInput.value = ''\r\n    },\r\n    \r\n    // \r\n    closeFileDialog() {\r\n      this.showFileDialog = false\r\n      this.selectedFiles = []\r\n    },\r\n    \r\n    // \r\n    clearConversation() {\r\n      if (confirm('')) {\r\n        this.messages = []\r\n        this.conversationId = null\r\n        this.selectedLocalFiles = []\r\n        this.selectedKnowledgeFileIds = []\r\n        this.saveMessagesToStorage()\r\n        this.saveConversationId()\r\n        // \r\n        if (this.currentStreamController) {\r\n          this.currentStreamController.close()\r\n          this.currentStreamController = null\r\n        }\r\n        this.isSending = false\r\n      }\r\n    },\r\n    \r\n    // \r\n    async loadFiles() {\r\n      if (!this.projectId) {\r\n        console.warn('ID')\r\n        return\r\n      }\r\n      \r\n      this.loadingFiles = true\r\n      try {\r\n        const response = await knowledgeAPI.getProjectAchievements(this.projectId, 0, 1000)\r\n        console.log(':', response)\r\n        \r\n        if (response && response.code === 200 && response.data) {\r\n          if (Array.isArray(response.data)) {\r\n            this.files = response.data\r\n          } else if (response.data.content && Array.isArray(response.data.content)) {\r\n            this.files = response.data.content\r\n          } else {\r\n            this.files = []\r\n          }\r\n          console.log(':', this.files.length)\r\n        } else {\r\n          this.files = []\r\n          console.warn(':', response)\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        this.files = []\r\n      } finally {\r\n        this.loadingFiles = false\r\n      }\r\n    },\r\n    \r\n    // \r\n    toggleFileSelection(fileId) {\r\n      const index = this.selectedFiles.indexOf(fileId)\r\n      if (index > -1) {\r\n        this.selectedFiles.splice(index, 1)\r\n      } else {\r\n        this.selectedFiles.push(fileId)\r\n      }\r\n    },\r\n    \r\n    // \r\n    async confirmFileSelection() {\r\n      if (this.selectedFiles.length === 0) return\r\n      \r\n      // \r\n      const selectedAchievements = this.files.filter(file => this.selectedFiles.includes(file.id))\r\n      \r\n      // ID\r\n      const allFileIds = []\r\n      const selectedFileNames = []\r\n      \r\n      try {\r\n        // \r\n        for (const achievement of selectedAchievements) {\r\n          try {\r\n            // \r\n            const detailResponse = await knowledgeAPI.getAchievementDetail(achievement.id)\r\n            if (detailResponse && detailResponse.code === 200 && detailResponse.data) {\r\n              const files = detailResponse.data.files || []\r\n              // ID\r\n              files.forEach(file => {\r\n                if (file.id) {\r\n                  const fileId = typeof file.id === 'string' ? parseInt(file.id, 10) : file.id\r\n                  if (!isNaN(fileId)) {\r\n                    allFileIds.push(fileId)\r\n                  }\r\n                }\r\n              })\r\n              \r\n              // \r\n              if (files.length > 0) {\r\n                const fileNames = files.map(f => f.fileName || '').join(', ')\r\n                selectedFileNames.push(`${achievement.title || achievement.name || ''}: ${fileNames}`)\r\n              } else {\r\n                selectedFileNames.push(`${achievement.title || achievement.name || ''}: `)\r\n              }\r\n            }\r\n          } catch (error) {\r\n            console.error(` ${achievement.id} :`, error)\r\n            selectedFileNames.push(`${achievement.title || achievement.name || ''}: `)\r\n          }\r\n        }\r\n        \r\n        // ID\r\n        this.selectedKnowledgeFileIds = allFileIds\r\n        \r\n        // \r\n        const fileInfo = `[: ${selectedFileNames.join(' | ')}]`\r\n      this.inputMessage = this.inputMessage.trim() \r\n        ? `${this.inputMessage}\\n\\n${fileInfo}`\r\n        : fileInfo\r\n      \r\n        console.log('ID:', this.selectedKnowledgeFileIds)\r\n        console.log(':', selectedAchievements)\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        this.$message && this.$message.error('')\r\n      }\r\n      \r\n      this.closeFileDialog()\r\n    },\r\n    \r\n    // \r\n    handleClickOutside(event) {\r\n      if (this.showFileMenu && !event.target.closest('.file-menu-wrapper')) {\r\n        this.showFileMenu = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KnowledgeBaseAI.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KnowledgeBaseAI.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./KnowledgeBaseAI.vue?vue&type=template&id=0fd9a870\"\nimport script from \"./KnowledgeBaseAI.vue?vue&type=script&lang=js\"\nexport * from \"./KnowledgeBaseAI.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ai-assistant-container\"},[_c('Sidebar',{attrs:{\"isOpen\":_vm.sidebarOpen},on:{\"close\":_vm.closeSidebar}}),_c('div',{staticClass:\"top-header\"},[_c('div',{staticClass:\"header-left\"},[_c('button',{staticClass:\"menu-btn\",on:{\"click\":_vm.toggleSidebar}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M3 12H21M3 6H21M3 18H21\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('button',{staticClass:\"back-btn\",attrs:{\"title\":\"\"},on:{\"click\":_vm.goToHome}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M19 12H5M12 19L5 12L12 5\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('span',{staticClass:\"page-title\"},[_vm._v(\"AI \")])]),_c('div',{staticClass:\"header-right\"},[_c('button',{staticClass:\"sync-status-btn\",attrs:{\"title\":\"\"},on:{\"click\":_vm.syncTaskStatusChanges}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M23 4V10H17\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M20.49 15A9 9 0 1 1 5.64 5.64L23 10\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])])]),_c('div',{staticClass:\"main-content\"},[_c('h1',{staticClass:\"page-main-title\"},[_vm._v(\"AI \")]),_c('div',{staticClass:\"ai-chat-section\"},[_c('div',{staticClass:\"chat-header\"},[_c('div',{staticClass:\"ai-dialog-title\"},[_vm._v(\"AI\")]),_c('button',{staticClass:\"view-history-btn\",attrs:{\"title\":\"\"},on:{\"click\":_vm.viewChatHistory}},[_c('svg',{attrs:{\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M12 8V12L15 15\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"10\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\"}}),_c('path',{attrs:{\"d\":\"M3 12H7M17 12H21M12 3V7M12 17V21\",\"stroke\":\"currentColor\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\"}})]),_c('span',[_vm._v(\"\")])])]),_c('div',{staticClass:\"chat-container\"},_vm._l((_vm.chatMessages),function(message){return _c('div',{key:message.id,class:message.type === 'ai' ? 'ai-message' : 'user-message'},[_c('div',{class:message.type === 'ai' ? 'message-bubble' : 'user-bubble'},[_vm._v(\" \"+_vm._s(message.content)+\" \")])])}),0),_c('div',{staticClass:\"user-input-area\"},[_c('div',{staticClass:\"file-menu-wrapper\"},[_c('button',{staticClass:\"file-select-btn\",attrs:{\"disabled\":_vm.isSending,\"title\":\"\",\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.toggleFileMenu.apply(null, arguments)}}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M13 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V9L13 2Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M13 2V9H20\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M8 13H16M8 17H12\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),(_vm.showFileMenu)?_c('div',{staticClass:\"file-dropdown-menu\"},[_c('div',{staticClass:\"dropdown-item\",on:{\"click\":_vm.openFileDialogFromArchive}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M9 22V12H15V22\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_c('span',[_vm._v(\"\")])]),_c('div',{staticClass:\"dropdown-item\",on:{\"click\":_vm.openFileUpload}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M7 10L12 15L17 10M12 15V3\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_c('span',[_vm._v(\"\")])])]):_vm._e()]),_c('input',{ref:\"fileInput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"multiple\":\"\"},on:{\"change\":_vm.handleFileUpload}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userMessage),expression:\"userMessage\"}],attrs:{\"type\":\"text\",\"placeholder\":\"...\",\"disabled\":_vm.isSending},domProps:{\"value\":(_vm.userMessage)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.sendMessage.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.userMessage=$event.target.value}}}),_c('button',{staticClass:\"send-btn\",attrs:{\"disabled\":!_vm.userMessage.trim() || _vm.isSending},on:{\"click\":_vm.sendMessage}},[_vm._v(\"\")])])])]),(_vm.showChatHistoryModal)?_c('div',{staticClass:\"chat-history-modal-overlay\",on:{\"click\":_vm.closeChatHistoryModal}},[_c('div',{staticClass:\"chat-history-modal\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"modal-header\"},[_c('h3',[_vm._v(\"\")]),_c('button',{staticClass:\"close-btn\",on:{\"click\":_vm.closeChatHistoryModal}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"modal-body\"},[(_vm.chatSessions.length === 0)?_c('div',{staticClass:\"empty-state\"},[_c('p',[_vm._v(\"\")])]):_c('div',{staticClass:\"chat-sessions-list\"},_vm._l((_vm.chatSessions),function(session){return _c('div',{key:session.id,staticClass:\"chat-session-item\",class:{ active: session.id === _vm.currentChatSessionId },on:{\"click\":function($event){return _vm.loadChatSession(session.id)}}},[_c('div',{staticClass:\"session-info\"},[_c('div',{staticClass:\"session-title\"},[_vm._v(_vm._s(session.title || ` ${session.id}`))]),_c('div',{staticClass:\"session-meta\"},[_c('span',{staticClass:\"session-date\"},[_vm._v(_vm._s(_vm.formatDate(session.updatedAt)))]),_c('span',{staticClass:\"session-count\"},[_vm._v(_vm._s(session.messageCount)+\" \")])])]),_c('button',{staticClass:\"delete-session-btn\",attrs:{\"title\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteChatSession(session.id)}}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M3 6H5H21M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])])}),0)]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn-primary\",on:{\"click\":_vm.createNewChatSession}},[_vm._v(\"\")])])])]):_vm._e(),(_vm.showProjectSelectDialog)?_c('div',{staticClass:\"file-dialog-overlay ai-view\",on:{\"click\":_vm.closeProjectSelectDialog}},[_c('div',{staticClass:\"file-dialog\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"file-dialog-header\"},[_vm._m(0),_c('button',{staticClass:\"close-btn\",on:{\"click\":_vm.closeProjectSelectDialog}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"file-dialog-body\"},[(_vm.availableProjects.length === 0)?_c('div',{staticClass:\"empty-state\"},[_c('div',{staticClass:\"empty-icon\"},[_c('svg',{attrs:{\"width\":\"64\",\"height\":\"64\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('p',{staticClass:\"empty-text\"},[_vm._v(\"\")])]):_c('div',{staticClass:\"file-list-container\"},[_c('div',{staticClass:\"file-list\"},_vm._l((_vm.availableProjects),function(project){return _c('div',{key:project.id,staticClass:\"file-card\",class:{ 'selected': _vm.selectedProjectForFiles && _vm.selectedProjectForFiles.id === project.id },on:{\"click\":function($event){return _vm.selectProjectForFiles(project)}}},[_c('div',{staticClass:\"file-card-content\"},[_c('div',{staticClass:\"file-card-main\"},[_c('div',{staticClass:\"file-name-wrapper\"},[_c('div',{staticClass:\"file-name\"},[_vm._v(_vm._s(project.title || project.name || ''))]),_c('div',{staticClass:\"file-badge-group\"},[(project.description)?_c('span',{staticClass:\"file-type-badge\"},[_vm._v(_vm._s(project.description))]):_vm._e()])])]),_c('div',{staticClass:\"file-select-indicator\",class:{ 'active': _vm.selectedProjectForFiles && _vm.selectedProjectForFiles.id === project.id }},[_c('div',{staticClass:\"checkmark-circle\"},[(_vm.selectedProjectForFiles && _vm.selectedProjectForFiles.id === project.id)?_c('svg',{attrs:{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M20 6L9 17L4 12\",\"stroke\":\"currentColor\",\"stroke-width\":\"2.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]):_vm._e()])])])])}),0)])]),_c('div',{staticClass:\"file-dialog-footer\"},[_c('button',{staticClass:\"btn-cancel\",on:{\"click\":_vm.closeProjectSelectDialog}},[_vm._v(\"\")]),_c('button',{staticClass:\"btn-confirm\",class:{ 'disabled': !_vm.selectedProjectForFiles },attrs:{\"disabled\":!_vm.selectedProjectForFiles},on:{\"click\":_vm.confirmProjectSelection}},[_c('span',[_vm._v(\"\")])])])])]):_vm._e(),(_vm.showFileDialog)?_c('div',{staticClass:\"file-dialog-overlay ai-view\",on:{\"click\":_vm.closeFileDialog}},[_c('div',{staticClass:\"file-dialog\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"file-dialog-header\"},[_c('div',{staticClass:\"header-content\"},[_c('h3',[_vm._v(\"\")]),(_vm.selectedFiles.length > 0)?_c('p',{staticClass:\"header-subtitle\"},[_vm._v(\" \"+_vm._s(_vm.selectedFiles.length)+\" \")]):_vm._e()]),_c('button',{staticClass:\"close-btn\",on:{\"click\":_vm.closeFileDialog}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"file-dialog-body\"},[(_vm.loadingFiles)?_c('div',{staticClass:\"loading-container\"},[_c('div',{staticClass:\"loading-spinner-large\"}),_c('p',{staticClass:\"loading-text\"},[_vm._v(\"...\")])]):(_vm.files.length === 0)?_c('div',{staticClass:\"empty-state\"},[_c('div',{staticClass:\"empty-icon\"},[_c('svg',{attrs:{\"width\":\"64\",\"height\":\"64\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M13 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V9L13 2Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M13 2V9H20\",\"stroke\":\"currentColor\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('p',{staticClass:\"empty-text\"},[_vm._v(\"\")])]):_c('div',{staticClass:\"file-list-container\"},[_c('div',{staticClass:\"file-list\"},_vm._l((_vm.files),function(file){return _c('div',{key:file.id,staticClass:\"file-card\",class:{ 'selected': _vm.selectedFiles.includes(file.id) },on:{\"click\":function($event){return _vm.toggleFileSelection(file.id)}}},[_c('div',{staticClass:\"file-card-content\"},[_c('div',{staticClass:\"file-card-main\"},[_c('div',{staticClass:\"file-name-wrapper\"},[_c('div',{staticClass:\"file-name\"},[_vm._v(_vm._s(file.name || file.title || ''))]),_c('div',{staticClass:\"file-badge-group\"},[_c('span',{staticClass:\"file-type-badge\"},[_vm._v(_vm._s(file.type || ''))]),(file.fileCount)?_c('span',{staticClass:\"file-count-badge\"},[_vm._v(_vm._s(file.fileCount)+\"\")]):_vm._e()])])]),_c('div',{staticClass:\"file-select-indicator\",class:{ 'active': _vm.selectedFiles.includes(file.id) }},[_c('div',{staticClass:\"checkmark-circle\"},[(_vm.selectedFiles.includes(file.id))?_c('svg',{attrs:{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M20 6L9 17L4 12\",\"stroke\":\"currentColor\",\"stroke-width\":\"2.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]):_vm._e()])])])])}),0)])]),_c('div',{staticClass:\"file-dialog-footer\"},[_c('button',{staticClass:\"btn-cancel\",on:{\"click\":_vm.closeFileDialog}},[_vm._v(\"\")]),_c('button',{staticClass:\"btn-confirm\",class:{ 'disabled': _vm.selectedFiles.length === 0 },attrs:{\"disabled\":_vm.selectedFiles.length === 0},on:{\"click\":_vm.confirmFileSelection}},[_c('span',[_vm._v(\"\")]),(_vm.selectedFiles.length > 0)?_c('span',{staticClass:\"selected-count\"},[_vm._v(_vm._s(_vm.selectedFiles.length))]):_vm._e()])])])]):_vm._e()],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"header-content\"},[_c('h3',[_vm._v(\"\")]),_c('p',{staticClass:\"header-subtitle\"},[_vm._v(\"\")])])\n}]\n\nexport { render, staticRenderFns }","import axios from 'axios'\r\nimport config from '@/config'\r\n\r\n// Dify8097\r\nconst BACKEND_DIFY_CONFIG = {\r\n  baseUrl: '/zhiyan/api/ai', // Vue8097\r\n  timeout: 120000 // 2\r\n}\r\n\r\n// Dify API\r\nconst api = axios.create({\r\n  baseURL: '', // Vue\r\n  timeout: BACKEND_DIFY_CONFIG.timeout,\r\n  withCredentials: true\r\n})\r\n\r\n// \r\napi.interceptors.request.use(\r\n  config => {\r\n    // localStoragetoken\r\n    const token = localStorage.getItem('access_token')\r\n    if (token) {\r\n      config.headers['Authorization'] = `Bearer ${token}`\r\n    }\r\n    return config\r\n  },\r\n  error => {\r\n    console.error('[Dify API] :', error)\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// \r\napi.interceptors.response.use(\r\n  response => response,\r\n  error => {\r\n    console.error('[Dify API] :', error)\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n/**\r\n * - \r\n * @param {string} query - \r\n * @param {string} conversationId - ID\r\n * @returns {Promise} API\r\n */\r\nexport function sendChatMessage(query, conversationId = null) {\r\n  return api.post(`${BACKEND_DIFY_CONFIG.baseUrl}/chat`, {\r\n    query: query,\r\n    conversationId: conversationId\r\n  })\r\n}\r\n\r\n/**\r\n * - \r\n * @param {string} query - \r\n * @param {string} conversationId - ID\r\n * @param {function} onMessage - \r\n * @param {function} onEnd - \r\n * @param {function} onError - \r\n */\r\nexport async function sendChatMessageStream(query, conversationId = null, onMessage, onEnd, onError) {\r\n  try {\r\n    // tokenkey: access_token\r\n    const token = localStorage.getItem('access_token')\r\n    if (!token) {\r\n      console.error('[Dify API] access_token')\r\n      throw new Error('')\r\n    }\r\n\r\n    console.log('[Dify API] Dify(8097):', {\r\n      url: `${BACKEND_DIFY_CONFIG.baseUrl}/chatflow/stream`,\r\n      query,\r\n      conversationId\r\n    })\r\n    \r\n    // URLVue8097\r\n    let url = `${BACKEND_DIFY_CONFIG.baseUrl}/chatflow/stream?query=${encodeURIComponent(query)}`\r\n    if (conversationId) {\r\n      url += `&conversationId=${encodeURIComponent(conversationId)}`\r\n    }\r\n\r\n    console.log('[Dify API] URL:', url)\r\n    \r\n    const response = await fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({})\r\n    })\r\n\r\n    console.log('[Dify API] :', response.status, response.statusText)\r\n\r\n    if (!response.ok) {\r\n      const errorText = await response.text()\r\n      console.error('[Dify API] :', errorText)\r\n      throw new Error(`HTTP error! status: ${response.status}, body: ${errorText}`)\r\n    }\r\n\r\n    const reader = response.body.getReader()\r\n    const decoder = new TextDecoder()\r\n    let buffer = ''\r\n    let lastAnswer = '' // \r\n    let chunkCount = 0\r\n    let finalConversationId = null\r\n    let currentEvent = null\r\n    let jsonBuffer = [] // JSON\r\n\r\n    console.log('[Dify API] ...')\r\n\r\n    while (true) {\r\n      const { done, value } = await reader.read()\r\n      \r\n      if (done) {\r\n        console.log('[Dify API] ', chunkCount, '')\r\n        if (onEnd) {\r\n          onEnd({ conversation_id: finalConversationId })\r\n        }\r\n        break\r\n      }\r\n\r\n      chunkCount++\r\n      const chunk = decoder.decode(value, { stream: true })\r\n      console.log('[Dify API]  #' + chunkCount + ':', chunk)\r\n      \r\n      buffer += chunk\r\n      const lines = buffer.split('\\n')\r\n      buffer = lines.pop() // \r\n\r\n      for (const line of lines) {\r\n        const trimmedLine = line.trim()\r\n        \r\n        // event\r\n        if (trimmedLine.startsWith('event:')) {\r\n          currentEvent = trimmedLine.substring(6).trim()\r\n          console.log('[Dify API] :', currentEvent)\r\n          jsonBuffer = [] // JSON\r\n          continue\r\n        }\r\n        \r\n        // data\r\n        if (trimmedLine.startsWith('data:')) {\r\n          const dataContent = trimmedLine.substring(5).trim()\r\n          \r\n          // JSONJSON\r\n          if (dataContent.startsWith('{')) {\r\n            // JSON\r\n            jsonBuffer = [dataContent]\r\n          } else if (jsonBuffer.length > 0) {\r\n            // JSON\r\n            jsonBuffer.push(dataContent)\r\n          }\r\n          \r\n          // JSON\r\n          if (dataContent.endsWith('}') && jsonBuffer.length > 0) {\r\n            // JSON\r\n            const jsonStr = jsonBuffer.join('\\n').replace(/\\n/g, '').replace(/\\s+/g, ' ')\r\n            try {\r\n              const message = JSON.parse(jsonStr)\r\n              console.log('[Dify API] SSE:', message)\r\n              \r\n              // conversationId\r\n              if (message.conversation_id || message.conversationId) {\r\n                finalConversationId = message.conversation_id || message.conversationId\r\n              }\r\n              \r\n              // \r\n              const eventType = currentEvent || message.event || message.eventType\r\n              \r\n              // message.data\r\n              const answerText = message.data || message.answer\r\n              \r\n              if (eventType === 'message' || eventType === 'agent_message') {\r\n                // \r\n                if (answerText && onMessage) {\r\n                  // \r\n                  const currentAnswer = answerText\r\n                  if (currentAnswer !== lastAnswer) {\r\n                    const delta = currentAnswer.substring(lastAnswer.length)\r\n                    console.log('[Dify API] :', delta)\r\n                    lastAnswer = currentAnswer\r\n                    onMessage(delta, message)\r\n                  }\r\n                }\r\n              } else if (eventType === 'message_end') {\r\n                // \r\n                console.log('[Dify API] , conversation_id:', finalConversationId)\r\n              } else if (eventType === 'error') {\r\n                // \r\n                console.error('[Dify API] Dify:', message)\r\n                if (onError) {\r\n                  onError(new Error(message.message || message.error_message || message.data || 'Unknown error'))\r\n                }\r\n              } else {\r\n                // workflow_started, node_started\r\n                console.log('[Dify API] Dify:', eventType)\r\n              }\r\n              \r\n              jsonBuffer = [] // \r\n            } catch (e) {\r\n              console.error('[Dify API] JSON:', e, 'JSON:', jsonStr)\r\n              jsonBuffer = []\r\n            }\r\n          }\r\n          continue\r\n        }\r\n        \r\n        // SSE\r\n        if (trimmedLine === '') {\r\n          currentEvent = null\r\n          if (jsonBuffer.length > 0) {\r\n            console.warn('[Dify API] JSON')\r\n            jsonBuffer = []\r\n          }\r\n        }\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error(':', error)\r\n    if (onError) {\r\n      onError(error)\r\n    }\r\n    throw error\r\n  }\r\n}\r\n\r\n/**\r\n *  - \r\n * @param {string} taskId - ID\r\n * @returns {Promise} API\r\n */\r\nexport function stopMessageGeneration(taskId) {\r\n  return api.post(`${BACKEND_DIFY_CONFIG.baseUrl}/chat/stop/${taskId}`)\r\n}\r\n\r\nexport default {\r\n  sendChatMessage,\r\n  sendChatMessageStream,\r\n  stopMessageGeneration\r\n}\r\n\r\n","<template>\r\n  <div class=\"ai-assistant-container\">\r\n    <!--  -->\r\n    <Sidebar :isOpen=\"sidebarOpen\" @close=\"closeSidebar\" />\r\n    \r\n    <!--  -->\r\n    <div class=\"top-header\">\r\n      <div class=\"header-left\">\r\n        <button class=\"menu-btn\" @click=\"toggleSidebar\">\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M3 12H21M3 6H21M3 18H21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </button>\r\n        <button class=\"back-btn\" @click=\"goToHome\" title=\"\">\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M19 12H5M12 19L5 12L12 5\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </button>\r\n        <span class=\"page-title\">AI </span>\r\n      </div>\r\n      <div class=\"header-right\">\r\n          <button class=\"sync-status-btn\" @click=\"syncTaskStatusChanges\" title=\"\">\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M23 4V10H17\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              <path d=\"M20.49 15A9 9 0 1 1 5.64 5.64L23 10\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n          </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div class=\"main-content\">\r\n      <h1 class=\"page-main-title\">AI </h1>\r\n      <!-- AI -->\r\n      <div class=\"ai-chat-section\">\r\n        <div class=\"chat-header\">\r\n          <div class=\"ai-dialog-title\">AI</div>\r\n          <button class=\"view-history-btn\" @click=\"viewChatHistory\" title=\"\">\r\n            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M12 8V12L15 15\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"2\"/>\r\n              <path d=\"M3 12H7M17 12H21M12 3V7M12 17V21\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\"/>\r\n            </svg>\r\n            <span></span>\r\n          </button>\r\n        </div>\r\n        <div class=\"chat-container\">\r\n          <div\r\n            v-for=\"message in chatMessages\"\r\n            :key=\"message.id\"\r\n            :class=\"message.type === 'ai' ? 'ai-message' : 'user-message'\"\r\n          >\r\n            <div :class=\"message.type === 'ai' ? 'message-bubble' : 'user-bubble'\">\r\n              {{ message.content }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"user-input-area\">\r\n          <div class=\"file-menu-wrapper\">\r\n            <button \r\n              class=\"file-select-btn\" \r\n              @click.stop.prevent=\"toggleFileMenu\"\r\n              :disabled=\"isSending\"\r\n              title=\"\"\r\n              type=\"button\"\r\n            >\r\n              <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M13 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V9L13 2Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                <path d=\"M13 2V9H20\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                <path d=\"M8 13H16M8 17H12\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n            </button>\r\n            <!--  -->\r\n            <div v-if=\"showFileMenu\" class=\"file-dropdown-menu\">\r\n              <div class=\"dropdown-item\" @click=\"openFileDialogFromArchive\">\r\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  <path d=\"M9 22V12H15V22\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n                <span></span>\r\n              </div>\r\n              <div class=\"dropdown-item\" @click=\"openFileUpload\">\r\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  <path d=\"M7 10L12 15L17 10M12 15V3\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n                <span></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!--  -->\r\n          <input \r\n            ref=\"fileInput\" \r\n            type=\"file\" \r\n            multiple\r\n            style=\"display: none\" \r\n            @change=\"handleFileUpload\"\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"...\"\r\n            v-model=\"userMessage\"\r\n            @keyup.enter=\"sendMessage\"\r\n            :disabled=\"isSending\"\r\n          />\r\n          <button class=\"send-btn\" @click=\"sendMessage\" :disabled=\"!userMessage.trim() || isSending\"></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"showChatHistoryModal\" class=\"chat-history-modal-overlay\" @click=\"closeChatHistoryModal\">\r\n      <div class=\"chat-history-modal\" @click.stop>\r\n        <div class=\"modal-header\">\r\n          <h3></h3>\r\n          <button class=\"close-btn\" @click=\"closeChatHistoryModal\">\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div v-if=\"chatSessions.length === 0\" class=\"empty-state\">\r\n            <p></p>\r\n          </div>\r\n          <div v-else class=\"chat-sessions-list\">\r\n            <div\r\n              v-for=\"session in chatSessions\"\r\n              :key=\"session.id\"\r\n              class=\"chat-session-item\"\r\n              :class=\"{ active: session.id === currentChatSessionId }\"\r\n              @click=\"loadChatSession(session.id)\"\r\n            >\r\n              <div class=\"session-info\">\r\n                <div class=\"session-title\">{{ session.title || ` ${session.id}` }}</div>\r\n                <div class=\"session-meta\">\r\n                  <span class=\"session-date\">{{ formatDate(session.updatedAt) }}</span>\r\n                  <span class=\"session-count\">{{ session.messageCount }} </span>\r\n                </div>\r\n              </div>\r\n              <button class=\"delete-session-btn\" @click.stop=\"deleteChatSession(session.id)\" title=\"\">\r\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M3 6H5H21M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button class=\"btn-primary\" @click=\"createNewChatSession\"></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"showProjectSelectDialog\" class=\"file-dialog-overlay ai-view\" @click=\"closeProjectSelectDialog\">\r\n      <div class=\"file-dialog\" @click.stop>\r\n        <div class=\"file-dialog-header\">\r\n          <div class=\"header-content\">\r\n            <h3></h3>\r\n            <p class=\"header-subtitle\"></p>\r\n          </div>\r\n          <button class=\"close-btn\" @click=\"closeProjectSelectDialog\">\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        <div class=\"file-dialog-body\">\r\n          <div v-if=\"availableProjects.length === 0\" class=\"empty-state\">\r\n            <div class=\"empty-icon\">\r\n              <svg width=\"64\" height=\"64\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n            </div>\r\n            <p class=\"empty-text\"></p>\r\n          </div>\r\n          <div v-else class=\"file-list-container\">\r\n            <div class=\"file-list\">\r\n              <div\r\n                v-for=\"project in availableProjects\"\r\n                :key=\"project.id\"\r\n                class=\"file-card\"\r\n                :class=\"{ 'selected': selectedProjectForFiles && selectedProjectForFiles.id === project.id }\"\r\n                @click=\"selectProjectForFiles(project)\"\r\n              >\r\n                <div class=\"file-card-content\">\r\n                  <div class=\"file-card-main\">\r\n                    <div class=\"file-name-wrapper\">\r\n                      <div class=\"file-name\">{{ project.title || project.name || '' }}</div>\r\n                      <div class=\"file-badge-group\">\r\n                        <span v-if=\"project.description\" class=\"file-type-badge\">{{ project.description }}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"file-select-indicator\" :class=\"{ 'active': selectedProjectForFiles && selectedProjectForFiles.id === project.id }\">\r\n                    <div class=\"checkmark-circle\">\r\n                      <svg v-if=\"selectedProjectForFiles && selectedProjectForFiles.id === project.id\" width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M20 6L9 17L4 12\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                      </svg>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"file-dialog-footer\">\r\n          <button class=\"btn-cancel\" @click=\"closeProjectSelectDialog\"></button>\r\n          <button\r\n            class=\"btn-confirm\"\r\n            @click=\"confirmProjectSelection\"\r\n            :disabled=\"!selectedProjectForFiles\"\r\n            :class=\"{ 'disabled': !selectedProjectForFiles }\"\r\n          >\r\n            <span></span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"showFileDialog\" class=\"file-dialog-overlay ai-view\" @click=\"closeFileDialog\">\r\n      <div class=\"file-dialog\" @click.stop>\r\n        <div class=\"file-dialog-header\">\r\n          <div class=\"header-content\">\r\n            <h3></h3>\r\n            <p class=\"header-subtitle\" v-if=\"selectedFiles.length > 0\"> {{ selectedFiles.length }} </p>\r\n          </div>\r\n          <button class=\"close-btn\" @click=\"closeFileDialog\">\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        <div class=\"file-dialog-body\">\r\n          <div v-if=\"loadingFiles\" class=\"loading-container\">\r\n            <div class=\"loading-spinner-large\"></div>\r\n            <p class=\"loading-text\">...</p>\r\n          </div>\r\n          <div v-else-if=\"files.length === 0\" class=\"empty-state\">\r\n            <div class=\"empty-icon\">\r\n              <svg width=\"64\" height=\"64\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M13 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V9L13 2Z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                <path d=\"M13 2V9H20\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n            </div>\r\n            <p class=\"empty-text\"></p>\r\n          </div>\r\n          <div v-else class=\"file-list-container\">\r\n            <div class=\"file-list\">\r\n              <div\r\n                v-for=\"file in files\"\r\n                :key=\"file.id\"\r\n                class=\"file-card\"\r\n                :class=\"{ 'selected': selectedFiles.includes(file.id) }\"\r\n                @click=\"toggleFileSelection(file.id)\"\r\n              >\r\n                <div class=\"file-card-content\">\r\n                  <div class=\"file-card-main\">\r\n                    <div class=\"file-name-wrapper\">\r\n                      <div class=\"file-name\">{{ file.name || file.title || '' }}</div>\r\n                      <div class=\"file-badge-group\">\r\n                        <span class=\"file-type-badge\">{{ file.type || '' }}</span>\r\n                        <span v-if=\"file.fileCount\" class=\"file-count-badge\">{{ file.fileCount }}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"file-select-indicator\" :class=\"{ 'active': selectedFiles.includes(file.id) }\">\r\n                    <div class=\"checkmark-circle\">\r\n                      <svg v-if=\"selectedFiles.includes(file.id)\" width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M20 6L9 17L4 12\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                      </svg>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"file-dialog-footer\">\r\n          <button class=\"btn-cancel\" @click=\"closeFileDialog\"></button>\r\n          <button\r\n            class=\"btn-confirm\"\r\n            @click=\"confirmFileSelection\"\r\n            :disabled=\"selectedFiles.length === 0\"\r\n            :class=\"{ 'disabled': selectedFiles.length === 0 }\"\r\n          >\r\n            <span></span>\r\n            <span v-if=\"selectedFiles.length > 0\" class=\"selected-count\">{{ selectedFiles.length }}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Sidebar from '@/components/Sidebar.vue'\r\nimport { projectAPI } from '@/api/project'\r\nimport { knowledgeAPI } from '@/api/knowledge'\r\nimport difyAPI from '@/api/dify'\r\nimport '@/assets/styles/AIAssistant.css'\r\nimport '@/assets/styles/KnowledgeBaseAI.css'\r\nexport default {\r\n  name: 'AIAssistant',\r\n  components: {\r\n    Sidebar\r\n  },\r\n  data() {\r\n    return {\r\n      sidebarOpen: false,\r\n      activeFilter: 'all',\r\n      searchQuery: '',\r\n      filterDropdownOpen: false,\r\n      userMessage: '',\r\n      chatMessages: [],\r\n      showProjectDropdown: false,\r\n      syncTimer: null,\r\n      isSending: false,\r\n      showFileMenu: false,\r\n      showFileDialog: false,\r\n      showProjectSelectDialog: false,\r\n      selectedProjectForFiles: null,\r\n      files: [],\r\n      selectedFiles: [],\r\n      loadingFiles: false,\r\n      showChatHistoryModal: false,\r\n      chatSessions: [], // \r\n      currentChatSessionId: null, // ID\r\n      difyConversationId: null, // DifyID\r\n      currentProject: {\r\n        id: 1,\r\n        title: '',\r\n        description: '',\r\n        lead: '',\r\n        progress: 65\r\n      },\r\n      availableProjects: [\r\n        {\r\n          id: 1,\r\n          title: '',\r\n          description: '',\r\n          lead: '',\r\n          progress: 65\r\n        },\r\n        {\r\n          id: 2,\r\n          title: '',\r\n          description: '',\r\n          lead: '',\r\n          progress: 45\r\n        },\r\n        {\r\n          id: 3,\r\n          title: '',\r\n          description: '',\r\n          lead: '',\r\n          progress: 80\r\n        },\r\n        {\r\n          id: 4,\r\n          title: '',\r\n          description: '',\r\n          lead: '',\r\n          progress: 30\r\n        }\r\n      ],\r\n      tasks: [],\r\n      // \r\n      projectTasks: {\r\n        1: [\r\n        {\r\n          id: 1,\r\n          title: '',\r\n          description: '',\r\n          assignee: '',\r\n          status: 'in-progress',\r\n            checked: false,\r\n            published: true\r\n        },\r\n        {\r\n          id: 2,\r\n          title: '',\r\n          description: '',\r\n          assignee: '',\r\n          status: 'completed',\r\n            checked: false,\r\n            published: true\r\n        },\r\n        {\r\n          id: 3,\r\n          title: '',\r\n          description: '',\r\n          assignee: '',\r\n          status: 'in-progress',\r\n            checked: false,\r\n            published: true\r\n        },\r\n        {\r\n          id: 4,\r\n          title: '',\r\n          description: '',\r\n          assignee: '',\r\n          status: 'paused',\r\n            checked: false,\r\n            published: true\r\n        },\r\n        {\r\n          id: 5,\r\n          title: '',\r\n          description: '',\r\n          assignee: '',\r\n          status: 'in-progress',\r\n            checked: false,\r\n            published: true\r\n        },\r\n        {\r\n          id: 6,\r\n          title: '',\r\n          description: '',\r\n          assignee: '',\r\n          status: 'completed',\r\n            checked: false,\r\n            published: true\r\n          }\r\n        ],\r\n        2: [\r\n          {\r\n            id: 7,\r\n            title: '',\r\n            description: 'MRICTPET',\r\n            assignee: '',\r\n            status: 'in-progress',\r\n            checked: false,\r\n            published: true\r\n          },\r\n          {\r\n            id: 8,\r\n            title: '',\r\n            description: '',\r\n            assignee: '',\r\n            status: 'completed',\r\n            checked: false,\r\n            published: true\r\n          },\r\n          {\r\n            id: 9,\r\n            title: '',\r\n            description: '',\r\n            assignee: '',\r\n            status: 'in-progress',\r\n            checked: false,\r\n            published: true\r\n          },\r\n          {\r\n            id: 10,\r\n            title: '',\r\n            description: '',\r\n            assignee: '',\r\n            status: 'paused',\r\n            checked: false,\r\n            published: true\r\n          }\r\n        ],\r\n        3: [\r\n          {\r\n            id: 11,\r\n            title: '',\r\n            description: '',\r\n            assignee: '',\r\n            status: 'completed',\r\n            checked: false,\r\n            published: true\r\n          },\r\n          {\r\n            id: 12,\r\n            title: '',\r\n            description: '',\r\n            assignee: '',\r\n            status: 'in-progress',\r\n            checked: false,\r\n            published: true\r\n          },\r\n          {\r\n            id: 13,\r\n            title: '',\r\n            description: '',\r\n            assignee: '',\r\n            status: 'in-progress',\r\n            checked: false,\r\n            published: true\r\n          },\r\n          {\r\n            id: 14,\r\n            title: '',\r\n            description: '',\r\n            assignee: '',\r\n            status: 'completed',\r\n            checked: false,\r\n            published: true\r\n          }\r\n        ],\r\n        4: [\r\n          {\r\n            id: 15,\r\n            title: '',\r\n            description: '',\r\n            assignee: '',\r\n            status: 'in-progress',\r\n            checked: false,\r\n            published: true\r\n          },\r\n          {\r\n            id: 16,\r\n            title: '',\r\n            description: '',\r\n            assignee: '',\r\n            status: 'paused',\r\n            checked: false,\r\n            published: true\r\n          },\r\n          {\r\n            id: 17,\r\n            title: '',\r\n            description: '',\r\n            assignee: '',\r\n            status: 'in-progress',\r\n            checked: false,\r\n            published: true\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    filteredTasks() {\r\n      let filtered = this.tasks\r\n\r\n      // \r\n      if (this.activeFilter === 'published') {\r\n        // \r\n        filtered = filtered.filter(task => this.isTaskPublished(task))\r\n      } else if (this.activeFilter !== 'all') {\r\n        // \r\n        filtered = filtered.filter(task => task.status === this.activeFilter)\r\n        console.log(`${this.activeFilter} :`, filtered.length)\r\n      }\r\n      // \r\n\r\n      // \r\n      if (this.searchQuery.trim()) {\r\n        const query = this.searchQuery.toLowerCase()\r\n        filtered = filtered.filter(task =>\r\n          task.title.toLowerCase().includes(query) ||\r\n          task.description.toLowerCase().includes(query) ||\r\n          task.assignee.toLowerCase().includes(query)\r\n        )\r\n        console.log(':', filtered.length)\r\n      }\r\n\r\n      console.log(':', filtered)\r\n      return filtered\r\n    }\r\n  },\r\n  mounted() {\r\n    document.addEventListener('click', this.handleClickOutside)\r\n    \r\n    // localStorage\r\n    this.debugLocalStorage()\r\n    \r\n    // \r\n    this.loadChatSessionsFromStorage()\r\n    \r\n    // \r\n    const lastChatSessionId = localStorage.getItem('lastChatSessionId')\r\n    if (lastChatSessionId) {\r\n      const sessionId = parseInt(lastChatSessionId)\r\n      const session = this.chatSessions.find(s => s.id === sessionId)\r\n      if (session) {\r\n        this.currentChatSessionId = sessionId\r\n        this.chatMessages = session.messages ? [...session.messages] : []\r\n        console.log(':', sessionId)\r\n        this.$nextTick(() => {\r\n          this.scrollToBottom()\r\n        })\r\n      }\r\n    }\r\n    \r\n    // \r\n    this.loadUserProjects()\r\n    \r\n    //  nextTick  availableProjects \r\n    this.$nextTick(() => {\r\n      //  localStorage \r\n      const lastSelectedProject = localStorage.getItem('lastSelectedProject')\r\n      if (lastSelectedProject) {\r\n        try {\r\n          const projectData = JSON.parse(lastSelectedProject)\r\n          console.log(':', projectData.title)\r\n          \r\n          // \r\n          const foundProject = this.availableProjects.find(p => String(p.id) === String(projectData.id))\r\n          if (foundProject) {\r\n            this.currentProject = foundProject\r\n            console.log(':', foundProject.title)\r\n            \r\n            // \r\n            this.loadProjectTasks(this.currentProject.id)\r\n          } else {\r\n            console.log('')\r\n            // \r\n            this.loadProjectTasks(this.currentProject.id)\r\n          }\r\n        } catch (error) {\r\n          console.error(':', error)\r\n          // \r\n          this.loadProjectTasks(this.currentProject.id)\r\n        }\r\n      } else {\r\n        // \r\n        this.loadProjectTasks(this.currentProject.id)\r\n      }\r\n    })\r\n\r\n    // \r\n    // \"\"\r\n    \r\n    // this.syncTimer = setInterval(() => {\r\n    //   this.syncTaskStatusChanges()\r\n    // }, 60000)\r\n\r\n    // // \r\n    // this.$root.$on('taskStatusChanged', (data) => {\r\n    //   console.log(':', data)\r\n    //   if (data.projectId === this.currentProject.id) {\r\n    //     console.log('')\r\n    //     this.syncTaskStatusChanges()\r\n    //   }\r\n    // })\r\n  },\r\n  beforeDestroy() {\r\n    // \r\n    if (this.currentChatSessionId && this.chatMessages.length > 0) {\r\n      this.saveCurrentChatSession()\r\n      localStorage.setItem('lastChatSessionId', String(this.currentChatSessionId))\r\n    }\r\n    \r\n    document.removeEventListener('click', this.handleClickOutside)\r\n    document.removeEventListener('visibilitychange', this.syncTaskStatusChanges)\r\n    window.removeEventListener('focus', this.syncTaskStatusChanges)\r\n\r\n    // \r\n    this.$root.$off('taskStatusChanged')\r\n\r\n    // \r\n    if (this.syncTimer) {\r\n      clearInterval(this.syncTimer)\r\n    }\r\n  },\r\n  methods: {\r\n    toggleSidebar() {\r\n      this.sidebarOpen = !this.sidebarOpen\r\n    },\r\n    closeSidebar() {\r\n      this.sidebarOpen = false\r\n    },\r\n    toggleProjectDropdown() {\r\n      this.showProjectDropdown = !this.showProjectDropdown\r\n    },\r\n    switchProject(project) {\r\n      this.currentProject = { ...project }\r\n      this.showProjectDropdown = false\r\n  \r\n      //  localStorage\r\n      localStorage.setItem('lastSelectedProject', JSON.stringify({\r\n        id: project.id,\r\n        title: project.title,\r\n        description: project.description,\r\n        lead: project.lead,\r\n        progress: project.progress\r\n      }))\r\n  \r\n      // \r\n      this.loadProjectTasks(project.id)\r\n    },\r\n\r\n    // \r\n    syncTaskStatusChanges() {\r\n      console.log('[] ...')\r\n\r\n      // \r\n      this.loadProjectTasks(this.currentProject.id)\r\n\r\n      console.log('[] :', this.tasks.length)\r\n    },\r\n    loadProjectTasks(projectId) {\r\n      // ID\r\n      console.log(`[]  ${projectId} `)\r\n\r\n      // \r\n      const projectTasks = this.loadTasksFromProject(projectId)\r\n\r\n      if (projectTasks && projectTasks.length > 0) {\r\n        console.log(`[]  ${projectTasks.length} `)\r\n        // \r\n        this.tasks.splice(0, this.tasks.length, ...projectTasks)\r\n      } else {\r\n        console.log(`[]  ${projectId} `)\r\n        this.tasks.splice(0, this.tasks.length)\r\n      }\r\n    },\r\n    async loadUserProjects() {\r\n      console.log('[] ...')\r\n\r\n      // \r\n      const token = localStorage.getItem('access_token')\r\n      const userInfo = localStorage.getItem('user_info')\r\n      const isAuthenticated = !!(token && userInfo)\r\n      \r\n      if (!isAuthenticated) {\r\n        console.log('[] ')\r\n        // \r\n        return\r\n      }\r\n      \r\n      try {\r\n        // API\r\n        const response = await projectAPI.getMyProjects(0, 100) // \r\n        \r\n        console.log('API:', response)\r\n        \r\n        // API\r\n        let projects = []\r\n        if (Array.isArray(response)) {\r\n          // \r\n          projects = response\r\n        } else if (response && response.data) {\r\n          // data\r\n          if (Array.isArray(response.data)) {\r\n            projects = response.data\r\n          } else if (Array.isArray(response.data.content)) {\r\n            // Spring\r\n            projects = response.data.content\r\n          } else if (Array.isArray(response.data.list)) {\r\n            // list\r\n            projects = response.data.list\r\n          } else if (Array.isArray(response.data.records)) {\r\n            // records\r\n            projects = response.data.records\r\n          }\r\n        }\r\n        \r\n        if (projects.length > 0) {\r\n          // \r\n          const userProjects = projects.map(project => {\r\n            const projectId = project.id || project.projectId || project.project_id\r\n            \r\n            // progressstatus\r\n            let progress = project.progress || 0\r\n            if (!progress && project.status) {\r\n              if (project.status === 'COMPLETED' || project.status === 'Completed' || project.status === '') {\r\n                progress = 100\r\n              } else if (project.status === 'ACTIVE' || project.status === 'Paused' || project.status === '') {\r\n                progress = 50 // 50%\r\n              } else {\r\n                progress = 0\r\n              }\r\n            }\r\n            \r\n            return {\r\n              id: projectId,\r\n              title: project.title || project.name || project.projectName || '',\r\n              description: project.description || project.desc || project.title || '',\r\n              lead: project.lead || project.creatorName || project.manager || '',\r\n              progress: progress\r\n            }\r\n          })\r\n          \r\n          console.log(`[]  ${userProjects.length} `)\r\n          \r\n          // \r\n          // \r\n          \r\n          // \r\n          this.availableProjects = userProjects\r\n          \r\n          // \r\n          if (this.availableProjects.length > 0) {\r\n            const currentProjectExists = this.availableProjects.find(p => String(p.id) === String(this.currentProject.id))\r\n            if (!currentProjectExists) {\r\n              this.currentProject = { ...this.availableProjects[0] }\r\n              // \r\n              this.loadProjectTasks(this.currentProject.id)\r\n            }\r\n          }\r\n          \r\n          console.log(':', this.availableProjects)\r\n        } else {\r\n          console.log('')\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        // \r\n      }\r\n    },\r\n\r\n    // \r\n    loadTasksFromProject(projectId) {\r\n      // tasks\r\n      const projectSquareTasks = this.loadTasksFromProjectSquare(projectId)\r\n      if (projectSquareTasks.length > 0) {\r\n        return projectSquareTasks\r\n      }\r\n\r\n      // projectTasks\r\n      if (this.projectTasks[projectId]) {\r\n        return this.projectTasks[projectId]\r\n      }\r\n\r\n      return []\r\n    },\r\n\r\n    // \r\n    loadTasksFromProjectSquare(projectId) {\r\n      // \r\n      const projects = JSON.parse(localStorage.getItem('projects') || '[]')\r\n      // \r\n      const project = projects.find(p => String(p.id) === String(projectId))\r\n\r\n      if (!project) {\r\n        return []\r\n      }\r\n\r\n      // tasks\r\n      if (project.tasks && Array.isArray(project.tasks) && project.tasks.length > 0) {\r\n\r\n        // AI\r\n        return project.tasks.map(task => ({\r\n          id: task.id,\r\n          title: task.title,\r\n          description: task.description || '',\r\n          assignee: task.assignee_name || task.created_by_name || '',\r\n          status: this.convertTaskStatus(task.status),\r\n          checked: false,\r\n          published: true, // \r\n          originalTask: task // \r\n        }))\r\n      }\r\n\r\n      return []\r\n    },\r\n\r\n    // \r\n    convertTaskStatus(status) {\r\n      const statusMap = {\r\n        '': 'pending',\r\n        'PENDING': 'pending',\r\n        '': 'in-progress',\r\n        'IN_PROGRESS': 'in-progress',\r\n        '': 'completed',\r\n        'COMPLETED': 'completed',\r\n        '': 'paused',\r\n        'PAUSED': 'paused',\r\n        '': 'completed',\r\n        '': 'paused'\r\n      }\r\n      return statusMap[status] || 'pending'\r\n    },\r\n\r\n    // \r\n    getPublishedTasksForProject(projectId) {\r\n      // localStorage\r\n      const projectTasks = JSON.parse(localStorage.getItem(`project_${projectId}_tasks`) || '[]')\r\n\r\n      // \r\n      return projectTasks.filter(task => task.status === 'published')\r\n    },\r\n\r\n    // \r\n    isTaskPublished(task) {\r\n      // \r\n      return task.published === true || task.status === 'published'\r\n    },\r\n\r\n    // \r\n    updateTaskPublishStatus(taskId, published) {\r\n      // \r\n      const task = this.tasks.find(t => t.id === taskId)\r\n      if (task) {\r\n        task.published = published\r\n        if (published) {\r\n          task.status = 'published'\r\n        }\r\n      }\r\n\r\n      // localStorage\r\n      this.saveTasksToStorage()\r\n    },\r\n\r\n    // localStorage\r\n    saveTasksToStorage() {\r\n      // \r\n      console.log('localStorage')\r\n    },\r\n\r\n    // localStorage\r\n    debugLocalStorage() {\r\n      console.log('=== localStorage  ===')\r\n      console.log('projects:', JSON.parse(localStorage.getItem('projects') || '[]'))\r\n      console.log('tasks:', JSON.parse(localStorage.getItem('tasks') || '[]'))\r\n      console.log('all_tasks:', JSON.parse(localStorage.getItem('all_tasks') || '[]'))\r\n\r\n      // localStorage\r\n      const keys = Object.keys(localStorage)\r\n      console.log('localStorage:', keys)\r\n\r\n      // task\r\n      const taskKeys = keys.filter(key => key.includes('task') || key.includes('Task'))\r\n      console.log(':', taskKeys)\r\n\r\n      taskKeys.forEach(key => {\r\n        console.log(`${key}:`, JSON.parse(localStorage.getItem(key) || '[]'))\r\n      })\r\n\r\n      // \r\n      this.debugProjectSquareData()\r\n    },\r\n\r\n    // \r\n    debugProjectSquareData() {\r\n      console.log('===  ===')\r\n\r\n      const projects = JSON.parse(localStorage.getItem('projects') || '[]')\r\n      console.log(':', projects)\r\n\r\n      // \"\"\r\n      const panxinglinProject = projects.find(p => p.title.includes(''))\r\n      if (panxinglinProject) {\r\n        console.log(':', panxinglinProject)\r\n        console.log('tasks:', panxinglinProject.tasks)\r\n\r\n        if (panxinglinProject.tasks && Array.isArray(panxinglinProject.tasks)) {\r\n          console.log(` ${panxinglinProject.tasks.length} :`)\r\n          panxinglinProject.tasks.forEach((task, index) => {\r\n            console.log(` ${index + 1}:`, task)\r\n          })\r\n        } else {\r\n          console.log('taskstasks')\r\n        }\r\n      } else {\r\n        console.log('')\r\n\r\n        // \r\n        console.log(':')\r\n        projects.forEach((project, index) => {\r\n          console.log(` ${index + 1}: ${project.title} (ID: ${project.id})`)\r\n          console.log(`  tasks:`, project.tasks)\r\n        })\r\n      }\r\n    },\r\n\r\n    // \r\n    refreshTasks() {\r\n      console.log('...')\r\n      this.debugLocalStorage()\r\n\r\n      // \r\n      this.availableProjects = this.availableProjects.filter(project => project.id <= 4) // \r\n      this.projectTasks = {}\r\n\r\n      // \r\n      this.loadUserProjects()\r\n\r\n      // \r\n      this.loadProjectTasks(this.currentProject.id)\r\n\r\n      console.log('')\r\n    },\r\n\r\n    // \r\n    createSampleTasks() {\r\n      console.log('...')\r\n\r\n      // \r\n      const createdProjects = JSON.parse(localStorage.getItem('projects') || '[]')\r\n\r\n      createdProjects.forEach(project => {\r\n        const projectId = project.id\r\n        const sampleTasks = [\r\n          {\r\n            id: Date.now() + Math.random(),\r\n            title: `${project.title} - `,\r\n            description: '',\r\n            assignee: '',\r\n            status: 'in-progress',\r\n            projectId: projectId,\r\n            published: true\r\n          },\r\n          {\r\n            id: Date.now() + Math.random() + 1,\r\n            title: `${project.title} - `,\r\n            description: '',\r\n            assignee: '',\r\n            status: 'completed',\r\n            projectId: projectId,\r\n            published: true\r\n          },\r\n          {\r\n            id: Date.now() + Math.random() + 2,\r\n            title: `${project.title} - `,\r\n            description: '',\r\n            assignee: '',\r\n            status: 'in-progress',\r\n            projectId: projectId,\r\n            published: true\r\n          }\r\n        ]\r\n\r\n        // localStorage\r\n        localStorage.setItem(`project_${projectId}_tasks`, JSON.stringify(sampleTasks))\r\n        console.log(` ${project.title}  ${sampleTasks.length} `)\r\n      })\r\n\r\n      // \r\n      this.refreshTasks()\r\n    },\r\n    goToHome() {\r\n      this.$router.push('/home')\r\n    },\r\n    setFilter(filter) {\r\n      this.activeFilter = filter\r\n    },\r\n    toggleFilterDropdown() {\r\n      this.filterDropdownOpen = !this.filterDropdownOpen\r\n    },\r\n    setFilterAndClose(filter) {\r\n      this.activeFilter = filter\r\n      this.filterDropdownOpen = false\r\n    },\r\n    getFilterText() {\r\n      const filterTexts = {\r\n        'all': '',\r\n        'published': '',\r\n        'in-progress': '',\r\n        'completed': '',\r\n        'paused': ''\r\n      }\r\n      return filterTexts[this.activeFilter] || ''\r\n    },\r\n    updateSearchQuery(event) {\r\n      this.searchQuery = event.target.value\r\n    },\r\n    toggleTaskCheckbox(taskId) {\r\n      const task = this.tasks.find(t => t.id === taskId)\r\n      if (task) {\r\n        task.checked = !task.checked\r\n      }\r\n    },\r\n    getStatusText(status) {\r\n      const statusMap = {\r\n        'pending': '',\r\n        'in-progress': '',\r\n        'completed': '',\r\n        'paused': ''\r\n      }\r\n      return statusMap[status] || status\r\n    },\r\n    getStatusClass(status) {\r\n      return status\r\n    },\r\n    async sendMessage() {\r\n      console.log('sendMessage called, userMessage:', this.userMessage)\r\n      if (!this.userMessage.trim() || this.isSending) {\r\n        console.log('Message is empty or already sending, not sending')\r\n        return\r\n      }\r\n\r\n      // \r\n      if (!this.currentChatSessionId) {\r\n        this.currentChatSessionId = Date.now()\r\n      }\r\n\r\n      console.log('Adding user message to chat')\r\n      const messageContent = this.userMessage.trim()\r\n      \r\n      // \r\n      const userMsg = {\r\n        id: Date.now(),\r\n        type: 'user',\r\n        content: messageContent,\r\n        timestamp: new Date()\r\n      }\r\n      this.chatMessages.push(userMsg)\r\n      console.log('Chat messages after adding user message:', this.chatMessages)\r\n\r\n      // \r\n      this.saveCurrentChatSession()\r\n\r\n      // \r\n      this.userMessage = ''\r\n      console.log('Input cleared')\r\n      \r\n      // \r\n      this.isSending = true\r\n\r\n      // AI\r\n      const aiMsg = {\r\n        id: Date.now() + 1,\r\n        type: 'ai',\r\n        content: '',\r\n        timestamp: new Date()\r\n      }\r\n      this.chatMessages.push(aiMsg)\r\n      const aiMessageIndex = this.chatMessages.length - 1\r\n\r\n      // \r\n      this.$nextTick(() => {\r\n        this.scrollToBottom()\r\n      })\r\n\r\n      try {\r\n        // IDDifyuser\r\n        const userId = localStorage.getItem('userId') || 'default-user'\r\n        \r\n        console.log('[AI] Dify API, user:', userId, 'conversationId:', this.difyConversationId)\r\n        \r\n        // DifyAPI\r\n        await difyAPI.sendChatMessageStream(\r\n          messageContent,\r\n          this.difyConversationId,\r\n          // onMessage\r\n          (answerDelta, data) => {\r\n            console.log('[AI] Dify:', answerDelta, ':', this.chatMessages[aiMessageIndex].content.length)\r\n            // AI - Vue.set\r\n            const currentContent = this.chatMessages[aiMessageIndex].content\r\n            this.$set(this.chatMessages[aiMessageIndex], 'content', currentContent + answerDelta)\r\n            console.log('[AI] :', this.chatMessages[aiMessageIndex].content.length)\r\n            // \r\n            this.$nextTick(() => {\r\n              this.scrollToBottom()\r\n            })\r\n          },\r\n          // onEnd\r\n          (data) => {\r\n            console.log('Dify')\r\n            // conversation_id\r\n            if (data && data.conversation_id) {\r\n              this.difyConversationId = data.conversation_id\r\n              console.log('DifyID:', this.difyConversationId)\r\n            }\r\n            \r\n            // AI\r\n            this.saveCurrentChatSession()\r\n            \r\n            // \r\n            this.isSending = false\r\n            \r\n            // \r\n            this.$nextTick(() => {\r\n              this.scrollToBottom()\r\n            })\r\n          },\r\n          // onError\r\n          (error) => {\r\n            console.error('Dify API:', error)\r\n            this.chatMessages[aiMessageIndex].content = 'AI'\r\n            this.isSending = false\r\n            \r\n            // \r\n            this.saveCurrentChatSession()\r\n            \r\n            this.$nextTick(() => {\r\n              this.scrollToBottom()\r\n            })\r\n          }\r\n        )\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        this.chatMessages[aiMessageIndex].content = ''\r\n        this.isSending = false\r\n        \r\n        // \r\n        this.saveCurrentChatSession()\r\n        \r\n        this.$nextTick(() => {\r\n          this.scrollToBottom()\r\n        })\r\n      }\r\n    },\r\n    scrollToBottom() {\r\n      const chatContainer = this.$el.querySelector('.chat-container')\r\n      if (chatContainer) {\r\n        chatContainer.scrollTop = chatContainer.scrollHeight\r\n      }\r\n    },\r\n    handleClickOutside(event) {\r\n      if (!this.$el.contains(event.target)) {\r\n        this.showProjectDropdown = false\r\n        this.filterDropdownOpen = false\r\n      }\r\n      // \r\n      if (this.showFileMenu && !event.target.closest('.file-menu-wrapper')) {\r\n        this.showFileMenu = false\r\n      }\r\n    },\r\n    \r\n    // \r\n    toggleFileMenu() {\r\n      this.showFileMenu = !this.showFileMenu\r\n    },\r\n    \r\n    // \r\n    async openFileDialogFromArchive() {\r\n      this.showFileMenu = false\r\n      \r\n      // \r\n      this.showProjectSelectDialog = true\r\n      this.selectedProjectForFiles = null\r\n      // \r\n      this.files = []\r\n    },\r\n    \r\n    // \r\n    openFileUpload() {\r\n      this.showFileMenu = false\r\n      this.$refs.fileInput.click()\r\n    },\r\n    \r\n    // \r\n    handleFileUpload(event) {\r\n      const files = Array.from(event.target.files)\r\n      if (files.length > 0) {\r\n        console.log(':', files)\r\n        // \r\n        const fileNames = files.map(file => file.name).join('')\r\n        const fileInfo = `${fileNames}`\r\n        this.userMessage = this.userMessage.trim() \r\n          ? `${this.userMessage}\\n\\n${fileInfo}`\r\n          : fileInfo\r\n        \r\n        // \r\n        // TODO: \r\n      }\r\n      // \r\n      if (this.$refs.fileInput) {\r\n        this.$refs.fileInput.value = ''\r\n      }\r\n    },\r\n    \r\n    // \r\n    closeProjectSelectDialog() {\r\n      this.showProjectSelectDialog = false\r\n      this.selectedProjectForFiles = null\r\n    },\r\n    \r\n    // \r\n    selectProjectForFiles(project) {\r\n      this.selectedProjectForFiles = project\r\n    },\r\n    \r\n    // \r\n    async confirmProjectSelection() {\r\n      if (!this.selectedProjectForFiles) return\r\n      \r\n      console.log(':', this.selectedProjectForFiles)\r\n      \r\n      // ID\r\n      const projectId = this.selectedProjectForFiles.id\r\n      \r\n      // \r\n      this.closeProjectSelectDialog()\r\n      \r\n      // KnowledgeBaseAI.vueopenFileDialogFromArchive\r\n      this.showFileDialog = true\r\n      this.selectedFiles = []\r\n      \r\n      // \r\n      if (projectId) {\r\n        await this.loadFiles(projectId)\r\n      }\r\n    },\r\n    \r\n    // KnowledgeBaseAI.vue\r\n    closeFileDialog() {\r\n      this.showFileDialog = false\r\n      this.selectedFiles = []\r\n    },\r\n    \r\n    // KnowledgeBaseAI.vue\r\n    async loadFiles(projectId) {\r\n      if (!projectId) {\r\n        console.warn('ID')\r\n        return\r\n      }\r\n      \r\n      this.loadingFiles = true\r\n      try {\r\n        const response = await knowledgeAPI.getProjectAchievements(projectId, 0, 1000)\r\n        console.log(':', response)\r\n        \r\n        if (response && response.code === 200 && response.data) {\r\n          if (Array.isArray(response.data)) {\r\n            this.files = response.data\r\n          } else if (response.data.content && Array.isArray(response.data.content)) {\r\n            this.files = response.data.content\r\n          } else {\r\n            this.files = []\r\n          }\r\n          console.log(':', this.files.length)\r\n          // \r\n          if (this.files.length > 0) {\r\n            console.log(':', this.files[0])\r\n            console.log(':', Object.keys(this.files[0]))\r\n          }\r\n        } else {\r\n          this.files = []\r\n          console.warn(':', response)\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        this.files = []\r\n      } finally {\r\n        this.loadingFiles = false\r\n      }\r\n    },\r\n    \r\n    // \r\n    toggleFileSelection(fileId) {\r\n      const index = this.selectedFiles.indexOf(fileId)\r\n      if (index > -1) {\r\n        this.selectedFiles.splice(index, 1)\r\n      } else {\r\n        this.selectedFiles.push(fileId)\r\n      }\r\n    },\r\n    \r\n    // KnowledgeBaseAI.vue\r\n    confirmFileSelection() {\r\n      if (this.selectedFiles.length === 0) return\r\n      \r\n      const selectedFileNames = this.files\r\n        .filter(file => this.selectedFiles.includes(file.id))\r\n        .map(file => file.name || file.title || '')\r\n        .join('')\r\n      \r\n      // \r\n      const fileInfo = `${selectedFileNames}`\r\n      this.userMessage = this.userMessage.trim() \r\n        ? `${this.userMessage}\\n\\n${fileInfo}`\r\n        : fileInfo\r\n      \r\n      // ID\r\n      console.log('ID:', this.selectedFiles)\r\n      console.log(':', this.files.filter(file => this.selectedFiles.includes(file.id)))\r\n      \r\n      this.closeFileDialog()\r\n    },\r\n    \r\n    // \r\n    viewChatHistory() {\r\n      this.loadChatSessionsFromStorage()\r\n      this.showChatHistoryModal = true\r\n    },\r\n    \r\n    // \r\n    closeChatHistoryModal() {\r\n      this.showChatHistoryModal = false\r\n    },\r\n    \r\n    // localStorage\r\n    loadChatSessionsFromStorage() {\r\n      try {\r\n        const saved = localStorage.getItem('aiChatSessions')\r\n        if (saved) {\r\n          this.chatSessions = JSON.parse(saved)\r\n          // \r\n          this.chatSessions.sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt))\r\n        } else {\r\n          this.chatSessions = []\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        this.chatSessions = []\r\n      }\r\n    },\r\n    \r\n    // localStorage\r\n    saveChatSessionsToStorage() {\r\n      try {\r\n        localStorage.setItem('aiChatSessions', JSON.stringify(this.chatSessions))\r\n      } catch (error) {\r\n        console.error(':', error)\r\n      }\r\n    },\r\n    \r\n    // \r\n    createNewChatSession() {\r\n      // \r\n      if (this.currentChatSessionId && this.chatMessages.length > 0) {\r\n        this.saveCurrentChatSession()\r\n      }\r\n      \r\n      // \r\n      const newSessionId = Date.now()\r\n      const newSession = {\r\n        id: newSessionId,\r\n        title: '',\r\n        messages: [],\r\n        createdAt: new Date().toISOString(),\r\n        updatedAt: new Date().toISOString(),\r\n        messageCount: 0\r\n      }\r\n      \r\n      this.chatSessions.unshift(newSession)\r\n      this.currentChatSessionId = newSessionId\r\n      this.chatMessages = []\r\n      this.difyConversationId = null // DifyID\r\n      localStorage.setItem('lastChatSessionId', String(newSessionId))\r\n      this.saveChatSessionsToStorage()\r\n      this.closeChatHistoryModal()\r\n      \r\n      console.log(':', newSessionId)\r\n    },\r\n    \r\n    // \r\n    loadChatSession(sessionId) {\r\n      const session = this.chatSessions.find(s => s.id === sessionId)\r\n      if (!session) {\r\n        console.warn(':', sessionId)\r\n        return\r\n      }\r\n      \r\n      // \r\n      if (this.currentChatSessionId && this.currentChatSessionId !== sessionId && this.chatMessages.length > 0) {\r\n        this.saveCurrentChatSession()\r\n      }\r\n      \r\n      // \r\n      this.currentChatSessionId = sessionId\r\n      this.chatMessages = session.messages ? [...session.messages] : []\r\n      this.difyConversationId = null // DifyID\r\n      localStorage.setItem('lastChatSessionId', String(sessionId))\r\n      \r\n      this.closeChatHistoryModal()\r\n      this.$nextTick(() => {\r\n        this.scrollToBottom()\r\n      })\r\n      \r\n      console.log(':', sessionId, ':', this.chatMessages.length)\r\n    },\r\n    \r\n    // \r\n    saveCurrentChatSession() {\r\n      if (!this.currentChatSessionId) return\r\n      \r\n      const sessionIndex = this.chatSessions.findIndex(s => s.id === this.currentChatSessionId)\r\n      if (sessionIndex === -1) {\r\n        // \r\n        const newSession = {\r\n          id: this.currentChatSessionId,\r\n          title: this.generateSessionTitle(),\r\n          messages: [...this.chatMessages],\r\n          createdAt: new Date().toISOString(),\r\n          updatedAt: new Date().toISOString(),\r\n          messageCount: this.chatMessages.length\r\n        }\r\n        this.chatSessions.unshift(newSession)\r\n      } else {\r\n        // \r\n        this.chatSessions[sessionIndex].messages = [...this.chatMessages]\r\n        this.chatSessions[sessionIndex].updatedAt = new Date().toISOString()\r\n        this.chatSessions[sessionIndex].messageCount = this.chatMessages.length\r\n        // \r\n        if (!this.chatSessions[sessionIndex].title || this.chatSessions[sessionIndex].title === '') {\r\n          this.chatSessions[sessionIndex].title = this.generateSessionTitle()\r\n        }\r\n      }\r\n      \r\n      this.saveChatSessionsToStorage()\r\n    },\r\n    \r\n    // 20\r\n    generateSessionTitle() {\r\n      const firstUserMessage = this.chatMessages.find(msg => msg.type === 'user')\r\n      if (firstUserMessage && firstUserMessage.content) {\r\n        const title = firstUserMessage.content.trim()\r\n        return title.length > 20 ? title.substring(0, 20) + '...' : title\r\n      }\r\n      return ''\r\n    },\r\n    \r\n    // \r\n    deleteChatSession(sessionId) {\r\n      if (!confirm('')) {\r\n        return\r\n      }\r\n      \r\n      const index = this.chatSessions.findIndex(s => s.id === sessionId)\r\n      if (index !== -1) {\r\n        this.chatSessions.splice(index, 1)\r\n        this.saveChatSessionsToStorage()\r\n        \r\n        // \r\n        if (sessionId === this.currentChatSessionId) {\r\n          this.currentChatSessionId = null\r\n          this.chatMessages = []\r\n          localStorage.removeItem('lastChatSessionId')\r\n        }\r\n      }\r\n    },\r\n    \r\n    // \r\n    formatDate(dateString) {\r\n      if (!dateString) return ''\r\n      const date = new Date(dateString)\r\n      const now = new Date()\r\n      const diff = now - date\r\n      const minutes = Math.floor(diff / 60000)\r\n      const hours = Math.floor(diff / 3600000)\r\n      const days = Math.floor(diff / 86400000)\r\n      \r\n      if (minutes < 1) return ''\r\n      if (minutes < 60) return `${minutes}`\r\n      if (hours < 24) return `${hours}`\r\n      if (days < 7) return `${days}`\r\n      \r\n      return date.toLocaleDateString('zh-CN', { month: 'short', day: 'numeric' })\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AIAssistant.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AIAssistant.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AIAssistant.vue?vue&type=template&id=d60330c2\"\nimport script from \"./AIAssistant.vue?vue&type=script&lang=js\"\nexport * from \"./AIAssistant.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"profile-container\"},[_c('Sidebar',{attrs:{\"isOpen\":_vm.sidebarOpen},on:{\"close\":_vm.closeSidebar}}),_c('div',{staticClass:\"top-header\"},[_c('div',{staticClass:\"header-left\"},[_c('button',{staticClass:\"menu-btn\",on:{\"click\":_vm.toggleSidebar}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M3 12H21M3 6H21M3 18H21\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('button',{staticClass:\"back-btn\",attrs:{\"title\":\"\"},on:{\"click\":_vm.goToHome}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M19 12H5M12 19L5 12L12 5\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('span',{staticClass:\"page-title\"},[_vm._v(\"\")])])]),_c('div',{staticClass:\"main-content\"},[_c('div',{staticClass:\"profile-content\"},[_c('h1',{staticClass:\"profile-title\"},[_vm._v(\"\")]),_c('div',{staticClass:\"info-card\"},[_c('div',{staticClass:\"avatar-section\"},[_c('div',{staticClass:\"avatar-container\",on:{\"click\":_vm.triggerAvatarUpload}},[(_vm.userInfo.avatar)?_c('img',{staticClass:\"avatar-image\",attrs:{\"src\":_vm.userInfo.avatar,\"alt\":\"\"}}):_c('div',{staticClass:\"avatar-placeholder\"},[_c('svg',{attrs:{\"width\":\"40\",\"height\":\"40\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"7\",\"r\":\"4\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('div',{staticClass:\"camera-icon\"},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 4H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"13\",\"r\":\"3\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"nickname-section\"},[(_vm.editingNickname)?_c('div',{staticClass:\"nickname-edit\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempNickname),expression:\"tempNickname\"}],ref:\"nicknameInput\",staticClass:\"nickname-input\",attrs:{\"placeholder\":\"\"},domProps:{\"value\":(_vm.tempNickname)},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.saveNickname.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"escape\",undefined,$event.key,undefined))return null;return _vm.cancelEditNickname.apply(null, arguments)}],\"input\":function($event){if($event.target.composing)return;_vm.tempNickname=$event.target.value}}}),_c('div',{staticClass:\"nickname-actions\"},[_c('button',{staticClass:\"save-btn-small\",on:{\"click\":_vm.saveNickname}},[_c('svg',{attrs:{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M20 6L9 17L4 12\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('button',{staticClass:\"cancel-btn-small\",on:{\"click\":_vm.cancelEditNickname}},[_c('svg',{attrs:{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])])]):_c('div',{staticClass:\"nickname-display-container\"},[_c('div',{staticClass:\"nickname-info\"},[_c('span',{staticClass:\"nickname-display\"},[_vm._v(_vm._s(_vm.userInfo.nickname))]),(_vm.userInfo.id)?_c('span',{staticClass:\"user-id-display\"},[_vm._v(\"ID: \"+_vm._s(_vm.userInfo.id))]):_vm._e()]),_c('button',{staticClass:\"edit-nickname-btn\",on:{\"click\":_vm.editNickname}},[_c('svg',{attrs:{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M18.5 2.5C18.8978 2.10218 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10218 21.5 2.5C21.8978 2.89782 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10218 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])])])])]),_c('div',{staticClass:\"info-card\"},[_c('div',{staticClass:\"info-item\"},[_c('h3',{staticClass:\"info-label\"},[_vm._v(\"\")]),_c('p',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.userInfo.email))])])]),_c('div',{staticClass:\"info-card\"},[_c('div',{staticClass:\"info-item\"},[_c('h3',{staticClass:\"info-label\"},[_vm._v(\"\")]),_c('p',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.userInfo.organization))])])]),_c('div',{staticClass:\"info-card\"},[_c('div',{staticClass:\"info-item\"},[_c('div',{staticClass:\"intro-header\"},[_c('h3',{staticClass:\"info-label\"},[_vm._v(\"\")]),(!_vm.editingIntro && _vm.isLoggedIn)?_c('button',{staticClass:\"edit-btn\",on:{\"click\":_vm.editIntro}},[_c('svg',{attrs:{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M18.5 2.5C18.8978 2.10218 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10218 21.5 2.5C21.8978 2.89782 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10218 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_vm._v(\"  \")]):_vm._e()]),(_vm.editingIntro)?_c('div',{staticClass:\"intro-edit\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempIntro),expression:\"tempIntro\"}],ref:\"introTextarea\",staticClass:\"intro-textarea\",attrs:{\"placeholder\":\"...\"},domProps:{\"value\":(_vm.tempIntro)},on:{\"blur\":_vm.saveIntro,\"input\":function($event){if($event.target.composing)return;_vm.tempIntro=$event.target.value}}}),_c('div',{staticClass:\"intro-actions\"},[_c('button',{staticClass:\"save-btn\",on:{\"click\":_vm.saveIntro}},[_vm._v(\"\")]),_c('button',{staticClass:\"cancel-btn\",on:{\"click\":_vm.cancelEditIntro}},[_vm._v(\"\")])])]):_c('p',{staticClass:\"info-value intro-content\"},[_vm._v(_vm._s(_vm.userInfo.introduction))])])]),(!_vm.isLoggedIn)?_c('div',{staticClass:\"info-card login-prompt-card\"},[_c('div',{staticClass:\"info-item\"},[_c('h3',{staticClass:\"info-label\"},[_vm._v(\"\")]),_c('p',{staticClass:\"info-value\"},[_vm._v(\"\")]),_c('button',{staticClass:\"login-btn\",on:{\"click\":_vm.goToLogin}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M15 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H15\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('polyline',{attrs:{\"points\":\"10,17 15,12 10,7\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('line',{attrs:{\"x1\":\"15\",\"y1\":\"12\",\"x2\":\"3\",\"y2\":\"12\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_vm._v(\"  \")])])]):_vm._e(),(_vm.showModal)?_c('div',{staticClass:\"modal-overlay\",on:{\"click\":_vm.closeModal}},[_c('div',{staticClass:\"modal-content\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"modal-header\"},[_c('h3',[_vm._v(\"\")]),_c('button',{staticClass:\"modal-close\",on:{\"click\":_vm.closeModal}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"modal-body\"},[_c('p',[_vm._v(_vm._s(_vm.modalMessage))])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"modal-btn modal-btn-cancel\",on:{\"click\":_vm.closeModal}},[_vm._v(\"\")]),_c('button',{staticClass:\"modal-btn modal-btn-confirm\",on:{\"click\":_vm.goToLogin}},[_vm._v(\"\")])])])]):_vm._e()])]),(_vm.showToast)?_c('div',{staticClass:\"success-toast\"},[_vm._v(\" \"+_vm._s(_vm.toastMessage)+\" \")]):_vm._e(),(_vm.showAvatarCropModal)?_c('div',{staticClass:\"avatar-crop-modal-overlay\"},[_c('div',{staticClass:\"avatar-crop-modal-content\",on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._m(0),_c('div',{staticClass:\"avatar-crop-modal-body\"},[_c('div',{staticClass:\"avatar-crop-container\"},[_c('canvas',{ref:\"avatarCropCanvas\",staticClass:\"avatar-crop-canvas\"}),_c('div',{ref:\"avatarCropOverlay\",staticClass:\"avatar-crop-overlay\"},[_c('div',{ref:\"avatarCropSelection\",staticClass:\"avatar-crop-selection\"},[_c('div',{staticClass:\"avatar-resize-handle avatar-resize-handle-se\"})])])])]),_c('div',{staticClass:\"avatar-crop-modal-footer\"},[_c('button',{staticClass:\"btn-cancel\",on:{\"click\":_vm.closeAvatarCropModal}},[_vm._v(\"\")]),_c('button',{staticClass:\"btn-confirm\",on:{\"click\":_vm.applyAvatarCrop}},[_vm._v(\"\")])])])]):_vm._e(),_c('input',{ref:\"avatarUpload\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.handleAvatarUpload}})],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"avatar-crop-modal-header\"},[_c('h3',[_vm._v(\"\")]),_c('p',{staticClass:\"avatar-crop-hint\"},[_vm._v(\"\")])])\n}]\n\nexport { render, staticRenderFns }","import axios from 'axios'\r\nimport config from '@/config'\r\n\r\n// axios - \r\nconst apiInstance = axios.create({\r\n  baseURL: '',\r\n  timeout: config.api.timeout,\r\n  headers: {\r\n    'Accept': 'application/json'\r\n  },\r\n  withCredentials: true\r\n})\r\n\r\n//  -  Token\r\napiInstance.interceptors.request.use(\r\n  (config) => {\r\n    // localStoragetoken\r\n    const token = localStorage.getItem('access_token')\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`\r\n    }\r\n    \r\n    console.log('API:', config.method?.toUpperCase(), config.url)\r\n    \r\n    return config\r\n  },\r\n  error => {\r\n    console.error(':', error)\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// \r\napiInstance.interceptors.response.use(\r\n  response => {\r\n    console.log(' API:', response.status)\r\n    console.log('API:', response.data)\r\n    console.log('API:', JSON.stringify(response.data, null, 2))\r\n    \r\n    // \r\n    if (response.data && response.data.code) {\r\n      console.log(' code:', response.data.code)\r\n      console.log(' msg:', response.data.msg)\r\n      console.log(' data:', !!response.data.data)\r\n      if (response.data.data) {\r\n        console.log(' dataminio_url:', response.data.data.minio_url)\r\n        console.log(' datacdn_url:', response.data.data.cdn_url)\r\n      }\r\n    }\r\n    \r\n    return response.data\r\n  },\r\n  error => {\r\n    console.error(' API:', error)\r\n    \r\n    if (error.response) {\r\n      const { status, data } = error.response\r\n      console.error(' status:', status)\r\n      console.error(' data:', data)\r\n      console.error(':', JSON.stringify(data, null, 2))\r\n      \r\n      if (status === 401) {\r\n        // token\r\n        localStorage.removeItem('access_token')\r\n        localStorage.removeItem('refresh_token')\r\n        localStorage.removeItem('user_info')\r\n        window.location.href = '/login'\r\n      }\r\n      \r\n      return Promise.reject(data || error)\r\n    } else if (error.request) {\r\n      console.error(':', error.request)\r\n      return Promise.reject(new Error(''))\r\n    } else {\r\n      console.error(':', error.message)\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n)\r\n\r\n/**\r\n * API\r\n */\r\nexport const avatarAPI = {\r\n  /**\r\n   * \r\n   * @param {File} file - \r\n   * @returns {Promise}\r\n   */\r\n  uploadAvatar(file) {\r\n    console.log('[avatarAPI.uploadAvatar] , :', file.name)\r\n    \r\n    const formData = new FormData()\r\n    formData.append('file', file)\r\n    \r\n    return apiInstance.post('/zhiyan/users/avatar/upload', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    })\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @returns {Promise}\r\n   */\r\n  getMyAvatarInfo() {\r\n    console.log('[avatarAPI.getMyAvatarInfo] ')\r\n    return apiInstance.get('/zhiyan/users/avatar/me_avatar')\r\n  },\r\n\r\n  /**\r\n   * ID\r\n   * @param {number} userId - ID\r\n   * @returns {Promise}\r\n   */\r\n  getAvatarInfoById(userId) {\r\n    console.log('[avatarAPI.getAvatarInfoById] , ID:', userId)\r\n    return apiInstance.get(`/zhiyan/users/avatar/${userId}`)\r\n  }\r\n}\r\n\r\nexport default apiInstance\r\n","<template>\r\n  <div class=\"profile-container\">\r\n    <!--  -->\r\n    <Sidebar :isOpen=\"sidebarOpen\" @close=\"closeSidebar\" />\r\n    \r\n    <!--  -->\r\n    <div class=\"top-header\">\r\n      <div class=\"header-left\">\r\n        <button class=\"menu-btn\" @click=\"toggleSidebar\">\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M3 12H21M3 6H21M3 18H21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </button>\r\n        <button class=\"back-btn\" @click=\"goToHome\" title=\"\">\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M19 12H5M12 19L5 12L12 5\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </button>\r\n        <span class=\"page-title\"></span>\r\n      </div>\r\n     </div>\r\n\r\n    <!--  -->\r\n    <div class=\"main-content\">\r\n      <div class=\"profile-content\">\r\n        <!--  -->\r\n        <h1 class=\"profile-title\"></h1>\r\n        \r\n        <!--  -->\r\n        <div class=\"info-card\">\r\n          <div class=\"avatar-section\">\r\n            <div class=\"avatar-container\" @click=\"triggerAvatarUpload\">\r\n              <img v-if=\"userInfo.avatar\" :src=\"userInfo.avatar\" alt=\"\" class=\"avatar-image\" />\r\n            <div v-else class=\"avatar-placeholder\">\r\n                <svg width=\"40\" height=\"40\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                <circle cx=\"12\" cy=\"7\" r=\"4\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n            </div>\r\n              <div class=\"camera-icon\">\r\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 4H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  <circle cx=\"12\" cy=\"13\" r=\"3\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n          </div>\r\n            </div>\r\n            <div class=\"nickname-section\">\r\n              <div v-if=\"editingNickname\" class=\"nickname-edit\">\r\n                <input \r\n                  v-model=\"tempNickname\" \r\n                  @keyup.enter=\"saveNickname\"\r\n                  @keyup.escape=\"cancelEditNickname\"\r\n                  class=\"nickname-input\"\r\n                  ref=\"nicknameInput\"\r\n                  placeholder=\"\"\r\n                />\r\n                <div class=\"nickname-actions\">\r\n                  <button @click=\"saveNickname\" class=\"save-btn-small\">\r\n                    <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M20 6L9 17L4 12\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n                  </button>\r\n                  <button @click=\"cancelEditNickname\" class=\"cancel-btn-small\">\r\n                    <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div v-else class=\"nickname-display-container\">\r\n                <div class=\"nickname-info\">\r\n                  <span class=\"nickname-display\">{{ userInfo.nickname }}</span>\r\n                  <span v-if=\"userInfo.id\" class=\"user-id-display\">ID: {{ userInfo.id }}</span>\r\n                </div>\r\n                <button @click=\"editNickname\" class=\"edit-nickname-btn\">\r\n                  <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    <path d=\"M18.5 2.5C18.8978 2.10218 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10218 21.5 2.5C21.8978 2.89782 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10218 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <!--  -->\r\n        <div class=\"info-card\">\r\n          <div class=\"info-item\">\r\n            <h3 class=\"info-label\"></h3>\r\n            <p class=\"info-value\">{{ userInfo.email }}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <!--  -->\r\n        <div class=\"info-card\">\r\n          <div class=\"info-item\">\r\n            <h3 class=\"info-label\"></h3>\r\n            <p class=\"info-value\">{{ userInfo.organization }}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <!--  -->\r\n        <div class=\"info-card\">\r\n          <div class=\"info-item\">\r\n            <div class=\"intro-header\">\r\n              <h3 class=\"info-label\"></h3>\r\n              <button v-if=\"!editingIntro && isLoggedIn\" @click=\"editIntro\" class=\"edit-btn\">\r\n                <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  <path d=\"M18.5 2.5C18.8978 2.10218 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10218 21.5 2.5C21.8978 2.89782 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10218 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n                \r\n              </button>\r\n          </div>\r\n            <div v-if=\"editingIntro\" class=\"intro-edit\">\r\n              <textarea \r\n                v-model=\"tempIntro\" \r\n                @blur=\"saveIntro\" \r\n                class=\"intro-textarea\"\r\n                placeholder=\"...\"\r\n                ref=\"introTextarea\"\r\n              ></textarea>\r\n              <div class=\"intro-actions\">\r\n                <button @click=\"saveIntro\" class=\"save-btn\"></button>\r\n                <button @click=\"cancelEditIntro\" class=\"cancel-btn\"></button>\r\n              </div>\r\n            </div>\r\n            <p v-else class=\"info-value intro-content\">{{ userInfo.introduction }}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <!--  -->\r\n        <div v-if=\"!isLoggedIn\" class=\"info-card login-prompt-card\">\r\n          <div class=\"info-item\">\r\n            <h3 class=\"info-label\"></h3>\r\n            <p class=\"info-value\"></p>\r\n            <button @click=\"goToLogin\" class=\"login-btn\">\r\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M15 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H15\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                <polyline points=\"10,17 15,12 10,7\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                <line x1=\"15\" y1=\"12\" x2=\"3\" y2=\"12\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n              \r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <!--  -->\r\n        <div v-if=\"showModal\" class=\"modal-overlay\" @click=\"closeModal\">\r\n          <div class=\"modal-content\" @click.stop>\r\n            <div class=\"modal-header\">\r\n              <h3></h3>\r\n              <button @click=\"closeModal\" class=\"modal-close\">\r\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n              <p>{{ modalMessage }}</p>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n              <button @click=\"closeModal\" class=\"modal-btn modal-btn-cancel\"></button>\r\n              <button @click=\"goToLogin\" class=\"modal-btn modal-btn-confirm\"></button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Toast -->\r\n    <div v-if=\"showToast\" class=\"success-toast\">\r\n      {{ toastMessage }}\r\n      </div>\r\n    \r\n    <!-- Modal -->\r\n    <div v-if=\"showAvatarCropModal\" class=\"avatar-crop-modal-overlay\">\r\n      <div class=\"avatar-crop-modal-content\" @click.stop>\r\n        <div class=\"avatar-crop-modal-header\">\r\n          <h3></h3>\r\n          <p class=\"avatar-crop-hint\"></p>\r\n    </div>\r\n        <div class=\"avatar-crop-modal-body\">\r\n          <div class=\"avatar-crop-container\">\r\n            <canvas ref=\"avatarCropCanvas\" class=\"avatar-crop-canvas\"></canvas>\r\n            <div class=\"avatar-crop-overlay\" ref=\"avatarCropOverlay\">\r\n              <div class=\"avatar-crop-selection\" ref=\"avatarCropSelection\">\r\n                <!--  -->\r\n                <div class=\"avatar-resize-handle avatar-resize-handle-se\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"avatar-crop-modal-footer\">\r\n          <button class=\"btn-cancel\" @click=\"closeAvatarCropModal\"></button>\r\n          <button class=\"btn-confirm\" @click=\"applyAvatarCrop\"></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <input \r\n      ref=\"avatarUpload\" \r\n      type=\"file\" \r\n      accept=\"image/*\" \r\n      @change=\"handleAvatarUpload\" \r\n      style=\"display: none\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Sidebar from '@/components/Sidebar.vue'\r\nimport '@/assets/styles/Profile.css'\r\nimport { avatarAPI } from '@/api/avatar'\r\n\r\nexport default {\r\n  name: 'Profile',\r\n  components: {\r\n    Sidebar\r\n  },\r\n  data() {\r\n    return {\r\n      sidebarOpen: false,\r\n      userMenuOpen: false,\r\n      userAvatar: null,\r\n      editingNickname: false,\r\n      editingIntro: false,\r\n      tempNickname: '',\r\n      tempIntro: '',\r\n      isLoggedIn: false,\r\n      showModal: false,\r\n      modalMessage: '',\r\n      showToast: false,\r\n      toastMessage: '',\r\n      showAvatarCropModal: false,\r\n      originalAvatarData: null,\r\n      avatarCropData: {\r\n        x: 0,\r\n        y: 0,\r\n        size: 0\r\n      },\r\n      userInfo: {\r\n        id: null,\r\n        username: '',\r\n        email: '',\r\n        nickname: '',\r\n        avatar: '',\r\n        organization: '',\r\n        introduction: '',\r\n        role: '',\r\n        status: ''\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadUserInfo()\r\n    this.loadUserAvatar()\r\n    document.addEventListener('click', this.handleClickOutside)\r\n    // \r\n    this.$root.$on('userInfoUpdated', this.loadUserInfo)\r\n  },\r\n  beforeDestroy() {\r\n    document.removeEventListener('click', this.handleClickOutside)\r\n    this.$root.$off('userInfoUpdated', this.loadUserInfo)\r\n  },\r\n  methods: {\r\n    loadUserInfo() {\r\n      // \r\n      const token = localStorage.getItem('access_token')\r\n      const savedUserInfo = localStorage.getItem('user_info')\r\n      this.isLoggedIn = !!(token && savedUserInfo)\r\n      \r\n      if (this.isLoggedIn && savedUserInfo) {\r\n        try {\r\n          const userData = JSON.parse(savedUserInfo)\r\n          this.userInfo = {\r\n            id: userData.id || userData.userId,\r\n            username: userData.username || userData.name || '',\r\n            email: userData.email || '',\r\n            nickname: userData.nickname || userData.name || '',\r\n            avatar: userData.avatar || '',\r\n            organization: userData.organization || userData.institution || '',\r\n            introduction: userData.introduction || '...',\r\n            role: userData.role || 'MEMBER',\r\n            status: userData.status || 'ACTIVE'\r\n          }\r\n          console.log(':', this.userInfo)\r\n        } catch (error) {\r\n          console.error(':', error)\r\n          this.isLoggedIn = false\r\n        }\r\n      } else {\r\n        // \r\n        this.isLoggedIn = false\r\n        this.userInfo = {\r\n          id: null,\r\n          username: '',\r\n          email: '',\r\n          nickname: '',\r\n          avatar: '',\r\n          organization: '',\r\n          introduction: '',\r\n          role: 'GUEST',\r\n          status: 'GUEST'\r\n        }\r\n      }\r\n    },\r\n    loadUserAvatar() {\r\n      const savedAvatar = localStorage.getItem('userAvatar')\r\n      if (savedAvatar) {\r\n        this.userAvatar = savedAvatar\r\n      }\r\n    },\r\n    handleClickOutside(event) {\r\n      if (!event.target.closest('.user-profile') && !event.target.closest('.user-menu')) {\r\n        this.userMenuOpen = false\r\n      }\r\n    },\r\n    toggleSidebar() {\r\n      this.sidebarOpen = !this.sidebarOpen\r\n    },\r\n    closeSidebar() {\r\n      this.sidebarOpen = false\r\n    },\r\n    goToHome() {\r\n      this.$router.push('/home')\r\n    },\r\n    goToLogin() {\r\n      this.$router.push('/login')\r\n    },\r\n    showSuccessToast(message) {\r\n      this.toastMessage = message\r\n      this.showToast = true\r\n      \r\n      // 1\r\n      setTimeout(() => {\r\n        this.showToast = false\r\n        this.toastMessage = ''\r\n      }, 1000)\r\n    },\r\n    closeModal() {\r\n      this.showModal = false\r\n      this.modalMessage = ''\r\n    },\r\n    toggleUserMenu() {\r\n      this.userMenuOpen = !this.userMenuOpen\r\n    },\r\n    goToProfile() {\r\n      this.userMenuOpen = false\r\n      // \r\n    },\r\n    logout() {\r\n      this.userMenuOpen = false\r\n      \r\n      // \r\n      localStorage.removeItem('access_token')\r\n      localStorage.removeItem('refresh_token')\r\n      localStorage.removeItem('remember_me_token')\r\n      localStorage.removeItem('user_info')\r\n      localStorage.removeItem('userAvatar')\r\n      localStorage.removeItem('globalUserInfo')\r\n      \r\n      // userData_\r\n      Object.keys(localStorage).forEach(key => {\r\n        if (key.startsWith('userData_')) {\r\n          localStorage.removeItem(key)\r\n        }\r\n      })\r\n      \r\n      this.showSuccessToast('')\r\n      \r\n      // \r\n      setTimeout(() => {\r\n      this.$router.push('/login')\r\n      }, 1000)\r\n    },\r\n    // \r\n    closeAvatarCropModal() {\r\n      // \r\n      this.$refs.avatarUpload.value = ''\r\n      this.showAvatarCropModal = false\r\n      this.originalAvatarData = null\r\n    },\r\n    initAvatarCropCanvas() {\r\n      const canvas = this.$refs.avatarCropCanvas\r\n      const ctx = canvas.getContext('2d')\r\n      const img = new Image()\r\n      \r\n      img.onload = () => {\r\n        // \r\n        const maxSize = 400\r\n        let { width, height } = img\r\n        \r\n        if (width > maxSize || height > maxSize) {\r\n          const ratio = Math.min(maxSize / width, maxSize / height)\r\n          width *= ratio\r\n          height *= ratio\r\n        }\r\n        \r\n        canvas.width = width\r\n        canvas.height = height\r\n        canvas.style.width = width + 'px'\r\n        canvas.style.height = height + 'px'\r\n        \r\n        // \r\n        ctx.drawImage(img, 0, 0, width, height)\r\n        \r\n        // \r\n        const cropSize = Math.min(width, height) * 0.6\r\n        this.avatarCropData = {\r\n          x: (width - cropSize) / 2,\r\n          y: (height - cropSize) / 2,\r\n          size: cropSize\r\n        }\r\n        \r\n        this.updateAvatarCropSelection()\r\n        this.setupAvatarCropInteraction()\r\n      }\r\n      \r\n      //  \r\n      img.onerror = (error) => {\r\n        console.error(':', error)\r\n        alert('')\r\n        this.closeAvatarCropModal()\r\n      }\r\n      \r\n      img.src = this.originalAvatarData\r\n    },\r\n    updateAvatarCropSelection() {\r\n      const selection = this.$refs.avatarCropSelection\r\n      if (selection) {\r\n        selection.style.left = this.avatarCropData.x + 'px'\r\n        selection.style.top = this.avatarCropData.y + 'px'\r\n        selection.style.width = this.avatarCropData.size + 'px'\r\n        selection.style.height = this.avatarCropData.size + 'px'\r\n      }\r\n    },\r\n    setupAvatarCropInteraction() {\r\n      const selection = this.$refs.avatarCropSelection\r\n      const canvas = this.$refs.avatarCropCanvas\r\n      \r\n      if (!selection || !canvas) return\r\n      \r\n      let isDragging = false\r\n      let isResizing = false\r\n      let startX = 0\r\n      let startY = 0\r\n      let startCropX = 0\r\n      let startCropY = 0\r\n      let startCropSize = 0\r\n      \r\n      const startDrag = (e) => {\r\n        if (e.target.classList.contains('avatar-resize-handle')) {\r\n          isResizing = true\r\n        } else {\r\n          isDragging = true\r\n        }\r\n        \r\n        const rect = canvas.getBoundingClientRect()\r\n        startX = e.clientX - rect.left\r\n        startY = e.clientY - rect.top\r\n        startCropX = this.avatarCropData.x\r\n        startCropY = this.avatarCropData.y\r\n        startCropSize = this.avatarCropData.size\r\n      }\r\n      \r\n      const drag = (e) => {\r\n        if (!isDragging && !isResizing) return\r\n        \r\n        const rect = canvas.getBoundingClientRect()\r\n        const currentX = e.clientX - rect.left\r\n        const currentY = e.clientY - rect.top\r\n        \r\n        const deltaX = currentX - startX\r\n        const deltaY = currentY - startY\r\n        \r\n        if (isDragging) {\r\n          // \r\n          const newX = Math.max(0, Math.min(canvas.width - this.avatarCropData.size, startCropX + deltaX))\r\n          const newY = Math.max(0, Math.min(canvas.height - this.avatarCropData.size, startCropY + deltaY))\r\n          \r\n          this.avatarCropData.x = newX\r\n          this.avatarCropData.y = newY\r\n        } else if (isResizing) {\r\n          // \r\n          const deltaSize = deltaX + deltaY\r\n          const newSize = Math.max(50, Math.min(Math.min(canvas.width, canvas.height), startCropSize + deltaSize))\r\n          \r\n          // \r\n          const newX = Math.max(0, Math.min(canvas.width - newSize, startCropX + (startCropSize - newSize) / 2))\r\n          const newY = Math.max(0, Math.min(canvas.height - newSize, startCropY + (startCropSize - newSize) / 2))\r\n          \r\n          this.avatarCropData.x = newX\r\n          this.avatarCropData.y = newY\r\n          this.avatarCropData.size = newSize\r\n        }\r\n        \r\n        this.updateAvatarCropSelection()\r\n      }\r\n      \r\n      const endDrag = () => {\r\n        isDragging = false\r\n        isResizing = false\r\n      }\r\n      \r\n      selection.addEventListener('mousedown', startDrag)\r\n      document.addEventListener('mousemove', drag)\r\n      document.addEventListener('mouseup', endDrag)\r\n      \r\n      // \r\n      this.$once('hook:beforeDestroy', () => {\r\n        selection.removeEventListener('mousedown', startDrag)\r\n        document.removeEventListener('mousemove', drag)\r\n        document.removeEventListener('mouseup', endDrag)\r\n      })\r\n    },\r\n    applyAvatarCrop() {\r\n      if (!this.originalAvatarData) return\r\n      \r\n      const canvas = document.createElement('canvas')\r\n      const ctx = canvas.getContext('2d')\r\n      \r\n      // \r\n      const avatarSize = 80\r\n      canvas.width = avatarSize\r\n      canvas.height = avatarSize\r\n      \r\n      // \r\n      ctx.beginPath()\r\n      ctx.arc(avatarSize / 2, avatarSize / 2, avatarSize / 2, 0, 2 * Math.PI)\r\n      ctx.clip()\r\n      \r\n      // \r\n      const img = new Image()\r\n      img.onload = async () => {\r\n        // \r\n        const canvasWidth = this.$refs.avatarCropCanvas.width\r\n        const canvasHeight = this.$refs.avatarCropCanvas.height\r\n        \r\n        const sourceX = (this.avatarCropData.x / canvasWidth) * img.width\r\n        const sourceY = (this.avatarCropData.y / canvasHeight) * img.height\r\n        const sourceSize = (this.avatarCropData.size / canvasWidth) * img.width\r\n        \r\n        // \r\n        ctx.drawImage(\r\n          img,\r\n          sourceX, sourceY, sourceSize, sourceSize,\r\n          0, 0, avatarSize, avatarSize\r\n        )\r\n        \r\n        // Blob\r\n        canvas.toBlob(async (blob) => {\r\n          //  blobnull\r\n          if (!blob) {\r\n            console.error('CanvasBlob')\r\n            alert('')\r\n            return\r\n          }\r\n          \r\n          try {\r\n            // \r\n            this.closeAvatarCropModal()\r\n            \r\n            // File\r\n            const file = new File([blob], 'avatar.jpg', { type: 'image/jpeg' })\r\n            console.log(':', file.size, 'bytes')\r\n            \r\n            // API\r\n            const response = await avatarAPI.uploadAvatar(file)\r\n            console.log(':', response)\r\n            \r\n            // URL\r\n            let avatarUrl = ''\r\n            if (response.code === 200 && response.data) {\r\n              //  cdnUrl minioUrl\r\n              avatarUrl = response.data.cdnUrl || response.data.minioUrl || ''\r\n              console.log('URL:', avatarUrl)\r\n              console.log(':', response.data)\r\n            } else {\r\n              console.warn(':', response)\r\n            }\r\n            \r\n            // URLURLbase64\r\n            const finalAvatar = avatarUrl || canvas.toDataURL('image/jpeg', 0.9)\r\n            \r\n            // \r\n            this.userInfo.avatar = finalAvatar\r\n            this.userAvatar = finalAvatar\r\n            \r\n            //  localStorage\r\n            try {\r\n              localStorage.setItem('userAvatar', finalAvatar)\r\n            } catch (e) {\r\n              console.error('localStorage:', e)\r\n              if (e.name === 'QuotaExceededError') {\r\n                console.warn('localStorage')\r\n              }\r\n            }\r\n            \r\n            // user_info\r\n            const savedUserInfo = localStorage.getItem('user_info')\r\n            let currentUserId = this.userInfo.id\r\n            if (savedUserInfo) {\r\n              try {\r\n                const userData = JSON.parse(savedUserInfo)\r\n                userData.avatar = finalAvatar\r\n                currentUserId = userData.id || userData.userId || currentUserId\r\n                localStorage.setItem('user_info', JSON.stringify(userData))\r\n                console.log('user_info')\r\n              } catch (error) {\r\n                console.error('user_info:', error)\r\n                if (error.name === 'QuotaExceededError') {\r\n                  console.warn('localStorage')\r\n                }\r\n              }\r\n            }\r\n            \r\n            //  \r\n            const eventData = {\r\n              userId: String(currentUserId),  //  userId \r\n              avatarUrl: finalAvatar,\r\n              timestamp: Date.now()\r\n            }\r\n            console.log(' :', {\r\n              userId: eventData.userId,\r\n              userIdType: typeof eventData.userId,\r\n              avatarUrl: eventData.avatarUrl.substring(0, 50) + '...',\r\n              timestamp: eventData.timestamp\r\n            })\r\n            this.$eventBus.emit(this.$EventTypes.USER_AVATAR_UPDATED, eventData)\r\n            \r\n            // \r\n            this.$root.$emit('userInfoUpdated')\r\n            \r\n            // \r\n            this.showSuccessToast('')\r\n            \r\n          } catch (error) {\r\n            console.error(':', error)\r\n            \r\n            //  \r\n            const errorMsg = error.msg || error.message || ''\r\n            const retry = confirm(`: ${errorMsg}\\n\\n`)\r\n            \r\n            if (retry) {\r\n              // \r\n              this.applyAvatarCrop()\r\n              return\r\n            }\r\n            \r\n            // base64\r\n            const localAvatar = canvas.toDataURL('image/jpeg', 0.9)\r\n            this.userInfo.avatar = localAvatar\r\n            this.userAvatar = localAvatar\r\n            \r\n            //  localStorage\r\n            try {\r\n              localStorage.setItem('userAvatar', localAvatar)\r\n            } catch (e) {\r\n              console.error('localStorage:', e)\r\n              if (e.name === 'QuotaExceededError') {\r\n                console.warn('localStorage')\r\n              }\r\n            }\r\n            \r\n            // user_info\r\n            const savedUserInfo = localStorage.getItem('user_info')\r\n            if (savedUserInfo) {\r\n              try {\r\n                const userData = JSON.parse(savedUserInfo)\r\n                userData.avatar = localAvatar\r\n                localStorage.setItem('user_info', JSON.stringify(userData))\r\n              } catch (e) {\r\n                console.error('user_info:', e)\r\n                if (e.name === 'QuotaExceededError') {\r\n                  console.warn('localStorage')\r\n                }\r\n              }\r\n            }\r\n            \r\n            // \r\n            this.$root.$emit('userInfoUpdated')\r\n          }\r\n        }, 'image/jpeg', 0.9)\r\n      }\r\n      \r\n      //  \r\n      img.onerror = (error) => {\r\n        console.error(':', error)\r\n        alert('')\r\n      }\r\n      \r\n      img.src = this.originalAvatarData\r\n    },\r\n    // \r\n    triggerAvatarUpload() {\r\n      if (!this.isLoggedIn) {\r\n        this.modalMessage = ''\r\n        this.showModal = true\r\n        return\r\n      }\r\n      this.$refs.avatarUpload.click()\r\n    },\r\n    handleAvatarUpload(event) {\r\n      const file = event.target.files[0]\r\n      if (!file) return\r\n      \r\n      try {\r\n        // \r\n        if (!file.type.startsWith('image/')) {\r\n          alert('')\r\n          this.$refs.avatarUpload.value = ''\r\n          return\r\n        }\r\n        \r\n        //  (5MB)\r\n        if (file.size > 5 * 1024 * 1024) {\r\n          alert('5MB')\r\n          this.$refs.avatarUpload.value = ''\r\n          return\r\n        }\r\n        \r\n        const reader = new FileReader()\r\n        \r\n        reader.onload = (e) => {\r\n          this.originalAvatarData = e.target.result\r\n          // \r\n          this.showAvatarCropModal = true\r\n          this.$nextTick(() => {\r\n            this.initAvatarCropCanvas()\r\n          })\r\n        }\r\n        \r\n        //  \r\n        reader.onerror = (error) => {\r\n          console.error(':', error)\r\n          alert('')\r\n          this.$refs.avatarUpload.value = ''\r\n        }\r\n        \r\n        reader.readAsDataURL(file)\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        alert(': ' + error.message)\r\n        this.$refs.avatarUpload.value = ''\r\n      }\r\n    },\r\n    // \r\n    editNickname() {\r\n      if (!this.isLoggedIn) {\r\n        this.modalMessage = ''\r\n        this.showModal = true\r\n        return\r\n      }\r\n      this.editingNickname = true\r\n      this.tempNickname = this.userInfo.nickname\r\n      this.$nextTick(() => {\r\n        this.$refs.nicknameInput.focus()\r\n        this.$refs.nicknameInput.select()\r\n      })\r\n    },\r\n    saveNickname() {\r\n      const trimmedNickname = this.tempNickname.trim()\r\n      if (trimmedNickname && trimmedNickname !== this.userInfo.nickname) {\r\n        // \r\n        if (trimmedNickname.length < 2) {\r\n          alert('2')\r\n          return\r\n        }\r\n        if (trimmedNickname.length > 20) {\r\n          alert('20')\r\n          return\r\n        }\r\n        // \r\n        if (confirm(`\"${trimmedNickname}\"`)) {\r\n          this.userInfo.nickname = trimmedNickname\r\n          this.editingNickname = false\r\n          \r\n          // user_info\r\n          const savedUserInfo = localStorage.getItem('user_info')\r\n          if (savedUserInfo) {\r\n            try {\r\n              const userData = JSON.parse(savedUserInfo)\r\n              userData.nickname = trimmedNickname\r\n              localStorage.setItem('user_info', JSON.stringify(userData))\r\n              console.log('user_info:', userData.nickname)\r\n            } catch (error) {\r\n              console.error('user_info:', error)\r\n            }\r\n          }\r\n          \r\n          // \r\n          this.$root.$emit('userInfoUpdated')\r\n          console.log(':', trimmedNickname)\r\n        }\r\n      } else if (trimmedNickname === this.userInfo.nickname) {\r\n        // \r\n        this.editingNickname = false\r\n      } else {\r\n        alert('')\r\n      }\r\n    },\r\n    cancelEditNickname() {\r\n      this.tempNickname = this.userInfo.nickname\r\n      this.editingNickname = false\r\n    },\r\n    // \r\n    editIntro() {\r\n      this.editingIntro = true\r\n      this.tempIntro = this.userInfo.introduction\r\n      this.$nextTick(() => {\r\n        this.$refs.introTextarea.focus()\r\n      })\r\n    },\r\n    saveIntro() {\r\n      this.userInfo.introduction = this.tempIntro\r\n      this.editingIntro = false\r\n    },\r\n    cancelEditIntro() {\r\n      this.tempIntro = this.userInfo.introduction\r\n      this.editingIntro = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=3d20d7c3\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"project-detail-container\"},[(_vm.isLoading)?_c('div',{staticClass:\"loading-container\"},[_c('div',{staticClass:\"loading-spinner\"}),_c('p',{staticClass:\"loading-text\"},[_vm._v(\"...\")])]):_c('div',[_c('div',{staticClass:\"top-header\"},[_c('div',{staticClass:\"header-left\"},[_c('button',{staticClass:\"back-btn\",attrs:{\"aria-label\":\"\"},on:{\"click\":_vm.goBack}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M19 12H5M12 19L5 12L12 5\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('span',{staticClass:\"page-title\"},[_vm._v(\"\")])])]),_c('div',{staticClass:\"main-content\"},[(!_vm.project)?_c('div',{staticClass:\"loading-container\"},[_c('div',{staticClass:\"loading-spinner\"}),_c('p',[_vm._v(\"...\")])]):_vm._e(),(_vm.project)?_c('div',[_c('div',{staticClass:\"project-card\"},[_c('div',{staticClass:\"project-header-top\"},[_c('h1',{staticClass:\"project-title\"},[_vm._v(_vm._s(_vm.project.title))]),(_vm.isProjectManager)?_c('div',{staticClass:\"project-actions\"},[_c('button',{staticClass:\"btn secondary\",on:{\"click\":_vm.editProject}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M18.5 2.5C18.8978 2.10218 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10218 21.5 2.5C21.8978 2.89782 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10218 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_vm._v(\"  \")]),_c('button',{staticClass:\"btn btn-danger\",on:{\"click\":_vm.deleteProject}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M3 6H5H21M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_vm._v(\"  \")])]):_vm._e()]),_c('div',{staticClass:\"project-body\"},[_c('div',{staticClass:\"project-info\"},[_c('div',{staticClass:\"project-meta-top\"},[_c('div',{staticClass:\"meta-item\"},[_c('span',{staticClass:\"meta-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"meta-value\"},[_vm._v(_vm._s(_vm.project.description))])]),_c('div',{staticClass:\"meta-item\"},[_c('span',{staticClass:\"meta-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"meta-value\"},[_vm._v(_vm._s(_vm.project.period))])])]),_c('div',{staticClass:\"project-meta-bottom\"},[_c('div',{staticClass:\"meta-item\"},[_c('span',{staticClass:\"meta-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"status-badge\",class:_vm.statusClass(_vm.project.status)},[_vm._v(_vm._s(_vm.getStatusDisplay(_vm.project.status)))])]),_c('div',{staticClass:\"meta-item\"},[_c('span',{staticClass:\"meta-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"meta-value\"},[_vm._v(_vm._s(_vm.project.manager))])]),_c('div',{staticClass:\"meta-item\"},[_c('span',{staticClass:\"meta-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"meta-value\"},[_vm._v(_vm._s(_vm.taskCount))])]),_c('div',{staticClass:\"meta-item\"},[_c('span',{staticClass:\"meta-label\"},[_vm._v(\"\")]),_c('span',{staticClass:\"meta-value\"},[_vm._v(_vm._s(_vm.participantCount))])]),(_vm.project.tags && _vm.project.tags.length > 0)?_c('div',{staticClass:\"meta-item\"},[_c('span',{staticClass:\"meta-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"tags-container\"},_vm._l((_vm.project.tags),function(tag,index){return _c('span',{key:index,staticClass:\"tag\"},[_vm._v(_vm._s(tag))])}),0)]):_vm._e()]),_c('div',{staticClass:\"info-actions\"},[_c('button',{staticClass:\"btn primary\",on:{\"click\":_vm.goToProjectKnowledge}},[_vm._v(\"  \")]),_c('button',{staticClass:\"btn\",on:{\"click\":_vm.goToAIAssistant}},[_vm._v(\" AI \")])])]),_c('div',{staticClass:\"project-image-section\"},[_c('div',{staticClass:\"project-image-container\"},[(_vm.project.imageUrl || _vm.project.image)?_c('img',{staticClass:\"project-image\",attrs:{\"src\":_vm.project.imageUrl || _vm.project.image,\"alt\":\"\"},on:{\"load\":_vm.onImageLoad,\"error\":_vm.onImageError}}):_c('div',{staticClass:\"project-image-placeholder\"},[_c('svg',{attrs:{\"width\":\"64\",\"height\":\"64\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M21 19V5C21 3.89543 20.1046 3 19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19Z\",\"stroke\":\"#d9d9d9\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M8 10C9.10457 10 10 9.10457 10 8C10 6.89543 9.10457 6 8 6C6.89543 6 6 6.89543 6 8C6 9.10457 6.89543 10 8 10Z\",\"stroke\":\"#d9d9d9\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M3 18L8 13L14 19M14 12L21 3\",\"stroke\":\"#d9d9d9\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),(_vm.isProjectManager)?_c('div',{staticClass:\"project-image-overlay\",on:{\"click\":_vm.triggerImageUpload}},[_c('svg',{attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M12 5V19M5 12H19\",\"stroke\":\"white\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_c('span',[_vm._v(\"\")])]):_vm._e()]),_c('input',{ref:\"projectImageUpload\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.handleProjectImageUpload}})])])]),_c('div',{staticClass:\"section-card\"},[_c('div',{staticClass:\"section-header\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\"\")]),_c('div',{staticClass:\"section-actions\"},[_c('div',{staticClass:\"dropdown\",on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleTaskTypeDropdown.apply(null, arguments)}}},[_c('button',{staticClass:\"btn secondary\"},[_c('span',[_vm._v(\"\")]),_c('svg',{attrs:{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M6 9L12 15L18 9\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),(_vm.taskTypeOpen)?_c('ul',{staticClass:\"dropdown-menu\"},[_c('li',{staticClass:\"dropdown-item\",class:{ active: _vm.selectedTaskType === '' },on:{\"click\":function($event){return _vm.selectTaskType('')}}},[_vm._v(\"\")]),_c('li',{staticClass:\"dropdown-item\",class:{ active: _vm.selectedTaskType === '' },on:{\"click\":function($event){return _vm.selectTaskType('')}}},[_vm._v(\"\")]),_c('li',{staticClass:\"dropdown-item\",class:{ active: _vm.selectedTaskType === '' },on:{\"click\":function($event){return _vm.selectTaskType('')}}},[_vm._v(\"\")]),_c('li',{staticClass:\"dropdown-item\",class:{ active: _vm.selectedTaskType === '' },on:{\"click\":function($event){return _vm.selectTaskType('')}}},[_vm._v(\"\")])]):_vm._e()]),(_vm.isProjectManager)?_c('button',{staticClass:\"btn primary\",on:{\"click\":_vm.createTask}},[_vm._v(\"\")]):_vm._e()])]),(_vm.filteredTasks.length === 0)?_c('div',{staticClass:\"task-empty-state\"},[_c('div',{staticClass:\"empty-state-content\"},[_c('div',{staticClass:\"empty-state-icon\"},[_c('svg',{attrs:{\"width\":\"48\",\"height\":\"48\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M9 11H15M9 15H15M17 21H7C5.89543 21 5 20.1046 5 19V5C5 3.89543 5.89543 3 7 3H17C18.1046 3 19 3.89543 19 5V19C19 20.1046 18.1046 21 17 21Z\",\"stroke\":\"#6c757d\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('h3',{staticClass:\"empty-state-title\"},[_vm._v(\"\")]),_vm._m(0)])]):_c('div',{staticClass:\"task-grid\"},_vm._l((_vm.filteredTasks),function(task){return _c('div',{key:task.id,staticClass:\"task-card\",on:{\"click\":function($event){return _vm.openTaskDetailModal(task)}}},[_c('div',{staticClass:\"task-header\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"task-priority\",class:_vm.priorityClass(task.priority)},[_vm._v(_vm._s(task.priority))]),(_vm.isProjectManager)?_c('div',{staticClass:\"task-actions\"},[_c('div',{staticClass:\"task-status-dropdown\"},[_c('button',{staticClass:\"task-status-btn\",class:_vm.statusClass(task.status),attrs:{\"title\":\"\"},on:{\"click\":function($event){return _vm.toggleTaskStatusDropdown(task)}}},[_vm._v(\" \"+_vm._s(task.status)+\" \"),_c('svg',{attrs:{\"width\":\"12\",\"height\":\"12\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M6 9L12 15L18 9\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),(task.showStatusMenu)?_c('div',{staticClass:\"task-status-menu\"},[_c('button',{staticClass:\"status-option\",class:{ active: task.status === '' },on:{\"click\":function($event){return _vm.changeTaskStatus(task, '')}}},[_vm._v(\"\")]),_c('button',{staticClass:\"status-option\",class:{ active: task.status === '' },on:{\"click\":function($event){return _vm.changeTaskStatus(task, '')}}},[_vm._v(\"\")]),_c('button',{staticClass:\"status-option\",class:{ active: task.status === '' },on:{\"click\":function($event){return _vm.changeTaskStatus(task, '')}}},[_vm._v(\"\")])]):_vm._e()]),_c('button',{staticClass:\"task-assign-manager-btn\",attrs:{\"title\":\"\"},on:{\"click\":function($event){return _vm.openAssignTaskModal(task)}}},[_c('svg',{attrs:{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C14.0783 15.4214 13.0609 15 12 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('circle',{attrs:{\"cx\":\"8.5\",\"cy\":\"7\",\"r\":\"4\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M20 8V14M23 11H17\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('button',{staticClass:\"task-edit-btn\",attrs:{\"title\":\"\"},on:{\"click\":function($event){return _vm.editTask(task)}}},[_c('svg',{attrs:{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M18.5 2.5C18.8978 2.10218 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10218 21.5 2.5C21.8978 2.89782 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10218 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('button',{staticClass:\"task-delete-btn\",attrs:{\"title\":\"\"},on:{\"click\":function($event){return _vm.deleteTask(task.id)}}},[_c('svg',{attrs:{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M3 6H5H21M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]):_vm._e()]),_c('div',{staticClass:\"task-content\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('h3',{staticClass:\"task-title\"},[_vm._v(_vm._s(task.title))]),_c('p',{staticClass:\"task-description\"},[_vm._v(_vm._s(task.description))]),_c('div',{staticClass:\"task-meta\"},[(task.date)?_c('span',{staticClass:\"task-date\"},[_vm._v(_vm._s(task.date))]):_vm._e(),_c('span',{staticClass:\"task-creator\"},[_vm._v(\": \"+_vm._s(task.created_by_name))]),(task.assignee_name)?_c('span',{staticClass:\"task-assignee\"},[_vm._v(\" : \"+_vm._s(task.assignee_name)+\" \")]):_vm._e()])]),(task.status === '' && (!task.assignee_name || task.assignee_name === ''))?_c('div',{staticClass:\"task-assign-section\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('button',{staticClass:\"assign-btn\",on:{\"click\":function($event){return _vm.assignTask(task)}}},[_vm._v(\"\")])]):_vm._e()])}),0),(_vm.allTasks.length > 5)?_c('div',{staticClass:\"more-button-container\"},[_c('button',{staticClass:\"more-button\",on:{\"click\":_vm.openTaskListModal}},[_c('span',{staticClass:\"more-text\"},[_vm._v(\"\")]),_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M9 18L15 12L9 6\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]):_vm._e()]),_c('div',{staticClass:\"section-card\"},[_c('div',{staticClass:\"section-header\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\"\")]),(_vm.isProjectManager)?_c('div',{staticClass:\"section-actions\"},[_c('button',{staticClass:\"btn secondary\",on:{\"click\":_vm.addTeamMember}},[_vm._v(\"\")]),_c('button',{staticClass:\"btn primary\",on:{\"click\":_vm.inviteMember}},[_vm._v(\"\")])]):_vm._e()]),_c('div',{staticClass:\"team-grid\"},[_vm._l((_vm.teamMembers),function(member){return _c('div',{key:member.id,staticClass:\"member-card\"},[_c('div',{staticClass:\"member-avatar\"},[(member.avatar)?_c('img',{attrs:{\"src\":member.avatar,\"alt\":member.name}}):_c('div',{staticClass:\"avatar-placeholder\"},[_c('svg',{attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"7\",\"r\":\"4\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"member-info\"},[_c('h4',{staticClass:\"member-name\"},[_vm._v(_vm._s(member.name))]),_c('p',{staticClass:\"member-role\"},[_vm._v(_vm._s(member.role))])]),(_vm.isProjectManager)?_c('button',{staticClass:\"remove-member-btn\",attrs:{\"title\":\"\"},on:{\"click\":function($event){return _vm.removeTeamMember(member.id)}}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]):_vm._e()])}),_vm._l((_vm.inviteSlots),function(invite){return _c('div',{key:invite.id,staticClass:\"member-card invite-card\"},[_c('div',{staticClass:\"member-avatar\"},[_c('div',{staticClass:\"avatar-placeholder\"},[_c('svg',{attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"7\",\"r\":\"4\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"member-info\"},[_c('h4',{staticClass:\"member-name\"},[_vm._v(_vm._s(invite.role))]),_c('p',{staticClass:\"member-role\"},[_vm._v(\"\")])]),(_vm.isProjectManager)?_c('button',{staticClass:\"remove-member-btn\",attrs:{\"title\":\"\"},on:{\"click\":function($event){return _vm.removeInviteSlot(invite.id)}}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]):_vm._e()])})],2)])]):_vm._e()]),(_vm.taskModalOpen)?_c('div',{staticClass:\"modal-overlay\",on:{\"click\":_vm.closeTaskModal}},[_c('div',{staticClass:\"modal-content\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"modal-header\"},[_c('h3',{staticClass:\"modal-title\"},[_vm._v(\"\")]),_c('button',{staticClass:\"modal-close\",on:{\"click\":_vm.closeTaskModal}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newTask.title),expression:\"newTask.title\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\",\"maxlength\":\"50\"},domProps:{\"value\":(_vm.newTask.title)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.newTask, \"title\", $event.target.value)}}})]),_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newTask.description),expression:\"newTask.description\"}],staticClass:\"form-textarea\",attrs:{\"placeholder\":\"\",\"rows\":\"3\",\"maxlength\":\"200\"},domProps:{\"value\":(_vm.newTask.description)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.newTask, \"description\", $event.target.value)}}})]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newTask.dueDate),expression:\"newTask.dueDate\"}],staticClass:\"form-input\",attrs:{\"type\":\"date\",\"min\":_vm.today},domProps:{\"value\":(_vm.newTask.dueDate)},on:{\"change\":_vm.validateNewTaskDueDate,\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.newTask, \"dueDate\", $event.target.value)}}}),(_vm.newTask.dateError)?_c('div',{staticClass:\"error-message\"},[_vm._v(_vm._s(_vm.newTask.dateError))]):_vm._e()]),_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newTask.priority),expression:\"newTask.priority\"}],staticClass:\"form-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.newTask, \"priority\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"\")]),_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"\")]),_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"\")])])])])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.closeTaskModal}},[_vm._v(\"\")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\",\"disabled\":!_vm.newTask.title.trim() || _vm.isCreatingTask},on:{\"click\":_vm.saveNewTask}},[_vm._v(\" \"+_vm._s(_vm.isCreatingTask ? '...' : '')+\" \")])])])]):_vm._e(),(_vm.editProjectModalOpen)?_c('div',{staticClass:\"modal-overlay\",on:{\"click\":_vm.closeEditProjectModal}},[_c('div',{staticClass:\"modal-content\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"modal-header\"},[_c('h3',{staticClass:\"modal-title\"},[_vm._v(\"\")]),_c('button',{staticClass:\"modal-close\",on:{\"click\":_vm.closeEditProjectModal}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editProjectData.name),expression:\"editProjectData.name\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\",\"maxlength\":\"100\"},domProps:{\"value\":(_vm.editProjectData.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editProjectData, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editProjectData.description),expression:\"editProjectData.description\"}],staticClass:\"form-textarea\",attrs:{\"placeholder\":\"\",\"rows\":\"3\",\"maxlength\":\"500\"},domProps:{\"value\":(_vm.editProjectData.description)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editProjectData, \"description\", $event.target.value)}}})]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editProjectData.startDate),expression:\"editProjectData.startDate\"}],staticClass:\"form-input\",attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.editProjectData.startDate)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editProjectData, \"startDate\", $event.target.value)}}})]),_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editProjectData.endDate),expression:\"editProjectData.endDate\"}],staticClass:\"form-input\",attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.editProjectData.endDate)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editProjectData, \"endDate\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editProjectData.visibility),expression:\"editProjectData.visibility\"}],staticClass:\"form-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.editProjectData, \"visibility\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"PUBLIC\"}},[_vm._v(\"\")]),_c('option',{attrs:{\"value\":\"PRIVATE\"}},[_vm._v(\"\")]),_c('option',{attrs:{\"value\":\"TEAM\"}},[_vm._v(\"\")])])]),_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editProjectData.status),expression:\"editProjectData.status\"}],staticClass:\"form-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.editProjectData, \"status\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"PLANNING\"}},[_vm._v(\"\")]),_c('option',{attrs:{\"value\":\"ONGOING\"}},[_vm._v(\"\")]),_c('option',{attrs:{\"value\":\"COMPLETED\"}},[_vm._v(\"\")]),_c('option',{attrs:{\"value\":\"ARCHIVED\"}},[_vm._v(\"\")])])])])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.closeEditProjectModal}},[_vm._v(\"\")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\",\"disabled\":!_vm.editProjectData.name.trim()},on:{\"click\":_vm.saveProjectUpdate}},[_vm._v(\"  \")])])])]):_vm._e(),(_vm.taskListModalOpen)?_c('div',{staticClass:\"modal-overlay\",on:{\"click\":_vm.closeTaskListModal}},[_c('div',{staticClass:\"modal-content task-list-modal\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"modal-header\"},[_c('h3',{staticClass:\"modal-title\"},[_vm._v(\"\")]),_c('button',{staticClass:\"modal-close\",on:{\"click\":_vm.closeTaskListModal}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"task-list-container\"},_vm._l((_vm.allFilteredTasks),function(task){return _c('div',{key:task.id,staticClass:\"task-list-item\",on:{\"click\":function($event){return _vm.openTaskDetailModal(task)}}},[_c('div',{staticClass:\"task-item-header\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"task-priority\",class:_vm.priorityClass(task.priority)},[_vm._v(_vm._s(task.priority))]),(_vm.isProjectManager)?_c('div',{staticClass:\"task-actions\"},[_c('div',{staticClass:\"task-status-dropdown\"},[_c('button',{staticClass:\"task-status-btn\",class:_vm.statusClass(task.status),attrs:{\"title\":\"\"},on:{\"click\":function($event){return _vm.toggleTaskStatusDropdown(task)}}},[_vm._v(\" \"+_vm._s(task.status)+\" \"),_c('svg',{attrs:{\"width\":\"12\",\"height\":\"12\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M6 9L12 15L18 9\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),(task.showStatusMenu)?_c('div',{staticClass:\"task-status-menu\"},[_c('button',{staticClass:\"status-option\",class:{ active: task.status === '' },on:{\"click\":function($event){return _vm.changeTaskStatus(task, '')}}},[_vm._v(\"\")]),_c('button',{staticClass:\"status-option\",class:{ active: task.status === '' },on:{\"click\":function($event){return _vm.changeTaskStatus(task, '')}}},[_vm._v(\"\")]),_c('button',{staticClass:\"status-option\",class:{ active: task.status === '' },on:{\"click\":function($event){return _vm.changeTaskStatus(task, '')}}},[_vm._v(\"\")])]):_vm._e()]),_c('button',{staticClass:\"task-edit-btn\",attrs:{\"title\":\"\"},on:{\"click\":function($event){return _vm.editTask(task)}}},[_c('svg',{attrs:{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M18.5 2.5C18.8978 2.10218 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10218 21.5 2.5C21.8978 2.89782 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10218 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('button',{staticClass:\"task-delete-btn\",attrs:{\"title\":\"\"},on:{\"click\":function($event){return _vm.deleteTask(task.id)}}},[_c('svg',{attrs:{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M3 6H5H21M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]):_vm._e()]),_c('div',{staticClass:\"task-item-content\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('h4',{staticClass:\"task-item-title\"},[_vm._v(_vm._s(task.title))]),_c('p',{staticClass:\"task-item-description\"},[_vm._v(_vm._s(task.description))]),_c('div',{staticClass:\"task-item-meta\"},[(task.date)?_c('span',{staticClass:\"task-date\"},[_vm._v(_vm._s(task.date))]):_vm._e(),_c('span',{staticClass:\"task-creator\"},[_vm._v(\": \"+_vm._s(task.created_by_name))]),(task.assignee_name)?_c('span',{staticClass:\"task-assignee\"},[_vm._v(\" : \"+_vm._s(task.assignee_name)+\" \")]):_vm._e()])]),(task.status === '' && (!task.assignee_name || task.assignee_name === ''))?_c('div',{staticClass:\"task-item-assign\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('button',{staticClass:\"assign-btn\",on:{\"click\":function($event){return _vm.assignTask(task)}}},[_vm._v(\"\")])]):_vm._e()])}),0)])])]):_vm._e(),(_vm.editTaskModalOpen)?_c('div',{staticClass:\"modal-overlay\",on:{\"click\":_vm.closeEditTaskModal}},[_c('div',{staticClass:\"modal-content task-modal\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"modal-header\"},[_c('h3',[_vm._v(\"\")]),_c('button',{staticClass:\"modal-close\",on:{\"click\":_vm.closeEditTaskModal}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editTaskData.title),expression:\"editTaskData.title\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.editTaskData.title)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editTaskData, \"title\", $event.target.value)}}})]),_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editTaskData.description),expression:\"editTaskData.description\"}],staticClass:\"form-textarea\",attrs:{\"placeholder\":\"\",\"rows\":\"3\"},domProps:{\"value\":(_vm.editTaskData.description)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editTaskData, \"description\", $event.target.value)}}})]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editTaskData.dueDate),expression:\"editTaskData.dueDate\"}],staticClass:\"form-input\",attrs:{\"type\":\"date\",\"min\":_vm.today},domProps:{\"value\":(_vm.editTaskData.dueDate)},on:{\"change\":_vm.validateEditTaskDueDate,\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editTaskData, \"dueDate\", $event.target.value)}}}),(_vm.editTaskData.dateError)?_c('div',{staticClass:\"error-message\"},[_vm._v(_vm._s(_vm.editTaskData.dateError))]):_vm._e()]),_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editTaskData.priority),expression:\"editTaskData.priority\"}],staticClass:\"form-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.editTaskData, \"priority\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"\")]),_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"\")]),_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"\")])])])])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.closeEditTaskModal}},[_vm._v(\"\")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\",\"disabled\":!_vm.editTaskData.title.trim()},on:{\"click\":_vm.saveEditTask}},[_vm._v(\"  \")])])])]):_vm._e(),(_vm.inviteMemberModalOpen)?_c('div',{staticClass:\"modal-overlay\",on:{\"click\":_vm.closeInviteMemberModal}},[_c('div',{staticClass:\"modal-content invite-member-modal\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"modal-header\"},[_c('h3',{staticClass:\"modal-title\"},[_vm._v(\"\")]),_c('button',{staticClass:\"modal-close\",on:{\"click\":_vm.closeInviteMemberModal}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"search-section\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"search-input-wrapper\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userSearchKeyword),expression:\"userSearchKeyword\"}],staticClass:\"form-input search-input\",attrs:{\"type\":\"text\",\"placeholder\":\"ID\"},domProps:{\"value\":(_vm.userSearchKeyword)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.userSearchKeyword=$event.target.value},_vm.handleSearchInput]}}),_c('button',{staticClass:\"search-btn\",attrs:{\"disabled\":_vm.isSearching},on:{\"click\":_vm.searchUsers}},[(!_vm.isSearching)?_c('svg',{attrs:{\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{attrs:{\"cx\":\"11\",\"cy\":\"11\",\"r\":\"8\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M21 21L16.65 16.65\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]):_c('span',{staticClass:\"loading-spinner-small\"})])])]),(_vm.searchedUsers.length > 0)?_c('div',{staticClass:\"search-results\"},[_c('div',{staticClass:\"search-results-header\"},[_c('span',{staticClass:\"results-count\"},[_vm._v(\" \"+_vm._s(_vm.searchedUsers.length)+\" \")]),(_vm.selectedUserIds.length > 0)?_c('span',{staticClass:\"selected-count\"},[_vm._v(\" \"+_vm._s(_vm.selectedUserIds.length)+\" \")]):_vm._e()]),_c('div',{staticClass:\"user-list\"},_vm._l((_vm.searchedUsers),function(user){return _c('div',{key:user.id || user.userId,staticClass:\"user-item\",class:{ 'user-selected': _vm.selectedUserIds.includes(user.id || user.userId) },on:{\"click\":function($event){return _vm.selectUser(user)}}},[_c('div',{staticClass:\"user-avatar\"},[(user.avatarUrl || user.avatar)?_c('img',{attrs:{\"src\":user.avatarUrl || user.avatar,\"alt\":\"\"}}):_c('div',{staticClass:\"avatar-placeholder\"},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"7\",\"r\":\"4\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"user-info\"},[_c('div',{staticClass:\"user-name\"},[_vm._v(_vm._s(user.name || user.username))]),_c('div',{staticClass:\"user-email\"},[_vm._v(_vm._s(user.email || 'ID: ' + (user.id || user.userId)))])]),(_vm.selectedUserIds.includes(user.id || user.userId))?_c('div',{staticClass:\"user-select-indicator\"},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M20 6L9 17L4 12\",\"stroke\":\"#4CAF50\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]):_vm._e()])}),0)]):(_vm.hasSearched && !_vm.isSearching)?_c('div',{staticClass:\"empty-state\"},[_c('svg',{attrs:{\"width\":\"64\",\"height\":\"64\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{attrs:{\"cx\":\"11\",\"cy\":\"11\",\"r\":\"8\",\"stroke\":\"#d9d9d9\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M21 21L16.65 16.65\",\"stroke\":\"#d9d9d9\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_c('p',[_vm._v(\"\")])]):_c('div',{staticClass:\"search-hint\"},[_c('svg',{attrs:{\"width\":\"48\",\"height\":\"48\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{attrs:{\"cx\":\"11\",\"cy\":\"11\",\"r\":\"8\",\"stroke\":\"#bbb\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M21 21L16.65 16.65\",\"stroke\":\"#bbb\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]),_c('p',[_vm._v(\"ID\")])])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn secondary\",on:{\"click\":_vm.closeInviteMemberModal}},[_vm._v(\"\")]),_c('button',{staticClass:\"btn primary\",attrs:{\"disabled\":_vm.selectedUserIds.length === 0 || _vm.isInviting},on:{\"click\":_vm.confirmInvite}},[(!_vm.isInviting)?_c('span',[_vm._v(\"\"+_vm._s(_vm.selectedUserIds.length > 0 ? ' (' + _vm.selectedUserIds.length + ')' : ''))]):_c('span',[_vm._v(\"...\")])])])])]):_vm._e(),(_vm.taskDetailModalOpen && _vm.selectedTask)?_c('div',{staticClass:\"modal-overlay\",on:{\"click\":_vm.closeTaskDetailModal}},[_c('div',{staticClass:\"modal-content task-detail-modal\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"modal-header\"},[_c('h3',{staticClass:\"modal-title\"},[_vm._v(\"\")]),_c('button',{staticClass:\"modal-close\",on:{\"click\":_vm.closeTaskDetailModal}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"modal-body task-detail-body\"},[_c('div',{staticClass:\"task-detail-section\"},[_c('label',{staticClass:\"task-detail-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"task-detail-value\"},[_vm._v(_vm._s(_vm.selectedTask.title))])]),_c('div',{staticClass:\"task-detail-section\"},[_c('label',{staticClass:\"task-detail-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"task-detail-value task-description-scroll\"},[_vm._v(_vm._s(_vm.selectedTask.description || ''))])]),_c('div',{staticClass:\"task-detail-section\"},[_c('label',{staticClass:\"task-detail-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"task-detail-value\"},[_c('span',{staticClass:\"task-priority-badge\",class:_vm.priorityClass(_vm.selectedTask.priority)},[_vm._v(_vm._s(_vm.selectedTask.priority))])])]),_c('div',{staticClass:\"task-detail-section\"},[_c('label',{staticClass:\"task-detail-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"task-detail-value\"},[_c('span',{staticClass:\"task-status-badge\",class:_vm.statusClass(_vm.selectedTask.status)},[_vm._v(_vm._s(_vm.selectedTask.status))])])]),(_vm.selectedTask.date)?_c('div',{staticClass:\"task-detail-section\"},[_c('label',{staticClass:\"task-detail-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"task-detail-value\"},[_vm._v(_vm._s(_vm.selectedTask.date))])]):_vm._e(),_c('div',{staticClass:\"task-detail-section\"},[_c('label',{staticClass:\"task-detail-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"task-detail-value\"},[_vm._v(_vm._s(_vm.selectedTask.created_by_name || ''))])]),(_vm.selectedTask.assignee_name)?_c('div',{staticClass:\"task-detail-section\"},[_c('label',{staticClass:\"task-detail-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"task-detail-value\"},[_vm._v(_vm._s(_vm.selectedTask.assignee_name))])]):_vm._e()]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.closeTaskDetailModal}},[_vm._v(\"\")])])])]):_vm._e()]),(_vm.assignTaskModalOpen && _vm.taskToAssign)?_c('div',{staticClass:\"modal-overlay\",on:{\"click\":_vm.closeAssignTaskModal}},[_c('div',{staticClass:\"modal-content assign-task-modal\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"modal-header\"},[_c('h3',{staticClass:\"modal-title\"},[_vm._v(\"\")]),_c('button',{staticClass:\"modal-close\",on:{\"click\":_vm.closeAssignTaskModal}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6L18 18\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"assign-task-info\"},[_c('h4',{staticClass:\"assign-task-title\"},[_vm._v(_vm._s(_vm.taskToAssign.title))]),_c('p',{staticClass:\"assign-task-description\"},[_vm._v(_vm._s(_vm.taskToAssign.description || ''))])]),_c('div',{staticClass:\"form-field\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"\")]),_c('div',{staticClass:\"member-select-list\"},_vm._l((_vm.teamMembers),function(member){return _c('div',{key:member.id,staticClass:\"member-select-item\",class:{ selected: _vm.selectedAssigneeId === member.id },on:{\"click\":function($event){_vm.selectedAssigneeId = member.id}}},[_c('div',{staticClass:\"member-select-avatar\"},[(member.avatar)?_c('img',{attrs:{\"src\":member.avatar,\"alt\":member.name}}):_c('div',{staticClass:\"avatar-placeholder\"},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"7\",\"r\":\"4\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"member-select-info\"},[_c('div',{staticClass:\"member-select-name\"},[_vm._v(_vm._s(member.name))]),_c('div',{staticClass:\"member-select-role\"},[_vm._v(_vm._s(member.role))])]),(_vm.selectedAssigneeId === member.id)?_c('div',{staticClass:\"member-select-indicator\"},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M20 6L9 17L4 12\",\"stroke\":\"#4CAF50\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]):_vm._e()])}),0),(_vm.teamMembers.length === 0)?_c('div',{staticClass:\"empty-members-hint\"},[_c('p',[_vm._v(\"\")])]):_vm._e()])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn secondary\",on:{\"click\":_vm.closeAssignTaskModal}},[_vm._v(\"\")]),_c('button',{staticClass:\"btn primary\",attrs:{\"disabled\":!_vm.selectedAssigneeId},on:{\"click\":_vm.confirmAssignTask}},[_vm._v(\"\")])])])]):_vm._e(),(_vm.showToast)?_c('div',{staticClass:\"success-toast\"},[_vm._v(\" \"+_vm._s(_vm.toastMessage)+\" \")]):_vm._e(),(_vm.showCropModal)?_c('div',{staticClass:\"crop-modal-overlay\"},[_c('div',{staticClass:\"crop-modal-content\",on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._m(1),_c('div',{staticClass:\"crop-modal-body\"},[_c('div',{staticClass:\"crop-container\"},[_c('canvas',{ref:\"cropCanvas\",staticClass:\"crop-canvas\"}),_c('div',{ref:\"cropOverlay\",staticClass:\"crop-overlay\"},[_c('div',{ref:\"cropSelection\",staticClass:\"crop-selection\"},[_c('div',{staticClass:\"resize-handle resize-handle-nw\",attrs:{\"data-handle\":\"nw\"}}),_c('div',{staticClass:\"resize-handle resize-handle-ne\",attrs:{\"data-handle\":\"ne\"}}),_c('div',{staticClass:\"resize-handle resize-handle-sw\",attrs:{\"data-handle\":\"sw\"}}),_c('div',{staticClass:\"resize-handle resize-handle-se\",attrs:{\"data-handle\":\"se\"}})])])])]),_c('div',{staticClass:\"crop-modal-footer\"},[_c('button',{staticClass:\"btn-cancel\",on:{\"click\":_vm.closeCropModal}},[_vm._v(\"\")]),_c('button',{staticClass:\"btn-confirm\",on:{\"click\":_vm.applyCrop}},[_vm._v(\"\")])])])]):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('p',{staticClass:\"empty-state-message\"},[_vm._v(\" \"),_c('span',{staticClass:\"highlight-text\"},[_vm._v(\"\\\"\\\"\")]),_vm._v(\" \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"crop-modal-header\"},[_c('h3',[_vm._v(\"\")]),_c('p',{staticClass:\"crop-hint\"},[_vm._v(\"\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"project-detail-container\">\r\n    <!--  -->\r\n    <div v-if=\"isLoading\" class=\"loading-container\">\r\n      <div class=\"loading-spinner\"></div>\r\n      <p class=\"loading-text\">...</p>\r\n    </div>\r\n    \r\n    <!--  -->\r\n    <div v-else>\r\n    <!--  -->\r\n    <div class=\"top-header\">\r\n      <div class=\"header-left\">\r\n        <button class=\"back-btn\" @click=\"goBack\" aria-label=\"\">\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M19 12H5M12 19L5 12L12 5\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </button>\r\n        <span class=\"page-title\"></span>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div class=\"main-content\">\r\n      <!--  -->\r\n      <div v-if=\"!project\" class=\"loading-container\">\r\n        <div class=\"loading-spinner\"></div>\r\n        <p>...</p>\r\n      </div>\r\n      \r\n      <!--  -->\r\n      <div v-if=\"project\">\r\n      <!--  -->\r\n      <div class=\"project-card\">\r\n        <!--  -->\r\n        <div class=\"project-header-top\">\r\n          <h1 class=\"project-title\">{{ project.title }}</h1>\r\n          <div class=\"project-actions\" v-if=\"isProjectManager\">\r\n            <button class=\"btn secondary\" @click=\"editProject\">\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                <path d=\"M18.5 2.5C18.8978 2.10218 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10218 21.5 2.5C21.8978 2.89782 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10218 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n              \r\n            </button>\r\n            <button class=\"btn btn-danger\" @click=\"deleteProject\">\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M3 6H5H21M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n              \r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        <!--  -->\r\n        <div class=\"project-body\">\r\n          <div class=\"project-info\">\r\n            <!--  -->\r\n            <div class=\"project-meta-top\">\r\n              <div class=\"meta-item\">\r\n                <span class=\"meta-label\"></span>\r\n                <span class=\"meta-value\">{{ project.description }}</span>\r\n              </div>\r\n              <div class=\"meta-item\">\r\n                <span class=\"meta-label\"></span>\r\n                <span class=\"meta-value\">{{ project.period }}</span>\r\n              </div>\r\n            </div>\r\n            \r\n            <!--  -->\r\n            <div class=\"project-meta-bottom\">\r\n              <div class=\"meta-item\">\r\n                <span class=\"meta-label\"></span>\r\n                <span class=\"status-badge\" :class=\"statusClass(project.status)\">{{ getStatusDisplay(project.status) }}</span>\r\n              </div>\r\n              <div class=\"meta-item\">\r\n                <span class=\"meta-label\"></span>\r\n                <span class=\"meta-value\">{{ project.manager }}</span>\r\n              </div>\r\n              <div class=\"meta-item\">\r\n                <span class=\"meta-label\"></span>\r\n                <span class=\"meta-value\">{{ taskCount }}</span>\r\n              </div>\r\n              <div class=\"meta-item\">\r\n                <span class=\"meta-label\"></span>\r\n                <span class=\"meta-value\">{{ participantCount }}</span>\r\n              </div>\r\n              <div class=\"meta-item\" v-if=\"project.tags && project.tags.length > 0\">\r\n                <span class=\"meta-label\"></span>\r\n                <div class=\"tags-container\">\r\n                  <span v-for=\"(tag, index) in project.tags\" :key=\"index\" class=\"tag\">{{ tag }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <!--  -->\r\n            <div class=\"info-actions\">\r\n              <button\r\n                class=\"btn primary\"\r\n                @click=\"goToProjectKnowledge\"\r\n              >\r\n                \r\n              </button>\r\n              <button\r\n                class=\"btn\"\r\n                @click=\"goToAIAssistant\"\r\n              >\r\n                AI\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          <!--  -->\r\n          <div class=\"project-image-section\">\r\n            <div class=\"project-image-container\">\r\n              <img \r\n                v-if=\"project.imageUrl || project.image\" \r\n                :src=\"project.imageUrl || project.image\" \r\n                alt=\"\" \r\n                class=\"project-image\"\r\n                @load=\"onImageLoad\"\r\n                @error=\"onImageError\"\r\n              />\r\n              <div v-else class=\"project-image-placeholder\">\r\n                <svg width=\"64\" height=\"64\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M21 19V5C21 3.89543 20.1046 3 19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19Z\" stroke=\"#d9d9d9\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  <path d=\"M8 10C9.10457 10 10 9.10457 10 8C10 6.89543 9.10457 6 8 6C6.89543 6 6 6.89543 6 8C6 9.10457 6.89543 10 8 10Z\" stroke=\"#d9d9d9\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  <path d=\"M3 18L8 13L14 19M14 12L21 3\" stroke=\"#d9d9d9\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n              </div>\r\n              <!--  -->\r\n              <div v-if=\"isProjectManager\" class=\"project-image-overlay\" @click=\"triggerImageUpload\">\r\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M12 5V19M5 12H19\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n                <span></span>\r\n              </div>\r\n            </div>\r\n            <!--  -->\r\n            <input \r\n              ref=\"projectImageUpload\" \r\n              type=\"file\" \r\n              accept=\"image/*\" \r\n              @change=\"handleProjectImageUpload\" \r\n              style=\"display: none\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!--  -->\r\n      <div class=\"section-card\">\r\n        <div class=\"section-header\">\r\n          <h2 class=\"section-title\"></h2>\r\n          <div class=\"section-actions\">\r\n            <div class=\"dropdown\" @click.stop=\"toggleTaskTypeDropdown\">\r\n              <button class=\"btn secondary\">\r\n                <span></span>\r\n                <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M6 9L12 15L18 9\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n              </button>\r\n              <ul class=\"dropdown-menu\" v-if=\"taskTypeOpen\">\r\n                <li class=\"dropdown-item\" :class=\"{ active: selectedTaskType === '' }\" @click=\"selectTaskType('')\"></li>\r\n                <li class=\"dropdown-item\" :class=\"{ active: selectedTaskType === '' }\" @click=\"selectTaskType('')\"></li>\r\n                <li class=\"dropdown-item\" :class=\"{ active: selectedTaskType === '' }\" @click=\"selectTaskType('')\"></li>\r\n                <li class=\"dropdown-item\" :class=\"{ active: selectedTaskType === '' }\" @click=\"selectTaskType('')\"></li>\r\n              </ul>\r\n            </div>\r\n            <button v-if=\"isProjectManager\" class=\"btn primary\" @click=\"createTask\"></button>\r\n          </div>\r\n        </div>\r\n        <!--  -->\r\n        <div v-if=\"filteredTasks.length === 0\" class=\"task-empty-state\">\r\n          <div class=\"empty-state-content\">\r\n            <div class=\"empty-state-icon\">\r\n              <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M9 11H15M9 15H15M17 21H7C5.89543 21 5 20.1046 5 19V5C5 3.89543 5.89543 3 7 3H17C18.1046 3 19 3.89543 19 5V19C19 20.1046 18.1046 21 17 21Z\" stroke=\"#6c757d\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n            </div>\r\n            <h3 class=\"empty-state-title\"></h3>\r\n            <p class=\"empty-state-message\">\r\n              <span class=\"highlight-text\">\"\"</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        \r\n        <!--  -->\r\n        <div v-else class=\"task-grid\">\r\n          <div v-for=\"task in filteredTasks\" :key=\"task.id\" class=\"task-card\" @click=\"openTaskDetailModal(task)\">\r\n            <div class=\"task-header\" @click.stop>\r\n            <div class=\"task-priority\" :class=\"priorityClass(task.priority)\">{{ task.priority }}</div>\r\n              <div class=\"task-actions\" v-if=\"isProjectManager\">\r\n                <div class=\"task-status-dropdown\">\r\n                  <button class=\"task-status-btn\" @click=\"toggleTaskStatusDropdown(task)\" :class=\"statusClass(task.status)\" title=\"\">\r\n                    {{ task.status }}\r\n                    <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M6 9L12 15L18 9\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    </svg>\r\n                  </button>\r\n                  <div class=\"task-status-menu\" v-if=\"task.showStatusMenu\">\r\n                    <!--  \"\" -->\r\n                    <button @click=\"changeTaskStatus(task, '')\" class=\"status-option\" :class=\"{ active: task.status === '' }\"></button>\r\n                    <button @click=\"changeTaskStatus(task, '')\" class=\"status-option\" :class=\"{ active: task.status === '' }\"></button>\r\n                    <button @click=\"changeTaskStatus(task, '')\" class=\"status-option\" :class=\"{ active: task.status === '' }\"></button>\r\n                  </div>\r\n                </div>\r\n                <button class=\"task-assign-manager-btn\" @click=\"openAssignTaskModal(task)\" title=\"\">\r\n                  <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C14.0783 15.4214 13.0609 15 12 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    <circle cx=\"8.5\" cy=\"7\" r=\"4\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    <path d=\"M20 8V14M23 11H17\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  </svg>\r\n                </button>\r\n                <button class=\"task-edit-btn\" @click=\"editTask(task)\" title=\"\">\r\n                  <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    <path d=\"M18.5 2.5C18.8978 2.10218 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10218 21.5 2.5C21.8978 2.89782 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10218 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  </svg>\r\n                </button>\r\n                <button class=\"task-delete-btn\" @click=\"deleteTask(task.id)\" title=\"\">\r\n                  <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M3 6H5H21M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div class=\"task-content\" @click.stop>\r\n              <h3 class=\"task-title\">{{ task.title }}</h3>\r\n              <p class=\"task-description\">{{ task.description }}</p>\r\n              <div class=\"task-meta\">\r\n                <span class=\"task-date\" v-if=\"task.date\">{{ task.date }}</span>\r\n                <span class=\"task-creator\">: {{ task.created_by_name }}</span>\r\n                <span v-if=\"task.assignee_name\" class=\"task-assignee\">\r\n                  : {{ task.assignee_name }}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div v-if=\"task.status === '' && (!task.assignee_name || task.assignee_name === '')\" class=\"task-assign-section\" @click.stop>\r\n              <button @click=\"assignTask(task)\" class=\"assign-btn\"></button>\r\n          </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <!--  -->\r\n        <div v-if=\"allTasks.length > 5\" class=\"more-button-container\">\r\n          <button class=\"more-button\" @click=\"openTaskListModal\">\r\n            <span class=\"more-text\"></span>\r\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M9 18L15 12L9 6\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!--  -->\r\n      <div class=\"section-card\">\r\n        <div class=\"section-header\">\r\n          <h2 class=\"section-title\"></h2>\r\n          <div class=\"section-actions\" v-if=\"isProjectManager\">\r\n            <button class=\"btn secondary\" @click=\"addTeamMember\"></button>\r\n            <button class=\"btn primary\" @click=\"inviteMember\"></button>\r\n        </div>\r\n        </div>\r\n        \r\n        \r\n        <div class=\"team-grid\">\r\n          <div v-for=\"member in teamMembers\" :key=\"member.id\" class=\"member-card\">\r\n            <div class=\"member-avatar\">\r\n              <img v-if=\"member.avatar\" :src=\"member.avatar\" :alt=\"member.name\" />\r\n              <div v-else class=\"avatar-placeholder\">\r\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  <circle cx=\"12\" cy=\"7\" r=\"4\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n            <div class=\"member-info\">\r\n              <h4 class=\"member-name\">{{ member.name }}</h4>\r\n              <p class=\"member-role\">{{ member.role }}</p>\r\n            </div>\r\n            <button v-if=\"isProjectManager\" class=\"remove-member-btn\" @click=\"removeTeamMember(member.id)\" title=\"\">\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n          <!--  -->\r\n          <div v-for=\"invite in inviteSlots\" :key=\"invite.id\" class=\"member-card invite-card\">\r\n            <div class=\"member-avatar\">\r\n              <div class=\"avatar-placeholder\">\r\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  <circle cx=\"12\" cy=\"7\" r=\"4\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n            <div class=\"member-info\">\r\n              <h4 class=\"member-name\">{{ invite.role }}</h4>\r\n              <p class=\"member-role\"></p>\r\n            </div>\r\n            <button v-if=\"isProjectManager\" class=\"remove-member-btn\" @click=\"removeInviteSlot(invite.id)\" title=\"\">\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"taskModalOpen\" class=\"modal-overlay\" @click=\"closeTaskModal\">\r\n      <div class=\"modal-content\" @click.stop>\r\n        <div class=\"modal-header\">\r\n          <h3 class=\"modal-title\"></h3>\r\n          <button class=\"modal-close\" @click=\"closeTaskModal\">\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \r\n        <div class=\"modal-body\">\r\n          <div class=\"form-field\">\r\n            <label class=\"form-label\"></label>\r\n            <input \r\n              v-model=\"newTask.title\" \r\n              type=\"text\" \r\n              class=\"form-input\" \r\n              placeholder=\"\"\r\n              maxlength=\"50\"\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-field\">\r\n            <label class=\"form-label\"></label>\r\n            <textarea \r\n              v-model=\"newTask.description\" \r\n              class=\"form-textarea\" \r\n              placeholder=\"\"\r\n              rows=\"3\"\r\n              maxlength=\"200\"\r\n            ></textarea>\r\n          </div>\r\n          \r\n          <div class=\"form-row\">\r\n            <div class=\"form-field\">\r\n              <label class=\"form-label\"></label>\r\n              <input \r\n                v-model=\"newTask.dueDate\" \r\n                type=\"date\" \r\n                :min=\"today\"\r\n                class=\"form-input\"\r\n                @change=\"validateNewTaskDueDate\"\r\n              />\r\n              <div v-if=\"newTask.dateError\" class=\"error-message\">{{ newTask.dateError }}</div>\r\n            </div>\r\n            \r\n            <div class=\"form-field\">\r\n              <label class=\"form-label\"></label>\r\n              <select v-model=\"newTask.priority\" class=\"form-select\">\r\n                <option value=\"\"></option>\r\n                <option value=\"\"></option>\r\n                <option value=\"\"></option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" @click=\"closeTaskModal\" class=\"btn btn-secondary\"></button>\r\n          <button type=\"button\" @click=\"saveNewTask\" class=\"btn btn-primary\" :disabled=\"!newTask.title.trim() || isCreatingTask\">\r\n            {{ isCreatingTask ? '...' : '' }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"editProjectModalOpen\" class=\"modal-overlay\" @click=\"closeEditProjectModal\">\r\n      <div class=\"modal-content\" @click.stop>\r\n        <div class=\"modal-header\">\r\n          <h3 class=\"modal-title\"></h3>\r\n          <button class=\"modal-close\" @click=\"closeEditProjectModal\">\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \r\n        <div class=\"modal-body\">\r\n          <div class=\"form-field\">\r\n            <label class=\"form-label\"></label>\r\n            <input \r\n              v-model=\"editProjectData.name\" \r\n              type=\"text\" \r\n              class=\"form-input\" \r\n              placeholder=\"\"\r\n              maxlength=\"100\"\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-field\">\r\n            <label class=\"form-label\"></label>\r\n            <textarea \r\n              v-model=\"editProjectData.description\" \r\n              class=\"form-textarea\" \r\n              placeholder=\"\"\r\n              rows=\"3\"\r\n              maxlength=\"500\"\r\n            ></textarea>\r\n          </div>\r\n          \r\n          <div class=\"form-row\">\r\n            <div class=\"form-field\">\r\n              <label class=\"form-label\"></label>\r\n              <input \r\n                v-model=\"editProjectData.startDate\" \r\n                type=\"date\" \r\n                class=\"form-input\"\r\n              />\r\n            </div>\r\n            \r\n            <div class=\"form-field\">\r\n              <label class=\"form-label\"></label>\r\n              <input \r\n                v-model=\"editProjectData.endDate\" \r\n                type=\"date\" \r\n                class=\"form-input\"\r\n              />\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"form-row\">\r\n            <div class=\"form-field\">\r\n              <label class=\"form-label\"></label>\r\n              <select v-model=\"editProjectData.visibility\" class=\"form-select\">\r\n                <option value=\"PUBLIC\"></option>\r\n                <option value=\"PRIVATE\"></option>\r\n                <option value=\"TEAM\"></option>\r\n              </select>\r\n            </div>\r\n            \r\n            <div class=\"form-field\">\r\n              <label class=\"form-label\"></label>\r\n              <select v-model=\"editProjectData.status\" class=\"form-select\">\r\n                <option value=\"PLANNING\"></option>\r\n                <option value=\"ONGOING\"></option>\r\n                <option value=\"COMPLETED\"></option>\r\n                <option value=\"ARCHIVED\"></option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" @click=\"closeEditProjectModal\" class=\"btn btn-secondary\"></button>\r\n          <button type=\"button\" @click=\"saveProjectUpdate\" class=\"btn btn-primary\" :disabled=\"!editProjectData.name.trim()\">\r\n            \r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"taskListModalOpen\" class=\"modal-overlay\" @click=\"closeTaskListModal\">\r\n      <div class=\"modal-content task-list-modal\" @click.stop>\r\n        <div class=\"modal-header\">\r\n          <h3 class=\"modal-title\"></h3>\r\n          <button class=\"modal-close\" @click=\"closeTaskListModal\">\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \r\n        <div class=\"modal-body\">\r\n          <div class=\"task-list-container\">\r\n            <div v-for=\"task in allFilteredTasks\" :key=\"task.id\" class=\"task-list-item\" @click=\"openTaskDetailModal(task)\">\r\n              <div class=\"task-item-header\" @click.stop>\r\n                <div class=\"task-priority\" :class=\"priorityClass(task.priority)\">{{ task.priority }}</div>\r\n                <div class=\"task-actions\" v-if=\"isProjectManager\">\r\n                  <div class=\"task-status-dropdown\">\r\n                    <button class=\"task-status-btn\" @click=\"toggleTaskStatusDropdown(task)\" :class=\"statusClass(task.status)\" title=\"\">\r\n                      {{ task.status }}\r\n                      <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M6 9L12 15L18 9\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                      </svg>\r\n                    </button>\r\n                    <div class=\"task-status-menu\" v-if=\"task.showStatusMenu\">\r\n                      <!--  \"\" -->\r\n                      <button @click=\"changeTaskStatus(task, '')\" class=\"status-option\" :class=\"{ active: task.status === '' }\"></button>\r\n                      <button @click=\"changeTaskStatus(task, '')\" class=\"status-option\" :class=\"{ active: task.status === '' }\"></button>\r\n                      <button @click=\"changeTaskStatus(task, '')\" class=\"status-option\" :class=\"{ active: task.status === '' }\"></button>\r\n                    </div>\r\n                  </div>\r\n                  <button class=\"task-edit-btn\" @click=\"editTask(task)\" title=\"\">\r\n                    <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                      <path d=\"M18.5 2.5C18.8978 2.10218 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10218 21.5 2.5C21.8978 2.89782 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10218 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    </svg>\r\n                  </button>\r\n                  <button class=\"task-delete-btn\" @click=\"deleteTask(task.id)\" title=\"\">\r\n                    <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M3 6H5H21M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div class=\"task-item-content\" @click.stop>\r\n                <h4 class=\"task-item-title\">{{ task.title }}</h4>\r\n                <p class=\"task-item-description\">{{ task.description }}</p>\r\n                <div class=\"task-item-meta\">\r\n                  <span class=\"task-date\" v-if=\"task.date\">{{ task.date }}</span>\r\n                  <span class=\"task-creator\">: {{ task.created_by_name }}</span>\r\n                  <span v-if=\"task.assignee_name\" class=\"task-assignee\">\r\n                    : {{ task.assignee_name }}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div v-if=\"task.status === '' && (!task.assignee_name || task.assignee_name === '')\" class=\"task-item-assign\" @click.stop>\r\n                <button @click=\"assignTask(task)\" class=\"assign-btn\"></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"editTaskModalOpen\" class=\"modal-overlay\" @click=\"closeEditTaskModal\">\r\n      <div class=\"modal-content task-modal\" @click.stop>\r\n        <div class=\"modal-header\">\r\n          <h3></h3>\r\n          <button class=\"modal-close\" @click=\"closeEditTaskModal\">\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \r\n        <div class=\"modal-body\">\r\n          <div class=\"form-field\">\r\n            <label class=\"form-label\"></label>\r\n            <input\r\n              type=\"text\"\r\n              v-model=\"editTaskData.title\" \r\n              class=\"form-input\"\r\n              placeholder=\"\"\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-field\">\r\n            <label class=\"form-label\"></label>\r\n            <textarea\r\n              v-model=\"editTaskData.description\"\r\n              class=\"form-textarea\"\r\n              placeholder=\"\"\r\n              rows=\"3\"\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div class=\"form-row\">\r\n            <div class=\"form-field\">\r\n              <label class=\"form-label\"></label>\r\n              <input\r\n                type=\"date\"\r\n                v-model=\"editTaskData.dueDate\"\r\n                :min=\"today\"\r\n                class=\"form-input\"\r\n                @change=\"validateEditTaskDueDate\"\r\n              />\r\n              <div v-if=\"editTaskData.dateError\" class=\"error-message\">{{ editTaskData.dateError }}</div>\r\n            </div>\r\n            <div class=\"form-field\">\r\n              <label class=\"form-label\"></label>\r\n              <select v-model=\"editTaskData.priority\" class=\"form-select\">\r\n                <option value=\"\"></option>\r\n                <option value=\"\"></option>\r\n                <option value=\"\"></option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" @click=\"closeEditTaskModal\" class=\"btn btn-secondary\"></button>\r\n          <button type=\"button\" @click=\"saveEditTask\" class=\"btn btn-primary\" :disabled=\"!editTaskData.title.trim()\">\r\n            \r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"inviteMemberModalOpen\" class=\"modal-overlay\" @click=\"closeInviteMemberModal\">\r\n      <div class=\"modal-content invite-member-modal\" @click.stop>\r\n        <div class=\"modal-header\">\r\n          <h3 class=\"modal-title\"></h3>\r\n          <button class=\"modal-close\" @click=\"closeInviteMemberModal\">\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \r\n        <div class=\"modal-body\">\r\n          <!--  -->\r\n          <div class=\"search-section\">\r\n            <label class=\"form-label\"></label>\r\n            <div class=\"search-input-wrapper\">\r\n              <input \r\n                v-model=\"userSearchKeyword\" \r\n                type=\"text\" \r\n                class=\"form-input search-input\" \r\n                placeholder=\"ID\"\r\n                @input=\"handleSearchInput\"\r\n              />\r\n              <button class=\"search-btn\" @click=\"searchUsers\" :disabled=\"isSearching\">\r\n                <svg v-if=\"!isSearching\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <circle cx=\"11\" cy=\"11\" r=\"8\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  <path d=\"M21 21L16.65 16.65\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n                <span v-else class=\"loading-spinner-small\"></span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          <!--  -->\r\n          <div class=\"search-results\" v-if=\"searchedUsers.length > 0\">\r\n            <div class=\"search-results-header\">\r\n              <span class=\"results-count\"> {{ searchedUsers.length }} </span>\r\n              <span class=\"selected-count\" v-if=\"selectedUserIds.length > 0\"> {{ selectedUserIds.length }} </span>\r\n            </div>\r\n            <div class=\"user-list\">\r\n              <div \r\n                v-for=\"user in searchedUsers\" \r\n                :key=\"user.id || user.userId\" \r\n                class=\"user-item\"\r\n                :class=\"{ 'user-selected': selectedUserIds.includes(user.id || user.userId) }\"\r\n                @click=\"selectUser(user)\"\r\n              >\r\n                <div class=\"user-avatar\">\r\n                  <img v-if=\"user.avatarUrl || user.avatar\" :src=\"user.avatarUrl || user.avatar\" alt=\"\" />\r\n                  <div v-else class=\"avatar-placeholder\">\r\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                      <circle cx=\"12\" cy=\"7\" r=\"4\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n                <div class=\"user-info\">\r\n                  <div class=\"user-name\">{{ user.name || user.username }}</div>\r\n                  <div class=\"user-email\">{{ user.email || 'ID: ' + (user.id || user.userId) }}</div>\r\n                </div>\r\n                <div class=\"user-select-indicator\" v-if=\"selectedUserIds.includes(user.id || user.userId)\">\r\n                  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M20 6L9 17L4 12\" stroke=\"#4CAF50\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!--  -->\r\n          <div class=\"empty-state\" v-else-if=\"hasSearched && !isSearching\">\r\n            <svg width=\"64\" height=\"64\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <circle cx=\"11\" cy=\"11\" r=\"8\" stroke=\"#d9d9d9\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              <path d=\"M21 21L16.65 16.65\" stroke=\"#d9d9d9\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n            <p></p>\r\n          </div>\r\n          \r\n          <!--  -->\r\n          <div class=\"search-hint\" v-else>\r\n            <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <circle cx=\"11\" cy=\"11\" r=\"8\" stroke=\"#bbb\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              <path d=\"M21 21L16.65 16.65\" stroke=\"#bbb\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n            <p>ID</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"modal-footer\">\r\n          <button class=\"btn secondary\" @click=\"closeInviteMemberModal\"></button>\r\n          <button \r\n            class=\"btn primary\" \r\n            @click=\"confirmInvite\" \r\n            :disabled=\"selectedUserIds.length === 0 || isInviting\"\r\n          >\r\n            <span v-if=\"!isInviting\">{{ selectedUserIds.length > 0 ? ' (' + selectedUserIds.length + ')' : '' }}</span>\r\n            <span v-else>...</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"taskDetailModalOpen && selectedTask\" class=\"modal-overlay\" @click=\"closeTaskDetailModal\">\r\n      <div class=\"modal-content task-detail-modal\" @click.stop>\r\n        <div class=\"modal-header\">\r\n          <h3 class=\"modal-title\"></h3>\r\n          <button class=\"modal-close\" @click=\"closeTaskDetailModal\">\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \r\n        <div class=\"modal-body task-detail-body\">\r\n          <div class=\"task-detail-section\">\r\n            <label class=\"task-detail-label\"></label>\r\n            <div class=\"task-detail-value\">{{ selectedTask.title }}</div>\r\n          </div>\r\n          \r\n          <div class=\"task-detail-section\">\r\n            <label class=\"task-detail-label\"></label>\r\n            <div class=\"task-detail-value task-description-scroll\">{{ selectedTask.description || '' }}</div>\r\n          </div>\r\n          \r\n          <div class=\"task-detail-section\">\r\n            <label class=\"task-detail-label\"></label>\r\n            <div class=\"task-detail-value\">\r\n              <span class=\"task-priority-badge\" :class=\"priorityClass(selectedTask.priority)\">{{ selectedTask.priority }}</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"task-detail-section\">\r\n            <label class=\"task-detail-label\"></label>\r\n            <div class=\"task-detail-value\">\r\n              <span class=\"task-status-badge\" :class=\"statusClass(selectedTask.status)\">{{ selectedTask.status }}</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"task-detail-section\" v-if=\"selectedTask.date\">\r\n            <label class=\"task-detail-label\"></label>\r\n            <div class=\"task-detail-value\">{{ selectedTask.date }}</div>\r\n          </div>\r\n          \r\n          <div class=\"task-detail-section\">\r\n            <label class=\"task-detail-label\"></label>\r\n            <div class=\"task-detail-value\">{{ selectedTask.created_by_name || '' }}</div>\r\n          </div>\r\n          \r\n          <div class=\"task-detail-section\" v-if=\"selectedTask.assignee_name\">\r\n            <label class=\"task-detail-label\"></label>\r\n            <div class=\"task-detail-value\">{{ selectedTask.assignee_name }}</div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"modal-footer\">\r\n          <button @click=\"closeTaskDetailModal\" class=\"btn btn-primary\"></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"assignTaskModalOpen && taskToAssign\" class=\"modal-overlay\" @click=\"closeAssignTaskModal\">\r\n      <div class=\"modal-content assign-task-modal\" @click.stop>\r\n        <div class=\"modal-header\">\r\n          <h3 class=\"modal-title\"></h3>\r\n          <button class=\"modal-close\" @click=\"closeAssignTaskModal\">\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \r\n        <div class=\"modal-body\">\r\n          <div class=\"assign-task-info\">\r\n            <h4 class=\"assign-task-title\">{{ taskToAssign.title }}</h4>\r\n            <p class=\"assign-task-description\">{{ taskToAssign.description || '' }}</p>\r\n          </div>\r\n          \r\n          <div class=\"form-field\">\r\n            <label class=\"form-label\"></label>\r\n            <div class=\"member-select-list\">\r\n              <div \r\n                v-for=\"member in teamMembers\" \r\n                :key=\"member.id\" \r\n                class=\"member-select-item\"\r\n                :class=\"{ selected: selectedAssigneeId === member.id }\"\r\n                @click=\"selectedAssigneeId = member.id\"\r\n              >\r\n                <div class=\"member-select-avatar\">\r\n                  <img v-if=\"member.avatar\" :src=\"member.avatar\" :alt=\"member.name\" />\r\n                  <div v-else class=\"avatar-placeholder\">\r\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                      <circle cx=\"12\" cy=\"7\" r=\"4\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n                <div class=\"member-select-info\">\r\n                  <div class=\"member-select-name\">{{ member.name }}</div>\r\n                  <div class=\"member-select-role\">{{ member.role }}</div>\r\n                </div>\r\n                <div class=\"member-select-indicator\" v-if=\"selectedAssigneeId === member.id\">\r\n                  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M20 6L9 17L4 12\" stroke=\"#4CAF50\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div v-if=\"teamMembers.length === 0\" class=\"empty-members-hint\">\r\n              <p></p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"modal-footer\">\r\n          <button @click=\"closeAssignTaskModal\" class=\"btn secondary\"></button>\r\n          <button @click=\"confirmAssignTask\" class=\"btn primary\" :disabled=\"!selectedAssigneeId\"></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Toast -->\r\n    <div v-if=\"showToast\" class=\"success-toast\">\r\n      {{ toastMessage }}\r\n      </div>\r\n\r\n    <!-- Modal -->\r\n    <div v-if=\"showCropModal\" class=\"crop-modal-overlay\">\r\n      <div class=\"crop-modal-content\" @click.stop>\r\n        <div class=\"crop-modal-header\">\r\n          <h3></h3>\r\n          <p class=\"crop-hint\"></p>\r\n        </div>\r\n        <div class=\"crop-modal-body\">\r\n          <div class=\"crop-container\">\r\n            <canvas ref=\"cropCanvas\" class=\"crop-canvas\"></canvas>\r\n            <div class=\"crop-overlay\" ref=\"cropOverlay\">\r\n              <div class=\"crop-selection\" ref=\"cropSelection\">\r\n                <!--  -->\r\n                <div class=\"resize-handle resize-handle-nw\" data-handle=\"nw\"></div>\r\n                <div class=\"resize-handle resize-handle-ne\" data-handle=\"ne\"></div>\r\n                <div class=\"resize-handle resize-handle-sw\" data-handle=\"sw\"></div>\r\n                <div class=\"resize-handle resize-handle-se\" data-handle=\"se\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"crop-modal-footer\">\r\n          <button class=\"btn-cancel\" @click=\"closeCropModal\"></button>\r\n          <button class=\"btn-confirm\" @click=\"applyCrop\"></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport '@/assets/styles/ProjectDetail.css'\r\nimport { normalizeProjectCoverUrl, normalizeImageUrl } from '@/utils/imageUtils'\r\n\r\nexport default {\r\n  name: 'ProjectDetail',\r\n  data() {\r\n    return {\r\n      taskTypeOpen: false,\r\n      selectedTaskType: '',\r\n      statusDropdownOpen: false,\r\n      taskModalOpen: false,\r\n      editProjectModalOpen: false,\r\n      showToast: false,\r\n      toastMessage: '',\r\n      newTask: {\r\n        title: '',\r\n        description: '',\r\n        dueDate: '',\r\n        priority: '',\r\n        status: '',\r\n        dateError: ''\r\n      },\r\n      editProjectData: {\r\n        name: '',\r\n        description: '',\r\n        startDate: '',\r\n        endDate: '',\r\n        visibility: 'PUBLIC',\r\n        status: 'ONGOING'\r\n      },\r\n      project: null,\r\n      tasks: [],\r\n      teamMembers: [],\r\n      inviteSlots: [],\r\n      isLoading: true,\r\n      taskListModalOpen: false,\r\n      isCreatingTask: false, // \r\n      taskDetailModalOpen: false, // \r\n      selectedTask: null, // \r\n      editTaskModalOpen: false, // \r\n      editTaskData: {\r\n        title: '',\r\n        description: '',\r\n        dueDate: '',\r\n        priority: '',\r\n        taskId: null\r\n      },\r\n      // \r\n      inviteMemberModalOpen: false, // \r\n      userSearchKeyword: '', // \r\n      searchedUsers: [], // \r\n      selectedUserIds: [], // ID\r\n      isSearching: false, // \r\n      isInviting: false, // \r\n      hasSearched: false, // \r\n      searchDebounceTimer: null, // \r\n      // \r\n      showCropModal: false, // \r\n      originalImage: null, // \r\n      originalImageData: null, // DataURL\r\n      cropData: {\r\n        x: 0,\r\n        y: 0,\r\n        width: 0,\r\n        height: 0\r\n      },\r\n      // \r\n      assignTaskModalOpen: false, // \r\n      taskToAssign: null, // \r\n      selectedAssigneeId: null // ID\r\n    }\r\n  },\r\n  computed: {\r\n    filteredTasks() {\r\n      let tasks = this.tasks\r\n      if (this.selectedTaskType) {\r\n        tasks = tasks.filter(task => task.priority === this.selectedTaskType)\r\n      }\r\n      // 5\r\n      return tasks\r\n        .sort((a, b) => new Date(b.created_at || b.id) - new Date(a.created_at || a.id))\r\n        .slice(0, 5)\r\n    },\r\n    allTasks() {\r\n      // \r\n      return this.tasks\r\n    },\r\n    allFilteredTasks() {\r\n      // \r\n      let tasks = this.tasks\r\n      if (this.selectedTaskType) {\r\n        tasks = tasks.filter(task => task.priority === this.selectedTaskType)\r\n      }\r\n      return tasks\r\n    },\r\n    taskCount() {\r\n      return Array.isArray(this.tasks) ? this.tasks.length : 0\r\n    },\r\n    participantCount() {\r\n      if (Array.isArray(this.teamMembers) && this.teamMembers.length > 0) {\r\n        return this.teamMembers.length\r\n      }\r\n      if (this.project && typeof this.project.teamSize === 'number') {\r\n        return this.project.teamSize\r\n      }\r\n      return 0\r\n    },\r\n    isProjectManager() {\r\n      // \r\n      const currentUserName = this.getCurrentUserName()\r\n      return this.project && this.project.manager === currentUserName\r\n    },\r\n    //  YYYY-MM-DD\r\n    today() {\r\n      const today = new Date()\r\n      return today.toISOString().split('T')[0]\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadProject() // loadProjectloadProjectTasks\r\n    document.addEventListener('click', this.handleClickOutside)\r\n    \r\n    //  \r\n    this.$eventBus.on(\r\n      this.$EventTypes.USER_AVATAR_UPDATED, \r\n      this.handleAvatarUpdated,\r\n      { debounce: 300 } // 300ms\r\n    )\r\n  },\r\n  beforeDestroy() {\r\n    document.removeEventListener('click', this.handleClickOutside)\r\n    \r\n    // \r\n    this.$eventBus.off(this.$EventTypes.USER_AVATAR_UPDATED, this.handleAvatarUpdated)\r\n  },\r\n  methods: {\r\n    openTaskListModal() {\r\n      this.taskListModalOpen = true\r\n    },\r\n    closeTaskListModal() {\r\n      this.taskListModalOpen = false\r\n    },\r\n    openTaskDetailModal(task) {\r\n      this.selectedTask = task\r\n      this.taskDetailModalOpen = true\r\n    },\r\n    closeTaskDetailModal() {\r\n      this.taskDetailModalOpen = false\r\n      this.selectedTask = null\r\n    },\r\n    goToTaskList() {\r\n      // \r\n      console.log('ID:', this.$route.params.id)\r\n      this.$router.push(`/project/${this.$route.params.id}/tasks`)\r\n    },\r\n    /**\r\n     * API\r\n     */\r\n    async loadProjectTasks() {\r\n      const projectId = this.$route.params.id\r\n      if (!projectId) {\r\n        console.warn('ID')\r\n        return\r\n      }\r\n\r\n      try {\r\n        console.log('[loadProjectTasks] ID:', projectId)\r\n        \r\n        // API\r\n        const { taskAPI } = await import('@/api/task')\r\n        \r\n        // API\r\n        const response = await taskAPI.getProjectTasks(projectId, 0, 100) // 100\r\n        \r\n        console.log('[loadProjectTasks] API:', response)\r\n        \r\n        // \r\n        if (response && response.code === 200 && response.data) {\r\n          const tasksData = response.data\r\n          console.log('[loadProjectTasks] :', tasksData)\r\n          \r\n          // \r\n          let taskList = []\r\n          if (tasksData.content && Array.isArray(tasksData.content)) {\r\n            // \r\n            taskList = tasksData.content\r\n          } else if (Array.isArray(tasksData)) {\r\n            // \r\n            taskList = tasksData\r\n          }\r\n          \r\n          console.log('[loadProjectTasks] :', taskList)\r\n          \r\n          // \r\n          const currentUserId = this.getCurrentUserId()\r\n          const currentUserName = this.getCurrentUserName()\r\n          \r\n          this.tasks = taskList.map(task => {\r\n            //  TaskDetailDTO.assignees\r\n            let assigneeIds = []\r\n            let assigneeNames = ''\r\n            \r\n            if (task.assignees && Array.isArray(task.assignees) && task.assignees.length > 0) {\r\n              //  assignees: [{userId, userName, email, avatarUrl}]\r\n              assigneeIds = task.assignees.map(a => Number(a.userId))\r\n              assigneeNames = task.assignees.map(a => a.userName).join(', ')\r\n            }\r\n            \r\n            return {\r\n              id: task.id,\r\n              title: task.title,\r\n              description: task.description || '',\r\n              date: task.dueDate || task.due_date || '',\r\n              due_date: task.dueDate || task.due_date,\r\n              dueDate: task.dueDate || task.due_date,\r\n              priority: this.getPriorityDisplay(task.priority || 'MEDIUM'),\r\n              priority_value: task.priority || 'MEDIUM',\r\n              status: this.getStatusDisplay(task.status || 'TODO'),\r\n              status_value: task.status || 'TODO',\r\n              assignee_id: assigneeIds,\r\n              assignee_name: assigneeNames,\r\n              created_by: task.createdBy || currentUserId,\r\n              // \"\"auth\r\n              created_by_name: task.creatorName === '' ? currentUserName : (task.creatorName || currentUserName),\r\n              showStatusMenu: false // \r\n            }\r\n          })\r\n          \r\n          console.log('[loadProjectTasks] :', this.tasks)\r\n          \r\n          // localStorage\r\n          this.saveProjectData()\r\n          \r\n        } else {\r\n          console.warn('[loadProjectTasks] API:', response)\r\n          // APIlocalStorage\r\n          this.loadTasksFromLocalStorage()\r\n        }\r\n      } catch (error) {\r\n        console.error('[loadProjectTasks] :', error)\r\n        // localStorage\r\n        this.loadTasksFromLocalStorage()\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * localStorage\r\n     */\r\n    loadTasksFromLocalStorage() {\r\n      const projectId = this.$route.params.id\r\n      const savedProjects = localStorage.getItem('projects')\r\n      \r\n      if (savedProjects) {\r\n        const projects = JSON.parse(savedProjects)\r\n        const foundProject = projects.find(p => String(p.id) === String(projectId))\r\n        \r\n        if (foundProject && foundProject.tasks) {\r\n          console.log('[loadTasksFromLocalStorage] localStorage:', foundProject.tasks)\r\n          \r\n          this.tasks = (foundProject.tasks || []).map(task => ({\r\n            id: task.id,\r\n            title: task.title,\r\n            description: task.description,\r\n            date: task.due_date || task.dueDate || task.date || '',\r\n            due_date: task.due_date || task.dueDate,\r\n            priority: this.getPriorityDisplay(task.priority || 'MEDIUM'),\r\n            priority_value: task.priority || 'MEDIUM',\r\n            status: this.getStatusDisplay(task.status_value || task.status || 'ONGOING'),\r\n            status_value: task.status_value || task.status || 'ONGOING',\r\n            assignee_id: task.assignee_id || [],\r\n            created_by: task.created_by || 1,\r\n            created_by_name: this.getUserNameById(task.created_by || 1),\r\n            showStatusMenu: false\r\n          }))\r\n        }\r\n      }\r\n    },\r\n    \r\n    async loadProject() {\r\n      const projectId = this.$route.params.id\r\n      console.log('ID:', projectId, ':', typeof projectId)\r\n      \r\n      // API\r\n      try {\r\n        const { projectAPI } = await import('@/api/project')\r\n        const response = await projectAPI.getProjectById(projectId)\r\n        \r\n        if (response && response.code === 200 && response.data) {\r\n          console.log('API:', response.data)\r\n          const apiProject = response.data\r\n          \r\n          // API\r\n          this.project = {\r\n            id: apiProject.id,\r\n            name: apiProject.name,\r\n            title: apiProject.name,\r\n            description: apiProject.description || '',\r\n            startDate: apiProject.startDate || '',\r\n            endDate: apiProject.endDate || '',\r\n            period: (apiProject.startDate && apiProject.endDate) ? \r\n              `${apiProject.startDate}  ${apiProject.endDate}` : \r\n              '2024-01-01  2024-12-31',\r\n            status: apiProject.status || 'PLANNING',\r\n            visibility: apiProject.visibility || 'PRIVATE',\r\n            imageUrl: normalizeProjectCoverUrl(apiProject.imageUrl) || 'https://via.placeholder.com/400x225?text=Project+Image',\r\n            image: normalizeProjectCoverUrl(apiProject.imageUrl),\r\n            manager: apiProject.creatorName || '', // \r\n            teamSize: apiProject.teamSize || 1,\r\n            category: apiProject.category || '',\r\n            aiCore: '',\r\n            tags: apiProject.tags || [],\r\n            tasks: [],\r\n            created_by: apiProject.creatorId || 1,\r\n            creatorName: apiProject.creatorName || '' // \r\n          }\r\n          \r\n          console.log('imageUrl:', this.project.imageUrl)\r\n          console.log(':', apiProject.creatorName, ':', this.project.manager)\r\n          \r\n          // localStorage\r\n          // \r\n          await this.loadTeamMembers()\r\n          // \r\n          this.updateManagerFromTeamMembers()\r\n          \r\n          // \r\n          this.loadProjectTasks()\r\n          this.isLoading = false\r\n          return\r\n        }\r\n      } catch (error) {\r\n        console.error('APIlocalStorage:', error)\r\n      }\r\n      \r\n      // APIlocalStorage\r\n      const savedProjects = localStorage.getItem('projects')\r\n      console.log('localStorage:', savedProjects)\r\n      \r\n      if (savedProjects) {\r\n        const projects = JSON.parse(savedProjects)\r\n        console.log(':', projects)\r\n        console.log('ID:', projects.map(p => ({ id: p.id, type: typeof p.id })))\r\n        \r\n        // ID\r\n        const foundProject = projects.find(p => String(p.id) === String(projectId))\r\n        \r\n        if (foundProject) {\r\n          console.log(':', foundProject)\r\n          \r\n          // \r\n          this.project = {\r\n            id: foundProject.id,\r\n            name: foundProject.name || foundProject.title, // \r\n            title: foundProject.title || foundProject.name,\r\n            description: foundProject.description || foundProject.dataAssets || foundProject.direction || '',\r\n            // \r\n            startDate: foundProject.startDate || foundProject.start_date || '',\r\n            endDate: foundProject.endDate || foundProject.end_date || '',\r\n            // \r\n            period: (foundProject.start_date || foundProject.startDate) && (foundProject.end_date || foundProject.endDate) ? \r\n              `${foundProject.start_date || foundProject.startDate}  ${foundProject.end_date || foundProject.endDate}` : \r\n              '2024-01-01  2024-12-31',\r\n            status: this.getStatusValue(foundProject.status), // \r\n            visibility: foundProject.visibility || 'PRIVATE', // \r\n            imageUrl: normalizeProjectCoverUrl(foundProject.imageUrl || foundProject.image) || 'https://via.placeholder.com/400x225?text=Project+Image',\r\n            image: normalizeProjectCoverUrl(foundProject.image || foundProject.imageUrl),\r\n            manager: foundProject.creatorName || '', // \r\n            teamSize: foundProject.teamSize,\r\n            category: foundProject.category,\r\n            aiCore: foundProject.aiCore,\r\n            tags: foundProject.tags || [],\r\n            tasks: foundProject.tasks || [],\r\n            created_by: foundProject.created_by || 1, // \r\n            creatorName: foundProject.creatorName || '' // \r\n          }\r\n          \r\n          console.log(' - ID:', this.project.id, 'startDate:', this.project.startDate, 'endDate:', this.project.endDate)\r\n          console.log('imageUrl:', this.project.imageUrl)\r\n          \r\n          console.log(':', foundProject.startDate, foundProject.endDate)\r\n          console.log(':', foundProject.tasks)\r\n          \r\n          // loadProjectTasksAPI\r\n          // localStorage\r\n          \r\n          // \r\n          this.teamMembers = foundProject.teamMembers || []\r\n          this.inviteSlots = foundProject.inviteSlots || []\r\n          \r\n          // \r\n          this.updateManagerFromTeamMembers()\r\n          \r\n        } else {\r\n          console.log('ID:', projectId)\r\n          console.log('ID:', projects.map(p => p.id))\r\n          console.log('ID:', projects.map(p => ({ \r\n            id: p.id, \r\n            type: typeof p.id, \r\n            matches: String(p.id) === String(projectId) \r\n          })))\r\n          this.project = {\r\n        id: projectId,\r\n        title: '',\r\n        description: '',\r\n        period: '',\r\n        status: '',\r\n        manager: ''\r\n      }\r\n        }\r\n      } else {\r\n        console.log('localStorage')\r\n        this.project = {\r\n          id: projectId,\r\n          title: '',\r\n          description: '',\r\n          period: '',\r\n          status: '',\r\n          manager: ''\r\n        }\r\n      }\r\n      \r\n      // \r\n      this.isLoading = false\r\n      console.log('project:', this.project)\r\n      \r\n      // \r\n      this.loadProjectTasks()\r\n    },\r\n    \r\n    loadTeamMembersFromLocalStorage() {\r\n      const projectId = this.$route.params.id\r\n      const savedProjects = localStorage.getItem('projects')\r\n      \r\n      if (savedProjects) {\r\n        const projects = JSON.parse(savedProjects)\r\n        const foundProject = projects.find(p => String(p.id) === String(projectId))\r\n        \r\n        if (foundProject) {\r\n          this.teamMembers = foundProject.teamMembers || [\r\n            { id: 1, name: this.getCurrentUserName(), role: '', avatar: null }\r\n          ]\r\n          this.inviteSlots = foundProject.inviteSlots || []\r\n        }\r\n      }\r\n      \r\n      // \r\n      if (!this.teamMembers || this.teamMembers.length === 0) {\r\n        this.teamMembers = [\r\n          { id: 1, name: this.getCurrentUserName(), role: '', avatar: null }\r\n        ]\r\n      }\r\n    },\r\n    goBack() {\r\n      this.$router.go(-1)\r\n    },\r\n    goToProjectKnowledge() {\r\n      const projectId = this.$route.params.id || this.project?.id\r\n      console.log('ID:', projectId, ':', `/project-knowledge/${projectId}`)\r\n      if (!projectId) {\r\n        console.error('ID')\r\n        alert('ID')\r\n        return\r\n      }\r\n      // \r\n      this.$router.push({\r\n        name: 'ProjectKnowledge',\r\n        params: { id: String(projectId) }\r\n      }).catch(err => {\r\n        // \r\n        if (err.name !== 'NavigationDuplicated') {\r\n          console.error(':', err)\r\n          this.$router.push(`/project-knowledge/${projectId}`).catch(e => {\r\n            console.error(':', e)\r\n          })\r\n        }\r\n      })\r\n    },\r\n    goToAIAssistant() {\r\n      const projectId = this.project?.id || this.$route.params.id\r\n      this.$router.push({ path: '/ai-assistant', query: { projectId } })\r\n    },\r\n    addTeamMember() {\r\n      const name = prompt(':')\r\n      if (name && name.trim()) {\r\n        const role = prompt(':')\r\n        const newMember = {\r\n          id: Date.now(),\r\n          name: name.trim(),\r\n          role: role ? role.trim() : '',\r\n          avatar: null\r\n        }\r\n        this.teamMembers.push(newMember)\r\n        this.saveProjectData()\r\n        alert('')\r\n      }\r\n    },\r\n    inviteMember() {\r\n      // \r\n      this.inviteMemberModalOpen = true\r\n      this.userSearchKeyword = ''\r\n      this.searchedUsers = []\r\n      this.selectedUserIds = [] // \r\n      this.hasSearched = false\r\n    },\r\n    closeInviteMemberModal() {\r\n      this.inviteMemberModalOpen = false\r\n      this.userSearchKeyword = ''\r\n      this.searchedUsers = []\r\n      this.selectedUserIds = [] // \r\n      this.hasSearched = false\r\n      this.isSearching = false\r\n      this.isInviting = false\r\n      if (this.searchDebounceTimer) {\r\n        clearTimeout(this.searchDebounceTimer)\r\n        this.searchDebounceTimer = null\r\n      }\r\n    },\r\n    handleSearchInput() {\r\n      // 300ms\r\n      if (this.searchDebounceTimer) {\r\n        clearTimeout(this.searchDebounceTimer)\r\n      }\r\n      \r\n      if (this.userSearchKeyword.trim()) {\r\n        this.searchDebounceTimer = setTimeout(() => {\r\n          this.searchUsers()\r\n        }, 300)\r\n      } else {\r\n        this.searchedUsers = []\r\n        this.hasSearched = false\r\n      }\r\n    },\r\n    async searchUsers() {\r\n      if (!this.userSearchKeyword.trim()) {\r\n        this.showSuccessToast('')\r\n        return\r\n      }\r\n      \r\n      this.isSearching = true\r\n      this.hasSearched = false\r\n      \r\n      try {\r\n        const { projectAPI } = await import('@/api/project')\r\n        const response = await projectAPI.searchUsers(this.userSearchKeyword.trim(), 0, 20)\r\n        \r\n        console.log(':', response)\r\n        \r\n        if (response && response.code === 200) {\r\n          // \r\n          if (response.data && response.data.content) {\r\n            this.searchedUsers = response.data.content\r\n          } else if (Array.isArray(response.data)) {\r\n            this.searchedUsers = response.data\r\n          } else {\r\n            this.searchedUsers = []\r\n          }\r\n          \r\n          this.hasSearched = true\r\n          console.log(':', this.searchedUsers)\r\n        } else {\r\n          this.showSuccessToast(response?.msg || '')\r\n          this.searchedUsers = []\r\n          this.hasSearched = true\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        this.showSuccessToast(': ' + (error.message || ''))\r\n        this.searchedUsers = []\r\n        this.hasSearched = true\r\n      } finally {\r\n        this.isSearching = false\r\n      }\r\n    },\r\n    selectUser(user) {\r\n      //  id userId\r\n      const userId = user.id || user.userId\r\n      const index = this.selectedUserIds.indexOf(userId)\r\n      \r\n      if (index > -1) {\r\n        // \r\n        this.selectedUserIds.splice(index, 1)\r\n        console.log(':', user.name, ':', this.selectedUserIds.length)\r\n      } else {\r\n        // \r\n        this.selectedUserIds.push(userId)\r\n        console.log(':', user.name, ':', this.selectedUserIds.length)\r\n      }\r\n    },\r\n    async confirmInvite() {\r\n      if (this.selectedUserIds.length === 0) {\r\n        this.showSuccessToast('')\r\n        return\r\n      }\r\n      \r\n      this.isInviting = true\r\n      \r\n      try {\r\n        const { projectAPI } = await import('@/api/project')\r\n        const projectId = this.$route.params.id\r\n        \r\n        // \r\n        let successCount = 0\r\n        let failCount = 0\r\n        \r\n        for (const userId of this.selectedUserIds) {\r\n          try {\r\n            const response = await projectAPI.inviteMember(projectId, {\r\n              userId: userId,\r\n              role: 'MEMBER' // \r\n            })\r\n            \r\n            if (response && response.code === 200) {\r\n              successCount++\r\n            } else {\r\n              failCount++\r\n              console.error(':', userId, response?.msg)\r\n            }\r\n          } catch (error) {\r\n            failCount++\r\n            console.error(':', userId, error)\r\n          }\r\n        }\r\n        \r\n        // \r\n        if (successCount > 0 && failCount === 0) {\r\n          this.showSuccessToast(` ${successCount} `)\r\n        } else if (successCount > 0 && failCount > 0) {\r\n          this.showSuccessToast(` ${successCount}  ${failCount} `)\r\n        } else {\r\n          this.showSuccessToast('')\r\n        }\r\n        \r\n        if (successCount > 0) {\r\n          this.closeInviteMemberModal()\r\n          // \r\n          this.loadTeamMembers()\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        this.showSuccessToast(': ' + (error.message || ''))\r\n      } finally {\r\n        this.isInviting = false\r\n      }\r\n    },\r\n    async loadTeamMembers() {\r\n      try {\r\n        const { projectAPI } = await import('@/api/project')\r\n        const projectId = this.$route.params.id\r\n        \r\n        const response = await projectAPI.getProjectMembers(projectId, 0, 50)\r\n        \r\n        console.log(':', response)\r\n        \r\n        if (response && response.code === 200) {\r\n          // \r\n          if (response.data && response.data.content) {\r\n            this.teamMembers = response.data.content.map(member => ({\r\n              id: String(member.userId),  //  id \r\n              name: member.username || member.name || '',\r\n              role: member.roleName || member.role || '',\r\n              avatar: this.parseAvatarUrl(member.avatar)\r\n            }))\r\n          } else if (Array.isArray(response.data)) {\r\n            this.teamMembers = response.data.map(member => ({\r\n              id: String(member.userId),  //  id \r\n              name: member.username || member.name || '',\r\n              role: member.roleName || member.role || '',\r\n              avatar: this.parseAvatarUrl(member.avatar)\r\n            }))\r\n          }\r\n          \r\n          console.log(' :', this.teamMembers.length, '')\r\n          console.log('ID:', this.teamMembers.map(m => m.id))\r\n\r\n          // \r\n          try {\r\n            const cacheKey = `project_member_count_${projectId}`\r\n            localStorage.setItem(cacheKey, String(this.teamMembers.length))\r\n          } catch (e) {\r\n            console.warn(':', e?.message || e)\r\n          }\r\n          \r\n          // \r\n          this.updateManagerFromTeamMembers()\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        // \r\n      }\r\n    },\r\n    handleAvatarUpdated({ userId, avatarUrl }) {\r\n      //  \r\n      console.log(' ProjectDetail:', {\r\n        userId,\r\n        userIdType: typeof userId,\r\n        avatarUrl: avatarUrl.substring(0, 50) + '...',\r\n        teamMembersCount: this.teamMembers.length,\r\n        teamMemberIds: this.teamMembers.map(m => ({ id: m.id, type: typeof m.id }))\r\n      })\r\n      \r\n      // userId  member.id \r\n      const member = this.teamMembers.find(m => m.id === userId)\r\n      if (member) {\r\n        console.log(' :', member.name)\r\n        console.log(':', member.avatar?.substring(0, 50))\r\n        this.$set(member, 'avatar', avatarUrl)\r\n        console.log(`  ${member.name}(${userId}) `)\r\n        console.log(':', member.avatar?.substring(0, 50))\r\n        // Vue\r\n        this.$forceUpdate()\r\n      } else {\r\n        console.warn(`  ${userId} `)\r\n        console.warn(':', this.teamMembers.map(m => ({ id: m.id, name: m.name })))\r\n      }\r\n    },\r\n    updateManagerFromTeamMembers() {\r\n      // \r\n      // OWNER, PROJECT_OWNER, , \r\n      const ownerRoles = ['OWNER', 'PROJECT_OWNER', '', '', '']\r\n      \r\n      const owner = this.teamMembers.find(member => {\r\n        const role = (member.role || '').toUpperCase()\r\n        return ownerRoles.some(ownerRole => role === ownerRole.toUpperCase() || role.includes(ownerRole.toUpperCase()))\r\n      })\r\n      \r\n      if (owner) {\r\n        // \r\n        this.project.manager = owner.name\r\n        console.log(':', owner.name, ':', owner.role)\r\n      } else if (this.project.creatorName && this.project.creatorName !== '') {\r\n        // \r\n        this.project.manager = this.project.creatorName\r\n        console.log(':', this.project.creatorName)\r\n      } else {\r\n        // \r\n        console.log(':', this.project.manager)\r\n      }\r\n    },\r\n    removeTeamMember(memberId) {\r\n      if (confirm('')) {\r\n        this.teamMembers = this.teamMembers.filter(m => m.id !== memberId)\r\n        this.saveProjectData()\r\n      }\r\n    },\r\n    removeInviteSlot(slotId) {\r\n      if (confirm('')) {\r\n        this.inviteSlots = this.inviteSlots.filter(s => s.id !== slotId)\r\n        this.saveProjectData()\r\n      }\r\n    },\r\n    saveProjectData() {\r\n      // localStorage\r\n      const savedProjects = JSON.parse(localStorage.getItem('projects') || '[]')\r\n      console.log('ID:', this.project.id, ':', typeof this.project.id)\r\n      \r\n      // ID\r\n      const projectIndex = savedProjects.findIndex(p => String(p.id) === String(this.project.id))\r\n      \r\n      if (projectIndex !== -1) {\r\n        // \r\n        savedProjects[projectIndex] = {\r\n          ...savedProjects[projectIndex],\r\n          id: this.project.id, // ID\r\n          name: this.project.name,\r\n          title: this.project.title,\r\n          description: this.project.description,\r\n          startDate: this.project.startDate,\r\n          endDate: this.project.endDate,\r\n          visibility: this.project.visibility,\r\n          status: this.project.status,\r\n          imageUrl: this.project.imageUrl || this.project.image,\r\n          image: this.project.image || this.project.imageUrl,\r\n          teamMembers: this.teamMembers,\r\n          inviteSlots: this.inviteSlots,\r\n          tasks: this.tasks\r\n        }\r\n        \r\n        localStorage.setItem('projects', JSON.stringify(savedProjects))\r\n        \r\n        console.log('localStorageID:', this.project.id)\r\n        console.log(':', this.tasks.map(t => ({ title: t.title, status: t.status, status_value: t.status_value })))\r\n      } else {\r\n        console.log('ID:', this.project.id)\r\n        console.log('ID:', savedProjects.map(p => ({ id: p.id, type: typeof p.id })))\r\n      }\r\n    },\r\n    // \r\n    editProject() {\r\n      // \r\n      // status\r\n      const statusValue = this.getStatusValue(this.project.status)\r\n      \r\n      this.editProjectData = {\r\n        name: this.project.name || this.project.title,\r\n        description: this.project.description || '',\r\n        startDate: this.project.startDate || '',\r\n        endDate: this.project.endDate || '',\r\n        visibility: this.project.visibility || 'PRIVATE',\r\n        status: statusValue || 'ONGOING',\r\n        imageUrl: this.project.imageUrl || this.project.image || 'https://via.placeholder.com/400x225?text=Project+Image'\r\n      }\r\n      \r\n      console.log(':', this.editProjectData)\r\n      this.editProjectModalOpen = true\r\n    },\r\n    closeEditProjectModal() {\r\n      this.editProjectModalOpen = false\r\n    },\r\n    async saveProjectUpdate() {\r\n      if (!this.editProjectData.name.trim()) {\r\n        alert('')\r\n        return\r\n      }\r\n      \r\n      try {\r\n        // API\r\n        const { projectAPI } = await import('@/api/project')\r\n        \r\n        console.log('API...')\r\n        console.log('ID:', this.project.id, ':', typeof this.project.id)\r\n        console.log(':', this.editProjectData)\r\n        \r\n        const response = await projectAPI.updateProject(this.project.id, this.editProjectData)\r\n        \r\n        console.log('API:', response)\r\n        console.log(':', response.data)\r\n        \r\n        // API\r\n        if (response.code === 200) {\r\n          // \r\n          if (response.data) {\r\n            // IDID\r\n            this.project.id = response.data.id\r\n            this.project.name = response.data.name\r\n            this.project.title = response.data.name\r\n            this.project.description = response.data.description\r\n            this.project.startDate = response.data.startDate\r\n            this.project.endDate = response.data.endDate\r\n            this.project.visibility = response.data.visibility\r\n            this.project.status = response.data.status\r\n            this.project.imageUrl = response.data.imageUrl\r\n            this.project.image = response.data.imageUrl\r\n            \r\n            // \r\n            if (response.data.startDate && response.data.endDate) {\r\n              this.project.period = `${response.data.startDate}  ${response.data.endDate}`\r\n            }\r\n            \r\n            console.log('ID:', this.project.id)\r\n            console.log(':', this.project)\r\n          } else {\r\n            // \r\n            this.project.name = this.editProjectData.name\r\n            this.project.title = this.editProjectData.name\r\n            this.project.description = this.editProjectData.description\r\n            this.project.startDate = this.editProjectData.startDate\r\n            this.project.endDate = this.editProjectData.endDate\r\n            this.project.visibility = this.editProjectData.visibility\r\n            this.project.status = this.editProjectData.status\r\n            \r\n            // \r\n            if (this.editProjectData.startDate && this.editProjectData.endDate) {\r\n              this.project.period = `${this.editProjectData.startDate}  ${this.editProjectData.endDate}`\r\n            }\r\n          }\r\n          \r\n          // localStorage\r\n          this.saveProjectData()\r\n          \r\n          this.closeEditProjectModal()\r\n          this.showSuccessToast('')\r\n        } else {\r\n          alert('' + (response.msg || ''))\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        alert('')\r\n      }\r\n    },\r\n    async changeStatus(newStatus) {\r\n      // \r\n      if (newStatus && newStatus !== this.project.status) {\r\n        try {\r\n          // API\r\n          const { projectAPI } = await import('@/api/project')\r\n          \r\n          console.log('API...')\r\n          const response = await projectAPI.updateProjectStatus(this.project.id, newStatus)\r\n          \r\n          console.log('API:', response)\r\n          \r\n          // API\r\n          if (response.code === 200) {\r\n            this.project.status = newStatus\r\n            this.saveProjectData()\r\n            this.statusDropdownOpen = false\r\n            this.showSuccessToast('')\r\n            console.log(':', newStatus)\r\n          } else {\r\n            alert('' + (response.msg || ''))\r\n          }\r\n        } catch (error) {\r\n          console.error(':', error)\r\n          alert('')\r\n        }\r\n      }\r\n    },\r\n    async deleteProject() {\r\n      if (confirm('\\n\\n')) {\r\n        try {\r\n          // API\r\n          const { projectAPI } = await import('@/api/project')\r\n          \r\n          console.log('======  ======')\r\n          console.log('ID:', this.project.id, ':', typeof this.project.id)\r\n          console.log(':', this.project.name || this.project.title)\r\n          \r\n          const response = await projectAPI.deleteProject(this.project.id)\r\n          \r\n          console.log('API:', response)\r\n          console.log('code:', response?.code)\r\n          console.log('msg:', response?.msg)\r\n          \r\n          // API\r\n          if (response && response.code === 200) {\r\n            console.log('')\r\n            \r\n            // localStorage\r\n            const savedProjects = JSON.parse(localStorage.getItem('projects') || '[]')\r\n            console.log(':', savedProjects.map(p => ({ id: p.id, name: p.name || p.title })))\r\n            \r\n            // \r\n            const updatedProjects = savedProjects.filter(p => String(p.id) !== String(this.project.id))\r\n            console.log(':', updatedProjects.map(p => ({ id: p.id, name: p.name || p.title })))\r\n            \r\n            localStorage.setItem('projects', JSON.stringify(updatedProjects))\r\n            \r\n            this.showSuccessToast('')\r\n            console.log('======  ======')\r\n            \r\n            // \r\n            setTimeout(() => {\r\n              this.$router.push('/project-square')\r\n            }, 1500)\r\n          } else {\r\n            const errorMsg = response?.msg || ''\r\n            console.error(':', errorMsg)\r\n            alert('' + errorMsg)\r\n          }\r\n        } catch (error) {\r\n          console.error('======  ======')\r\n          console.error(':', error.constructor.name)\r\n          console.error(':', error.message)\r\n          console.error(':', error)\r\n          \r\n          // \r\n          let errorMessage = ''\r\n          \r\n          if (error.response) {\r\n            // \r\n            console.error(':', error.response.status, error.response.data)\r\n            errorMessage = error.response.data?.msg || ` (${error.response.status})`\r\n          } else if (error.request) {\r\n            // \r\n            console.error('')\r\n            errorMessage = ''\r\n          } else if (error.msg) {\r\n            // \r\n            errorMessage = error.msg\r\n          }\r\n          \r\n          alert(errorMessage)\r\n        }\r\n      } else {\r\n        console.log('')\r\n      }\r\n    },\r\n    // \r\n    validateNewTaskDueDate() {\r\n      this.newTask.dateError = ''\r\n      if (this.newTask.dueDate && new Date(this.newTask.dueDate) < new Date(this.today)) {\r\n        this.newTask.dateError = ''\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    // \r\n    createTask() {\r\n      this.taskModalOpen = true\r\n      // \r\n      this.newTask = {\r\n        title: '',\r\n        description: '',\r\n        dueDate: '',\r\n        priority: '',\r\n        status: '',\r\n        dateError: ''\r\n      }\r\n    },\r\n    closeTaskModal() {\r\n      this.taskModalOpen = false\r\n    },\r\n    async saveNewTask() {\r\n      // \r\n      if (this.isCreatingTask) {\r\n        console.log('[saveNewTask] ')\r\n        return\r\n      }\r\n      \r\n      if (!this.newTask.title.trim()) {\r\n        alert('')\r\n        return\r\n      }\r\n      \r\n      // \r\n      if (this.newTask.dueDate && new Date(this.newTask.dueDate) < new Date(this.today)) {\r\n        alert('')\r\n        return\r\n      }\r\n      \r\n      // \r\n      this.isCreatingTask = true\r\n      \r\n      try {\r\n        // API\r\n        const { taskAPI } = await import('@/api/task')\r\n        \r\n        // \r\n        const taskData = {\r\n          projectId: this.project.id,\r\n          title: this.newTask.title.trim(),\r\n          description: this.newTask.description.trim(),\r\n          priority: this.getPriorityValue(this.newTask.priority), // \r\n          dueDate: this.newTask.dueDate || null,\r\n          assigneeIds: [] // \r\n        }\r\n        \r\n        console.log('[saveNewTask] :', taskData)\r\n        \r\n        // API\r\n        const response = await taskAPI.createTask(taskData)\r\n        \r\n        console.log('[saveNewTask] API:', response)\r\n        \r\n        if (response && response.code === 200) {\r\n          // \r\n          await this.loadProjectTasks()\r\n          \r\n          this.closeTaskModal()\r\n          this.showSuccessToast('')\r\n        } else {\r\n          alert('' + (response.msg || ''))\r\n        }\r\n      } catch (error) {\r\n        console.error('[saveNewTask] :', error)\r\n        alert('')\r\n      } finally {\r\n        // 1\r\n        setTimeout(() => {\r\n          this.isCreatingTask = false\r\n        }, 1000)\r\n      }\r\n    },\r\n    editTask(task) {\r\n      // \r\n      this.editTaskData = {\r\n        title: task.title,\r\n        description: task.description || '',\r\n        dueDate: task.date || task.dueDate || '',\r\n        priority: task.priority,\r\n        taskId: task.id\r\n      }\r\n      // \r\n      this.editTaskModalOpen = true\r\n    },\r\n    closeEditTaskModal() {\r\n      this.editTaskModalOpen = false\r\n      this.editTaskData = {\r\n        title: '',\r\n        description: '',\r\n        dueDate: '',\r\n        priority: '',\r\n        taskId: null\r\n      }\r\n    },\r\n    async saveEditTask() {\r\n      if (!this.editTaskData.title.trim()) {\r\n        alert('')\r\n        return\r\n      }\r\n      \r\n      // \r\n      if (this.editTaskData.dueDate && new Date(this.editTaskData.dueDate) < new Date(this.today)) {\r\n        alert('')\r\n        return\r\n      }\r\n      \r\n      try {\r\n        // API\r\n        const { taskAPI } = await import('@/api/task')\r\n        \r\n        // \r\n        const updateData = {\r\n          title: this.editTaskData.title.trim(),\r\n          description: this.editTaskData.description.trim(),\r\n          priority: this.getPriorityValue(this.editTaskData.priority),\r\n          dueDate: this.editTaskData.dueDate || null\r\n        }\r\n        \r\n        console.log('[saveEditTask] ID:', this.editTaskData.taskId, ':', updateData)\r\n        \r\n        // API\r\n        const response = await taskAPI.updateTask(this.editTaskData.taskId, updateData)\r\n        \r\n        console.log('[saveEditTask] API:', response)\r\n        \r\n        if (response && response.code === 200) {\r\n          // \r\n          await this.loadProjectTasks()\r\n          \r\n          this.closeEditTaskModal()\r\n          this.showSuccessToast('')\r\n        } else {\r\n          alert('' + (response.msg || ''))\r\n        }\r\n      } catch (error) {\r\n        console.error('[saveEditTask] :', error)\r\n        alert('')\r\n      }\r\n    },\r\n    validateEditTaskDueDate() {\r\n      this.editTaskData.dateError = ''\r\n      if (this.editTaskData.dueDate && new Date(this.editTaskData.dueDate) < new Date(this.today)) {\r\n        this.editTaskData.dateError = ''\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    async deleteTask(taskId) {\r\n      if (!confirm('')) {\r\n        return\r\n      }\r\n      \r\n      try {\r\n        // API\r\n        const { taskAPI } = await import('@/api/task')\r\n        \r\n        console.log('[deleteTask] ID:', taskId)\r\n        \r\n        // API\r\n        const response = await taskAPI.deleteTask(taskId)\r\n        \r\n        console.log('[deleteTask] API:', response)\r\n        \r\n        if (response && response.code === 200) {\r\n          console.log('[deleteTask]  ')\r\n          \r\n          //  \r\n          await this.loadProjectTasks()\r\n          \r\n          this.showSuccessToast('')\r\n        } else {\r\n          alert('' + (response.msg || ''))\r\n        }\r\n      } catch (error) {\r\n        console.error('[deleteTask] :', error)\r\n        alert('')\r\n      }\r\n    },\r\n    handleClickOutside(event) {\r\n      if (!event.target.closest('.dropdown')) {\r\n        this.taskTypeOpen = false\r\n        this.statusDropdownOpen = false\r\n      }\r\n    },\r\n    getCurrentUserId() {\r\n      // localStorageID\r\n      const savedUserInfo = localStorage.getItem('user_info')\r\n      if (savedUserInfo) {\r\n        try {\r\n          const userInfo = JSON.parse(savedUserInfo)\r\n          return userInfo.id || null\r\n        } catch (error) {\r\n          console.error(':', error)\r\n          return null\r\n        }\r\n      }\r\n      return null\r\n    },\r\n    getCurrentUserName() {\r\n      // localStorage\r\n      const savedUserInfo = localStorage.getItem('user_info')\r\n      if (savedUserInfo) {\r\n        try {\r\n          const userInfo = JSON.parse(savedUserInfo)\r\n          return userInfo.name || userInfo.nickname || ''\r\n        } catch (error) {\r\n          console.error(':', error)\r\n          return ''\r\n        }\r\n      }\r\n      return ''\r\n    },\r\n    getPriorityDisplay(priority) {\r\n      // \r\n      const priorityMap = {\r\n        'HIGH': '',\r\n        'MEDIUM': '',\r\n        'LOW': ''\r\n      }\r\n      return priorityMap[priority] || ''\r\n    },\r\n    getPriorityValue(priority) {\r\n      // \r\n      const valueMap = {\r\n        '': 'HIGH',\r\n        '': 'MEDIUM',\r\n        '': 'LOW'\r\n      }\r\n      return valueMap[priority] || 'MEDIUM'\r\n    },\r\n    getUserNameById(userId) {\r\n      // ID\r\n      if (userId === 1) {\r\n        return this.getCurrentUserName()\r\n      }\r\n      // \r\n      // \r\n      return '' + userId\r\n    },\r\n    getStatusDisplay(status) {\r\n      // \r\n      const statusMap = {\r\n        // \r\n        'PLANNING': '',\r\n        'ONGOING': '',\r\n        'COMPLETED': '',\r\n        'ARCHIVED': '',\r\n        // TODO, IN_PROGRESS, BLOCKED, DONE\r\n        'TODO': '',\r\n        'IN_PROGRESS': '',\r\n        'BLOCKED': '',\r\n        'DONE': '',\r\n        // \r\n        'PENDING': '',\r\n        'CANCELLED': ''\r\n      }\r\n      return statusMap[status] || status || ''\r\n    },\r\n    getStatusValue(status) {\r\n      // \r\n      const reverseMap = {\r\n        // \r\n        '': 'PLANNING',\r\n        '': 'IN_PROGRESS',\r\n        '': 'COMPLETED',\r\n        '': 'ARCHIVED',\r\n        // TODO, IN_PROGRESS, BLOCKED, DONE\r\n        '': 'TODO',\r\n        '': 'BLOCKED',\r\n        '': 'DONE',\r\n        '': 'CANCELLED'\r\n      }\r\n      \r\n      //  \r\n      if (reverseMap[status]) {\r\n        return reverseMap[status]\r\n      }\r\n      \r\n      //   TODO, IN_PROGRESS\r\n      const validEnums = ['TODO', 'IN_PROGRESS', 'BLOCKED', 'DONE', 'PLANNING', 'ONGOING', 'COMPLETED', 'ARCHIVED', 'CANCELLED']\r\n      if (status && validEnums.includes(status.toUpperCase())) {\r\n        return status.toUpperCase()\r\n      }\r\n      \r\n      //  TODO\r\n      return 'TODO'\r\n    },\r\n    toggleTaskStatusDropdown(task) {\r\n      // \r\n      this.tasks.forEach(t => {\r\n        if (t.id !== task.id) {\r\n          this.$set(t, 'showStatusMenu', false)\r\n        }\r\n      })\r\n      // \r\n      this.$set(task, 'showStatusMenu', !task.showStatusMenu)\r\n    },\r\n    async changeTaskStatus(task, newStatus) {\r\n      try {\r\n        // API\r\n        const { taskAPI } = await import('@/api/task')\r\n        \r\n        // \r\n        const statusValue = this.getStatusValue(newStatus)\r\n        \r\n        console.log(`[changeTaskStatus] ID: ${task.id}, : ${newStatus} (${statusValue})`)\r\n        \r\n        // API\r\n        const response = await taskAPI.updateTaskStatus(task.id, statusValue)\r\n        \r\n        console.log('[changeTaskStatus] API:', response)\r\n        \r\n        if (response && response.code === 200) {\r\n          console.log('[changeTaskStatus]  ')\r\n          \r\n          // \r\n          this.$set(task, 'showStatusMenu', false)\r\n          \r\n          //  \r\n          await this.loadProjectTasks()\r\n          \r\n          this.showSuccessToast('')\r\n          \r\n          console.log(`\"${task.title}\": ${newStatus} (${statusValue})`)\r\n          \r\n          // \r\n          this.$root.$emit('taskStatusChanged', {\r\n            projectId: this.project.id,\r\n            taskId: task.id,\r\n            newStatus: newStatus,\r\n            statusValue: statusValue\r\n          })\r\n        } else {\r\n          alert('' + (response.msg || ''))\r\n          // \r\n          this.$set(task, 'showStatusMenu', false)\r\n        }\r\n      } catch (error) {\r\n        console.error('[changeTaskStatus] :', error)\r\n        alert('')\r\n        // \r\n        this.$set(task, 'showStatusMenu', false)\r\n      }\r\n    },\r\n    async assignTask(task) {\r\n      // claimTask\r\n      const confirmed = confirm(`\"${task.title}\"`)\r\n      if (!confirmed) return\r\n      \r\n      try {\r\n        const currentUserId = this.getCurrentUserId()\r\n        const currentUserName = this.getCurrentUserName()\r\n        \r\n        console.log('[assignTask] , ID:', task.id, ':', task.status)\r\n        \r\n        //  API\r\n        const { taskAPI } = await import('@/api/task')\r\n        const response = await taskAPI.claimTask(task.id)\r\n        \r\n        console.log('[assignTask] :', response)\r\n        \r\n        if (response && response.code === 200) {\r\n          console.log('[assignTask]  ')\r\n          \r\n          //  \r\n          await new Promise(resolve => setTimeout(resolve, 300))\r\n          \r\n          //  \r\n          await this.loadProjectTasks()\r\n          \r\n          //  Vue\r\n          this.$nextTick(() => {\r\n            this.$forceUpdate()\r\n          })\r\n          \r\n          this.showSuccessToast(`: ${task.title}`)\r\n          \r\n          //  \r\n          const updatedTask = this.tasks.find(t => t.id === task.id)\r\n          console.log('[assignTask] :', updatedTask?.status, ':', updatedTask?.assignee_name)\r\n          \r\n          if (updatedTask && updatedTask.status === '') {\r\n            console.warn('[assignTask]  ')\r\n            await new Promise(resolve => setTimeout(resolve, 500))\r\n            await this.loadProjectTasks()\r\n            this.$forceUpdate()\r\n          }\r\n        } else {\r\n          alert('' + (response.msg || ''))\r\n        }\r\n      } catch (error) {\r\n        console.error('[assignTask] :', error)\r\n        alert('')\r\n      }\r\n    },\r\n    // \r\n    openAssignTaskModal(task) {\r\n      this.taskToAssign = task\r\n      this.selectedAssigneeId = null\r\n      this.assignTaskModalOpen = true\r\n    },\r\n    // \r\n    closeAssignTaskModal() {\r\n      this.assignTaskModalOpen = false\r\n      this.taskToAssign = null\r\n      this.selectedAssigneeId = null\r\n    },\r\n    // \r\n    async confirmAssignTask() {\r\n      if (!this.selectedAssigneeId || !this.taskToAssign) return\r\n      \r\n      const selectedMember = this.teamMembers.find(m => m.id === this.selectedAssigneeId)\r\n      if (!selectedMember) {\r\n        alert('')\r\n        return\r\n      }\r\n      \r\n      try {\r\n        console.log('[confirmAssignTask] , ID:', this.taskToAssign.id, ':', this.taskToAssign.status)\r\n        \r\n        // API\r\n        const { taskAPI } = await import('@/api/task')\r\n        const response = await taskAPI.assignTask(this.taskToAssign.id, [this.selectedAssigneeId])\r\n        \r\n        console.log('[confirmAssignTask] :', response)\r\n        \r\n        if (response && response.code === 200) {\r\n          console.log('[confirmAssignTask]  ')\r\n          \r\n          //  \r\n          await new Promise(resolve => setTimeout(resolve, 300))\r\n          \r\n          //  \r\n          await this.loadProjectTasks()\r\n          \r\n          //  Vue\r\n          this.$nextTick(() => {\r\n            this.$forceUpdate()\r\n          })\r\n          \r\n          this.showSuccessToast(`\"${this.taskToAssign.title}\" ${selectedMember.name}`)\r\n          \r\n          //  IDcloseAssignTaskModaltaskToAssign\r\n          const assignedTaskId = this.taskToAssign.id\r\n          this.closeAssignTaskModal()\r\n          \r\n          //  \r\n          const updatedTask = this.tasks.find(t => t.id === assignedTaskId)\r\n          console.log('[confirmAssignTask] :', updatedTask?.status, ':', updatedTask?.assignee_name)\r\n          \r\n          if (updatedTask && updatedTask.status === '') {\r\n            console.warn('[confirmAssignTask]  ')\r\n            await new Promise(resolve => setTimeout(resolve, 500))\r\n            await this.loadProjectTasks()\r\n            this.$forceUpdate()\r\n          }\r\n        } else {\r\n          alert('' + (response.msg || ''))\r\n        }\r\n      } catch (error) {\r\n        console.error('[confirmAssignTask] :', error)\r\n        alert('')\r\n      }\r\n    },\r\n    statusClass(status) {\r\n      // \r\n      if (status === 'PLANNING' || status === '') return 'planning'\r\n      if (status === 'IN_PROGRESS' || status === '') return 'ongoing'\r\n      if (status === 'PAUSED' || status === '') return 'paused'\r\n      if (status === 'COMPLETED' || status === '') return 'completed'\r\n      if (status === 'CANCELLED' || status === '') return 'cancelled'\r\n      return 'ongoing'\r\n    },\r\n    priorityClass(priority) {\r\n      if (priority === '') return ''\r\n      if (priority === '') return ''\r\n      return ''\r\n    },\r\n    toggleTaskTypeDropdown() {\r\n      this.taskTypeOpen = !this.taskTypeOpen\r\n    },\r\n    toggleStatusDropdown() {\r\n      this.statusDropdownOpen = !this.statusDropdownOpen\r\n    },\r\n    selectTaskType(type) {\r\n      this.selectedTaskType = type\r\n      this.taskTypeOpen = false\r\n    },\r\n    triggerImageUpload() {\r\n      // \r\n      this.$refs.projectImageUpload.click()\r\n    },\r\n    async handleProjectImageUpload(event) {\r\n      const file = event.target.files[0]\r\n      if (!file) return\r\n      \r\n        // \r\n        const allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp', 'image/bmp']\r\n        if (!allowedTypes.includes(file.type)) {\r\n          alert(': jpg, png, gif, webp, bmp')\r\n        this.$refs.projectImageUpload.value = ''\r\n          return\r\n        }\r\n        \r\n        // 5MB\r\n        if (file.size > 5 * 1024 * 1024) {\r\n          alert('5MB')\r\n        this.$refs.projectImageUpload.value = ''\r\n          return\r\n        }\r\n      \r\n      // URL\r\n      const reader = new FileReader()\r\n      reader.onload = (e) => {\r\n        this.originalImageData = e.target.result\r\n        // \r\n        this.showCropModal = true\r\n        this.$nextTick(() => {\r\n          this.initCropCanvas()\r\n        })\r\n      }\r\n      reader.readAsDataURL(file)\r\n    },\r\n    async uploadCroppedImage(imageDataUrl) {\r\n      try {\r\n        // DataURLBlob\r\n        const blob = await this.dataURLToBlob(imageDataUrl)\r\n        \r\n        // API\r\n        const { projectAPI } = await import('@/api/project')\r\n        \r\n        console.log('[uploadCroppedImage] ')\r\n        \r\n        // \r\n        const response = await projectAPI.uploadProjectImage(blob, this.project.id)\r\n        \r\n        console.log('[uploadCroppedImage] API:', response)\r\n        console.log('[uploadCroppedImage] :', typeof response)\r\n        console.log('[uploadCroppedImage] :', JSON.stringify(response, null, 2))\r\n        \r\n        //  \r\n        if (response) {\r\n          console.log('[uploadCroppedImage] response.code:', response.code)\r\n          console.log('[uploadCroppedImage] response.msg:', response.msg)\r\n          console.log('[uploadCroppedImage] response.data:', response.data)\r\n          \r\n          if (response.data) {\r\n            console.log('[uploadCroppedImage] response.data.imageUrl:', response.data.imageUrl)\r\n            console.log('[uploadCroppedImage] response.data:', Object.keys(response.data))\r\n          }\r\n        }\r\n        \r\n        if (response && response.code === 200 && response.data) {\r\n          // URL\r\n          const imageUrl = response.data.imageUrl\r\n          console.log('[uploadCroppedImage] imageUrl:', imageUrl)\r\n          \r\n          if (!imageUrl) {\r\n            console.warn('[uploadCroppedImage]  imageUrl ')\r\n            console.warn('[uploadCroppedImage] response.data :', response.data)\r\n            alert('URL')\r\n            return\r\n          }\r\n          \r\n          //   Vue.set \r\n          this.$set(this.project, 'imageUrl', imageUrl)\r\n          this.$set(this.project, 'image', imageUrl)\r\n          \r\n          console.log('[uploadCroppedImage] :', {\r\n            imageUrl: this.project.imageUrl,\r\n            image: this.project.image\r\n          })\r\n          \r\n          // localStorage\r\n          this.saveProjectData()\r\n          \r\n          //  Vue\r\n          this.$forceUpdate()\r\n          \r\n          console.log('[uploadCroppedImage]  Vue')\r\n          console.log('[uploadCroppedImage]  URL:', imageUrl)\r\n          \r\n          this.showSuccessToast('')\r\n          console.log('[uploadCroppedImage] URL:', imageUrl)\r\n        } else {\r\n          console.error('[uploadCroppedImage]  ')\r\n          console.error('[uploadCroppedImage] response:', response)\r\n          alert(': ' + (response?.msg || ''))\r\n        }\r\n      } catch (error) {\r\n        console.error('[uploadCroppedImage] :', error)\r\n        \r\n        //  \r\n        if (error && error.status === 403) {\r\n          console.error('[uploadCroppedImage]  403 Forbidden - ')\r\n          console.error('[uploadCroppedImage] : JWT token ')\r\n          const token = localStorage.getItem('access_token')\r\n          if (!token) {\r\n            console.error('[uploadCroppedImage]  Token ')\r\n            alert('')\r\n          } else {\r\n            alert('')\r\n          }\r\n        } else {\r\n          alert('')\r\n        }\r\n      }\r\n    },\r\n    closeCropModal() {\r\n      // \r\n          this.$refs.projectImageUpload.value = ''\r\n      this.showCropModal = false\r\n      this.originalImage = null\r\n      this.originalImageData = null\r\n    },\r\n    initCropCanvas() {\r\n      const canvas = this.$refs.cropCanvas\r\n      const ctx = canvas.getContext('2d')\r\n      const img = new Image()\r\n      \r\n      img.onload = () => {\r\n        // \r\n        const maxWidth = 600\r\n        const maxHeight = 400\r\n        let { width, height } = img\r\n        \r\n        if (width > maxWidth || height > maxHeight) {\r\n          const ratio = Math.min(maxWidth / width, maxHeight / height)\r\n          width *= ratio\r\n          height *= ratio\r\n        }\r\n        \r\n        canvas.width = width\r\n        canvas.height = height\r\n        canvas.style.width = width + 'px'\r\n        canvas.style.height = height + 'px'\r\n        \r\n        // \r\n        ctx.drawImage(img, 0, 0, width, height)\r\n        \r\n        // \r\n        this.originalImage = img\r\n        \r\n        // 16:9\r\n        const cropRatio = 16 / 9\r\n        const cropWidth = Math.min(width * 0.8, height * cropRatio * 0.8)\r\n        const cropHeight = cropWidth / cropRatio\r\n        \r\n        this.cropData = {\r\n          x: (width - cropWidth) / 2,\r\n          y: (height - cropHeight) / 2,\r\n          width: cropWidth,\r\n          height: cropHeight\r\n        }\r\n        \r\n        this.updateCropSelection()\r\n        this.setupCropInteraction()\r\n      }\r\n      \r\n      img.src = this.originalImageData\r\n    },\r\n    updateCropSelection() {\r\n      const selection = this.$refs.cropSelection\r\n      if (selection) {\r\n        selection.style.left = this.cropData.x + 'px'\r\n        selection.style.top = this.cropData.y + 'px'\r\n        selection.style.width = this.cropData.width + 'px'\r\n        selection.style.height = this.cropData.height + 'px'\r\n      }\r\n    },\r\n    setupCropInteraction() {\r\n      const selection = this.$refs.cropSelection\r\n      const overlay = this.$refs.cropOverlay\r\n      const canvas = this.$refs.cropCanvas\r\n      \r\n      if (!selection || !overlay || !canvas) return\r\n      \r\n      let isDragging = false\r\n      let isResizing = false\r\n      let resizeHandle = null\r\n      let startX = 0\r\n      let startY = 0\r\n      let startCropX = 0\r\n      let startCropY = 0\r\n      let startCropWidth = 0\r\n      let startCropHeight = 0\r\n      \r\n      const cropRatio = 16 / 9\r\n      \r\n      const startDrag = (e) => {\r\n        if (e.target.classList.contains('resize-handle')) {\r\n          isResizing = true\r\n          resizeHandle = e.target.dataset.handle\r\n        } else {\r\n          isDragging = true\r\n        }\r\n        \r\n        const rect = canvas.getBoundingClientRect()\r\n        startX = e.clientX - rect.left\r\n        startY = e.clientY - rect.top\r\n        startCropX = this.cropData.x\r\n        startCropY = this.cropData.y\r\n        startCropWidth = this.cropData.width\r\n        startCropHeight = this.cropData.height\r\n      }\r\n      \r\n      const drag = (e) => {\r\n        if (!isDragging && !isResizing) return\r\n        \r\n        const rect = canvas.getBoundingClientRect()\r\n        const currentX = e.clientX - rect.left\r\n        const currentY = e.clientY - rect.top\r\n        \r\n        const deltaX = currentX - startX\r\n        const deltaY = currentY - startY\r\n        \r\n        if (isDragging) {\r\n          // \r\n          const newX = Math.max(0, Math.min(canvas.width - this.cropData.width, startCropX + deltaX))\r\n          const newY = Math.max(0, Math.min(canvas.height - this.cropData.height, startCropY + deltaY))\r\n          \r\n          this.cropData.x = newX\r\n          this.cropData.y = newY\r\n        } else if (isResizing) {\r\n          // \r\n          let newWidth = startCropWidth\r\n          let newHeight = startCropHeight\r\n          let newX = startCropX\r\n          let newY = startCropY\r\n          \r\n          if (resizeHandle === 'se') {\r\n            // \r\n            newWidth = Math.max(50, Math.min(canvas.width - startCropX, startCropWidth + deltaX))\r\n            newHeight = newWidth / cropRatio\r\n            if (startCropY + newHeight > canvas.height) {\r\n              newHeight = canvas.height - startCropY\r\n              newWidth = newHeight * cropRatio\r\n            }\r\n          } else if (resizeHandle === 'sw') {\r\n            // \r\n            newWidth = Math.max(50, Math.min(startCropX + startCropWidth, startCropWidth - deltaX))\r\n            newHeight = newWidth / cropRatio\r\n            newX = startCropX + startCropWidth - newWidth\r\n            if (newX < 0) {\r\n              newX = 0\r\n              newWidth = startCropX + startCropWidth\r\n              newHeight = newWidth / cropRatio\r\n            }\r\n          } else if (resizeHandle === 'ne') {\r\n            // \r\n            newWidth = Math.max(50, Math.min(canvas.width - startCropX, startCropWidth + deltaX))\r\n            newHeight = newWidth / cropRatio\r\n            newY = startCropY + startCropHeight - newHeight\r\n            if (newY < 0) {\r\n              newY = 0\r\n              newHeight = startCropY + startCropHeight\r\n              newWidth = newHeight * cropRatio\r\n            }\r\n          } else if (resizeHandle === 'nw') {\r\n            // \r\n            newWidth = Math.max(50, Math.min(startCropX + startCropWidth, startCropWidth - deltaX))\r\n            newHeight = newWidth / cropRatio\r\n            newX = startCropX + startCropWidth - newWidth\r\n            newY = startCropY + startCropHeight - newHeight\r\n            if (newX < 0) {\r\n              newX = 0\r\n              newWidth = startCropX + startCropWidth\r\n              newHeight = newWidth / cropRatio\r\n              newY = startCropY + startCropHeight - newHeight\r\n            }\r\n            if (newY < 0) {\r\n              newY = 0\r\n              newHeight = startCropY + startCropHeight\r\n              newWidth = newHeight * cropRatio\r\n              newX = startCropX + startCropWidth - newWidth\r\n            }\r\n          }\r\n          \r\n          this.cropData.x = newX\r\n          this.cropData.y = newY\r\n          this.cropData.width = newWidth\r\n          this.cropData.height = newHeight\r\n        }\r\n        \r\n        this.updateCropSelection()\r\n      }\r\n      \r\n      const endDrag = () => {\r\n        isDragging = false\r\n        isResizing = false\r\n        resizeHandle = null\r\n      }\r\n      \r\n      selection.addEventListener('mousedown', startDrag)\r\n      document.addEventListener('mousemove', drag)\r\n      document.addEventListener('mouseup', endDrag)\r\n      \r\n      // \r\n      this.$once('hook:beforeDestroy', () => {\r\n        selection.removeEventListener('mousedown', startDrag)\r\n        document.removeEventListener('mousemove', drag)\r\n        document.removeEventListener('mouseup', endDrag)\r\n      })\r\n    },\r\n    applyCrop() {\r\n      if (!this.originalImage) return\r\n      \r\n      const canvas = document.createElement('canvas')\r\n      const ctx = canvas.getContext('2d')\r\n      \r\n      // \r\n      const targetRatio = 16 / 9\r\n      const targetWidth = 400\r\n      const targetHeight = targetWidth / targetRatio\r\n      \r\n      canvas.width = targetWidth\r\n      canvas.height = targetHeight\r\n      \r\n      // \r\n      const sourceX = (this.cropData.x / this.$refs.cropCanvas.width) * this.originalImage.width\r\n      const sourceY = (this.cropData.y / this.$refs.cropCanvas.height) * this.originalImage.height\r\n      const sourceWidth = (this.cropData.width / this.$refs.cropCanvas.width) * this.originalImage.width\r\n      const sourceHeight = (this.cropData.height / this.$refs.cropCanvas.height) * this.originalImage.height\r\n      \r\n      // \r\n      ctx.drawImage(\r\n        this.originalImage,\r\n        sourceX, sourceY, sourceWidth, sourceHeight,\r\n        0, 0, targetWidth, targetHeight\r\n      )\r\n      \r\n      // DataURL\r\n      const imageDataUrl = canvas.toDataURL('image/jpeg', 0.9)\r\n      this.closeCropModal()\r\n      \r\n      // \r\n      this.uploadCroppedImage(imageDataUrl)\r\n    },\r\n    dataURLToBlob(dataURL) {\r\n      return new Promise((resolve, reject) => {\r\n        try {\r\n          const arr = dataURL.split(',')\r\n          const mime = arr[0].match(/:(.*?);/)[1]\r\n          const bstr = atob(arr[1])\r\n          let n = bstr.length\r\n          const u8arr = new Uint8Array(n)\r\n          while (n--) {\r\n            u8arr[n] = bstr.charCodeAt(n)\r\n          }\r\n          const blob = new Blob([u8arr], { type: mime })\r\n          resolve(blob)\r\n        } catch (error) {\r\n          reject(error)\r\n        }\r\n      })\r\n    },\r\n    showSuccessToast(message) {\r\n      this.toastMessage = message\r\n      this.showToast = true\r\n      \r\n      // 1\r\n      setTimeout(() => {\r\n        this.showToast = false\r\n        this.toastMessage = ''\r\n      }, 1000)\r\n    },\r\n    onImageLoad() {\r\n      console.log(' :', this.project.imageUrl || this.project.image)\r\n    },\r\n    onImageError(event) {\r\n      const imageUrl = this.project.imageUrl || this.project.image\r\n      console.error(' URL:', imageUrl)\r\n      console.error(' :', event)\r\n      console.warn(' ')\r\n      console.warn('  1. CORS  - MinIO  CORS')\r\n      console.warn('  2.  URL ')\r\n      console.warn('  3. MinIO public')\r\n      console.warn('  4. ')\r\n      \r\n      // URL\r\n      if (imageUrl) {\r\n        console.log('  URL ', imageUrl)\r\n        console.log(' PowerShell')\r\n        console.log(`   Invoke-WebRequest -Uri \"${imageUrl}\" -Method GET -UseBasicParsing`)\r\n        \r\n        // fetch\r\n        fetch(imageUrl, { method: 'HEAD' })\r\n          .then(response => {\r\n            console.log(' HEAD:', response.status)\r\n            console.log(' Content-Type:', response.headers.get('Content-Type'))\r\n            console.log(' Access-Control-Allow-Origin:', response.headers.get('Access-Control-Allow-Origin'))\r\n          })\r\n          .catch(error => {\r\n            console.error(' HEAD:', error)\r\n            console.error(' CORS')\r\n          })\r\n      }\r\n    },\r\n    /**\r\n     * URL\r\n     * avatarJSON: {\"sizes\":{\"256\":\"http://...\",\"original\":\"http://...\"}}\r\n     * originalURL\r\n     */\r\n    parseAvatarUrl(avatar) {\r\n      if (!avatar) {\r\n        return null\r\n      }\r\n      \r\n      // URL\r\n      if (typeof avatar === 'string' && (avatar.startsWith('http://') || avatar.startsWith('https://'))) {\r\n        return avatar\r\n      }\r\n      \r\n      // JSON\r\n      if (typeof avatar === 'string') {\r\n        try {\r\n          const avatarObj = JSON.parse(avatar)\r\n          // original256\r\n          if (avatarObj.sizes) {\r\n            return avatarObj.sizes.original || avatarObj.sizes['256'] || avatarObj.sizes['512'] || null\r\n          }\r\n          return null\r\n        } catch (e) {\r\n          console.warn('URL:', e, ':', avatar)\r\n          return null\r\n        }\r\n      }\r\n      \r\n      // URL\r\n      if (typeof avatar === 'object' && avatar.sizes) {\r\n        return avatar.sizes.original || avatar.sizes['256'] || avatar.sizes['512'] || null\r\n      }\r\n      \r\n      return null\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProjectDetail.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProjectDetail.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProjectDetail.vue?vue&type=template&id=21ec2c68\"\nimport script from \"./ProjectDetail.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectDetail.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"knowledge-base-container\"},[_c('div',{staticClass:\"top-header\"},[_c('div',{staticClass:\"header-left\"},[_c('button',{staticClass:\"back-btn\",attrs:{\"aria-label\":\"\"},on:{\"click\":_vm.goBack}},[_c('svg',{attrs:{\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M19 12H5M12 19L5 12L12 5\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('span',{staticClass:\"page-title\"},[_vm._v(_vm._s(_vm.projectName)+\" \")])]),_vm._m(0)]),_c('div',{staticClass:\"main-content\"},[_c('div',{staticClass:\"content-layout leftbar\"},[_c('aside',{staticClass:\"left-options\"},[_c('div',{staticClass:\"options-card\"},[_c('div',{staticClass:\"options-title\"},[_vm._v(\"\")]),_c('div',{staticClass:\"option-item\",class:{ active: _vm.activeTab==='home' },on:{\"click\":function($event){return _vm.goTab('home')}}},[_c('span',[_vm._v(\"\")])]),_c('div',{staticClass:\"option-item\",class:{ active: _vm.activeTab==='catalog' },on:{\"click\":function($event){return _vm.goTab('catalog')}}},[_c('span',[_vm._v(\"\")])]),_c('div',{staticClass:\"option-item\",class:{ active: _vm.activeTab==='cabinet' },on:{\"click\":function($event){return _vm.goTab('cabinet')}}},[_c('span',[_vm._v(\"wiki\")])]),_c('div',{staticClass:\"option-item\",class:{ active: _vm.activeTab==='ai' },on:{\"click\":function($event){return _vm.goTab('ai')}}},[_c('span',[_vm._v(\"AI \")])])])]),_c('div',{staticClass:\"content-right\"},[(_vm.activeTab==='home')?_c('div',{staticClass:\"kb-header\"},[_c('div',{staticClass:\"kb-title\"},[_vm._v(_vm._s(_vm.projectName))]),_c('div',{staticClass:\"kb-subtitle\"},[_vm._v(\"AIAI\")])]):_vm._e(),(_vm.activeTab==='home')?_c('div',{staticClass:\"home-content\"},[_c('div',{staticClass:\"stats-grid\"},[_c('div',{staticClass:\"stat-card\"},[_c('div',{staticClass:\"stat-card-header\"},[_c('div',{staticClass:\"stat-card-title\"},[_vm._v(\"\")]),_c('div',{staticClass:\"stat-icon blue\"},[_c('svg',{attrs:{\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M3 12H21M3 6H21M3 18H21\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"stat-value\"},[_vm._v(_vm._s(_vm.achievementsCount))]),_c('div',{staticClass:\"stat-desc\"},[_vm._v(\" 12%\")])]),_c('div',{staticClass:\"stat-card\"},[_c('div',{staticClass:\"stat-card-header\"},[_c('div',{staticClass:\"stat-card-title\"},[_vm._v(\"\")]),_c('div',{staticClass:\"stat-icon green\"},[_c('svg',{attrs:{\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M4 19H20M4 5H20M7 5V19M17 5V19\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"stat-value\"},[_vm._v(_vm._s(_vm.totalDocuments))]),_c('div',{staticClass:\"stat-desc\"},[_vm._v(\" \"+_vm._s(_vm.editingDocuments)+\" \")])]),_c('div',{staticClass:\"stat-card\"},[_c('div',{staticClass:\"stat-card-header\"},[_c('div',{staticClass:\"stat-card-title\"},[_vm._v(\"\")]),_c('div',{staticClass:\"stat-icon purple\"},[_c('svg',{attrs:{\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"7\",\"r\":\"4\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('div',{staticClass:\"stat-value\"},[_vm._v(_vm._s(_vm.teamMembersCount))]),_c('div',{staticClass:\"stat-desc\"},[_vm._v(\" \"+_vm._s(_vm.onlineMembersCount)+\" \")])])]),(_vm.activeTab==='home')?_c('div',{staticClass:\"card\"},[_vm._m(1),_c('div',{staticClass:\"activity-list\"},_vm._l((_vm.activities),function(item){return _c('div',{key:item.id,staticClass:\"activity-item\"},[_c('div',{staticClass:\"activity-bullet\",class:item.type}),_c('div',{staticClass:\"activity-main\"},[_c('div',{staticClass:\"activity-text\"},[_vm._v(_vm._s(item.text))]),_c('div',{staticClass:\"activity-meta\"},[_vm._v(_vm._s(item.time))])])])}),0)]):_vm._e()]):(_vm.activeTab==='catalog')?_c('KnowledgeBaseCatalog',{attrs:{\"archiveRows\":_vm.archiveRows,\"projectId\":_vm.projectId},on:{\"file-uploaded\":_vm.handleFileUploaded,\"file-deleted\":_vm.handleFileDeleted,\"file-edited\":_vm.handleFileEdited}}):(_vm.activeTab==='cabinet')?_c('KnowledgeBaseCabinet',{attrs:{\"projectId\":_vm.projectId},on:{\"document-created\":_vm.handleDocumentCreated}}):_c('KnowledgeBaseAI',{attrs:{\"projectId\":_vm.projectId}})],1)])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"header-right\"},[_c('div',{staticClass:\"translate-icon\"},[_vm._v(\"\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card-header\"},[_c('div',{staticClass:\"card-title\"},[_vm._v(\"\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"knowledge-base-container\">\r\n    <!--  -->\r\n    <div class=\"top-header\">\r\n      <div class=\"header-left\">\r\n        <button class=\"back-btn\" @click=\"goBack\" aria-label=\"\">\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M19 12H5M12 19L5 12L12 5\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </button>\r\n        <span class=\"page-title\">{{ projectName }} </span>\r\n      </div>\r\n      <div class=\"header-right\">\r\n        <div class=\"translate-icon\"></div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div class=\"main-content\">\r\n      <div class=\"content-layout leftbar\">\r\n        <!--  -->\r\n        <aside class=\"left-options\">\r\n          <div class=\"options-card\">\r\n            <div class=\"options-title\"></div>\r\n            <div class=\"option-item\" :class=\"{ active: activeTab==='home' }\" @click=\"goTab('home')\">\r\n              <span></span>\r\n            </div>\r\n            <div class=\"option-item\" :class=\"{ active: activeTab==='catalog' }\" @click=\"goTab('catalog')\">\r\n              <span></span>\r\n            </div>\r\n            <div class=\"option-item\" :class=\"{ active: activeTab==='cabinet' }\" @click=\"goTab('cabinet')\">\r\n              <span>wiki</span>\r\n            </div>\r\n            <div class=\"option-item\" :class=\"{ active: activeTab==='ai' }\" @click=\"goTab('ai')\">\r\n              <span>AI </span>\r\n            </div>\r\n          </div>\r\n        </aside>\r\n\r\n        <!--  -->\r\n        <div class=\"content-right\">\r\n          <!--  -->\r\n          <div v-if=\"activeTab==='home'\" class=\"kb-header\">\r\n            <div class=\"kb-title\">{{ projectName }}</div>\r\n            <div class=\"kb-subtitle\">AIAI</div>\r\n          </div>\r\n\r\n          <!--  -->\r\n          <div v-if=\"activeTab==='home'\" class=\"home-content\">\r\n          <div class=\"stats-grid\">\r\n            <div class=\"stat-card\">\r\n              <div class=\"stat-card-header\">\r\n                <div class=\"stat-card-title\"></div>\r\n                <div class=\"stat-icon blue\">\r\n                  <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M3 12H21M3 6H21M3 18H21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n              <div class=\"stat-value\">{{ achievementsCount }}</div>\r\n              <div class=\"stat-desc\"> 12%</div>\r\n            </div>\r\n\r\n            <div class=\"stat-card\">\r\n              <div class=\"stat-card-header\">\r\n                <div class=\"stat-card-title\"></div>\r\n                <div class=\"stat-icon green\">\r\n                  <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M4 19H20M4 5H20M7 5V19M17 5V19\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n              <div class=\"stat-value\">{{ totalDocuments }}</div>\r\n              <div class=\"stat-desc\"> {{ editingDocuments }} </div>\r\n            </div>\r\n\r\n            <div class=\"stat-card\">\r\n              <div class=\"stat-card-header\">\r\n                <div class=\"stat-card-title\"></div>\r\n                <div class=\"stat-icon purple\">\r\n                  <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    <circle cx=\"12\" cy=\"7\" r=\"4\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n              <div class=\"stat-value\">{{ teamMembersCount }}</div>\r\n              <div class=\"stat-desc\"> {{ onlineMembersCount }} </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n          <!--  -->\r\n          <div v-if=\"activeTab==='home'\" class=\"card\">\r\n            <div class=\"card-header\">\r\n              <div class=\"card-title\"></div>\r\n            </div>\r\n            <div class=\"activity-list\">\r\n              <div v-for=\"item in activities\" :key=\"item.id\" class=\"activity-item\">\r\n                <div class=\"activity-bullet\" :class=\"item.type\"></div>\r\n                <div class=\"activity-main\">\r\n                  <div class=\"activity-text\">{{ item.text }}</div>\r\n                  <div class=\"activity-meta\">{{ item.time }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          </div>\r\n\r\n          <!--  -->\r\n          <KnowledgeBaseCatalog \r\n            v-else-if=\"activeTab==='catalog'\" \r\n            :archiveRows=\"archiveRows\" \r\n            :projectId=\"projectId\" \r\n            @file-uploaded=\"handleFileUploaded\"\r\n            @file-deleted=\"handleFileDeleted\"\r\n            @file-edited=\"handleFileEdited\"\r\n          />\r\n\r\n          <!--  -->\r\n          <KnowledgeBaseCabinet v-else-if=\"activeTab==='cabinet'\" :projectId=\"projectId\" @document-created=\"handleDocumentCreated\" />\r\n\r\n          <!-- AI  -->\r\n          <KnowledgeBaseAI v-else :projectId=\"projectId\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport KnowledgeBaseCatalog from './KnowledgeBaseCatalog.vue'\r\nimport KnowledgeBaseCabinet from './KnowledgeBaseCabinet.vue'\r\nimport KnowledgeBaseAI from './KnowledgeBaseAI.vue'\r\nimport { knowledgeAPI } from '@/api/knowledge'\r\nimport { projectAPI } from '@/api/project'\r\nimport '@/assets/styles/ProjectKnowledge.css'\r\n\r\nexport default {\r\n  name: 'ProjectKnowledge',\r\n  components: {\r\n    KnowledgeBaseCatalog,\r\n    KnowledgeBaseCabinet,\r\n    KnowledgeBaseAI\r\n  },\r\n  data() {\r\n    return {\r\n      activeTab: 'home',\r\n      projectId: null,\r\n      projectName: '...',\r\n      achievementsCount: 0,\r\n      documentsCount: 0,\r\n      teamMembersCount: 0,\r\n      onlineMembersCount: 0,\r\n      activities: [\r\n        { id: 1, type: 'doc', text: 'AI', time: '2' },\r\n        { id: 2, type: 'update', text: 'V2.1', time: '3' },\r\n        { id: 3, type: 'ai', text: 'AI', time: '1' },\r\n        { id: 4, type: 'edit', text: 'AI', time: '2' },\r\n        { id: 5, type: 'delete', text: '', time: '3' }\r\n      ],\r\n      archiveRows: [\r\n        { id: 1, name: 'AI.pdf', type: '', uploader: '', time: '2023-11-15 14:30', typeCls: 'doc' },\r\n        { id: 2, name: '.docx', type: '', uploader: '', time: '2023-11-10 09:15', typeCls: 'patent' },\r\n        { id: 3, name: '.csv', type: '', uploader: '', time: '2023-11-05 16:45', typeCls: 'dataset' },\r\n        { id: 4, name: '_v2.pkl', type: '', uploader: '', time: '2023-10-28 11:20', typeCls: 'model' },\r\n        { id: 5, name: '.pdf', type: '', uploader: '', time: '2023-10-22 13:40', typeCls: 'report' }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    // \r\n    totalDocuments() {\r\n      return this.documentsCount > 0 ? this.documentsCount : this.getDocumentsCount()\r\n    },\r\n    \r\n    // \r\n    editingDocuments() {\r\n      return this.getEditingDocumentsCount()\r\n    }\r\n  },\r\n  mounted() {\r\n    this.projectId = this.$route.params.id\r\n    console.log('ProjectKnowledge mounted, projectId:', this.projectId)\r\n    this.loadProjectName()\r\n    // \r\n    this.loadFromLocalStorage()\r\n    // \r\n    this.initializeProjectData()\r\n    \r\n    // \r\n    if (this.projectId) {\r\n      try {\r\n        // \r\n        const cached = localStorage.getItem(`project_member_count_${this.projectId}`)\r\n        const cachedNum = cached ? parseInt(cached, 10) : NaN\r\n        if (!isNaN(cachedNum) && cachedNum > 0) {\r\n          this.teamMembersCount = cachedNum\r\n          this.onlineMembersCount = Math.floor(this.teamMembersCount * 0.67)\r\n          console.log(':', this.teamMembersCount)\r\n        }\r\n        \r\n        // \r\n        const docsStorageKey = `knowledgeBaseDocs_${this.projectId}`\r\n        const docsSaved = localStorage.getItem(docsStorageKey)\r\n        if (docsSaved) {\r\n          const docsData = JSON.parse(docsSaved)\r\n          if (docsData.docs && Array.isArray(docsData.docs)) {\r\n            this.documentsCount = docsData.docs.length\r\n            console.log(':', this.documentsCount)\r\n          }\r\n        }\r\n      } catch (e) {\r\n        console.warn(':', e)\r\n      }\r\n    }\r\n    \r\n    //  nextTick  projectId \r\n    this.$nextTick(() => {\r\n      // \r\n      this.loadStats()\r\n    })\r\n  },\r\n  beforeDestroy() {\r\n    // \r\n    this.saveToLocalStorage()\r\n  },\r\n  methods: {\r\n    goBack() {\r\n      this.$router.go(-1)\r\n    },\r\n    goTab(tab) {\r\n      if (this.activeTab === tab) return\r\n      this.activeTab = tab\r\n    },\r\n    async loadProjectName() {\r\n      // API\r\n      if (!this.projectId) {\r\n        this.projectName = '...'\r\n        return\r\n      }\r\n      \r\n      try {\r\n        const response = await projectAPI.getProjectById(this.projectId)\r\n        \r\n        if (response && response.code === 200 && response.data) {\r\n          // API\r\n          this.projectName = response.data.name || ''\r\n          console.log('API:', this.projectName)\r\n          return\r\n        }\r\n      } catch (error) {\r\n        console.error('APIlocalStorage:', error)\r\n      }\r\n      \r\n      // APIlocalStorage\r\n      const savedProjects = localStorage.getItem('projects')\r\n      console.log(' - ID:', this.projectId, ':', typeof this.projectId)\r\n      console.log('localStorage:', savedProjects)\r\n      \r\n      if (savedProjects) {\r\n        try {\r\n          const projects = JSON.parse(savedProjects)\r\n          console.log(':', projects)\r\n          console.log('ID:', projects.map(p => ({ id: p.id, type: typeof p.id })))\r\n          \r\n          // ID\r\n          const project = projects.find(p => String(p.id) === String(this.projectId))\r\n          \r\n          if (project) {\r\n            // nametitle\r\n            this.projectName = project.name || project.title || ''\r\n            console.log(':', this.projectName, ':', project)\r\n          } else {\r\n            this.projectName = ''\r\n            console.log('ID:', this.projectId, 'ID:', projects.map(p => p.id))\r\n          }\r\n        } catch (error) {\r\n          console.error(':', error)\r\n          this.projectName = ''\r\n        }\r\n      } else {\r\n        this.projectName = ''\r\n        console.log('localStorage')\r\n      }\r\n    },\r\n    \r\n    \r\n    handleFileUploaded(file) {\r\n      // \r\n      const newActivity = {\r\n        id: Date.now(),\r\n        type: 'doc',\r\n        text: `${file.type}${file.name}`,\r\n        time: ''\r\n      }\r\n      this.activities.unshift(newActivity)\r\n      \r\n      // \r\n      this.saveToLocalStorage()\r\n      \r\n      // \r\n      this.loadAchievementsCount()\r\n    },\r\n    \r\n    handleDocumentCreated(doc) {\r\n      // \r\n      const newActivity = {\r\n        id: Date.now(),\r\n        type: 'update',\r\n        text: `${doc.title}`,\r\n        time: ''\r\n      }\r\n      this.activities.unshift(newActivity)\r\n      \r\n      // \r\n      this.saveToLocalStorage()\r\n      \r\n      // \r\n      this.loadDocumentsCount()\r\n      \r\n      // \r\n      this.updateStats()\r\n    },\r\n    \r\n    handleFileDeleted(file) {\r\n      // \r\n      const newActivity = {\r\n        id: Date.now(),\r\n        type: 'delete',\r\n        text: `${file.type}${file.name}`,\r\n        time: ''\r\n      }\r\n      this.activities.unshift(newActivity)\r\n      \r\n      // \r\n      this.saveToLocalStorage()\r\n      \r\n      // \r\n      this.loadAchievementsCount()\r\n    },\r\n    \r\n    handleFileEdited(file) {\r\n      // \r\n      const newActivity = {\r\n        id: Date.now(),\r\n        type: 'edit',\r\n        text: `${file.type}${file.name}`,\r\n        time: ''\r\n      }\r\n      this.activities.unshift(newActivity)\r\n      \r\n      // \r\n      this.saveToLocalStorage()\r\n      \r\n      // \r\n    },\r\n    \r\n    async loadStats() {\r\n      // \r\n      await Promise.all([\r\n        this.loadAchievementsCount(),\r\n        this.loadDocumentsCount(),\r\n        this.loadTeamMembersCount()\r\n      ])\r\n    },\r\n    \r\n    /**\r\n     * \r\n     */\r\n    async loadAchievementsCount() {\r\n      if (!this.projectId) {\r\n        console.warn('projectId')\r\n        return\r\n      }\r\n      \r\n      try {\r\n        console.log(', projectId:', this.projectId)\r\n        const response = await knowledgeAPI.getProjectAchievements(this.projectId, 0, 1)\r\n        console.log(':', response)\r\n        \r\n        if (response && response.code === 200 && response.data) {\r\n          // totalElements  total\r\n          this.achievementsCount = response.data.totalElements || response.data.total || 0\r\n          console.log(':', this.achievementsCount)\r\n        } else {\r\n          console.warn(':', response)\r\n          this.achievementsCount = 0\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        this.achievementsCount = 0\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * localStorage\r\n     */\r\n    loadDocumentsCount() {\r\n      if (!this.projectId) {\r\n        console.warn('projectId')\r\n        this.documentsCount = 0\r\n        return\r\n      }\r\n      \r\n      try {\r\n        const storageKey = `knowledgeBaseDocs_${this.projectId}`\r\n        const saved = localStorage.getItem(storageKey)\r\n        if (saved) {\r\n          const data = JSON.parse(saved)\r\n          const count = data.docs && Array.isArray(data.docs) ? data.docs.length : 0\r\n          this.documentsCount = count\r\n          console.log(' :', this.documentsCount, '')\r\n        } else {\r\n          // 0\r\n          this.documentsCount = 0\r\n          console.log('')\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n        this.documentsCount = 0\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * \r\n     * 1.  2. API  3.  1\r\n     */\r\n    async getTeamSize(projectId) {\r\n      if (!projectId) {\r\n        return 1\r\n      }\r\n      \r\n      // 1)  ProjectDetail  ProjectSquare \r\n      try {\r\n        const cached = localStorage.getItem(`project_member_count_${projectId}`)\r\n        const cachedNum = cached ? parseInt(cached, 10) : NaN\r\n        if (!isNaN(cachedNum) && cachedNum > 0) {\r\n          console.log(` ${projectId} :`, cachedNum)\r\n          return cachedNum\r\n        }\r\n      } catch (e) {\r\n        console.warn(':', e)\r\n      }\r\n      \r\n      // 2)  API \r\n      try {\r\n        console.log('API', projectId, '')\r\n        const response = await projectAPI.getProjectMembers(projectId, 0, 1000)\r\n        \r\n        if (response && response.code === 200) {\r\n          let memberCount = 0\r\n          if (response.data && response.data.content) {\r\n            // Spring Data Page\r\n            memberCount = response.data.content.length\r\n          } else if (Array.isArray(response.data)) {\r\n            // \r\n            memberCount = response.data.length\r\n          }\r\n          \r\n          // \r\n          if (memberCount > 0) {\r\n            try {\r\n              localStorage.setItem(`project_member_count_${projectId}`, String(memberCount))\r\n              console.log(`  ${projectId} :`, memberCount)\r\n            } catch (e) {\r\n              console.warn(':', e?.message || e)\r\n            }\r\n          }\r\n          \r\n          return memberCount > 0 ? memberCount : 1\r\n        }\r\n      } catch (error) {\r\n        console.warn(` ${projectId} :`, error)\r\n      }\r\n      \r\n      // 3)  1\r\n      return 1\r\n    },\r\n    \r\n    /**\r\n     * \r\n     */\r\n    async loadTeamMembersCount() {\r\n      const projectId = this.projectId || this.$route.params.id\r\n      if (!projectId) {\r\n        console.warn('projectId')\r\n        this.teamMembersCount = 1\r\n        this.onlineMembersCount = 0\r\n        return\r\n      }\r\n      \r\n      // \r\n      this.teamMembersCount = await this.getTeamSize(projectId)\r\n      \r\n      // \r\n      try {\r\n        const response = await projectAPI.getProjectMembers(projectId, 0, 1000)\r\n        if (response && response.code === 200) {\r\n          let members = []\r\n          if (response.data && response.data.content) {\r\n            members = response.data.content\r\n          } else if (Array.isArray(response.data)) {\r\n            members = response.data\r\n          }\r\n          \r\n          // \r\n          // isOnline, is_online, online, onlineStatus, status === 'ONLINE' \r\n          const onlineCount = members.filter(member => {\r\n            // \r\n            if (member.isOnline === true || member.is_online === true || member.online === true) {\r\n              return true\r\n            }\r\n            if (member.onlineStatus === 'ONLINE' || member.onlineStatus === 'online') {\r\n              return true\r\n            }\r\n            if (member.status === 'ONLINE' || member.status === 'online' || member.status === 'active') {\r\n              return true\r\n            }\r\n            //  false\r\n            return false\r\n          }).length\r\n          \r\n          // \r\n          if (members.length > 0 && (members[0].hasOwnProperty('isOnline') || \r\n                                      members[0].hasOwnProperty('is_online') || \r\n                                      members[0].hasOwnProperty('online') ||\r\n                                      members[0].hasOwnProperty('onlineStatus') ||\r\n                                      members[0].hasOwnProperty('status'))) {\r\n            this.onlineMembersCount = onlineCount\r\n            console.log(' :', this.onlineMembersCount, ':', this.teamMembersCount, '')\r\n          } else {\r\n            // 67% \r\n            this.onlineMembersCount = Math.floor(this.teamMembersCount * 0.67)\r\n            console.log(' :', this.onlineMembersCount, ':', this.teamMembersCount, '')\r\n          }\r\n        } else {\r\n          // API \r\n          this.onlineMembersCount = Math.floor(this.teamMembersCount * 0.67)\r\n          console.log(' API:', this.onlineMembersCount, '')\r\n        }\r\n      } catch (error) {\r\n        console.warn(':', error)\r\n        // \r\n        this.onlineMembersCount = Math.floor(this.teamMembersCount * 0.67)\r\n      }\r\n      \r\n      console.log(' :', this.teamMembersCount, ', :', this.onlineMembersCount, '')\r\n    },\r\n    \r\n    updateStats() {\r\n      // \r\n      this.loadStats()\r\n    },\r\n    \r\n    // \r\n    saveToLocalStorage() {\r\n      try {\r\n        const dataToSave = {\r\n          activities: this.activities,\r\n          projectId: this.projectId\r\n        }\r\n        localStorage.setItem(`projectKnowledge_${this.projectId}`, JSON.stringify(dataToSave))\r\n        console.log('')\r\n      } catch (error) {\r\n        console.error(':', error)\r\n      }\r\n    },\r\n    \r\n    loadFromLocalStorage() {\r\n      try {\r\n        const saved = localStorage.getItem(`projectKnowledge_${this.projectId}`)\r\n        if (saved) {\r\n          const data = JSON.parse(saved)\r\n          if (data.activities && Array.isArray(data.activities)) {\r\n            this.activities = data.activities\r\n            console.log('')\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n      }\r\n    },\r\n    \r\n    // \r\n    getUploadedFilesCount() {\r\n      try {\r\n        const storageKey = this.projectId ? `knowledgeBaseCatalog_${this.projectId}` : 'knowledgeBaseCatalog'\r\n        const saved = localStorage.getItem(storageKey)\r\n        if (saved) {\r\n          const data = JSON.parse(saved)\r\n          return data.uploadedFiles ? data.uploadedFiles.length : 0\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n      }\r\n      return 0\r\n    },\r\n    \r\n    // \r\n    getDocumentsCount() {\r\n      try {\r\n        const storageKey = this.projectId ? `knowledgeBaseDocs_${this.projectId}` : 'knowledgeBaseDocs'\r\n        const saved = localStorage.getItem(storageKey)\r\n        if (saved) {\r\n          const data = JSON.parse(saved)\r\n          return data.docs ? data.docs.length : 0\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error)\r\n      }\r\n      return 0\r\n    },\r\n    \r\n    // \r\n    getEditingDocumentsCount() {\r\n      // \r\n      // \r\n      return Math.min(5, Math.floor(this.getDocumentsCount() * 0.1))\r\n    },\r\n    \r\n    // \r\n    initializeProjectData() {\r\n      if (!this.projectId) return\r\n      \r\n      // \r\n      const projectData = this.getProjectSpecificData(this.projectId)\r\n      \r\n      // \r\n      this.initializeCatalogData(projectData.catalog)\r\n      \r\n      // \r\n      this.initializeCabinetData(projectData.cabinet)\r\n    },\r\n    \r\n    // \r\n    getProjectSpecificData(projectId) {\r\n      const projectDataMap = {\r\n        '1': { // \r\n          catalog: [\r\n            { id: 1, name: '_v1.0.zip', type: '', uploader: '', time: '2023-11-15 14:30', typeCls: 'dataset' },\r\n            { id: 2, name: 'CT.pdf', type: '', uploader: '', time: '2023-11-10 09:15', typeCls: 'doc' },\r\n            { id: 3, name: 'MRI.pkl', type: '', uploader: '', time: '2023-11-05 16:45', typeCls: 'model' }\r\n          ],\r\n          cabinet: [\r\n            { id: 1, title: '', updated: '20231115', content: '\\n\\n1. ...\\n2. ...\\n3. ...' },\r\n            { id: 2, title: '', updated: '20231110', content: '\\n\\n1. ...\\n2. ...\\n3. ...' }\r\n          ]\r\n        },\r\n        '2': { // \r\n          catalog: [\r\n            { id: 1, name: '.pdf', type: '', uploader: '', time: '2023-11-12 10:20', typeCls: 'report' },\r\n            { id: 2, name: '.csv', type: '', uploader: '', time: '2023-11-08 15:30', typeCls: 'dataset' },\r\n            { id: 3, name: '.docx', type: '', uploader: '', time: '2023-11-03 11:45', typeCls: 'patent' }\r\n          ],\r\n          cabinet: [\r\n            { id: 1, title: '', updated: '20231112', content: '\\n\\n1. ...\\n2. ...\\n3. ...' },\r\n            { id: 2, title: '', updated: '20231108', content: '\\n\\n1. ...\\n2. ...\\n3. ...' }\r\n          ]\r\n        },\r\n        '3': { // \r\n          catalog: [\r\n            { id: 1, name: '.py', type: '', uploader: '', time: '2023-11-14 13:25', typeCls: 'model' },\r\n            { id: 2, name: '.pdf', type: '', uploader: '', time: '2023-11-09 16:10', typeCls: 'doc' },\r\n            { id: 3, name: '.xlsx', type: '', uploader: '', time: '2023-11-06 09:40', typeCls: 'dataset' }\r\n          ],\r\n          cabinet: [\r\n            { id: 1, title: '', updated: '20231114', content: '\\n\\n1. ...\\n2. ...\\n3. ...' },\r\n            { id: 2, title: '', updated: '20231109', content: '\\n\\n1. ...\\n2. ...\\n3. ...' }\r\n          ]\r\n        }\r\n      }\r\n      \r\n      return projectDataMap[projectId] || {\r\n        catalog: [],\r\n        cabinet: []\r\n      }\r\n    },\r\n    \r\n    // \r\n    initializeCatalogData(catalogData) {\r\n      if (!catalogData || catalogData.length === 0) return\r\n      \r\n      // \r\n      const storageKey = `knowledgeBaseCatalog_${this.projectId}`\r\n      const existing = localStorage.getItem(storageKey)\r\n      if (!existing) {\r\n        const initialData = {\r\n          uploadedFiles: catalogData,\r\n          currentPage: 1\r\n        }\r\n        localStorage.setItem(storageKey, JSON.stringify(initialData))\r\n        console.log(` ${this.projectId} `)\r\n      }\r\n    },\r\n    \r\n    // \r\n    initializeCabinetData(cabinetData) {\r\n      if (!cabinetData || cabinetData.length === 0) return\r\n      \r\n      // \r\n      const storageKey = `knowledgeBaseDocs_${this.projectId}`\r\n      const existing = localStorage.getItem(storageKey)\r\n      if (!existing) {\r\n        const initialData = {\r\n          docs: cabinetData,\r\n          activeId: cabinetData[0]?.id || 1,\r\n          hasUnsavedChanges: false\r\n        }\r\n        localStorage.setItem(storageKey, JSON.stringify(initialData))\r\n        console.log(` ${this.projectId} `)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProjectKnowledge.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProjectKnowledge.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProjectKnowledge.vue?vue&type=template&id=5520404b\"\nimport script from \"./ProjectKnowledge.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectKnowledge.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Login from '../views/Login.vue'\r\nimport Register from '../views/Register.vue'\r\nimport ForgotPassword from '../views/ForgotPassword.vue'\r\nimport Home from '../views/Home.vue'\r\nimport ProjectSquare from '../views/ProjectSquare.vue'\r\nimport ProjectCreate from '../views/ProjectCreate.vue'\r\nimport KnowledgeBase from '../views/KnowledgeBase.vue'\r\nimport KnowledgeBaseCatalog from '../views/KnowledgeBaseCatalog.vue'\r\nimport KnowledgeBaseCabinet from '../views/KnowledgeBaseCabinet.vue'\r\nimport KnowledgeBaseAI from '../views/KnowledgeBaseAI.vue'\r\nimport AIAssistant from '../views/AIAssistant.vue'\r\nimport Profile from '../views/Profile.vue'\r\nimport ProjectDetail from '../views/ProjectDetail.vue'\r\nimport ProjectKnowledge from '../views/ProjectKnowledge.vue'\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    redirect: '/home'\r\n  },\r\n  {\r\n    path: '/login',\r\n    name: 'Login',\r\n    component: Login\r\n  },\r\n  {\r\n    path: '/register',\r\n    name: 'Register',\r\n    component: Register\r\n  },\r\n  {\r\n    path: '/forgot-password',\r\n    name: 'ForgotPassword',\r\n    component: ForgotPassword\r\n  },\r\n  {\r\n    path: '/home',\r\n    name: 'Home',\r\n    component: Home\r\n  },\r\n  {\r\n    path: '/project-square',\r\n    name: 'ProjectSquare',\r\n    component: ProjectSquare\r\n  },\r\n  {\r\n    path: '/project-create',\r\n    name: 'ProjectCreate',\r\n    component: ProjectCreate\r\n  },\r\n  {\r\n    path: '/project-detail/:id',\r\n    name: 'ProjectDetail',\r\n    component: ProjectDetail\r\n  },\r\n  {\r\n    path: '/project-knowledge/:id',\r\n    name: 'ProjectKnowledge',\r\n    component: ProjectKnowledge\r\n  },\r\n  {\r\n    path: '/knowledge-base',\r\n    name: 'KnowledgeBase',\r\n    component: KnowledgeBase,\r\n    children: [\r\n      { path: 'home', component: { render: h => h('div') } },\r\n      { path: 'catalog', component: KnowledgeBaseCatalog },\r\n      { path: 'cabinet', component: KnowledgeBaseCabinet },\r\n      { path: 'ai', component: KnowledgeBaseAI }\r\n    ]\r\n  },\r\n  {\r\n    path: '/ai-assistant',\r\n    name: 'AIAssistant',\r\n    component: AIAssistant\r\n  },\r\n  {\r\n    path: '/profile',\r\n    name: 'Profile',\r\n    component: Profile\r\n  },\r\n]\r\n\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  base: process.env.BASE_URL,\r\n  routes\r\n})\r\n\r\n// \r\nrouter.beforeEach((to, from, next) => {\r\n  const token = localStorage.getItem('access_token')\r\n  const userInfo = localStorage.getItem('user_info')\r\n  const isAuthenticated = !!(token && userInfo)\r\n  \r\n  console.log(':', {\r\n    to: to.path,\r\n    from: from.path,\r\n    isAuthenticated,\r\n    token: !!token,\r\n    userInfo: !!userInfo\r\n  })\r\n  \r\n  // \r\n  if (to.path === from.path) {\r\n    console.log('')\r\n    next()\r\n    return\r\n  }\r\n  \r\n  //  - \r\n  if (to.path === '/login') {\r\n    if (isAuthenticated) {\r\n      console.log('')\r\n      next({ path: '/home', replace: true })\r\n    } else {\r\n      console.log('')\r\n      next()\r\n    }\r\n    return\r\n  }\r\n  \r\n  //  - \r\n  if (to.path === '/register' || to.path === '/forgot-password') {\r\n    console.log('/')\r\n    next()\r\n    return\r\n  }\r\n  \r\n  // \r\n  const guestAllowedPages = ['/home', '/project-square', '/profile']\r\n  if (guestAllowedPages.includes(to.path)) {\r\n    console.log('')\r\n    next()\r\n    return\r\n  }\r\n  \r\n  // \r\n  const authRequiredPages = [\r\n    '/project-create',\r\n    '/ai-assistant',\r\n    '/knowledge-base',\r\n    '/project-detail',\r\n    '/project-knowledge',\r\n    '/project'\r\n  ]\r\n  \r\n  const needsAuth = authRequiredPages.some(page => to.path.startsWith(page))\r\n  \r\n  if (needsAuth) {\r\n    if (!isAuthenticated) {\r\n      console.log('')\r\n      // replace\r\n      next({ path: '/login', replace: true })\r\n    } else {\r\n      console.log('')\r\n      next()\r\n    }\r\n    return\r\n  }\r\n  \r\n  // \r\n  console.log('')\r\n  next()\r\n})\r\n\r\nexport default router\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('button',{class:_vm.buttonClasses,attrs:{\"disabled\":_vm.disabled || _vm.loading,\"type\":_vm.type},on:{\"click\":_vm.handleClick}},[(_vm.loading)?_c('svg',{staticClass:\"animate-spin -ml-1 mr-2 h-4 w-4\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\"}},[_c('circle',{staticClass:\"opacity-25\",attrs:{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"10\",\"stroke\":\"currentColor\",\"stroke-width\":\"4\"}}),_c('path',{staticClass:\"opacity-75\",attrs:{\"fill\":\"currentColor\",\"d\":\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"}})]):_vm._e(),(!_vm.loading)?_vm._t(\"default\",function(){return [_vm._v(_vm._s(_vm.text))]}):_vm._e(),(_vm.loading)?_c('span',{staticClass:\"ml-2\"},[_vm._v(_vm._s(_vm.loadingText))]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <button\r\n    :class=\"buttonClasses\"\r\n    :disabled=\"disabled || loading\"\r\n    @click=\"handleClick\"\r\n    :type=\"type\"\r\n  >\r\n    <svg\r\n      v-if=\"loading\"\r\n      class=\"animate-spin -ml-1 mr-2 h-4 w-4\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"none\"\r\n      viewBox=\"0 0 24 24\"\r\n    >\r\n      <circle\r\n        class=\"opacity-25\"\r\n        cx=\"12\"\r\n        cy=\"12\"\r\n        r=\"10\"\r\n        stroke=\"currentColor\"\r\n        stroke-width=\"4\"\r\n      ></circle>\r\n      <path\r\n        class=\"opacity-75\"\r\n        fill=\"currentColor\"\r\n        d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n      ></path>\r\n    </svg>\r\n    <slot v-if=\"!loading\">{{ text }}</slot>\r\n    <span v-if=\"loading\" class=\"ml-2\">{{ loadingText }}</span>\r\n  </button>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Button',\r\n  props: {\r\n    variant: {\r\n      type: String,\r\n      default: 'primary',\r\n      validator: value => ['primary', 'secondary', 'success', 'warning', 'error', 'ghost'].includes(value)\r\n    },\r\n    size: {\r\n      type: String,\r\n      default: 'md',\r\n      validator: value => ['sm', 'md', 'lg', 'xl'].includes(value)\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    loading: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    loadingText: {\r\n      type: String,\r\n      default: '...'\r\n    },\r\n    text: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: 'button'\r\n    },\r\n    fullWidth: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  computed: {\r\n    buttonClasses() {\r\n      const baseClasses = [\r\n        'btn',\r\n        `btn-${this.variant}`,\r\n        `btn-${this.size}`,\r\n        this.fullWidth ? 'btn-full' : '',\r\n        this.loading ? 'btn-loading' : ''\r\n      ].filter(Boolean)\r\n\r\n      return baseClasses.join(' ')\r\n    }\r\n  },\r\n  methods: {\r\n    handleClick(event) {\r\n      if (!this.disabled && !this.loading) {\r\n        this.$emit('click', event)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.btn {\r\n  @apply inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;\r\n}\r\n\r\n/*  */\r\n.btn-sm {\r\n  @apply px-3 py-1.5 text-sm;\r\n}\r\n\r\n.btn-md {\r\n  @apply px-4 py-2 text-sm;\r\n}\r\n\r\n.btn-lg {\r\n  @apply px-6 py-3 text-base;\r\n}\r\n\r\n.btn-xl {\r\n  @apply px-8 py-4 text-lg;\r\n}\r\n\r\n/*  */\r\n.btn-primary {\r\n  @apply bg-gradient-to-r from-blue-600 to-blue-700 text-white border-0 shadow-sm hover:from-blue-700 hover:to-blue-800 hover:shadow-md focus:ring-blue-500;\r\n}\r\n\r\n.btn-secondary {\r\n  @apply bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200 hover:border-gray-400 focus:ring-gray-500;\r\n}\r\n\r\n.btn-success {\r\n  @apply bg-gradient-to-r from-green-600 to-green-700 text-white border-0 shadow-sm hover:from-green-700 hover:to-green-800 hover:shadow-md focus:ring-green-500;\r\n}\r\n\r\n.btn-warning {\r\n  @apply bg-gradient-to-r from-yellow-500 to-yellow-600 text-white border-0 shadow-sm hover:from-yellow-600 hover:to-yellow-700 hover:shadow-md focus:ring-yellow-500;\r\n}\r\n\r\n.btn-error {\r\n  @apply bg-gradient-to-r from-red-600 to-red-700 text-white border-0 shadow-sm hover:from-red-700 hover:to-red-800 hover:shadow-md focus:ring-red-500;\r\n}\r\n\r\n.btn-ghost {\r\n  @apply bg-transparent text-gray-700 border border-gray-300 hover:bg-gray-50 hover:border-gray-400 focus:ring-gray-500;\r\n}\r\n\r\n/*  */\r\n.btn-full {\r\n  @apply w-full;\r\n}\r\n\r\n/*  */\r\n.btn-loading {\r\n  @apply cursor-wait;\r\n}\r\n\r\n/*  */\r\n.animate-spin {\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n/*  */\r\n.btn:hover:not(:disabled) {\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.btn:active:not(:disabled) {\r\n  transform: translateY(0);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Button.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Button.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Button.vue?vue&type=template&id=522651d6&scoped=true\"\nimport script from \"./Button.vue?vue&type=script&lang=js\"\nexport * from \"./Button.vue?vue&type=script&lang=js\"\nimport style0 from \"./Button.vue?vue&type=style&index=0&id=522651d6&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"522651d6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:_vm.cardClasses,on:{\"click\":_vm.handleClick}},[(_vm.$slots.header)?_c('div',{staticClass:\"card-header\"},[_vm._t(\"header\")],2):_vm._e(),(_vm.$slots.media)?_c('div',{staticClass:\"card-media\"},[_vm._t(\"media\")],2):_vm._e(),_c('div',{staticClass:\"card-body\"},[_vm._t(\"default\")],2),(_vm.$slots.footer)?_c('div',{staticClass:\"card-footer\"},[_vm._t(\"footer\")],2):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div :class=\"cardClasses\" @click=\"handleClick\">\r\n    <div v-if=\"$slots.header\" class=\"card-header\">\r\n      <slot name=\"header\"></slot>\r\n    </div>\r\n    \r\n    <div v-if=\"$slots.media\" class=\"card-media\">\r\n      <slot name=\"media\"></slot>\r\n    </div>\r\n    \r\n    <div class=\"card-body\">\r\n      <slot></slot>\r\n    </div>\r\n    \r\n    <div v-if=\"$slots.footer\" class=\"card-footer\">\r\n      <slot name=\"footer\"></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Card',\r\n  props: {\r\n    variant: {\r\n      type: String,\r\n      default: 'default',\r\n      validator: value => ['default', 'elevated', 'outlined', 'filled'].includes(value)\r\n    },\r\n    hover: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    clickable: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    padding: {\r\n      type: String,\r\n      default: 'md',\r\n      validator: value => ['none', 'sm', 'md', 'lg', 'xl'].includes(value)\r\n    }\r\n  },\r\n  computed: {\r\n    cardClasses() {\r\n      const baseClasses = [\r\n        'card',\r\n        `card-${this.variant}`,\r\n        `card-padding-${this.padding}`,\r\n        this.hover ? 'card-hover' : '',\r\n        this.clickable ? 'card-clickable' : ''\r\n      ].filter(Boolean)\r\n\r\n      return baseClasses.join(' ')\r\n    }\r\n  },\r\n  methods: {\r\n    handleClick(event) {\r\n      if (this.clickable) {\r\n        this.$emit('click', event)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card {\r\n  @apply bg-white rounded-xl border border-gray-200 overflow-hidden transition-all duration-200;\r\n}\r\n\r\n/*  */\r\n.card-default {\r\n  @apply shadow-sm;\r\n}\r\n\r\n.card-elevated {\r\n  @apply shadow-lg;\r\n}\r\n\r\n.card-outlined {\r\n  @apply shadow-none border-2;\r\n}\r\n\r\n.card-filled {\r\n  @apply bg-gray-50 shadow-none border-0;\r\n}\r\n\r\n/*  */\r\n.card-padding-none {\r\n  @apply p-0;\r\n}\r\n\r\n.card-padding-sm {\r\n  @apply p-3;\r\n}\r\n\r\n.card-padding-md {\r\n  @apply p-4;\r\n}\r\n\r\n.card-padding-lg {\r\n  @apply p-6;\r\n}\r\n\r\n.card-padding-xl {\r\n  @apply p-8;\r\n}\r\n\r\n/*  */\r\n.card-hover:hover {\r\n  @apply shadow-md transform -translate-y-1;\r\n}\r\n\r\n/*  */\r\n.card-clickable {\r\n  @apply cursor-pointer;\r\n}\r\n\r\n.card-clickable:hover {\r\n  @apply border-blue-300;\r\n}\r\n\r\n/*  */\r\n.card-header {\r\n  @apply px-4 py-3 border-b border-gray-200 bg-gray-50;\r\n}\r\n\r\n.card-media {\r\n  @apply w-full;\r\n}\r\n\r\n.card-body {\r\n  @apply flex-1;\r\n}\r\n\r\n.card-footer {\r\n  @apply px-4 py-3 border-t border-gray-200 bg-gray-50;\r\n}\r\n\r\n/*  */\r\n@media (max-width: 640px) {\r\n  .card-padding-lg {\r\n    @apply p-4;\r\n  }\r\n  \r\n  .card-padding-xl {\r\n    @apply p-6;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Card.vue?vue&type=template&id=29787730&scoped=true\"\nimport script from \"./Card.vue?vue&type=script&lang=js\"\nexport * from \"./Card.vue?vue&type=script&lang=js\"\nimport style0 from \"./Card.vue?vue&type=style&index=0&id=29787730&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29787730\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"input-group\"},[(_vm.label)?_c('label',{staticClass:\"input-label\",attrs:{\"for\":_vm.inputId}},[_vm._v(\" \"+_vm._s(_vm.label)+\" \"),(_vm.required)?_c('span',{staticClass:\"text-red-500 ml-1\"},[_vm._v(\"*\")]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"input-wrapper\",class:{ 'input-error': _vm.hasError, 'input-disabled': _vm.disabled }},[(_vm.$slots.prefix)?_c('div',{staticClass:\"input-prefix\"},[_vm._t(\"prefix\")],2):_vm._e(),_c('input',{staticClass:\"input-field\",attrs:{\"id\":_vm.inputId,\"type\":_vm.type,\"placeholder\":_vm.placeholder,\"disabled\":_vm.disabled,\"readonly\":_vm.readonly,\"required\":_vm.required,\"min\":_vm.min,\"max\":_vm.max,\"step\":_vm.step,\"minlength\":_vm.minlength,\"maxlength\":_vm.maxlength,\"pattern\":_vm.pattern,\"autocomplete\":_vm.autocomplete},domProps:{\"value\":_vm.modelValue},on:{\"input\":_vm.handleInput,\"focus\":_vm.handleFocus,\"blur\":_vm.handleBlur,\"keydown\":_vm.handleKeydown}}),(_vm.$slots.suffix)?_c('div',{staticClass:\"input-suffix\"},[_vm._t(\"suffix\")],2):_vm._e(),(_vm.clearable && _vm.modelValue && !_vm.disabled)?_c('div',{staticClass:\"input-clear\",on:{\"click\":_vm.handleClear}},[_c('svg',{staticClass:\"w-4 h-4\",attrs:{\"fill\":\"none\",\"stroke\":\"currentColor\",\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",\"d\":\"M6 18L18 6M6 6l12 12\"}})])]):_vm._e()]),(_vm.helpText || _vm.hasError)?_c('div',{staticClass:\"input-help\"},[(_vm.hasError)?_c('span',{staticClass:\"text-red-600\"},[_vm._v(_vm._s(_vm.errorMessage))]):(_vm.helpText)?_c('span',{staticClass:\"text-gray-500\"},[_vm._v(_vm._s(_vm.helpText))]):_vm._e()]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"input-group\">\r\n    <label v-if=\"label\" :for=\"inputId\" class=\"input-label\">\r\n      {{ label }}\r\n      <span v-if=\"required\" class=\"text-red-500 ml-1\">*</span>\r\n    </label>\r\n    \r\n    <div class=\"input-wrapper\" :class=\"{ 'input-error': hasError, 'input-disabled': disabled }\">\r\n      <div v-if=\"$slots.prefix\" class=\"input-prefix\">\r\n        <slot name=\"prefix\"></slot>\r\n      </div>\r\n      \r\n      <input\r\n        :id=\"inputId\"\r\n        :type=\"type\"\r\n        :value=\"modelValue\"\r\n        :placeholder=\"placeholder\"\r\n        :disabled=\"disabled\"\r\n        :readonly=\"readonly\"\r\n        :required=\"required\"\r\n        :min=\"min\"\r\n        :max=\"max\"\r\n        :step=\"step\"\r\n        :minlength=\"minlength\"\r\n        :maxlength=\"maxlength\"\r\n        :pattern=\"pattern\"\r\n        :autocomplete=\"autocomplete\"\r\n        class=\"input-field\"\r\n        @input=\"handleInput\"\r\n        @focus=\"handleFocus\"\r\n        @blur=\"handleBlur\"\r\n        @keydown=\"handleKeydown\"\r\n      />\r\n      \r\n      <div v-if=\"$slots.suffix\" class=\"input-suffix\">\r\n        <slot name=\"suffix\"></slot>\r\n      </div>\r\n      \r\n      <div v-if=\"clearable && modelValue && !disabled\" class=\"input-clear\" @click=\"handleClear\">\r\n        <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n        </svg>\r\n      </div>\r\n    </div>\r\n    \r\n    <div v-if=\"helpText || hasError\" class=\"input-help\">\r\n      <span v-if=\"hasError\" class=\"text-red-600\">{{ errorMessage }}</span>\r\n      <span v-else-if=\"helpText\" class=\"text-gray-500\">{{ helpText }}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Input',\r\n  props: {\r\n    modelValue: {\r\n      type: [String, Number],\r\n      default: ''\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: 'text'\r\n    },\r\n    label: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    helpText: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    errorMessage: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    readonly: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    required: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    clearable: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    size: {\r\n      type: String,\r\n      default: 'md',\r\n      validator: value => ['sm', 'md', 'lg'].includes(value)\r\n    },\r\n    // HTML input \r\n    min: {\r\n      type: [String, Number],\r\n      default: undefined\r\n    },\r\n    max: {\r\n      type: [String, Number],\r\n      default: undefined\r\n    },\r\n    step: {\r\n      type: [String, Number],\r\n      default: undefined\r\n    },\r\n    minlength: {\r\n      type: [String, Number],\r\n      default: undefined\r\n    },\r\n    maxlength: {\r\n      type: [String, Number],\r\n      default: undefined\r\n    },\r\n    pattern: {\r\n      type: String,\r\n      default: undefined\r\n    },\r\n    autocomplete: {\r\n      type: String,\r\n      default: undefined\r\n    }\r\n  },\r\n  emits: ['update:modelValue', 'focus', 'blur', 'keydown', 'clear'],\r\n  computed: {\r\n    inputId() {\r\n      return `input-${this._uid}`\r\n    },\r\n    hasError() {\r\n      return !!this.errorMessage\r\n    }\r\n  },\r\n  methods: {\r\n    handleInput(event) {\r\n      this.$emit('update:modelValue', event.target.value)\r\n    },\r\n    handleFocus(event) {\r\n      this.$emit('focus', event)\r\n    },\r\n    handleBlur(event) {\r\n      this.$emit('blur', event)\r\n    },\r\n    handleKeydown(event) {\r\n      this.$emit('keydown', event)\r\n    },\r\n    handleClear() {\r\n      this.$emit('update:modelValue', '')\r\n      this.$emit('clear')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.input-group {\r\n  @apply w-full;\r\n}\r\n\r\n.input-label {\r\n  @apply block text-sm font-medium text-gray-700 mb-2;\r\n}\r\n\r\n.input-wrapper {\r\n  @apply relative flex items-center border border-gray-300 rounded-lg transition-all duration-200 focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500;\r\n}\r\n\r\n.input-wrapper.input-error {\r\n  @apply border-red-500 focus-within:ring-red-500 focus-within:border-red-500;\r\n}\r\n\r\n.input-wrapper.input-disabled {\r\n  @apply bg-gray-100 cursor-not-allowed;\r\n}\r\n\r\n.input-field {\r\n  @apply w-full px-3 py-2 text-sm text-gray-900 placeholder-gray-500 bg-transparent border-0 outline-none focus:ring-0;\r\n}\r\n\r\n.input-field:disabled {\r\n  @apply text-gray-500 cursor-not-allowed;\r\n}\r\n\r\n.input-field:read-only {\r\n  @apply cursor-default;\r\n}\r\n\r\n.input-prefix {\r\n  @apply pl-3 text-gray-500;\r\n}\r\n\r\n.input-suffix {\r\n  @apply pr-3 text-gray-500;\r\n}\r\n\r\n.input-clear {\r\n  @apply pr-3 text-gray-400 hover:text-gray-600 cursor-pointer transition-colors duration-200;\r\n}\r\n\r\n.input-help {\r\n  @apply mt-1 text-xs;\r\n}\r\n\r\n/*  */\r\n.input-wrapper.size-sm .input-field {\r\n  @apply px-2 py-1 text-xs;\r\n}\r\n\r\n.input-wrapper.size-lg .input-field {\r\n  @apply px-4 py-3 text-base;\r\n}\r\n\r\n/*  */\r\n@media (max-width: 640px) {\r\n  .input-wrapper.size-lg .input-field {\r\n    @apply px-3 py-2 text-sm;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Input.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Input.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Input.vue?vue&type=template&id=fe0570ce&scoped=true\"\nimport script from \"./Input.vue?vue&type=script&lang=js\"\nexport * from \"./Input.vue?vue&type=script&lang=js\"\nimport style0 from \"./Input.vue?vue&type=style&index=0&id=fe0570ce&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fe0570ce\",\n  null\n  \n)\n\nexport default component.exports","// \r\nimport { authAPI } from '@/api/auth'\r\nimport { saveLoginData, clearAuthData, getCurrentUser, isLoggedIn } from '@/utils/auth'\r\n\r\nconst state = {\r\n  user: null,\r\n  isAuthenticated: false,\r\n  loading: false\r\n}\r\n\r\nconst mutations = {\r\n  SET_USER(state, user) {\r\n    state.user = user\r\n    state.isAuthenticated = !!user\r\n  },\r\n  SET_LOADING(state, loading) {\r\n    state.loading = loading\r\n  },\r\n  CLEAR_AUTH(state) {\r\n    state.user = null\r\n    state.isAuthenticated = false\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  // \r\n  initAuth({ commit }) {\r\n    const user = getCurrentUser()\r\n    if (user && isLoggedIn()) {\r\n      commit('SET_USER', user)\r\n    }\r\n  },\r\n\r\n  // \r\n  async login({ commit }, loginData) {\r\n    commit('SET_LOADING', true)\r\n    try {\r\n      const response = await authAPI.login(loginData)\r\n      if (response.code === 200 && response.data) {\r\n        saveLoginData(response.data)\r\n        commit('SET_USER', response.data.userInfo)\r\n        return { success: true, data: response.data }\r\n      } else {\r\n        return { success: false, message: response.msg || '' }\r\n      }\r\n    } catch (error) {\r\n      return { success: false, message: error.message || '' }\r\n    } finally {\r\n      commit('SET_LOADING', false)\r\n    }\r\n  },\r\n\r\n  // \r\n  async register({ commit }, registerData) {\r\n    commit('SET_LOADING', true)\r\n    try {\r\n      const response = await authAPI.register(registerData)\r\n      if (response.code === 200) {\r\n        return { success: true, message: '' }\r\n      } else {\r\n        return { success: false, message: response.msg || '' }\r\n      }\r\n    } catch (error) {\r\n      return { success: false, message: error.message || '' }\r\n    } finally {\r\n      commit('SET_LOADING', false)\r\n    }\r\n  },\r\n\r\n  // \r\n  async logout({ commit }) {\r\n    try {\r\n      const token = localStorage.getItem('access_token')\r\n      if (token) {\r\n        await authAPI.logout(token)\r\n      }\r\n    } catch (error) {\r\n      console.error(':', error)\r\n    } finally {\r\n      clearAuthData()\r\n      commit('CLEAR_AUTH')\r\n    }\r\n  },\r\n\r\n  // \r\n  async checkAutoLogin({ commit }) {\r\n    try {\r\n      const response = await authAPI.autoLoginCheck()\r\n      if (response.code === 200 && response.data && response.data.valid) {\r\n        // RememberMe tokenaccessTokenrefreshToken\r\n        // 1: refreshToken\r\n        const refreshToken = localStorage.getItem('refresh_token')\r\n        if (refreshToken) {\r\n          try {\r\n            const refreshResponse = await authAPI.refreshToken(refreshToken)\r\n            if (refreshResponse.code === 200 && refreshResponse.data) {\r\n              // token\r\n              saveLoginData({\r\n                accessToken: refreshResponse.data.accessToken,\r\n                refreshToken: refreshResponse.data.refreshToken,\r\n                userInfo: refreshResponse.data.user\r\n              })\r\n              commit('SET_USER', refreshResponse.data.user)\r\n              console.log(' RefreshToken')\r\n              return true\r\n            }\r\n          } catch (refreshError) {\r\n            console.warn('RefreshToken:', refreshError)\r\n          }\r\n        }\r\n        \r\n        // 2: remember_me_tokenrefreshToken\r\n        // \r\n        // \r\n        console.warn(' RememberMe tokenRefreshToken')\r\n        return false\r\n      }\r\n      return false\r\n    } catch (error) {\r\n      console.error(':', error)\r\n      return false\r\n    }\r\n  }\r\n}\r\n\r\nconst getters = {\r\n  isAuthenticated: state => state.isAuthenticated,\r\n  currentUser: state => state.user,\r\n  isLoading: state => state.loading\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  actions,\r\n  getters\r\n}\r\n","// Token - Token\r\nimport { authAPI } from '@/api/auth'\r\n\r\nclass TokenManager {\r\n  constructor() {\r\n    this.refreshTimer = null\r\n    this.refreshThreshold = 5 * 60 * 1000 // 5Token5\r\n  }\r\n\r\n  /**\r\n   * Token\r\n   * \r\n   */\r\n  initialize() {\r\n    console.log(' TokenManager: ')\r\n    const token = this.getAccessToken()\r\n    if (token) {\r\n      this.scheduleTokenRefresh()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  getAccessToken() {\r\n    return localStorage.getItem('access_token')\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  getRefreshToken() {\r\n    return localStorage.getItem('refresh_token')\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  setAccessToken(token) {\r\n    localStorage.setItem('access_token', token)\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  setRefreshToken(token) {\r\n    localStorage.setItem('refresh_token', token)\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  clearTokens() {\r\n    localStorage.removeItem('access_token')\r\n    localStorage.removeItem('refresh_token')\r\n    localStorage.removeItem('remember_me_token')\r\n    this.cancelTokenRefresh()\r\n  }\r\n\r\n  /**\r\n   * JWT Token\r\n   */\r\n  getTokenExpirationTime(token) {\r\n    try {\r\n      const payload = JSON.parse(atob(token.split('.')[1]))\r\n      return payload.exp ? payload.exp * 1000 : null // \r\n    } catch (error) {\r\n      console.error('Token:', error)\r\n      return null\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Token\r\n   */\r\n  isTokenExpiringSoon(token) {\r\n    const expirationTime = this.getTokenExpirationTime(token)\r\n    if (!expirationTime) return false\r\n    \r\n    const now = Date.now()\r\n    const timeUntilExpiration = expirationTime - now\r\n    \r\n    return timeUntilExpiration < this.refreshThreshold\r\n  }\r\n\r\n  /**\r\n   * Token\r\n   */\r\n  scheduleTokenRefresh() {\r\n    const token = this.getAccessToken()\r\n    if (!token) return\r\n\r\n    const expirationTime = this.getTokenExpirationTime(token)\r\n    if (!expirationTime) return\r\n\r\n    const now = Date.now()\r\n    const timeUntilRefresh = expirationTime - now - this.refreshThreshold\r\n\r\n    // Token\r\n    if (timeUntilRefresh <= 0) {\r\n      this.refreshAccessToken()\r\n      return\r\n    }\r\n\r\n    // \r\n    this.cancelTokenRefresh()\r\n\r\n    // \r\n    this.refreshTimer = setTimeout(() => {\r\n      this.refreshAccessToken()\r\n    }, timeUntilRefresh)\r\n\r\n    console.log(` Token ${Math.round(timeUntilRefresh / 1000)} `)\r\n  }\r\n\r\n  /**\r\n   * Token\r\n   */\r\n  cancelTokenRefresh() {\r\n    if (this.refreshTimer) {\r\n      clearTimeout(this.refreshTimer)\r\n      this.refreshTimer = null\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  async refreshAccessToken() {\r\n    const refreshToken = this.getRefreshToken()\r\n    if (!refreshToken) {\r\n      console.warn('')\r\n      return false\r\n    }\r\n\r\n    try {\r\n      console.log(' ...')\r\n      const response = await authAPI.refreshToken(refreshToken)\r\n      \r\n      if (response.code === 200 && response.data) {\r\n        const { accessToken, refreshToken: newRefreshToken } = response.data\r\n        \r\n        // \r\n        if (accessToken) {\r\n          this.setAccessToken(accessToken)\r\n          console.log(' ')\r\n        }\r\n        \r\n        if (newRefreshToken) {\r\n          this.setRefreshToken(newRefreshToken)\r\n        }\r\n\r\n        // \r\n        this.scheduleTokenRefresh()\r\n        \r\n        return true\r\n      } else {\r\n        console.error(':', response.msg)\r\n        this.handleRefreshFailure()\r\n        return false\r\n      }\r\n    } catch (error) {\r\n      console.error(':', error)\r\n      this.handleRefreshFailure()\r\n      return false\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  async refreshToken() {\r\n    return this.refreshAccessToken()\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  handleRefreshFailure() {\r\n    console.warn(' Token')\r\n    this.clearTokens()\r\n    \r\n    // \r\n    if (window.location.pathname !== '/login') {\r\n      alert('')\r\n      window.location.href = '/login'\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Token\r\n   */\r\n  async checkAndRefreshToken() {\r\n    const token = this.getAccessToken()\r\n    if (!token) return false\r\n\r\n    if (this.isTokenExpiringSoon(token)) {\r\n      return await this.refreshAccessToken()\r\n    }\r\n\r\n    return true\r\n  }\r\n}\r\n\r\n// \r\nexport default new TokenManager()\r\n\r\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport GlobalUserProfile from './components/GlobalUserProfile.vue'\r\nimport Button from './components/Button.vue'\r\nimport Card from './components/Card.vue'\r\nimport Input from './components/Input.vue'\r\nimport authStore from './store/auth'\r\nimport tokenManager from './utils/tokenManager'\r\nimport EventBus from './utils/eventBus'\r\n\r\nVue.config.productionTip = false\r\n\r\n// \r\nVue.use(EventBus)\r\n\r\n// \r\nif (process.env.NODE_ENV === 'development') {\r\n  const { eventBus } = require('./utils/eventBus')\r\n  const originalEmit = eventBus.emit.bind(eventBus)\r\n  eventBus.emit = function(eventType, data) {\r\n    console.log(` [EventBus] ${eventType}`, data)\r\n    return originalEmit(eventType, data)\r\n  }\r\n}\r\n\r\n// \r\nVue.component('GlobalUserProfile', GlobalUserProfile)\r\nVue.component('Button', Button)\r\nVue.component('Card', Card)\r\nVue.component('Input', Input)\r\n\r\n// \r\nconst authState = {\r\n  ...authStore.state\r\n}\r\n\r\nconst authWrapper = {\r\n  state: authState,\r\n  dispatch(action, payload) {\r\n    if (authStore.actions[action]) {\r\n      //  Vuex  context \r\n      const context = {\r\n        state: authState,\r\n        commit: (mutation, data) => {\r\n          if (authStore.mutations[mutation]) {\r\n            authStore.mutations[mutation](authState, data)\r\n          }\r\n        }\r\n      }\r\n      return authStore.actions[action](context, payload)\r\n    }\r\n  },\r\n  getters: authStore.getters\r\n}\r\n\r\nVue.prototype.$auth = authWrapper\r\n\r\nnew Vue({\r\n  router,\r\n  render: h => h(App),\r\n  async created() {\r\n    console.log(' ')\r\n    \r\n    // Token\r\n    tokenManager.initialize()\r\n    \r\n    // \r\n    this.$auth.dispatch('initAuth')\r\n    \r\n    // RememberMe token\r\n    const isAuthenticated = !!localStorage.getItem('access_token') && !!localStorage.getItem('user_info')\r\n    if (!isAuthenticated) {\r\n      console.log(' RememberMe...')\r\n      try {\r\n        const autoLoginSuccess = await this.$auth.dispatch('checkAutoLogin')\r\n        if (autoLoginSuccess) {\r\n          console.log(' ')\r\n          // tokenaccessTokenrefreshToken\r\n          await tokenManager.refreshAccessToken()\r\n        } else {\r\n          console.log(' RememberMe token')\r\n        }\r\n      } catch (error) {\r\n        console.error(' :', error)\r\n      }\r\n    } else {\r\n      console.log(' ')\r\n    }\r\n  }\r\n}).$mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + \"90628a8d\" + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"zhiyan-front:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkzhiyan_front\"] = self[\"webpackChunkzhiyan_front\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(718); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["config","api","baseURL","timeout","endpoints","auth","knowledge","project","minio","bucket","app","name","version","storage","tokenKey","refreshTokenKey","rememberMeKey","userInfoKey","MINIO_BASE_URL","withCredentials","interceptors","request","use","token","localStorage","getItem","headers","Authorization","console","log","warn","data","FormData","undefined","method","toUpperCase","url","error","Promise","reject","response","status","removeItem","window","location","href","Error","message","projectAPI","createProject","projectData","post","updateProject","projectId","put","deleteProject","delete","getProjectById","get","getMyCreatedProjects","page","size","params","getMyProjects","getPublicActiveProjects","searchProjects","keyword","updateProjectStatus","patch","archiveProject","countMyCreatedProjects","countMyParticipatedProjects","uploadProjectImage","file","formData","append","deleteProjectImage","imageUrl","inviteMember","assignRole","removeMember","userId","getProjectMembers","searchUsers","render","_vm","this","_c","_self","attrs","isAuthPage","_e","staticRenderFns","staticClass","class","floating","on","toggleUserMenu","globalUserInfo","avatar","_v","_s","nickname","userMenuOpen","goToProfile","isLoggedIn","goToLogin","logout","toastMessage","normalizeProjectCoverUrl","startsWith","includes","substring","minioBaseUrl","normalizeImageUrl","defaultBucket","normalizeAvatarUrl","parsed","JSON","parse","minio_url","minioUrl","cdn_url","cdnUrl","e","normalizeUserInfo","userInfo","normalized","avatarUrl","hasAvatar","saveLoginData","loginData","accessToken","refreshToken","rememberMeToken","setItem","normalizedUserInfo","stringify","getCurrentUser","getAccessToken","clearAuthData","Object","keys","forEach","key","formatApiError","msg","isValidEmail","email","emailRegex","test","validatePassword","password","result","isValid","length","props","type","Boolean","default","showToast","mounted","loadGlobalUserInfo","document","addEventListener","handleClickOutside","handleStorageChange","$root","$on","$eventBus","$EventTypes","USER_AVATAR_UPDATED","handleAvatarUpdated","beforeDestroy","removeEventListener","$off","off","methods","savedUserInfo","userData","avatarLength","event","currentUserId","id","String","$set","target","closest","$route","path","$router","push","showSuccessToast","setTimeout","component","components","GlobalUserProfile","computed","authRoutes","animated","animateLogo","_m","$event","preventDefault","handleLogin","apply","arguments","directives","rawName","value","loginForm","expression","domProps","composing","Array","isArray","rememberMe","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","slice","goToForgotPassword","loading","goToRegister","authAPI","sendVerificationCode","register","login","autoLoginCheck","clearRememberMe","verifyCode","code","checkEmail","encodeURIComponent","validateToken","forgotPassword","resetPassword","sendResetPasswordCode","searchUserByName","getUserById","submitLocked","userAvatar","hasAnimated","watch","handler","newEmail","loadUserAvatarByEmail","immediate","loadUserAvatar","savedAvatar","simulateLoadUserByEmail","user","setUserAvatar","savedToken","tokenValue","userInfoValue","$emit","replace","alert","errorMessage","handleRegister","registerForm","formatCodeInput","countdown","sendCode","agreement","closeModal","stopPropagation","modalMessage","confirmPassword","organization","showModal","startCountdown","showErrorModal","passwordValidation","emailCheckResponse","registerData","verificationCode","institution","title","timer","setInterval","clearInterval","handleResetPassword","resetForm","newPassword","isDarkMode","sidebarOpen","closeSidebar","toggleSidebar","toggleTheme","handleNewProject","handleProjectSquare","handleKnowledgeBase","handleAIAssistant","_l","goToProjectDetail","description","getStatusText","progress","myProjects","active","currentRoute","navigateTo","isOpen","route","authRequiredPages","isAuthenticated","showLoginModal","getLoginMessage","messages","previousMonth","currentMonth","nextMonth","day","index","isCurrentMonth","isToday","selectedDate","date","toDateString","selectDate","urgentTasks","currentDate","Date","year","getFullYear","month","getMonth","calendarDays","firstDay","lastDay","firstDayOfWeek","getDay","prevMonth","prevMonthLastDay","getDate","days","i","today","remainingDays","threeDaysLater","setDate","deadline","filter","task","Sidebar","RightSidebar","isLoadingProjects","isTransitioning","loadMyProjects","loadTheme","savedTheme","documentElement","classList","add","remove","rect","currentTarget","getBoundingClientRect","x","left","width","y","top","height","circle","Math","sqrt","pow","innerWidth","innerHeight","createElement","className","style","body","appendChild","requestAnimationFrame","isToDark","parentNode","query","from","getDefaultProjects","projects","content","list","records","map","project_id","projectName","desc","mapStatus","calculateProgress","statusMap","goToHome","searchText","toggleStatusDropdown","selectedStatus","selectStatus","resetFilters","createNewProject","viewProjectDetail","image","handleImageError","visibility","statusClass","creatorName","getTeamSize","startDate","endDate","formatDateRange","tags","tag","currentPage","goPrev","p","goPage","totalPages","goNext","statusOpen","pageSize","isLoading","categories","set","Set","category","filteredProjects","text","trim","toLowerCase","matchText","matchStatus","isPublic","max","ceil","paginatedProjects","start","cleanupOldImageUrls","shouldRestore","restorePageNumber","loadProjects","activated","savedProjects","needsCleanup","hasLocalhost","some","cleanedProjects","backendProjects","localProjects","localProject","find","backend","local","memberCount","teamMemberCount","membersCount","participantCount","participantsCount","memberNum","membersNum","memberSize","membersSize","userCount","usersCount","teamSize","teamMembersLen","teamMembers","membersLen","members","getStatusDisplay","getNumericMemberCount","dataAssets","direction","aiCore","start_date","end_date","created_by","creatorId","createdAt","updatedAt","tasks","participants","users","userList","inviteSlots","memberCountPromises","async","memberResponse","finalCount","cached","cachedNum","parseInt","NaN","isNaN","memberCountResults","all","$forceUpdate","loadProjectsFromLocalStorage","constructor","allProjects","normalizedImageUrl","candidates","n","num","numeric","end","formatDate","padStart","s","display","savePageNumber","savedPage","pageNum","fromPage","goBack","projectImage","triggerImageUpload","removeImage","ref","staticStyle","handleImageUpload","validateStartDate","validateEndDate","dateError","indexOf","_k","keyCode","addTag","newTag","removeTag","projectDescription","getProjectPeriod","saveDraft","isSubmitting","publishProject","closeCropModal","applyCrop","showCropModal","originalImage","originalImageData","cropData","toISOString","split","detectFromPage","referrer","input","getElementById","click","$refs","imageInput","files","reader","FileReader","onload","$nextTick","initCropCanvas","readAsDataURL","canvas","cropCanvas","ctx","getContext","img","Image","maxWidth","maxHeight","ratio","min","drawImage","cropRatio","cropWidth","cropHeight","updateCropSelection","setupCropInteraction","src","selection","cropSelection","overlay","cropOverlay","isDragging","isResizing","resizeHandle","startX","startY","startCropX","startCropY","startCropWidth","startCropHeight","startDrag","contains","dataset","handle","clientX","clientY","drag","currentX","currentY","deltaX","deltaY","newX","newY","newWidth","newHeight","endDrag","$once","targetRatio","targetWidth","targetHeight","sourceX","sourceY","sourceWidth","sourceHeight","toDataURL","getCurrentUserId","getCurrentUserName","getPriorityValue","priority","valueMap","getPriorityDisplay","displayMap","splice","addPosition","positions","now","requirements","count","skills","created_at","removePosition","resolve","createProjectAPI","payload","atob","floor","exp","blob","dataURLtoBlob","File","uploadResponse","createProjectData","newProject","user_id","project_role","role","joined_at","existingProjects","projectsData","parseError","unshift","storageError","errorMsg","dataURL","arr","mime","match","bstr","u8arr","Uint8Array","charCodeAt","Blob","viewProjectKnowledge","getTeamSizeDisplay","period","joinedProjects","loadUserProjects","createdProjects","defaultJoinedProjects","isJoined","markedCreatedProjects","projectIdOrProject","team","toLocaleDateString","showArchivePanel","uploadFile","createCustomType","showViewDialog","fileAccept","handleFileSelect","closeUploadDialog","getTypeClass","currentFileType","isAddingToExisting","achievementForm","getTargetAchievementName","formatFileSize","removeFile","triggerFileSelect","confirmUpload","closeCustomDialog","customUploadForm","typeName","descriptions","removeCustomDescription","addCustomDescription","removeCustomFile","triggerCustomFileSelect","confirmCustomType","closeViewDialog","viewingFile","typeCls","getFileIcon","fileCount","selectedFileIndex","selectFile","originalFileName","getFileTypeDisplay","downloadSingleFile","deleteSingleFile","isEditingDescription","saveDescriptionChanges","cancelEditMode","toggleEditMode","editForm","paperAuthors","paperTitle","journalName","publishYear","volume","issue","patentNumber","patentType","patentName","inventors","applicants","datasetVersion","datasetName","datasetFormat","datasetSize","datasetSource","modelFramework","modelName","modelVersion","modelType","hyperparameters","reportType","reportName","reportDate","fileContentType","isEditingContent","hasContentChanges","saveContentChanges","cancelContentEdit","toggleContentEdit","editableContent","markContentChanged","fileContent","uploader","time","showAddFileDialog","$$selectedVal","prototype","call","options","o","selected","val","_value","multiple","handleStatusChange","downloadAllFiles","downloadFile","onSearchInput","clearSearch","filteredFiles","row","viewFile","deleteFile","paginationInfo","goToPage","EventTypes","USER_PROFILE_UPDATED","USER_NICKNAME_UPDATED","PROJECT_CREATED","PROJECT_UPDATED","PROJECT_DELETED","PROJECT_MEMBER_ADDED","PROJECT_MEMBER_REMOVED","TASK_CREATED","TASK_UPDATED","TASK_DELETED","KNOWLEDGE_CREATED","KNOWLEDGE_UPDATED","KNOWLEDGE_DELETED","ARCHIVE_PANEL_TOGGLE","WIKI_PAGE_CREATED","WIKI_PAGE_UPDATED","WIKI_PAGE_DELETED","EventBus","listeners","Map","debounceTimers","eventType","has","debounce","handlers","findIndex","h","emit","timerId","clearTimeout","clear","eventBus","install","Vue","bytes","k","sizes","parseFloat","toFixed","fileName","extension","getFileExtension","iconMap","filename","pop","getMimeType","mimeMap","mimeType","typeMap","getFileAccept","acceptMap","createPlaceholderContent","timestamp","toLocaleString","saveToLocalStorage","uploadedFiles","serializedFiles","achievement","serializedFile","fileBuffer","ArrayBuffer","dataToSave","storageKey","loadFromLocalStorage","saved","deserializedFiles","deserializedFile","uint8Array","buffer","fileData","byteLength","fileExtension","placeholderContent","URL","createObjectURL","a","download","removeChild","revokeObjectURL","fileToDownload","loadTextFile","callback","readAsText","loadImageFile","placeholder","loadPdfFile","getFileInfo","getAll","TYPE_MAPPING","TYPE_DISPLAY","STATUS_DISPLAY","STATUS_CLASS","knowledgeAPI","createAchievement","achievementData","getProjectAchievements","sortBy","sortOrder","updateAchievementStatus","achievementId","getAchievementDetail","deleteAchievement","searchAchievements","queryAchievements","queryData","uploadFilesBatch","getAchievementFiles","fileId","getFileDownloadUrl","expirySeconds","updateDetailFields","fieldUpdates","convertToCreateDTO","fileType","dto","detailData","authors","journal","patentNo","format","source","framework","convertFromDTO","creator","username","userName","creatorUser","createdByUser","creatorInfo","frontendData","formatDateTime","detail","join","dateString","hour","minute","convertEditFormToFieldUpdates","achievementType","archiveRows","Number","showUploadDialog","showCustomDialog","selectedFile","customTypeName","customTypeDesc","totalItems","searchResults","isSearching","searchDebounceTimer","targetAchievementId","allFiles","paginatedFiles","visiblePages","pages","maxVisible","loadAchievements","loaded","newVal","achievements","createdBy","fetchMissingCreatorNames","achievementsNeedingFetch","f","uniqueCreatorIds","userIdToNameMap","member","memberId","memberName","entries","updateCount","creatorIdStr","updatedAchievement","resetAchievementForm","filesCount","addFilesToExistingAchievement","fileInput","createDTO","createResponse","goToLastPage","performSearch","targetAchievement","item","resetCustomForm","leftField","rightField","typeDisplay","filesWithBuffer","arrayBuffer","d","newAchievement","loadFileContent","resetEditForm","initEditForm","updateFileContentInStorage","confirm","uploadedIndex","achievementName","targetIndex","targetId","searchIndex","viewSingleFile","getAchievementDescription","paperName","paperId","patentId","datasetId","modelId","reportId","newStatus","original","fetchAchievementDetail","getStatusClass","sidebarCollapsed","createNewDocument","createNewFolder","folder","toggleFolder","expanded","getDocsInFolder","doc","activeId","activeDoc","updated","isEditing","activeDocContent","updateContent","cancelEdit","hasUnsavedChanges","saveDocument","closeNewDocDialog","newDocTitle","newDocCategory","newDocContent","confirmNewDoc","closeNewFolderDialog","newFolderName","newFolderDescription","confirmNewFolder","showNewDocDialog","showNewFolderDialog","autoSaveTimer","folders","docs","handleBeforeUnload","newFolder","folderId","loadCurrentDocContent","currentDoc","selectedFolder","newDoc","autoSave","returnValue","isSending","toggleFileMenu","openFileDialogFromArchive","openFileUpload","handleFileUpload","sendMessage","inputMessage","closeFileDialog","selectedFiles","toggleFileSelection","confirmFileSelection","parseJSONWithBuffer","dataBuffer","line","accumulated","jsonData","trimmed","accumulatedTrimmed","endsWith","trimmedJsonData","oldAccumulated","jsonToParse","openBraces","closeBraces","openBrackets","closeBrackets","failedData","rawData","cozeAPI","chatStream","conversationId","customVariables","onMessage","onError","onComplete","URLSearchParams","toString","fetch","credentials","then","statusText","contentType","ok","getReader","decoder","TextDecoder","jsonBuffer","readChunk","read","done","lines","decode","stream","jsonStr","messageFromBuffer","catch","close","cancel","chatStreamWithFiles","localFiles","knowledgeFileIds","localFilesCount","knowledgeFileIdsCount","uploadFiles","getFileDetail","getChatDetail","chatId","showFileDialog","showFileMenu","loadingFiles","selectedLocalFiles","selectedKnowledgeFileIds","currentStreamController","loadMessagesFromStorage","loadConversationId","saveMessagesToStorage","saveConversationId","userMessage","fileInfo","selectedFileNames","aiMessageId","aiMessage","scrollToBottom","numId","handleStreamMessage","handleStreamError","handleStreamComplete","conversation_id","error_message","chatWindow","scrollTop","scrollHeight","initializeProjectMessages","projectMessages","getProjectSpecificMessages","projectMessagesMap","loadFiles","fileNames","clearConversation","selectedAchievements","allFileIds","detailResponse","$message","syncTaskStatusChanges","viewChatHistory","closeChatHistoryModal","chatSessions","session","currentChatSessionId","loadChatSession","messageCount","deleteChatSession","createNewChatSession","closeProjectSelectDialog","availableProjects","selectedProjectForFiles","selectProjectForFiles","confirmProjectSelection","BACKEND_DIFY_CONFIG","baseUrl","sendChatMessage","sendChatMessageStream","onEnd","errorText","lastAnswer","chunkCount","finalConversationId","currentEvent","chunk","trimmedLine","dataContent","answerText","answer","currentAnswer","delta","stopMessageGeneration","taskId","activeFilter","searchQuery","filterDropdownOpen","chatMessages","showProjectDropdown","syncTimer","showProjectSelectDialog","showChatHistoryModal","difyConversationId","currentProject","lead","projectTasks","assignee","published","filteredTasks","filtered","isTaskPublished","debugLocalStorage","loadChatSessionsFromStorage","lastChatSessionId","sessionId","lastSelectedProject","foundProject","loadProjectTasks","saveCurrentChatSession","toggleProjectDropdown","switchProject","loadTasksFromProject","userProjects","manager","currentProjectExists","projectSquareTasks","loadTasksFromProjectSquare","assignee_name","created_by_name","convertTaskStatus","originalTask","getPublishedTasksForProject","updateTaskPublishStatus","t","saveTasksToStorage","taskKeys","debugProjectSquareData","panxinglinProject","refreshTasks","createSampleTasks","sampleTasks","random","setFilter","toggleFilterDropdown","setFilterAndClose","getFilterText","filterTexts","updateSearchQuery","toggleTaskCheckbox","messageContent","userMsg","aiMsg","aiMessageIndex","dify","answerDelta","currentContent","chatContainer","$el","querySelector","sort","b","saveChatSessionsToStorage","newSessionId","newSession","sessionIndex","generateSessionTitle","firstUserMessage","diff","minutes","hours","triggerAvatarUpload","saveNickname","cancelEditNickname","tempNickname","editNickname","editingIntro","editIntro","saveIntro","tempIntro","cancelEditIntro","introduction","closeAvatarCropModal","applyAvatarCrop","handleAvatarUpload","apiInstance","avatarAPI","uploadAvatar","getMyAvatarInfo","getAvatarInfoById","editingNickname","showAvatarCropModal","originalAvatarData","avatarCropData","loadUserInfo","avatarUpload","initAvatarCropCanvas","avatarCropCanvas","maxSize","cropSize","updateAvatarCropSelection","setupAvatarCropInteraction","onerror","avatarCropSelection","startCropSize","deltaSize","newSize","avatarSize","beginPath","arc","PI","clip","canvasWidth","canvasHeight","sourceSize","toBlob","finalAvatar","eventData","userIdType","retry","localAvatar","nicknameInput","focus","select","trimmedNickname","introTextarea","editProject","taskCount","goToProjectKnowledge","goToAIAssistant","onImageLoad","onImageError","handleProjectImageUpload","toggleTaskTypeDropdown","selectedTaskType","selectTaskType","createTask","openTaskDetailModal","priorityClass","toggleTaskStatusDropdown","changeTaskStatus","openAssignTaskModal","editTask","deleteTask","assignTask","allTasks","openTaskListModal","addTeamMember","removeTeamMember","invite","removeInviteSlot","closeTaskModal","newTask","validateNewTaskDueDate","isCreatingTask","saveNewTask","closeEditProjectModal","editProjectData","saveProjectUpdate","closeTaskListModal","closeEditTaskModal","editTaskData","validateEditTaskDueDate","saveEditTask","closeInviteMemberModal","userSearchKeyword","handleSearchInput","searchedUsers","selectedUserIds","selectUser","hasSearched","isInviting","confirmInvite","taskDetailModalOpen","selectedTask","closeTaskDetailModal","assignTaskModalOpen","taskToAssign","closeAssignTaskModal","selectedAssigneeId","confirmAssignTask","taskTypeOpen","statusDropdownOpen","taskModalOpen","editProjectModalOpen","dueDate","taskListModalOpen","editTaskModalOpen","inviteMemberModalOpen","allFilteredTasks","isProjectManager","currentUserName","loadProject","goToTaskList","taskAPI","getProjectTasks","tasksData","taskList","assigneeIds","assigneeNames","assignees","due_date","priority_value","status_value","assignee_id","showStatusMenu","saveProjectData","loadTasksFromLocalStorage","getUserNameById","apiProject","loadTeamMembers","updateManagerFromTeamMembers","getStatusValue","matches","loadTeamMembersFromLocalStorage","go","err","prompt","newMember","successCount","failCount","roleName","parseAvatarUrl","m","cacheKey","teamMembersCount","teamMemberIds","ownerRoles","owner","ownerRole","slotId","projectIndex","statusValue","changeStatus","updatedProjects","taskData","updateData","updateTask","priorityMap","reverseMap","validEnums","updateTaskStatus","confirmed","claimTask","updatedTask","selectedMember","assignedTaskId","projectImageUpload","allowedTypes","uploadCroppedImage","imageDataUrl","dataURLToBlob","avatarObj","activeTab","goTab","achievementsCount","totalDocuments","editingDocuments","onlineMembersCount","handleFileUploaded","handleFileDeleted","handleFileEdited","handleDocumentCreated","KnowledgeBaseCatalog","KnowledgeBaseCabinet","KnowledgeBaseAI","documentsCount","activities","getDocumentsCount","getEditingDocumentsCount","loadProjectName","initializeProjectData","docsStorageKey","docsSaved","docsData","loadStats","tab","newActivity","loadAchievementsCount","loadDocumentsCount","updateStats","loadTeamMembersCount","totalElements","total","onlineCount","isOnline","is_online","online","onlineStatus","hasOwnProperty","getUploadedFilesCount","getProjectSpecificData","initializeCatalogData","catalog","initializeCabinetData","cabinet","projectDataMap","catalogData","existing","initialData","cabinetData","routes","redirect","Login","Register","ForgotPassword","Home","ProjectSquare","ProjectCreate","ProjectDetail","ProjectKnowledge","KnowledgeBase","children","AIAssistant","Profile","router","mode","base","beforeEach","to","next","guestAllowedPages","needsAuth","buttonClasses","disabled","handleClick","_t","loadingText","variant","validator","fullWidth","baseClasses","cardClasses","$slots","hover","clickable","padding","inputId","label","hasError","readonly","required","step","minlength","maxlength","pattern","autocomplete","modelValue","handleInput","handleFocus","handleBlur","handleKeydown","clearable","handleClear","helpText","emits","_uid","state","mutations","SET_USER","SET_LOADING","CLEAR_AUTH","actions","initAuth","commit","success","checkAutoLogin","valid","refreshResponse","refreshError","getters","currentUser","namespaced","TokenManager","refreshTimer","refreshThreshold","initialize","scheduleTokenRefresh","getRefreshToken","setAccessToken","setRefreshToken","clearTokens","cancelTokenRefresh","getTokenExpirationTime","isTokenExpiringSoon","expirationTime","timeUntilExpiration","timeUntilRefresh","refreshAccessToken","round","newRefreshToken","handleRefreshFailure","pathname","checkAndRefreshToken","productionTip","Button","Card","Input","authState","authWrapper","dispatch","action","context","mutation","$auth","App","created","tokenManager","autoLoginSuccess","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","deferred","O","chunkIds","fn","notFulfilled","Infinity","fulfilled","j","every","r","getter","__esModule","definition","defineProperty","enumerable","chunkId","reduce","promises","u","miniCssF","g","globalThis","Function","obj","prop","inProgress","dataWebpackPrefix","l","script","needAttach","scripts","getElementsByTagName","getAttribute","charset","nc","setAttribute","onScriptComplete","prev","doneFns","bind","head","installedChunks","installedChunkData","promise","loadingEnded","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}